(function(y,p){"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",["exports","pdfjs-dist/build/pdf"],p):"undefined"!==typeof exports?p(exports,require("../build/pdf.js")):p(y.pdfjsDistWebPDFViewer={},y.pdfjsDistBuildPdf)})(this,function(y,p){var n={pdfjsWebPDFJS:p};(function(){(function(c,f){f(c.pdfjsWebPDFRenderingQueue={})})(this,function(c){var f={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},l=function(){function d(){this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=
this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}d.prototype={setViewer:function(d){this.pdfViewer=d},setThumbnailViewer:function(d){this.pdfThumbnailViewer=d},isHighestPriority:function(d){return this.highestPriorityPage===d.renderingId},renderHighestPriority:function(d){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);this.pdfViewer.forceRendering(d)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||
!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))},getHighestPriority:function(d,c,b){var e=d.views,a=e.length;if(0===a)return!1;for(var u=0;u<a;++u){var v=e[u].view;if(!this.isViewFinished(v))return v}d=b?d.last.id:d.first.id-2;return c[d]&&!this.isViewFinished(c[d])?c[d]:null},isViewFinished:function(d){return d.renderingState===f.FINISHED},renderView:function(d){switch(d.renderingState){case f.FINISHED:return!1;case f.PAUSED:this.highestPriorityPage=d.renderingId;d.resume();
break;case f.RUNNING:this.highestPriorityPage=d.renderingId;break;case f.INITIAL:this.highestPriorityPage=d.renderingId;var c=function(){this.renderHighestPriority()}.bind(this);d.draw().then(c,c)}return!0}};return d}();c.RenderingStates=f;c.PDFRenderingQueue=l});(function(c,f){f(c.pdfjsWebDownloadManager={},c.pdfjsWebPDFJS)})(this,function(c,f){function l(d,c){var b=document.createElement("a");b.click?(b.href=d,b.target="_parent","download"in b&&(b.download=c),(document.body||document.documentElement).appendChild(b),
b.click(),b.parentNode.removeChild(b)):(window.top===window&&d.split("#")[0]===window.location.href.split("#")[0]&&(c=-1===d.indexOf("?")?"?":"&",d=d.replace(/#|$/,c+"$&")),window.open(d,"_parent"))}function d(){}d.prototype={downloadUrl:function(d,c){f.createValidAbsoluteUrl(d,"http://example.com")&&l(d+"#pdfjs.action=download",c)},downloadData:function(d,c,b){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([d],{type:b}),c);d=f.createObjectURL(d,b,f.PDFJS.disableCreateObjectURL);l(d,
c)},download:function(d,c,b){URL?navigator.msSaveBlob?navigator.msSaveBlob(d,b)||this.downloadUrl(c,b):(d=URL.createObjectURL(d),l(d,b)):this.downloadUrl(c,b)}};c.DownloadManager=d});(function(c,f){f(c.pdfjsWebUIUtils={},c.pdfjsWebPDFJS)})(this,function(c,f){function l(a,b){var e=0,u=a.length-1;if(0===a.length||!b(a[u]))return a.length;if(b(a[e]))return e;for(;e<u;){var d=e+u>>1;b(a[d])?u=d:e=d+1}return e}var d=96/72,k=document.mozL10n||document.webL10n;f=f.PDFJS;f.disableFullscreen=void 0===f.disableFullscreen?
!1:f.disableFullscreen;f.useOnlyCssZoom=void 0===f.useOnlyCssZoom?!1:f.useOnlyCssZoom;f.maxCanvasPixels=void 0===f.maxCanvasPixels?16777216:f.maxCanvasPixels;f.disableHistory=void 0===f.disableHistory?!1:f.disableHistory;f.disableTextLayer=void 0===f.disableTextLayer?!1:f.disableTextLayer;f.ignoreCurrentPositionOnZoom=void 0===f.ignoreCurrentPositionOnZoom?!1:f.ignoreCurrentPositionOnZoom;f.locale=void 0===f.locale?navigator.language:f.locale;f=new Promise(function(a){window.requestAnimationFrame(a)});
var m=new Promise(function(a,b){k?"loading"!==k.getReadyState()?a():window.addEventListener("localized",function(b){a()}):a()}),b=function(){function a(){this._listeners=Object.create(null)}a.prototype={on:function(a,b){var e=this._listeners[a];e||(e=[],this._listeners[a]=e);e.push(b)},off:function(a,b){a=this._listeners[a];var e;!a||0>(e=a.indexOf(b))||a.splice(e,1)},dispatch:function(a){var b=this._listeners[a];if(b&&0!==b.length){var e=Array.prototype.slice.call(arguments,1);b.slice(0).forEach(function(a){a.apply(null,
e)})}}};return a}(),e=function(){function a(a,b){this.visible=!0;this.div=document.querySelector(a+" .progress");this.bar=this.div.parentNode;this.height=b.height||100;this.width=b.width||100;this.units=b.units||"%";this.div.style.height=this.height+this.units;this.percent=0}a.prototype={updateBar:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/
100+this.units)},get percent(){return this._percent},set percent(a){this._indeterminate=isNaN(a);this._percent=Math.min(Math.max(a,0),100);this.updateBar()},setWidth:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),
this.bar.classList.remove("hidden"))}};return a}();c.CSS_UNITS=d;c.DEFAULT_SCALE_VALUE="auto";c.DEFAULT_SCALE=1;c.MIN_SCALE=.25;c.MAX_SCALE=10;c.UNKNOWN_SCALE=0;c.MAX_AUTO_SCALE=1.25;c.SCROLLBAR_PADDING=40;c.VERTICAL_PADDING=5;c.RendererType={CANVAS:"canvas",SVG:"svg"};c.mozL10n=k;c.EventBus=b;c.ProgressBar=e;c.getPDFFileNameFromURL=function(a){var b=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;a=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(a=b.exec(a[1])||b.exec(a[2])||b.exec(a[3]))if(a=a[0],
-1!==a.indexOf("%"))try{a=b.exec(decodeURIComponent(a))[0]}catch(v){}return a||"document.pdf"};c.noContextMenuHandler=function(a){a.preventDefault()};c.parseQueryString=function(a){a=a.split("&");for(var b={},e=0,d=a.length;e<d;++e){var c=a[e].split("="),g=c[0].toLowerCase(),c=1<c.length?c[1]:null;b[decodeURIComponent(g)]=decodeURIComponent(c)}return b};c.getVisibleElements=function(a,b,e){function d(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>c}var c=a.scrollTop,g=c+a.clientHeight,u=
a.scrollLeft,v=u+a.clientWidth;a=[];for(var f,r,k,m,x,t=0===b.length?0:l(b,d),D=b.length;t<D;t++){f=b[t];r=f.div;k=r.offsetTop+r.clientTop;m=r.clientHeight;if(k>g)break;x=r.offsetLeft+r.clientLeft;r=r.clientWidth;x+r<u||x>v||(r=Math.max(0,c-k)+Math.max(0,k+m-g),m=100*(m-r)/m|0,a.push({id:f.id,x:x,y:k,view:f,percent:m}))}b=a[0];g=a[a.length-1];e&&a.sort(function(a,b){var e=a.percent-b.percent;return.001<Math.abs(e)?-e:a.id-b.id});return{first:b,last:g,views:a}};c.roundToDivide=function(a,b){var e=
a%b;return 0===e?a:Math.round(a-e+b)};c.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];var b=1/a;if(8<b)return[1,8];if(Math.floor(b)===b)return[1,b];for(var b=1<a?b:a,e=0,d=1,c=1,g=1;;){var f=e+c,z=d+g;if(8<z)break;b<=f/z?(c=f,g=z):(e=f,d=z)}return b-e/d<c/g-b?b===a?[e,d]:[d,e]:b===a?[c,g]:[g,c]};c.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||
1);return{sx:a,sy:a,scaled:1!==a}};c.scrollIntoView=function(a,b,e){var d=a.offsetParent;if(d){e=e||!1;var c=a.offsetTop+a.clientTop;for(a=a.offsetLeft+a.clientLeft;d.clientHeight===d.scrollHeight||e&&"hidden"===getComputedStyle(d).overflow;)if(d.dataset._scaleY&&(c/=d.dataset._scaleY,a/=d.dataset._scaleX),c+=d.offsetTop,a+=d.offsetLeft,d=d.offsetParent,!d)return;b&&(void 0!==b.top&&(c+=b.top),void 0!==b.left&&(a+=b.left,d.scrollLeft=a));d.scrollTop=c}else console.error("offsetParent is not set -- cannot scroll")};
c.watchScroll=function(a,b){var e=function(e){c||(c=window.requestAnimationFrame(function(){c=null;var e=a.scrollTop,g=d.lastY;e!==g&&(d.down=e>g);d.lastY=e;b(d)}))},d={down:!0,lastY:a.scrollTop,_eventHandler:e},c=null;a.addEventListener("scroll",e,!0);return d};c.binarySearchFirstItem=l;c.normalizeWheelEventDelta=function(a){var b=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),e=Math.atan2(a.deltaY,a.deltaX);-.25*Math.PI<e&&e<.75*Math.PI&&(b=-b);0===a.deltaMode?b/=900:1===a.deltaMode&&(b/=30);return b};
c.animationStarted=f;c.localized=m});(function(c,f){f(c.pdfjsWebDOMEvents={},c.pdfjsWebUIUtils)})(this,function(c,f){function l(d){d.on("documentload",function(){var b=document.createEvent("CustomEvent");b.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(b)});d.on("pagerendered",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagerendered",!0,!0,{pageNumber:b.pageNumber,cssTransform:b.cssTransform});b.source.div.dispatchEvent(e)});d.on("textlayerrendered",function(b){var e=
document.createEvent("CustomEvent");e.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:b.pageNumber});b.source.textLayerDiv.dispatchEvent(e)});d.on("pagechange",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("pagechange",!0,!0,window,0);e.pageNumber=b.pageNumber;b.source.container.dispatchEvent(e)});d.on("pagesinit",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagesinit",!0,!0,null);b.source.container.dispatchEvent(e)});d.on("pagesloaded",function(b){var e=
document.createEvent("CustomEvent");e.initCustomEvent("pagesloaded",!0,!0,{pagesCount:b.pagesCount});b.source.container.dispatchEvent(e)});d.on("scalechange",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("scalechange",!0,!0,window,0);e.scale=b.scale;e.presetValue=b.presetValue;b.source.container.dispatchEvent(e)});d.on("updateviewarea",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("updateviewarea",!0,!0,window,0);e.location=b.location;b.source.container.dispatchEvent(e)});
d.on("find",function(b){if(b.source!==window){var e=document.createEvent("CustomEvent");e.initCustomEvent("find"+b.type,!0,!0,{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,highlightAll:b.highlightAll,findPrevious:b.findPrevious});window.dispatchEvent(e)}});d.on("attachmentsloaded",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:b.attachmentsCount});b.source.container.dispatchEvent(e)});d.on("sidebarviewchanged",
function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("sidebarviewchanged",!0,!0,{view:b.view});b.source.outerContainer.dispatchEvent(e)});d.on("pagemode",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagemode",!0,!0,{mode:b.mode});b.source.pdfViewer.container.dispatchEvent(e)});d.on("namedaction",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("namedaction",!0,!0,{action:b.action});b.source.pdfViewer.container.dispatchEvent(e)});
d.on("presentationmodechanged",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("presentationmodechanged",!0,!0,{active:b.active,switchInProgress:b.switchInProgress});window.dispatchEvent(e)});d.on("outlineloaded",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("outlineloaded",!0,!0,{outlineCount:b.outlineCount});b.source.container.dispatchEvent(e)})}var d=f.EventBus,k=null;c.attachDOMEventsToEventBus=l;c.getGlobalEventBus=function(){if(k)return k;k=
new d;l(k);return k}});(function(c,f){f(c.pdfjsWebPDFFindController={},c.pdfjsWebUIUtils)})(this,function(c,f){var l=f.scrollIntoView,d={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3},k={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"};f=function(){function c(b){this.pdfViewer=b.pdfViewer||null;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();b=Object.keys(k).join("");this.normalizationRegex=
new RegExp("["+b+"]","g")}c.prototype={reset:function(){this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this.firstPagePromise=new Promise(function(b){this.resolveFirstPage=
b}.bind(this))},normalize:function(b){return b.replace(this.normalizationRegex,function(b){return k[b]})},_prepareMatches:function(b,e,a){function d(a,b){var e,d;e=a[b];d=a[b+1];if(b<a.length-1&&e.match===d.match)return e.skipped=!0;for(d=b-1;0<=d;d--)if(b=a[d],!b.skipped){if(b.match+b.matchLength<e.match)break;if(b.match+b.matchLength>=e.match+e.matchLength)return e.skipped=!0}return!1}var c,h;b.sort(function(a,b){return a.match===b.match?a.matchLength-b.matchLength:a.match-b.match});c=0;for(h=b.length;c<
h;c++)d(b,c)||(e.push(b[c].match),a.push(b[c].matchLength))},calcFindPhraseMatch:function(b,e,a){for(var d=[],c=b.length,h=-c;;){h=a.indexOf(b,h+c);if(-1===h)break;d.push(h)}this.pageMatches[e]=d},calcFindWordMatch:function(b,e,a){var d=[];b=b.match(/\S+/g);for(var c,h,f,g=0,k=b.length;g<k;g++)for(c=b[g],h=c.length,f=-h;;){f=a.indexOf(c,f+h);if(-1===f)break;d.push({match:f,matchLength:h,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[e]=[];this.pageMatches[e]=
[];this._prepareMatches(d,this.pageMatches[e],this.pageMatchesLength[e])},calcFindMatch:function(b){var e=this.normalize(this.pageContents[b]),a=this.normalize(this.state.query),d=this.state.phraseSearch;0!==a.length&&(this.state.caseSensitive||(e=e.toLowerCase(),a=a.toLowerCase()),d?this.calcFindPhraseMatch(a,b,e):this.calcFindWordMatch(a,b,e),this.updatePage(b),this.resumePageIdx===b&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[b].length&&(this.matchCount+=this.pageMatches[b].length,
this.updateUIResultsCount()))},extractText:function(){function b(a){c.pdfViewer.getPageTextContent(a).then(function(d){d=d.items;for(var g=[],f=0,h=d.length;f<h;f++)g.push(d[f].str);c.pageContents.push(g.join(""));e[a](a);a+1<c.pdfViewer.pagesCount&&b(a+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents=[];for(var e=[],a=this.pdfViewer.pagesCount,d=0;d<a;d++)this.extractTextPromises.push(new Promise(function(a){e.push(a)}));var c=this;b(0)}},executeCommand:function(b,
e){if(null===this.state||"findagain"!==b)this.dirtyMatch=!0;this.state=e;this.updateUIState(d.FIND_PENDING);this.firstPagePromise.then(function(){this.extractText();clearTimeout(this.findTimeout);"find"===b?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(b){this.selected.pageIdx===b&&(this.pdfViewer.currentPageNumber=b+1);b=this.pdfViewer.getPageView(b);b.textLayer&&b.textLayer.updateMatches()},nextMatch:function(){var b=this.state.findPrevious,
e=this.pdfViewer.currentPageNumber-1,a=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=e;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(var c=this,e=0;e<a;e++)this.updatePage(e),e in this.pendingFindMatches||(this.pendingFindMatches[e]=!0,this.extractTextPromises[e].then(function(a){delete c.pendingFindMatches[a];
c.calcFindMatch(a)}))}if(""===this.state.query)this.updateUIState(d.FIND_FOUND);else if(!this.resumePageIdx){e=this.offset;this.pagesToSearch=a;if(null!==e.matchIdx){a=this.pageMatches[e.pageIdx].length;if(!b&&e.matchIdx+1<a||b&&0<e.matchIdx){this.hadMatch=!0;e.matchIdx=b?e.matchIdx-1:e.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(b)}this.nextPageMatch()}},matchesReady:function(b){var d=this.offset;b=b.length;var a=this.state.findPrevious;if(b)return this.hadMatch=!0,d.matchIdx=a?
b-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(a);return d.wrapped&&(d.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1},updateMatchPosition:function(b,d,a,c){this.selected.matchIdx===d&&this.selected.pageIdx===b&&l(a[c],{top:-50,left:-400},!0)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var b=this.offset.pageIdx,d=this.pageMatches[b];if(!d){this.resumePageIdx=b;break}}while(!this.matchesReady(d))},advanceOffsetPage:function(b){var d=
this.offset,a=this.extractTextPromises.length;d.pageIdx=b?d.pageIdx-1:d.pageIdx+1;d.matchIdx=null;this.pagesToSearch--;if(d.pageIdx>=a||0>d.pageIdx)d.pageIdx=b?a-1:0,d.wrapped=!0},updateMatch:function(b){var e=d.FIND_NOTFOUND,a=this.offset.wrapped;this.offset.wrapped=!1;b&&(b=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,e=a?d.FIND_WRAPPED:d.FIND_FOUND,-1!==b&&b!==this.selected.pageIdx&&this.updatePage(b));this.updateUIState(e,this.state.findPrevious);
-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},updateUIResultsCount:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)},updateUIState:function(b,d){if(this.onUpdateState)this.onUpdateState(b,d,this.matchCount)}};return c}();c.FindStates=d;c.PDFFindController=f});(function(c,f){f(c.pdfjsWebPDFHistory={},c.pdfjsWebDOMEvents)})(this,function(c,f){function l(d){this.linkService=d.linkService;this.eventBus=d.eventBus||f.getGlobalEventBus();this.initialized=
!1;this.initialBookmark=this.initialDestination=null}l.prototype={initialize:function(d){function c(){e.previousHash=window.location.hash.slice(1);e._pushToHistory({hash:e.previousHash},!1,!0);e._updatePreviousBookmark()}function f(a,b){function d(){window.removeEventListener("popstate",d);window.addEventListener("popstate",c);e._pushToHistory(a,!1,!0);history.forward()}function c(){window.removeEventListener("popstate",c);e.allowHashChange=!0;e.historyUnlocked=!0;b()}e.historyUnlocked=!1;e.allowHashChange=
!1;window.addEventListener("popstate",d);history.back()}function b(){var a=e._getPreviousParams(null,!0);a&&(e._pushToHistory(a,!1,!e.current.dest&&e.current.hash!==e.previousHash),e._updatePreviousBookmark());window.removeEventListener("beforeunload",b)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;
this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=d;this.currentUid=this.uid=0;this.current={};d=window.history.state;this._isStateObjectDefined(d)?(d.target.dest?this.initialDestination=d.target.dest:this.initialBookmark=d.target.hash,this.currentUid=d.uid,this.uid=d.uid+1,this.current=d.target):(d&&d.fingerprint&&this.fingerprint!==d.fingerprint&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var e=this;window.addEventListener("popstate",
function(a){e.historyUnlocked&&(a.state?e._goTo(a.state):0===e.uid?f(e.previousHash&&e.currentBookmark&&e.previousHash!==e.currentBookmark?{hash:e.currentBookmark,page:e.currentPage}:{page:1},function(){c()}):c())});window.addEventListener("beforeunload",b);window.addEventListener("pageshow",function(a){window.addEventListener("beforeunload",b)});e.eventBus.on("presentationmodechanged",function(a){e.isViewerInPresentationMode=a.active})},clearHistoryState:function(){this._pushOrReplaceState(null,
!0)},_isStateObjectDefined:function(d){return d&&0<=d.uid&&d.fingerprint&&this.fingerprint===d.fingerprint&&d.target&&d.target.hash?!0:!1},_pushOrReplaceState:function(d,c){c?window.history.replaceState(d,"",document.URL):window.history.pushState(d,"",document.URL)},get isHashChangeUnlocked(){return this.initialized?this.allowHashChange:!0},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage&&(this.previousBookmark=this.currentBookmark,this.previousPage=
this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(d,c){this.initialized&&(this.currentBookmark=d.substring(1),this.currentPage=c|0,this._updatePreviousBookmark())},updateNextHashParam:function(d){this.initialized&&(this.nextHashParam=d)},push:function(d,c){if(this.initialized&&this.historyUnlocked)if(d.dest&&!d.hash&&(d.hash=this.current.hash&&this.current.dest&&this.current.dest===d.dest?this.current.hash:this.linkService.getDestinationHash(d.dest).split("#")[1]),d.page&&
(d.page|=0),c)c=window.history.state.target,c||(this._pushToHistory(d,!1),this.previousHash=window.location.hash.substring(1)),this.updatePreviousBookmark=this.nextHashParam?!1:!0,c&&this._updatePreviousBookmark();else{if(this.nextHashParam){if(this.nextHashParam===d.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}d.hash?this.current.hash?this.current.hash!==d.hash?this._pushToHistory(d,!0):(!this.current.page&&d.page&&this._pushToHistory(d,!1,!0),this.updatePreviousBookmark=
!0):this._pushToHistory(d,!0):this.current.page&&d.page&&this.current.page!==d.page&&this._pushToHistory(d,!0)}},_getPreviousParams:function(d,c){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!d||c){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||d){if(this.previousPage===this.currentPage)return null}else return null;
d={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(d.hash=null);return d},_stateObj:function(d){return{fingerprint:this.fingerprint,uid:this.uid,target:d}},_pushToHistory:function(d,c,f){this.initialized&&(!d.hash&&d.page&&(d.hash="page="+d.page),c&&!f&&(c=this._getPreviousParams())&&this._pushToHistory(c,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(d),f||0===this.uid),this.currentUid=this.uid++,this.current=
d,this.updatePreviousBookmark=!0)},_goTo:function(d){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(d)){if(!this.reInitialized&&d.uid<this.currentUid){var c=this._getPreviousParams(!0);if(c){this._pushToHistory(this.current,!1);this._pushToHistory(c,!1);this.currentUid=d.uid;window.history.back();return}}this.historyUnlocked=!1;d.target.dest?this.linkService.navigateTo(d.target.dest):this.linkService.setHash(d.target.hash);this.currentUid=d.uid;d.uid>this.uid&&(this.uid=d.uid);
this.current=d.target;this.updatePreviousBookmark=!0;d=window.location.hash.substring(1);this.previousHash!==d&&(this.allowHashChange=!1);this.previousHash=d;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(d){if(this.initialized&&this.historyUnlocked){var c=window.history.state;-1===d&&c&&0<c.uid?window.history.back():1===d&&c&&c.uid<this.uid-1&&window.history.forward()}}};c.PDFHistory=l});(function(c,f){f(c.pdfjsWebPDFLinkService={},c.pdfjsWebUIUtils,
c.pdfjsWebDOMEvents)})(this,function(c,f,l){var d=f.parseQueryString,k=/^\d+$/;f=function(){function b(a){a=a||{};this.eventBus=a.eventBus||l.getGlobalEventBus();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}function e(a){if(!(a instanceof Array))return!1;var b=a.length,d=!0;if(2>b)return!1;var e=a[0];if(!("object"===typeof e&&"number"===typeof e.num&&(e.num|0)===e.num&&"number"===typeof e.gen&&(e.gen|0)===e.gen||"number"===typeof e&&(e|0)===e&&0<=e))return!1;
e=a[1];if("object"!==typeof e||"string"!==typeof e.name)return!1;switch(e.name){case "XYZ":if(5!==b)return!1;break;case "Fit":case "FitB":return 2===b;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==b)return!1;break;case "FitR":if(6!==b)return!1;d=!1;break;default:return!1}for(e=2;e<b;e++){var c=a[e];if(!("number"===typeof c||d&&null===c))return!1}return!0}b.prototype={setDocument:function(a,b){this.baseUrl=b;this.pdfDocument=a;this._pagesRefCache=Object.create(null)},setViewer:function(a){this.pdfViewer=
a},setHistory:function(a){this.pdfHistory=a},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(a){this.pdfViewer.currentPageNumber=a},navigateTo:function(a){var b="",d=this,e=function(c){var g;if(c instanceof Object)g=d._cachedPageNumber(c);else if((c|0)===c)g=c+1;else{console.error('PDFLinkService_navigateTo: "'+c+'" is not a valid destination reference.');return}g?1>g||g>d.pagesCount?console.error('PDFLinkService_navigateTo: "'+
g+'" is a non-existent page number.'):(d.pdfViewer.scrollPageIntoView({pageNumber:g,destArray:a}),d.pdfHistory&&d.pdfHistory.push({dest:a,hash:b,page:g})):d.pdfDocument.getPageIndex(c).then(function(a){d.cachePageRef(a+1,c);e(c)}).catch(function(){console.error('PDFLinkService_navigateTo: "'+c+'" is not a valid page reference.')})},c;"string"===typeof a?(b=a,c=this.pdfDocument.getDestination(a)):c=Promise.resolve(a);c.then(function(b){a=b;b instanceof Array?e(b[0]):console.error('PDFLinkService_navigateTo: "'+
b+'" is not a valid destination array.')})},getDestinationHash:function(a){return"string"===typeof a?this.getAnchorUrl("#"+(k.test(a)?"nameddest=":"")+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")},getAnchorUrl:function(a){return(this.baseUrl||"")+a},setHash:function(a){var b,c;if(0<=a.indexOf("="))if(a=d(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),
"nameddest"in a)this.pdfHistory&&this.pdfHistory.updateNextHashParam(a.nameddest),this.navigateTo(a.nameddest);else{"page"in a&&(b=a.page|0||1);if("zoom"in a){var f=a.zoom.split(","),q=f[0],g=parseFloat(q);-1===q.indexOf("Fit")?c=[null,{name:"XYZ"},1<f.length?f[1]|0:null,2<f.length?f[2]|0:null,g?g/100:q]:"Fit"===q||"FitB"===q?c=[null,{name:q}]:"FitH"===q||"FitBH"===q||"FitV"===q||"FitBV"===q?c=[null,{name:q},1<f.length?f[1]|0:null]:"FitR"===q?5!==f.length?console.error("PDFLinkService_setHash: Not enough parameters for 'FitR'."):
c=[null,{name:q},f[1]|0,f[2]|0,f[3]|0,f[4]|0]:console.error("PDFLinkService_setHash: '"+q+"' is not a valid zoom value.")}c?this.pdfViewer.scrollPageIntoView({pageNumber:b||this.page,destArray:c,allowNegativeOffset:!0}):b&&(this.page=b);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{k.test(a)&&a<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+a+'" form instead.'),
this.page=a|0);c=unescape(a);try{c=JSON.parse(c),c instanceof Array||(c=c.toString())}catch(K){}"string"===typeof c||e(c)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(c),this.navigateTo(c)):console.error("PDFLinkService_setHash: '"+unescape(a)+"' is not a valid destination.")}},executeNamedAction:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;
break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})},cachePageRef:function(a,b){this._pagesRefCache[b.num+" "+b.gen+" R"]=a},_cachedPageNumber:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}};return b}();var m=function(){function b(){}b.prototype={get page(){return 0},set page(b){},navigateTo:function(b){},getDestinationHash:function(b){return"#"},
getAnchorUrl:function(b){return"#"},setHash:function(b){},executeNamedAction:function(b){},cachePageRef:function(b,a){}};return b}();c.PDFLinkService=f;c.SimpleLinkService=m});(function(c,f){f(c.pdfjsWebPDFPageView={},c.pdfjsWebUIUtils,c.pdfjsWebPDFRenderingQueue,c.pdfjsWebDOMEvents,c.pdfjsWebPDFJS)})(this,function(c,f,l,d,k){var m=f.CSS_UNITS,b=f.DEFAULT_SCALE,e=f.getOutputScale,a=f.approximateFraction,u=f.roundToDivide,v=f.RendererType,h=l.RenderingStates;f=function(){function c(a){var c=a.container,
e=a.id,f=a.scale,g=a.defaultViewport,u=a.renderingQueue,k=a.textLayerFactory,x=a.annotationLayerFactory,t=a.enhanceTextSelection||!1,q=a.renderInteractiveForms||!1;this.id=e;this.renderingId="page"+e;this.pageLabel=null;this.rotation=0;this.scale=f||b;this.viewport=g;this.pdfPageRotate=g.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=t;this.renderInteractiveForms=q;this.eventBus=a.eventBus||d.getGlobalEventBus();this.renderingQueue=u;this.textLayerFactory=k;this.annotationLayerFactory=
x;this.renderer=a.renderer||v.CANVAS;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=h.INITIAL;this.annotationLayer=this.zoomLayer=this.textLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;c.appendChild(a)}c.prototype={setPdfPage:function(a){this.pdfPage=
a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*m,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()},destroy:function(){this.zoomLayer=null;this.reset();this.pdfPage&&this.pdfPage.cleanup()},reset:function(a,b){this.cancelRendering();var d=this.div;d.style.width=Math.floor(this.viewport.width)+"px";d.style.height=Math.floor(this.viewport.height)+"px";var c=d.childNodes;a=a&&this.zoomLayer||null;b=b&&this.annotationLayer&&this.annotationLayer.div||null;for(var e=
c.length-1;0<=e;e--){var f=c[e];a!==f&&b!==f&&d.removeChild(f)}d.removeAttribute("data-loaded");b?this.annotationLayer.hide():this.annotationLayer=null;this.canvas&&!a&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas);this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";d.appendChild(this.loadingIconDiv)},update:function(a,b){this.scale=
a||this.scale;"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:this.scale*m,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{a=!1;this.canvas&&0<k.PDFJS.maxCanvasPixels&&(b=this.outputScale,(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>k.PDFJS.maxCanvasPixels&&(a=!0));if(this.canvas){if(k.PDFJS.useOnlyCssZoom||
this.hasRestrictedScaling&&a){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}},cancelRendering:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=h.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),
this.textLayer=null)},updatePosition:function(){this.textLayer&&this.textLayer.render(200)},cssTransform:function(a,b){var d=k.CustomStyle,c=this.viewport.width,e=this.viewport.height,f=this.div;a.style.width=a.parentNode.style.width=f.style.width=Math.floor(c)+"px";a.style.height=a.parentNode.style.height=f.style.height=Math.floor(e)+"px";var f=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,g=Math.abs(f),h=1,u=1;if(90===g||270===g)h=e/c,u=c/e;d.setProp("transform",a,"rotate("+f+"deg) scale("+
h+","+u+")");if(this.textLayer){f=this.textLayer.viewport;a=Math.abs(this.viewport.rotation-f.rotation);e=c/f.width;if(90===a||270===a)e=c/f.height;var c=this.textLayer.textLayerDiv,v,q;switch(a){case 0:v=q=0;break;case 90:v=0;q="-"+c.style.height;break;case 180:v="-"+c.style.width;q="-"+c.style.height;break;case 270:v="-"+c.style.width;q=0;break;default:console.error("Bad rotation value.")}d.setProp("transform",c,"rotate("+a+"deg) scale("+e+", "+e+") translate("+v+", "+q+")");d.setProp("transformOrigin",
c,"0% 0%")}b&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function(a,b){return this.viewport.convertToPdfPoint(a,b)},draw:function(){this.renderingState!==h.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());this.renderingState=h.RUNNING;var a=this,b=this.pdfPage,d=this.div,c=document.createElement("div");c.style.width=d.style.width;c.style.height=
d.style.height;c.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?d.insertBefore(c,this.annotationLayer.div):d.appendChild(c);var e=null,f=null;this.textLayerFactory&&(e=document.createElement("div"),e.className="textLayer",e.style.width=c.style.width,e.style.height=c.style.height,this.annotationLayer&&this.annotationLayer.div?d.insertBefore(e,this.annotationLayer.div):d.appendChild(e),f=this.textLayerFactory.createTextLayerBuilder(e,this.id-1,this.viewport,this.enhanceTextSelection));
this.textLayer=f;e=null;this.renderingQueue&&(e=function(b){a.renderingQueue.isHighestPriority(a)?b():(a.renderingState=h.PAUSED,a.resume=function(){a.renderingState=h.RUNNING;b()})});var u=function(c){k===a.paintTask&&(a.paintTask=null);if("cancelled"===c)return a.error=null,Promise.resolve(void 0);a.renderingState=h.FINISHED;a.loadingIconDiv&&(d.removeChild(a.loadingIconDiv),delete a.loadingIconDiv);if(a.zoomLayer){var e=a.zoomLayer.firstChild;a.paintedViewportMap.delete(e);e.width=0;e.height=0;
d.contains(a.zoomLayer)&&d.removeChild(a.zoomLayer);a.zoomLayer=null}a.error=c;a.stats=b.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:!1});return c?Promise.reject(c):Promise.resolve(void 0)},k=this.renderer===v.SVG?this.paintOnSvg(c):this.paintOnCanvas(c);k.onRenderContinue=e;this.paintTask=k;c=k.promise.then(function(){return u(null).then(function(){f&&b.getTextContent({normalizeWhitespace:!0}).then(function(a){f.setTextContent(a);
f.render(200)})})},function(a){return u(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(d,b,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display"));d.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return c},paintOnCanvas:function(b){var d,c,f={promise:new Promise(function(a,b){d=a;c=b}),onRenderContinue:function(a){a()},cancel:function(){n.cancel()}},h=this.viewport,
g=document.createElement("canvas");g.id="page"+this.id;g.setAttribute("hidden","hidden");var v=!0,q=function(){v&&(g.removeAttribute("hidden"),v=!1)};b.appendChild(g);this.canvas=g;g.mozOpaque=!0;b=g.getContext("2d",{alpha:!1});var t=e(b);this.outputScale=t;if(k.PDFJS.useOnlyCssZoom){var l=h.clone({scale:m});t.sx*=l.width/h.width;t.sy*=l.height/h.height;t.scaled=!0}0<k.PDFJS.maxCanvasPixels&&(l=Math.sqrt(k.PDFJS.maxCanvasPixels/(h.width*h.height)),t.sx>l||t.sy>l?(t.sx=l,t.sy=l,this.hasRestrictedScaling=
t.scaled=!0):this.hasRestrictedScaling=!1);var l=a(t.sx),p=a(t.sy);g.width=u(h.width*t.sx,l[0]);g.height=u(h.height*t.sy,p[0]);g.style.width=u(h.width,l[1])+"px";g.style.height=u(h.height,p[1])+"px";this.paintedViewportMap.set(g,h);var n=this.pdfPage.render({canvasContext:b,transform:t.scaled?[t.sx,0,0,t.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});n.onContinue=function(a){q();if(f.onRenderContinue)f.onRenderContinue(a);else a()};n.promise.then(function(){q();
d(void 0)},function(a){q();c(a)});return f},paintOnSvg:function(a){var b=!1,d=this,c=this.pdfPage,e=k.SVGGraphics,f=this.viewport.clone({scale:m});return{promise:c.getOperatorList().then(function(g){if(b)throw"cancelled";return(new e(c.commonObjs,c.objs)).getSVG(g,f).then(function(c){if(b)throw"cancelled";d.svg=c;d.paintedViewportMap.set(c,f);c.style.width=a.style.width;c.style.height=a.style.height;d.renderingState=h.FINISHED;a.appendChild(c)})}),onRenderContinue:function(a){a()},cancel:function(){b=
!0}}},setPageLabel:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}};return c}();c.PDFPageView=f});(function(c,f){f(c.pdfjsWebTextLayerBuilder={},c.pdfjsWebDOMEvents,c.pdfjsWebPDFJS)})(this,function(c,f,l){function d(){}var k=function(){function d(b){this.textLayerDiv=b.textLayerDiv;this.eventBus=b.eventBus||f.getGlobalEventBus();this.textContent=null;this.renderingDone=
!1;this.pageIdx=b.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=b.viewport;this.textDivs=[];this.findController=b.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=b.enhanceTextSelection;this._bindMouse()}d.prototype={_finishRendering:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var b=document.createElement("div");b.className="endOfContent";this.textLayerDiv.appendChild(b)}this.eventBus.dispatch("textlayerrendered",{source:this,
pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function(b){if(this.textContent&&!this.renderingDone){this.cancel();this.textDivs=[];var d=document.createDocumentFragment();this.textLayerRenderTask=l.renderTextLayer({textContent:this.textContent,container:d,viewport:this.viewport,textDivs:this.textDivs,timeout:b,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){this.textLayerDiv.appendChild(d);this._finishRendering();this.updateMatches()}.bind(this),
function(a){})}},cancel:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)},setTextContent:function(b){this.cancel();this.textContent=b},convertMatches:function(b,d){var a=0,c=0,e=this.textContent.items,f=e.length-1,k=null===this.findController?0:this.findController.state.query.length,g=[];if(!b)return g;for(var l=0,p=b.length;l<p;l++){for(var m=b[l];a!==f&&m>=c+e[a].str.length;)c+=e[a].str.length,a++;a===e.length&&console.error("Could not find a matching mapping");
for(var r={begin:{divIdx:a,offset:m-c}},m=d?m+d[l]:m+k;a!==f&&m>c+e[a].str.length;)c+=e[a].str.length,a++;r.end={divIdx:a,offset:m-c};g.push(r)}return g},renderMatches:function(b){function d(b,d){var c=b.divIdx;f[c].textContent="";a(c,0,b.offset,d)}function a(a,b,d,e){var h=f[a];a=c[a].str.substring(b,d);a=document.createTextNode(a);e?(b=document.createElement("span"),b.className=e,b.appendChild(a),h.appendChild(b)):h.appendChild(a)}if(0!==b.length){var c=this.textContent.items,f=this.textDivs,h=
null,k=this.pageIdx,g=null===this.findController?!1:k===this.findController.selected.pageIdx,l=null===this.findController?-1:this.findController.selected.matchIdx,m=l,p=m+1;if(null===this.findController?0:this.findController.state.highlightAll)m=0,p=b.length;else if(!g)return;for(;m<p;m++){var r=b[m],n=r.begin,r=r.end,A=g&&m===l?" selected":"";this.findController&&this.findController.updateMatchPosition(k,m,f,n.divIdx);h&&n.divIdx===h.divIdx?a(h.divIdx,h.offset,n.offset):(null!==h&&a(h.divIdx,h.offset,
void 0),d(n));if(n.divIdx===r.divIdx)a(n.divIdx,n.offset,r.offset,"highlight"+A);else{a(n.divIdx,n.offset,void 0,"highlight begin"+A);h=n.divIdx+1;for(n=r.divIdx;h<n;h++)f[h].className="highlight middle"+A;d(r,"highlight end"+A)}h=r}h&&a(h.divIdx,h.offset,void 0)}},updateMatches:function(){if(this.renderingDone){for(var b=this.matches,d=this.textDivs,a=this.textContent.items,c=-1,f=0,h=b.length;f<h;f++){for(var k=b[f],c=Math.max(c,k.begin.divIdx),g=k.end.divIdx;c<=g;c++){var l=d[c];l.textContent=
a[c].str;l.className=""}c=k.end.divIdx+1}if(null!==this.findController&&this.findController.active){var m,n;null!==this.findController&&(m=this.findController.pageMatches[this.pageIdx]||null,n=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null);this.matches=this.convertMatches(m,n);this.renderMatches(this.matches)}}},_bindMouse:function(){var b=this.textLayerDiv,d=this,a=null;b.addEventListener("mousedown",function(c){if(d.enhanceTextSelection&&d.textLayerRenderTask)d.textLayerRenderTask.expandTextDivs(!0),
a&&(clearTimeout(a),a=null);else{var e=b.querySelector(".endOfContent");if(e){var f=c.target!==b;if(f=f&&"none"!==window.getComputedStyle(e).getPropertyValue("-moz-user-select"))f=b.getBoundingClientRect(),e.style.top=(100*Math.max(0,(c.pageY-f.top)/f.height)).toFixed(2)+"%";e.classList.add("active")}}});b.addEventListener("mouseup",function(c){if(d.enhanceTextSelection&&d.textLayerRenderTask)a=setTimeout(function(){d.textLayerRenderTask&&d.textLayerRenderTask.expandTextDivs(!1);a=null},300);else if(c=
b.querySelector(".endOfContent"))c.style.top="",c.classList.remove("active")})}};return d}();d.prototype={createTextLayerBuilder:function(d,b,c,a){return new k({textLayerDiv:d,pageIndex:b,viewport:c,enhanceTextSelection:a})}};c.TextLayerBuilder=k;c.DefaultTextLayerFactory=d});(function(c,f){f(c.pdfjsWebAnnotationLayerBuilder={},c.pdfjsWebUIUtils,c.pdfjsWebPDFLinkService,c.pdfjsWebPDFJS)})(this,function(c,f,l,d){function k(){}var m=f.mozL10n,b=l.SimpleLinkService,e=function(){function a(a){this.pageDiv=
a.pageDiv;this.pdfPage=a.pdfPage;this.renderInteractiveForms=a.renderInteractiveForms;this.linkService=a.linkService;this.downloadManager=a.downloadManager;this.div=null}a.prototype={render:function(a,b){var c=this,e={intent:void 0===b?"display":b};this.pdfPage.getAnnotations(e).then(function(b){a=a.clone({dontFlip:!0});e={viewport:a,div:c.div,annotations:b,page:c.pdfPage,renderInteractiveForms:c.renderInteractiveForms,linkService:c.linkService,downloadManager:c.downloadManager};c.div?d.AnnotationLayer.update(e):
0!==b.length&&(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),e.div=c.div,d.AnnotationLayer.render(e),"undefined"!==typeof m&&m.translate(c.div))})},hide:function(){this.div&&this.div.setAttribute("hidden","true")}};return a}();k.prototype={createAnnotationLayerBuilder:function(a,c,d){return new e({pageDiv:a,pdfPage:c,renderInteractiveForms:d,linkService:new b})}};c.AnnotationLayerBuilder=e;c.DefaultAnnotationLayerFactory=k});(function(c,f){f(c.pdfjsWebPDFViewer=
{},c.pdfjsWebUIUtils,c.pdfjsWebPDFPageView,c.pdfjsWebPDFRenderingQueue,c.pdfjsWebTextLayerBuilder,c.pdfjsWebAnnotationLayerBuilder,c.pdfjsWebPDFLinkService,c.pdfjsWebDOMEvents,c.pdfjsWebPDFJS)})(this,function(c,f,l,d,k,m,b,e,a){var n=f.UNKNOWN_SCALE,p=f.SCROLLBAR_PADDING,h=f.VERTICAL_PADDING,q=f.MAX_AUTO_SCALE,g=f.CSS_UNITS,y=f.DEFAULT_SCALE,z=f.DEFAULT_SCALE_VALUE,F=f.RendererType,r=f.scrollIntoView,G=f.watchScroll,A=f.getVisibleElements,x=l.PDFPageView,t=d.RenderingStates,D=d.PDFRenderingQueue,
E=k.TextLayerBuilder,H=m.AnnotationLayerBuilder,I=b.SimpleLinkService,C={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};f=function(){function b(a){var b=[];this.push=function(c){var d=b.indexOf(c);0<=d&&b.splice(d,1);b.push(c);b.length>a&&b.shift().destroy()};this.resize=function(c){for(a=c;b.length>a;)b.shift().destroy()}}function c(a){this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||e.getGlobalEventBus();this.linkService=a.linkService||new I;
this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.renderer=a.renderer||F.CANVAS;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new D,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=G(this.container,this._scrollUpdate.bind(this));this.presentationModeState=C.UNKNOWN;this._resetView();this.removePageBorders&&
this.viewer.classList.add("removePageBorders")}c.prototype={get pagesCount(){return this._pages.length},getPageView:function(a){return this._pages[a]},get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument?this._setCurrentPageNumber(a,!0):this._currentPageNumber=a},_setCurrentPageNumber:function(a,b){if(this._currentPageNumber===a)b&&this._resetCurrentPageView();
else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer_setCurrentPageNumber: "'+a+'" is out of bounds.')},get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set currentPageLabel(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),
0<=a&&(b=a+1));this.currentPageNumber=b},get currentScale(){return this._currentScale!==n?this._currentScale:y},set currentScale(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument?this._setScale(a,!1):(this._currentScale=a,this._currentScaleValue=a!==n?a.toString():null)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(a){this.pdfDocument?this._setScale(a,!1):(this._currentScale=isNaN(a)?n:a,this._currentScaleValue=a.toString())},get pagesRotation(){return this._pagesRotation},
set pagesRotation(a){if("number"!==typeof a||0!==a%90)throw Error("Invalid pages rotation angle.");this._pagesRotation=a;if(this.pdfDocument){for(var b=0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}},setDocument:function(b){this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=b){var c=b.numPages,d=this,e,f=new Promise(function(a){e=a});this.pagesPromise=f;f.then(function(){d._pageViewsReady=
!0;d.eventBus.dispatch("pagesloaded",{source:d,pagesCount:c})});var w=!1,h=null,k=new Promise(function(a){h=a});this.onePageRendered=k;var l=function(a){a.onBeforeDraw=function(){d._buffer.push(this)};a.onAfterDraw=function(){w||(w=!0,h())}};this.firstPagePromise=f=b.getPage(1);return f.then(function(f){var w=this.currentScale;f=f.getViewport(w*g);for(var h=1;h<=c;++h){var B=null;a.PDFJS.disableTextLayer||(B=this);B=new x({container:this.viewer,eventBus:this.eventBus,id:h,scale:w,defaultViewport:f.clone(),
renderingQueue:this.renderingQueue,textLayerFactory:B,annotationLayerFactory:this,enhanceTextSelection:this.enhanceTextSelection,renderInteractiveForms:this.renderInteractiveForms,renderer:this.renderer});l(B);this._pages.push(B)}var J=this.linkService;k.then(function(){if(a.PDFJS.disableAutoFetch)e();else for(var f=c,w=1;w<=c;++w)b.getPage(w).then(function(a,b){var c=d._pages[a-1];c.pdfPage||c.setPdfPage(b);J.cachePageRef(a,b.ref);f--;f||e()}.bind(null,w))});d.eventBus.dispatch("pagesinit",{source:d});
this.defaultRenderingQueue&&this.update();this.findController&&this.findController.resolveFirstPage()}.bind(this))}},setPageLabels:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;a=0;for(var b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}},_resetView:function(){this._pages=[];this._currentPageNumber=
1;this._currentScale=n;this._pageLabels=this._currentScaleValue=null;this._buffer=new b(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].updatePosition()}},_setScaleDispatchEvent:function(a,b,c){a={source:this,scale:a,presetValue:c?b:void 0};this.eventBus.dispatch("scalechanging",a);this.eventBus.dispatch("scalechange",
a)},_setScaleUpdatePages:function(b,c,d,e){this._currentScaleValue=c.toString();var f;f=this._currentScale;f=b===f?!0:1E-15>Math.abs(b-f)?!0:!1;if(f)e&&this._setScaleDispatchEvent(b,c,!0);else{f=0;for(var w=this._pages.length;f<w;f++)this._pages[f].update(b);this._currentScale=b;if(!d){d=this._currentPageNumber;var g;!this._location||a.PDFJS.ignoreCurrentPositionOnZoom||this.isInPresentationMode||this.isChangingPresentationMode||(d=this._location.pageNumber,g=[null,{name:"XYZ"},this._location.left,
this._location.top,null]);this.scrollPageIntoView({pageNumber:d,destArray:g,allowNegativeOffset:!0})}this._setScaleDispatchEvent(b,c,e);this.defaultRenderingQueue&&this.update()}},_setScale:function(a,b){var c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:p))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?
0:h))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=Math.min(q,c.width>c.height?Math.min(e,d):d);break;default:console.error('PDFViewer_setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}},_resetCurrentPageView:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);r(this._pages[this._currentPageNumber-1].div)},scrollPageIntoView:function(a){if(this.pdfDocument){if(1<
arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var c=a.pageNumber||0,d=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!d)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-1]){var e=0,f=0,w=0,k=0,l,m;m=0===c.rotation%180?!1:!0;l=(m?c.height:c.width)/c.scale/g;m=(m?c.width:c.height)/c.scale/g;switch(d[1].name){case "XYZ":e=
d[2];f=d[3];l=d[4];e=null!==e?e:0;f=null!==f?f:m;break;case "Fit":case "FitB":l="page-fit";break;case "FitH":case "FitBH":f=d[2];l="page-width";null===f&&this._location&&(e=this._location.left,f=this._location.top);break;case "FitV":case "FitBV":e=d[2];w=l;k=m;l="page-height";break;case "FitR":e=d[2];f=d[3];w=d[4]-e;k=d[5]-f;m=this.removePageBorders?0:h;l=(this.container.clientWidth-(this.removePageBorders?0:p))/w/g;m=(this.container.clientHeight-m)/k/g;l=Math.min(Math.abs(l),Math.abs(m));break;default:console.error("PDFViewer_scrollPageIntoView: '"+
d[1].name+"' is not a valid destination type.");return}l&&l!==this._currentScale?this.currentScaleValue=l:this._currentScale===n&&(this.currentScaleValue=z);"page-fit"!==l||d[4]?(e=[c.viewport.convertToViewportPoint(e,f),c.viewport.convertToViewportPoint(e+w,f+k)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),b||(d=Math.max(d,0),e=Math.max(e,0)),r(c.div,{left:d,top:e})):r(c.div)}else console.error('PDFViewer_scrollPageIntoView: Invalid "pageNumber" parameter.')}},_updateLocation:function(a){var b=
this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y);a=Math.round(e[0]);e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}},update:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(10,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=
this._currentPageNumber,a=a.first,d=0,e=b.length,f=!1;d<e;++d){var g=b[d];if(100>g.percent)break;if(g.id===c){f=!0;break}}f||(c=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}},containsElement:function(a){return this.container.contains(a)},focus:function(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===C.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===
C.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(!this.isInPresentationMode)return A(this.container,this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}},cleanup:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==t.FINISHED&&this._pages[a].reset()},_cancelRendering:function(){for(var a=
0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()},_ensurePdfPageLoaded:function(a){if(a.pdfPage)return Promise.resolve(a.pdfPage);var b=a.id;if(this._pagesRequests[b])return this._pagesRequests[b];var c=this.pdfDocument.getPage(b).then(function(c){a.setPdfPage(c);this._pagesRequests[b]=null;return c}.bind(this));return this._pagesRequests[b]=c},forceRendering:function(a){a=a||this._getVisiblePages();var b=this.renderingQueue.getHighestPriority(a,this._pages,this.scroll.down);
return b?(this._ensurePdfPageLoaded(b).then(function(){this.renderingQueue.renderView(b)}.bind(this)),!0):!1},getPageTextContent:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})},createTextLayerBuilder:function(a,b,c,d){return new E({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:d})},createAnnotationLayerBuilder:function(a,
b,c){return new H({pageDiv:a,pdfPage:b,renderInteractiveForms:c,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function(a){this.findController=a},getPagesOverview:function(){return this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height}})}};return c}();c.PresentationModeState=C;c.PDFViewer=f})}).call(n);p=p.PDFJS;p.PDFViewer=n.pdfjsWebPDFViewer.PDFViewer;p.PDFPageView=n.pdfjsWebPDFPageView.PDFPageView;p.PDFLinkService=n.pdfjsWebPDFLinkService.PDFLinkService;
p.TextLayerBuilder=n.pdfjsWebTextLayerBuilder.TextLayerBuilder;p.DefaultTextLayerFactory=n.pdfjsWebTextLayerBuilder.DefaultTextLayerFactory;p.AnnotationLayerBuilder=n.pdfjsWebAnnotationLayerBuilder.AnnotationLayerBuilder;p.DefaultAnnotationLayerFactory=n.pdfjsWebAnnotationLayerBuilder.DefaultAnnotationLayerFactory;p.PDFHistory=n.pdfjsWebPDFHistory.PDFHistory;p.PDFFindController=n.pdfjsWebPDFFindController.PDFFindController;p.EventBus=n.pdfjsWebUIUtils.EventBus;p.DownloadManager=n.pdfjsWebDownloadManager.DownloadManager;
p.ProgressBar=n.pdfjsWebUIUtils.ProgressBar;y.PDFJS=p});
