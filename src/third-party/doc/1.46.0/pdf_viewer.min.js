(function(n,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],b):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=b():n["pdfjs-dist/web/pdf_viewer"]=n.pdfjsViewer=b()})(this,function(){return function(n){function b(q){if(f[q])return f[q].exports;var l=f[q]={i:q,l:!1,exports:{}};n[q].call(l.exports,l,l.exports,b);l.l=!0;return l.exports}var f={};b.m=n;b.c=f;b.d=function(f,l,m){b.o(f,l)||
Object.defineProperty(f,l,{enumerable:!0,get:m})};b.r=function(b){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});Object.defineProperty(b,"__esModule",{value:!0})};b.t=function(f,l){l&1&&(f=b(f));if(l&8||l&4&&"object"===typeof f&&f&&f.__esModule)return f;var m=Object.create(null);b.r(m);Object.defineProperty(m,"default",{enumerable:!0,value:f});if(l&2&&"string"!=typeof f)for(var t in f)b.d(m,t,function(b){return f[b]}.bind(null,t));return m};
b.n=function(f){var l=f&&f.__esModule?function(){return f["default"]}:function(){return f};b.d(l,"a",l);return l};b.o=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)};b.p="";return b(b.s=0)}([function(n,b,f){Object.defineProperty(b,"__esModule",{value:!0});b.NullL10n=b.GenericL10n=b.ProgressBar=b.DownloadManager=b.EventBus=b.PDFFindController=b.PDFHistory=b.DefaultAnnotationLayerFactory=b.AnnotationLayerBuilder=b.DefaultTextLayerFactory=b.TextLayerBuilder=b.SimpleLinkService=b.PDFLinkService=
b.PDFPageView=b.PDFSinglePageViewer=b.PDFViewer=void 0;n=f(1);var q=f(6),l=f(3),m=f(4),t=f(7),u=f(8),k=f(10),e=f(11),a=f(12),c=f(15);f=f(17);b.PDFViewer=f.PDFViewer;b.PDFSinglePageViewer=c.PDFSinglePageViewer;b.PDFPageView=a.PDFPageView;b.PDFLinkService=m.PDFLinkService;b.SimpleLinkService=m.SimpleLinkService;b.TextLayerBuilder=q.TextLayerBuilder;b.DefaultTextLayerFactory=q.DefaultTextLayerFactory;b.AnnotationLayerBuilder=n.AnnotationLayerBuilder;b.DefaultAnnotationLayerFactory=n.DefaultAnnotationLayerFactory;
b.PDFHistory=e.PDFHistory;b.PDFFindController=k.PDFFindController;b.EventBus=l.EventBus;b.DownloadManager=t.DownloadManager;b.ProgressBar=l.ProgressBar;b.GenericL10n=u.GenericL10n;b.NullL10n=l.NullL10n},function(n,b,f){function q(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultAnnotationLayerFactory=b.AnnotationLayerBuilder=void 0;var l=function(){function e(a,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=
e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){c&&e(a.prototype,c);d&&e(a,d);return a}}(),m=f(2),t=f(3),u=f(4),k=function(){function e(a){var c=a.pageDiv,d=a.pdfPage,p=a.linkService,h=a.downloadManager,r=a.imageResourcesPath;r=void 0===r?"":r;var b=a.renderInteractiveForms;b=void 0===b?!1:b;a=a.l10n;a=void 0===a?t.NullL10n:a;q(this,e);this.pageDiv=c;this.pdfPage=d;this.linkService=p;this.downloadManager=h;this.imageResourcesPath=
r;this.renderInteractiveForms=b;this.l10n=a;this.div=null;this._cancelled=!1}l(e,[{key:"render",value:function(a){var c=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(d){if(!c._cancelled){var e={viewport:a.clone({dontFlip:!0}),div:c.div,annotations:d,page:c.pdfPage,imageResourcesPath:c.imageResourcesPath,renderInteractiveForms:c.renderInteractiveForms,linkService:c.linkService,downloadManager:c.downloadManager};c.div?m.AnnotationLayer.update(e):
0!==d.length&&(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),e.div=c.div,m.AnnotationLayer.render(e),c.l10n.translate(c.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return e}();n=function(){function e(){q(this,e)}l(e,[{key:"createAnnotationLayerBuilder",value:function(a,c){var d=4<arguments.length&&void 0!==arguments[4]?arguments[4]:t.NullL10n;return new k({pageDiv:a,
pdfPage:c,imageResourcesPath:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,linkService:new u.SimpleLinkService,l10n:d})}}]);return e}();b.AnnotationLayerBuilder=k;b.DefaultAnnotationLayerFactory=n},function(n,b,f){b="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");n.exports=b},function(n,b,f){function q(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function l(a,c){return c?a.replace(/\{\{\s*(\w+)\s*\}\}/g,function(a,g){return g in c?c[g]:"{{"+g+"}}"}):a}function m(a,c){var h=0,g=a.length-1;if(0===a.length||!c(a[g]))return a.length;if(c(a[h]))return h;for(;h<g;){var d=h+g>>1;c(a[d])?g=d:h=d+1}return h}function t(a,c,d){if(2>a)return a;var g=c[a].div,h=g.offsetTop+g.clientTop;h>=d&&(g=c[a-1].div,h=g.offsetTop+g.clientTop);for(d=a-2;0<=d;--d){g=c[d].div;if(g.offsetTop+g.clientTop+g.clientHeight<=h)break;a=d}return a}Object.defineProperty(b,"__esModule",
{value:!0});b.moveToEndOfArray=b.waitOnEventOrTimeout=b.WaitOnType=b.animationStarted=b.normalizeWheelEventDelta=b.binarySearchFirstItem=b.watchScroll=b.scrollIntoView=b.getOutputScale=b.approximateFraction=b.getPageSizeInches=b.roundToDivide=b.getVisibleElements=b.backtrackBeforeAllVisibleElements=b.parseQueryString=b.noContextMenuHandler=b.getPDFFileNameFromURL=b.ProgressBar=b.EventBus=b.NullL10n=b.TextLayerMode=b.RendererType=b.PresentationModeState=b.cloneObj=b.isPortraitOrientation=b.isValidRotation=
b.VERTICAL_PADDING=b.SCROLLBAR_PADDING=b.MAX_AUTO_SCALE=b.UNKNOWN_SCALE=b.MAX_SCALE=b.MIN_SCALE=b.DEFAULT_SCALE=b.DEFAULT_SCALE_VALUE=b.CSS_UNITS=void 0;var u=function(){function a(a,c){for(var g=0;g<c.length;g++){var h=c[g];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,h.key,h)}}return function(c,h,g){h&&a(c.prototype,h);g&&a(c,g);return c}}(),k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var h=[],g=!0,d=!1,e=void 0;try{for(var b=a[Symbol.iterator](),p;!(g=(p=b.next()).done)&&(h.push(p.value),!c||h.length!==c);g=!0);}catch(z){d=!0,e=z}finally{try{if(!g&&b["return"])b["return"]()}finally{if(d)throw e;}}return h}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),a=f(2);
n=96/72;var c={EVENT:"event",TIMEOUT:"timeout"};f=new Promise(function(a){window.requestAnimationFrame(a)});var d=function(){function a(){q(this,a);this._listeners=Object.create(null)}u(a,[{key:"on",value:function(a,c){var g=this._listeners[a];g||(g=[],this._listeners[a]=g);g.push(c)}},{key:"off",value:function(a,c){a=this._listeners[a];var g=void 0;!a||0>(g=a.indexOf(c))||a.splice(g,1)}},{key:"dispatch",value:function(a){var c=this._listeners[a];if(c&&0!==c.length){var g=Array.prototype.slice.call(arguments,
1);c.slice(0).forEach(function(a){a.apply(null,g)})}}}]);return a}(),p=function(){function a(c){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=h.height,d=h.width;h=h.units;q(this,a);this.visible=!0;this.div=document.querySelector(c+" .progress");this.bar=this.div.parentNode;this.height=g||100;this.width=d||100;this.units=h||"%";this.div.style.height=this.height+this.units;this.percent=0}u(a,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),
this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)}},{key:"setWidth",value:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=
!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(a){this._indeterminate=isNaN(a);this._percent=Math.min(Math.max(a,0),100);this._updateBar()}}]);return a}();b.CSS_UNITS=n;b.DEFAULT_SCALE_VALUE="auto";b.DEFAULT_SCALE=1;b.MIN_SCALE=.1;b.MAX_SCALE=10;b.UNKNOWN_SCALE=0;b.MAX_AUTO_SCALE=1.25;b.SCROLLBAR_PADDING=40;b.VERTICAL_PADDING=5;b.isValidRotation=function(a){return Number.isInteger(a)&&0===
a%90};b.isPortraitOrientation=function(a){return a.width<=a.height};b.cloneObj=function(a){var c=Object.create(null),d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c};b.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};b.RendererType={CANVAS:"canvas",SVG:"svg"};b.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};b.NullL10n={getLanguage:function(){return Promise.resolve("en-us")},getDirection:function(){return Promise.resolve("ltr")},get:function(a,c,
d){return Promise.resolve(l(d,c))},translate:function(a){return Promise.resolve()}};b.EventBus=d;b.ProgressBar=p;b.getPDFFileNameFromURL=function(a){for(var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",d=0,g=a.length;d<g&&""===a[d].trim();)d++;if("data:"===a.substr(d,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),c;d=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;g=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);
if(g=d.exec(g[1])||d.exec(g[2])||d.exec(g[3]))if(g=g[0],g.includes("%"))try{g=d.exec(decodeURIComponent(g))[0]}catch(v){}return g||c};b.noContextMenuHandler=function(a){a.preventDefault()};b.parseQueryString=function(a){a=a.split("&");for(var c=Object.create(null),d=0,g=a.length;d<g;++d){var h=a[d].split("="),e=h[0].toLowerCase();h=1<h.length?h[1]:null;c[decodeURIComponent(e)]=decodeURIComponent(h)}return c};b.backtrackBeforeAllVisibleElements=t;b.getVisibleElements=function(a,c){function d(a){a=
a.div;return a.offsetTop+a.clientTop+a.clientHeight>b}function g(a){a=a.div;return a.offsetLeft+a.clientLeft+a.clientWidth>r}var h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,b=a.scrollTop,p=b+a.clientHeight,r=a.scrollLeft,k=r+a.clientWidth,u=[],A=void 0,f=void 0,l=void 0,n=f=void 0,q=n=void 0,B=void 0,C=void 0;B=C=void 0;A=0===c.length?0:m(c,e?g:d);0<c.length&&!e&&(A=t(A,c,b));for(var E=e?k:-1,F=A,G=c.length;F<G;F++){A=c[F];
f=A.div;q=f.offsetLeft+f.clientLeft;l=f.offsetTop+f.clientTop;B=f.clientWidth;f=f.clientHeight;C=q+B;n=l+f;if(-1===E)n>=p&&(E=n);else if((e?q:l)>E)break;n<=b||l>=p||C<=r||q>=k||(n=Math.max(0,b-l)+Math.max(0,n-p),C=Math.max(0,r-q)+Math.max(0,C-k),B=(f-n)*(B-C)*100/f/B|0,u.push({id:A.id,x:q,y:l,view:A,percent:B}))}e=u[0];p=u[u.length-1];h&&u.sort(function(a,c){var g=a.percent-c.percent;return.001<Math.abs(g)?-g:a.id-c.id});return{first:e,last:p,views:u}};b.roundToDivide=function(a,c){var d=a%c;return 0===
d?a:Math.round(a-d+c)};b.getPageSizeInches=function(a){var c=a.userUnit,d=a.rotate;a=e(a.view,4);d=0!==d%180;var g=(a[2]-a[0])/72*c;c*=(a[3]-a[1])/72;return{width:d?c:g,height:d?g:c}};b.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];var c=1/a;if(8<c)return[1,8];if(Math.floor(c)===c)return[1,c];c=1<a?c:a;for(var d=0,g=1,e=1,h=1;;){var b=d+e,p=g+h;if(8<p)break;c<=b/p?(e=b,h=p):(d=b,g=p)}return c-d/g<e/h-c?c===a?[d,g]:[g,d]:c===a?[e,h]:[h,e]};b.getOutputScale=function(a){a=(window.devicePixelRatio||
1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};b.scrollIntoView=function(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,g=a.offsetParent;if(g){for(var e=a.offsetTop+a.clientTop,h=a.offsetLeft+a.clientLeft;g.clientHeight===g.scrollHeight&&g.clientWidth===g.scrollWidth||d&&"hidden"===getComputedStyle(g).overflow;)if(g.dataset._scaleY&&(e/=g.dataset._scaleY,
h/=g.dataset._scaleX),e+=g.offsetTop,h+=g.offsetLeft,g=g.offsetParent,!g)return;c&&(void 0!==c.top&&(e+=c.top),void 0!==c.left&&(h+=c.left,g.scrollLeft=h));g.scrollTop=e}else console.error("offsetParent is not set -- cannot scroll")};b.watchScroll=function(a,c){var d=function(d){e||(e=window.requestAnimationFrame(function(){e=null;var d=a.scrollLeft,h=g.lastX;d!==h&&(g.right=d>h);g.lastX=d;d=a.scrollTop;h=g.lastY;d!==h&&(g.down=d>h);g.lastY=d;c(g)}))},g={right:!0,down:!0,lastX:a.scrollLeft,lastY:a.scrollTop,
_eventHandler:d},e=null;a.addEventListener("scroll",d,!0);return g};b.binarySearchFirstItem=m;b.normalizeWheelEventDelta=function(a){var c=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),d=Math.atan2(a.deltaY,a.deltaX);-.25*Math.PI<d&&d<.75*Math.PI&&(c=-c);0===a.deltaMode?c/=900:1===a.deltaMode&&(c/=30);return c};b.animationStarted=f;b.WaitOnType=c;b.waitOnEventOrTimeout=function(e){function h(a){b instanceof d?b.off(g,w):b.removeEventListener(g,w);x&&clearTimeout(x);p.resolve(a)}var b=e.target,g=
e.name;e=e.delay;e=void 0===e?0:e;if(!("object"===("undefined"===typeof b?"undefined":k(b))&&g&&"string"===typeof g&&Number.isInteger(e)&&0<=e))return Promise.reject(Error("waitOnEventOrTimeout - invalid parameters."));var p=(0,a.createPromiseCapability)(),w=h.bind(null,c.EVENT);if(b instanceof d)b.on(g,w);else b.addEventListener(g,w);var y=h.bind(null,c.TIMEOUT),x=setTimeout(y,e);return p.promise};b.moveToEndOfArray=function(a,c){for(var d=[],g=a.length,e=0,h=0;h<g;++h)c(a[h])?d.push(a[h]):(a[e]=
a[h],++e);for(c=0;e<g;++c,++e)a[e]=d[c]}},function(n,b,f){function q(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}function l(e){if(!(e instanceof Array))return!1;var a=e.length,c=!0;if(2>a)return!1;var d=e[0];if(!("object"===("undefined"===typeof d?"undefined":m(d))&&Number.isInteger(d.num)&&Number.isInteger(d.gen)||Number.isInteger(d)&&0<=d))return!1;d=e[1];if("object"!==("undefined"===typeof d?"undefined":m(d))||"string"!==typeof d.name)return!1;switch(d.name){case "XYZ":if(5!==
a)return!1;break;case "Fit":case "FitB":return 2===a;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==a)return!1;break;case "FitR":if(6!==a)return!1;c=!1;break;default:return!1}for(d=2;d<a;d++){var b=e[d];if(!("number"===typeof b||c&&null===b))return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.SimpleLinkService=b.PDFLinkService=void 0;var m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&
e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){function e(a,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){c&&e(a.prototype,c);d&&e(a,d);return a}}(),u=f(5),k=f(3);n=function(){function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=a.eventBus,d=a.externalLinkTarget;d=void 0===d?null:d;a=a.externalLinkRel;a=void 0===a?
null:a;q(this,e);this.eventBus=c||(0,u.getGlobalEventBus)();this.externalLinkTarget=d;this.externalLinkRel=a;this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}t(e,[{key:"setDocument",value:function(a,c){this.baseUrl=c;this.pdfDocument=a;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setHistory",value:function(a){this.pdfHistory=a}},{key:"navigateTo",value:function(a){var c=this,d=function r(d){var e=d.namedDest,
g=d.explicitDest,b=g[0];d=void 0;if(b instanceof Object){if(d=c._cachedPageNumber(b),null===d){c.pdfDocument.getPageIndex(b).then(function(a){c.cachePageRef(a+1,b);r({namedDest:e,explicitDest:g})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+b+'" is not '+('a valid page reference, for dest="'+a+'".'))});return}}else if(Number.isInteger(b))d=b+1;else{console.error('PDFLinkService.navigateTo: "'+b+'" is not '+('a valid destination reference, for dest="'+a+'".'));return}!d||1>d||d>
c.pagesCount?console.error('PDFLinkService.navigateTo: "'+d+'" is not '+('a valid page number, for dest="'+a+'".')):(c.pdfHistory&&(c.pdfHistory.pushCurrentPosition(),c.pdfHistory.push({namedDest:e,explicitDest:g,pageNumber:d})),c.pdfViewer.scrollPageIntoView({pageNumber:d,destArray:g}))};(new Promise(function(d,e){"string"===typeof a?c.pdfDocument.getDestination(a).then(function(c){d({namedDest:a,explicitDest:c})}):d({namedDest:"",explicitDest:a})})).then(function(c){c.explicitDest instanceof Array?
d(c):console.error('PDFLinkService.navigateTo: "'+c.explicitDest+'" is'+(' not a valid destination array, for dest="'+a+'".'))})}},{key:"getDestinationHash",value:function(a){return"string"===typeof a?this.getAnchorUrl("#"+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(a){return(this.baseUrl||"")+a}},{key:"setHash",value:function(a){var c=void 0,d=void 0;if(a.includes("="))if(a=(0,k.parseQueryString)(a),
"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.navigateTo(a.nameddest);else{"page"in a&&(c=a.page|0||1);if("zoom"in a){var e=a.zoom.split(","),b=e[0],r=parseFloat(b);b.includes("Fit")?"Fit"===b||"FitB"===b?d=[null,{name:b}]:"FitH"===b||"FitBH"===b||"FitV"===b||"FitBV"===b?d=[null,{name:b},1<e.length?e[1]|0:null]:"FitR"===b?5!==e.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):
d=[null,{name:b},e[1]|0,e[2]|0,e[3]|0,e[4]|0]:console.error('PDFLinkService.setHash: "'+b+'" is not a valid zoom value.'):d=[null,{name:"XYZ"},1<e.length?e[1]|0:null,2<e.length?e[2]|0:null,r?r/100:b]}d?this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:d,allowNegativeOffset:!0}):c&&(this.page=c);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{d=unescape(a);try{d=JSON.parse(d),d instanceof Array||(d=d.toString())}catch(D){}"string"===typeof d||
l(d)?this.navigateTo(d):console.error('PDFLinkService.setHash: "'+unescape(a)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",
{source:this,action:a})}},{key:"onFileAttachmentAnnotation",value:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})}},{key:"cachePageRef",value:function(a,c){c&&(this._pagesRefCache[c.num+" "+c.gen+" R"]=a)}},{key:"_cachedPageNumber",value:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",
get:function(){return this.pdfViewer.currentPageNumber},set:function(a){this.pdfViewer.currentPageNumber=a}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(a){this.pdfViewer.pagesRotation=a}}]);return e}();f=function(){function e(){q(this,e);this.externalLinkRel=this.externalLinkTarget=null}t(e,[{key:"navigateTo",value:function(a){}},{key:"getDestinationHash",value:function(a){return"#"}},{key:"getAnchorUrl",value:function(a){return"#"}},{key:"setHash",value:function(a){}},
{key:"executeNamedAction",value:function(a){}},{key:"onFileAttachmentAnnotation",value:function(a){}},{key:"cachePageRef",value:function(a,c){}},{key:"page",get:function(){return 0},set:function(a){}},{key:"rotation",get:function(){return 0},set:function(a){}}]);return e}();b.PDFLinkService=n;b.SimpleLinkService=f},function(n,b,f){function q(b){b.on("documentload",function(){var b=document.createEvent("CustomEvent");b.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(b)});b.on("pagerendered",
function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("pagerendered",!0,!0,{pageNumber:b.pageNumber,cssTransform:b.cssTransform});b.source.div.dispatchEvent(k)});b.on("textlayerrendered",function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:b.pageNumber});b.source.textLayerDiv.dispatchEvent(k)});b.on("pagechange",function(b){var k=document.createEvent("UIEvents");k.initUIEvent("pagechange",!0,!0,window,0);k.pageNumber=b.pageNumber;
b.source.container.dispatchEvent(k)});b.on("pagesinit",function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("pagesinit",!0,!0,null);b.source.container.dispatchEvent(k)});b.on("pagesloaded",function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("pagesloaded",!0,!0,{pagesCount:b.pagesCount});b.source.container.dispatchEvent(k)});b.on("scalechange",function(b){var k=document.createEvent("UIEvents");k.initUIEvent("scalechange",!0,!0,window,0);k.scale=b.scale;k.presetValue=
b.presetValue;b.source.container.dispatchEvent(k)});b.on("updateviewarea",function(b){var k=document.createEvent("UIEvents");k.initUIEvent("updateviewarea",!0,!0,window,0);k.location=b.location;b.source.container.dispatchEvent(k)});b.on("find",function(b){if(b.source!==window){var k=document.createEvent("CustomEvent");k.initCustomEvent("find"+b.type,!0,!0,{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,highlightAll:b.highlightAll,findPrevious:b.findPrevious});window.dispatchEvent(k)}});
b.on("attachmentsloaded",function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:b.attachmentsCount});b.source.container.dispatchEvent(k)});b.on("sidebarviewchanged",function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("sidebarviewchanged",!0,!0,{view:b.view});b.source.outerContainer.dispatchEvent(k)});b.on("pagemode",function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("pagemode",!0,!0,{mode:b.mode});
b.source.pdfViewer.container.dispatchEvent(k)});b.on("namedaction",function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("namedaction",!0,!0,{action:b.action});b.source.pdfViewer.container.dispatchEvent(k)});b.on("presentationmodechanged",function(b){var k=document.createEvent("CustomEvent");k.initCustomEvent("presentationmodechanged",!0,!0,{active:b.active,switchInProgress:b.switchInProgress});window.dispatchEvent(k)});b.on("outlineloaded",function(b){var k=document.createEvent("CustomEvent");
k.initCustomEvent("outlineloaded",!0,!0,{outlineCount:b.outlineCount});b.source.container.dispatchEvent(k)})}Object.defineProperty(b,"__esModule",{value:!0});b.getGlobalEventBus=b.attachDOMEventsToEventBus=void 0;var l=f(3),m=null;b.attachDOMEventsToEventBus=q;b.getGlobalEventBus=function(){if(m)return m;m=new l.EventBus;q(m);return m}},function(n,b,f){function q(b,e){if(!(b instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultTextLayerFactory=
b.TextLayerBuilder=void 0;var l=function(){function b(e,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(e,d.key,d)}}return function(e,a,c){a&&b(e.prototype,a);c&&b(e,c);return e}}(),m=f(5),t=f(2),u=function(){function b(e){var a=e.textLayerDiv,c=e.eventBus,d=e.pageIndex,p=e.viewport,h=e.findController;h=void 0===h?null:h;e=e.enhanceTextSelection;e=void 0===e?!1:e;q(this,b);this.textLayerDiv=a;this.eventBus=
c||(0,m.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=d;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=p;this.textDivs=[];this.findController=h;this.textLayerRenderTask=null;this.enhanceTextSelection=e;this._bindMouse()}l(b,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent";this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",
{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var e=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel();this.textDivs=[];var c=document.createDocumentFragment();this.textLayerRenderTask=(0,t.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,
timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){e.textLayerDiv.appendChild(c);e._finishRendering();e.updateMatches()},function(a){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(e){this.cancel();this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel();this.textContent=e}},{key:"convertMatches",
value:function(e,a){var c=0,d=0,b=this.textContentItemsStr,h=b.length-1,k=null===this.findController?0:this.findController.state.query.length,f=[];if(!e)return f;for(var g=0,v=e.length;g<v;g++){for(var w=e[g];c!==h&&w>=d+b[c].length;)d+=b[c].length,c++;c===b.length&&console.error("Could not find a matching mapping");var y={begin:{divIdx:c,offset:w-d}};for(w=a?w+a[g]:w+k;c!==h&&w>d+b[c].length;)d+=b[c].length,c++;y.end={divIdx:c,offset:w-d};f.push(y)}return f}},{key:"renderMatches",value:function(b){function a(a,
d){var b=a.divIdx;e[b].textContent="";c(b,0,a.offset,d)}function c(a,c,b,g){var h=e[a];a=d[a].substring(c,b);a=document.createTextNode(a);g?(c=document.createElement("span"),c.className=g,c.appendChild(a),h.appendChild(c)):h.appendChild(a)}if(0!==b.length){var d=this.textContentItemsStr,e=this.textDivs,h=null,k=this.pageIdx,f=null===this.findController?!1:k===this.findController.selected.pageIdx,g=null===this.findController?-1:this.findController.selected.matchIdx,v=g,w=v+1;if(null===this.findController?
0:this.findController.state.highlightAll)v=0,w=b.length;else if(!f)return;for(;v<w;v++){var y=b[v],x=y.begin;y=y.end;var z=f&&v===g?" selected":"";this.findController&&this.findController.updateMatchPosition(k,v,e,x.divIdx);h&&x.divIdx===h.divIdx?c(h.divIdx,h.offset,x.offset):(null!==h&&c(h.divIdx,h.offset,void 0),a(x));if(x.divIdx===y.divIdx)c(x.divIdx,x.offset,y.offset,"highlight"+z);else{c(x.divIdx,x.offset,void 0,"highlight begin"+z);h=x.divIdx+1;for(x=y.divIdx;h<x;h++)e[h].className="highlight middle"+
z;a(y,"highlight end"+z)}h=y}h&&c(h.divIdx,h.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var b=this.matches,a=this.textDivs,c=this.textContentItemsStr,d=-1,p=0,h=b.length;p<h;p++){var k=b[p];d=Math.max(d,k.begin.divIdx);for(var f=k.end.divIdx;d<=f;d++){var g=a[d];g.textContent=c[d];g.className=""}d=k.end.divIdx+1}null!==this.findController&&this.findController.active&&(a=b=void 0,null!==this.findController&&(b=this.findController.pageMatches[this.pageIdx]||null,
a=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(b,a),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var b=this,a=this.textLayerDiv,c=null;a.addEventListener("mousedown",function(d){if(b.enhanceTextSelection&&b.textLayerRenderTask)b.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var e=a.querySelector(".endOfContent");if(e){var h=d.target!==a;if(h=h&&"none"!==window.getComputedStyle(e).getPropertyValue("-moz-user-select"))h=
a.getBoundingClientRect(),e.style.top=(100*Math.max(0,(d.pageY-h.top)/h.height)).toFixed(2)+"%";e.classList.add("active")}}});a.addEventListener("mouseup",function(){if(b.enhanceTextSelection&&b.textLayerRenderTask)c=setTimeout(function(){b.textLayerRenderTask&&b.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var d=a.querySelector(".endOfContent");d&&(d.style.top="",d.classList.remove("active"))}})}}]);return b}();n=function(){function b(){q(this,b)}l(b,[{key:"createTextLayerBuilder",value:function(b,
a,c){return new u({textLayerDiv:b,pageIndex:a,viewport:c,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return b}();b.TextLayerBuilder=u;b.DefaultTextLayerFactory=n},function(n,b,f){function q(b,k){var e=document.createElement("a");if(!e.click)throw Error('DownloadManager: "a.click()" is not supported.');e.href=b;e.target="_parent";"download"in e&&(e.download=k);(document.body||document.documentElement).appendChild(e);e.click();e.remove()}Object.defineProperty(b,
"__esModule",{value:!0});b.DownloadManager=void 0;var l=function(){function b(b,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(k,e,a){e&&b(k.prototype,e);a&&b(k,a);return k}}(),m=f(2),t=m.apiCompatibilityParams.disableCreateObjectURL||!1;n=function(){function b(k){k=k.disableCreateObjectURL;k=void 0===k?t:k;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.disableCreateObjectURL=k}l(b,[{key:"downloadUrl",value:function(b,e){(0,m.createValidAbsoluteUrl)(b,"http://example.com")&&q(b+"#pdfjs.action=download",e)}},{key:"downloadData",value:function(b,e,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([b],{type:a}),e);b=(0,m.createObjectURL)(b,a,this.disableCreateObjectURL);q(b,e)}},{key:"download",value:function(b,e,a){navigator.msSaveBlob?navigator.msSaveBlob(b,a)||this.downloadUrl(e,a):this.disableCreateObjectURL?this.downloadUrl(e,
a):(b=URL.createObjectURL(b),q(b,a))}}]);return b}();b.DownloadManager=n},function(n,b,f){Object.defineProperty(b,"__esModule",{value:!0});b.GenericL10n=void 0;var q=function(){function b(b,f){for(var k=0;k<f.length;k++){var e=f[k];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(f,l,k){l&&b(f.prototype,l);k&&b(f,k);return f}}();f(9);var l=document.webL10n;n=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this._lang=f;this._ready=new Promise(function(b,k){l.setLanguage(f,function(){b(l)})})}q(b,[{key:"getLanguage",value:function(){return this._ready.then(function(b){return b.getLanguage()})}},{key:"getDirection",value:function(){return this._ready.then(function(b){return b.getDirection()})}},{key:"get",value:function(b,f,k){return this._ready.then(function(e){return e.get(b,f,k)})}},{key:"translate",value:function(b){return this._ready.then(function(f){return f.translate(b)})}}]);return b}();b.GenericL10n=
n},function(n,b,f){document.webL10n=function(b,f,m){function l(){var a=f.querySelector('script[type="application/l10n"]');return a?JSON.parse(a.innerHTML):null}function n(a){var c=f.createEvent("Event");c.initEvent("localized",!0,!1);c.language=a;f.dispatchEvent(c)}function k(a,c,b){c=c||function(a){};b=b||function(){};var d=new XMLHttpRequest;d.open("GET",a,!0);d.overrideMimeType&&d.overrideMimeType("text/plain; charset=utf-8");d.onreadystatechange=function(){4==d.readyState&&(200==d.status||0===
d.status?c(d.responseText):b())};d.onerror=b;d.ontimeout=b;try{d.send(null)}catch(H){b()}}function e(a,c,b,d){function g(a,b){function d(a,b,d){function y(){for(;;){if(!k.length){d();break}var a=k.shift();if(!A.test(a)){if(b){if(l=v.exec(a)){w=l[1].toLowerCase();z="*"!==w&&w!==c&&w!==r;continue}else if(z)continue;if(l=f.exec(a)){g(e+l[1],y);break}}var p=a.match(x);p&&3==p.length&&(a=p[1],p=p[2],p=0>p.lastIndexOf("\\")?p:p.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,
"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"),h[a]=p)}}}var k=a.replace(p,"").split(/[\r\n]+/),w="*",r=c.split("-",1)[0],z=!1,l="";y()}function g(a,c){k(a,function(a){d(a,!1,c)},function(){console.warn(a+" not found.");c()})}var h={},p=/^\s*|\s*$/,A=/^\s*#|^\s*$/,v=/^\s*\[(.*)\]\s*$/,f=/^\s*@import\s+url\((.*)\)\s*$/i,x=/^([^=\s]*)\s*=\s*(.+)$/;d(a,!0,function(){b(h)})}var e=a.replace(/[^\/]*$/,"")||"./";k(a,function(a){D+=
a;g(a,function(a){for(var c in a){var d=c.lastIndexOf(".");if(0<d){var g=c.substring(0,d);d=c.substr(d+1)}else g=c,d="textContent";r[g]||(r[g]={});r[g][d]=a[c]}b&&b()})},d)}function a(a,c){function b(a){var c=a.href;this.load=function(a,b){e(c,a,b,function(){console.warn(c+" not found.");console.warn('"'+a+'" resource not found');g="";b()})}}a&&(a=a.toLowerCase());c=c||function(){};r={};g=D="";g=a;var d=f.querySelectorAll('link[type="application/l10n"]'),h=d.length;if(0===h){if((d=l())&&d.locales&&
d.default_locale){console.log("using the embedded JSON directory, early way out");r=d.locales[a];if(!r){var p=d.default_locale.toLowerCase();for(v in d.locales){var v=v.toLowerCase();if(v===a){r=d.locales[a];break}else v===p&&(r=d.locales[p])}}c()}else console.log("no resource to load, early way out");n(a);w="complete"}else{v=null;var k=0;v=function(){k++;k>=h&&(c(),n(a),w="complete")};for(p=0;p<h;p++)(new b(d[p])).load(a,v)}}function c(a){function c(a,c){return-1!==c.indexOf(a)}function b(a,c,b){return c<=
a&&a<=b}var d={0:function(a){return"other"},1:function(a){return b(a%100,3,10)?"few":0===a?"zero":b(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return b(a,0,1)?"one":"other"},5:function(a){return b(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return b(a,
3,6)?"few":b(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&b(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return b(a%10,2,9)&&!b(a%100,11,19)?"few":1!=a%10||b(a%100,11,19)?"other":"one"},11:function(a){return b(a%10,2,4)&&!b(a%100,12,14)?"few":0===a%10||b(a%10,5,9)||b(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return b(a,2,4)?"few":1==a?"one":"other"},13:function(a){return b(a%10,2,4)&&!b(a%100,12,14)?"few":1!=a&&b(a%10,0,1)||b(a%
10,5,9)||b(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return b(a%100,3,4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||b(a%100,2,10)?"few":b(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":b(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return b(a,2,10)?"few":b(a,0,1)?"one":"other"},20:function(a){return!b(a%
10,3,4)&&9!=a%10||b(a%100,10,19)||b(a%100,70,79)||b(a%100,90,99)?0===a%1E6&&0!==a?"many":2!=a%10||c(a%100,[12,72,92])?1!=a%10||c(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return b(a,0,1)||b(a,11,99)?"one":"other"},23:function(a){return b(a%10,1,2)||0===a%20?"one":"other"},24:function(a){return b(a,3,10)||b(a,13,19)?"few":c(a,[2,12])?"two":c(a,[1,11])?"one":"other"}},g={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,
bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,
ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return g in d?d[g]:(console.warn("plural form unknown for ["+a+"]"),function(){return"other"})}function d(a,c,b){var d=r[a];
if(!d){console.warn("#"+a+" is undefined.");if(!b)return null;d=b}b={};for(var g in d){var e=d[g];var h=void 0,f=c,k=a,w=g,x=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(x&&x.length){var y=x[1];x=x[2];f&&x in f?h=f[x]:x in r&&(h=r[x]);y in v&&(e=(0,v[y])(e,h,k,w))}e=p(e,c,a);b[g]=e}return b}function p(a,c,b){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,d){if(c&&d in c)return c[d];if(d in r)return r[d];console.log("argument {{"+d+"}} for #"+b+" is undefined.");return a})}function h(a){if(a){var c=
a.getAttribute("data-l10n-id");var b=a.getAttribute("data-l10n-args");var g={};if(b)try{g=JSON.parse(b)}catch(I){console.warn("could not parse arguments for #"+c)}}else g=c=void 0;if(c)if(g=d(c,g)){if(g.textContent){if(a.children)c=a.children.length;else if("undefined"!==typeof a.childElementCount)c=a.childElementCount;else for(b=c=0;b<a.childNodes.length;b++)c+=1===a.nodeType?1:0;if(0===c)a.textContent=g.textContent;else{c=a.childNodes;b=!1;for(var e=0,h=c.length;e<h;e++)3===c[e].nodeType&&/\S/.test(c[e].nodeValue)&&
(b?c[e].nodeValue="":(c[e].nodeValue=g.textContent,b=!0));b||(c=f.createTextNode(g.textContent),a.insertBefore(c,a.firstChild))}delete g.textContent}for(var p in g)a[p]=g[p]}else console.warn("#"+c+" is undefined.")}var r={},D="",g="",v={},w="loading";v.plural=function(a,b,d,e){b=parseFloat(b);if(isNaN(b)||"textContent"!=e)return a;v._pluralRules||(v._pluralRules=c(g));var h="["+v._pluralRules(b)+"]";0===b&&d+"[zero]"in r?a=r[d+"[zero]"][e]:1==b&&d+"[one]"in r?a=r[d+"[one]"][e]:2==b&&d+"[two]"in r?
a=r[d+"[two]"][e]:d+h in r?a=r[d+h][e]:d+"[other]"in r&&(a=r[d+"[other]"][e]);return a};return{get:function(a,c,b){var g=a.lastIndexOf("."),e="textContent";0<g&&(e=a.substr(g+1),a=a.substring(0,g));if(b){var h={};h[e]=b}return(c=d(a,c,h))&&e in c?c[e]:"{{"+a+"}}"},getData:function(){return r},getText:function(){return D},getLanguage:function(){return g},setLanguage:function(c,b){a(c,function(){b&&b()})},getDirection:function(){var a=g.split("-",1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(a)?
"rtl":"ltr"},translate:function(a){for(var c=(a=a||f.documentElement)?a.querySelectorAll("*[data-l10n-id]"):[],b=c.length,d=0;d<b;d++)h(c[d]);h(a)},getReadyState:function(){return w},ready:function(a){a&&("complete"==w||"interactive"==w?b.setTimeout(function(){a()}):f.addEventListener&&f.addEventListener("localized",function z(){f.removeEventListener("localized",z);a()}))}}}(window,document)},function(n,b,f){Object.defineProperty(b,"__esModule",{value:!0});b.PDFFindController=b.FindState=void 0;var q=
function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){a&&b(e.prototype,a);c&&b(e,c);return e}}(),l=f(2),m=f(3),t={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},u={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"};n=function(){function b(e){e=e.pdfViewer;if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.pdfViewer=e;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();e=Object.keys(u).join("");this.normalizationRegex=new RegExp("["+e+"]","g")}q(b,[{key:"reset",value:function(){var b=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};
this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(a){b.resolveFirstPage=a})}},{key:"executeCommand",value:function(b,a){var c=this;if(null===this.state||"findagain"!==b)this.dirtyMatch=!0;this.state=a;this._updateUIState(t.PENDING);this._firstPagePromise.then(function(){c._extractText();clearTimeout(c.findTimeout);"find"===b?c.findTimeout=setTimeout(c._nextMatch.bind(c),
250):c._nextMatch()})}},{key:"updateMatchPosition",value:function(b,a,c,d){this.selected.matchIdx===a&&this.selected.pageIdx===b&&(0,m.scrollIntoView)(c[d],{top:-50,left:-400},!0)}},{key:"_normalize",value:function(b){return b.replace(this.normalizationRegex,function(a){return u[a]})}},{key:"_prepareMatches",value:function(b,a,c){function d(a,b){var c=a[b],d=a[b+1];if(b<a.length-1&&c.match===d.match)return c.skipped=!0;for(--b;0<=b;b--)if(d=a[b],!d.skipped){if(d.match+d.matchLength<c.match)break;
if(d.match+d.matchLength>=c.match+c.matchLength)return c.skipped=!0}return!1}b.sort(function(a,b){return a.match===b.match?a.matchLength-b.matchLength:a.match-b.match});for(var e=0,h=b.length;e<h;e++)d(b,e)||(a.push(b[e].match),c.push(b[e].matchLength))}},{key:"_calculatePhraseMatch",value:function(b,a,c){for(var d=[],e=b.length,h=-e;;){h=c.indexOf(b,h+e);if(-1===h)break;d.push(h)}this.pageMatches[a]=d}},{key:"_calculateWordMatch",value:function(b,a,c){var d=[];b=b.match(/\S+/g);for(var e=0,h=b.length;e<
h;e++)for(var f=b[e],k=f.length,g=-k;;){g=c.indexOf(f,g+k);if(-1===g)break;d.push({match:g,matchLength:k,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[a]=[];this.pageMatches[a]=[];this._prepareMatches(d,this.pageMatches[a],this.pageMatchesLength[a])}},{key:"_calculateMatch",value:function(b){var a=this._normalize(this.pageContents[b]),c=this._normalize(this.state.query),d=this.state.phraseSearch;0!==c.length&&(this.state.caseSensitive||(a=a.toLowerCase(),
c=c.toLowerCase()),d?this._calculatePhraseMatch(c,b,a):this._calculateWordMatch(c,b,a),this._updatePage(b),this.resumePageIdx===b&&(this.resumePageIdx=null,this._nextPageMatch()),0<this.pageMatches[b].length&&(this.matchCount+=this.pageMatches[b].length,this._updateUIResultsCount()))}},{key:"_extractText",value:function(){var b=this;if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents.length=0;for(var a=Promise.resolve(),c=function(c,d){var e=(0,l.createPromiseCapability)();
b.extractTextPromises[c]=e.promise;a=a.then(function(){return b.pdfViewer.getPageTextContent(c).then(function(a){a=a.items;for(var d=[],g=0,h=a.length;g<h;g++)d.push(a[g].str);b.pageContents[c]=d.join("");e.resolve(c)},function(a){console.error("Unable to get page "+(c+1)+" text content",a);b.pageContents[c]="";e.resolve(c)})})},d=0,p=this.pdfViewer.pagesCount;d<p;d++)c(d,p)}}},{key:"_updatePage",value:function(b){this.selected.pageIdx===b&&(this.pdfViewer.currentPageNumber=b+1);b=this.pdfViewer.getPageView(b);
b.textLayer&&b.textLayer.updateMatches()}},{key:"_nextMatch",value:function(){var b=this,a=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch)for(this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=c,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[],this.matchCount=0,this.pageMatchesLength=null,c=0;c<d;c++)this._updatePage(c),c in this.pendingFindMatches||
(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(a){delete b.pendingFindMatches[a];b._calculateMatch(a)}));if(""===this.state.query)this._updateUIState(t.FOUND);else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=d;if(null!==c.matchIdx){d=this.pageMatches[c.pageIdx].length;if(!a&&c.matchIdx+1<d||a&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=a?c.matchIdx-1:c.matchIdx+1;this._updateMatch(!0);return}this._advanceOffsetPage(a)}this._nextPageMatch()}}},{key:"_matchesReady",
value:function(b){var a=this.offset;b=b.length;var c=this.state.findPrevious;if(b)return this.hadMatch=!0,a.matchIdx=c?b-1:0,this._updateMatch(!0),!0;this._advanceOffsetPage(c);return a.wrapped&&(a.matchIdx=null,0>this.pagesToSearch)?(this._updateMatch(!1),!0):!1}},{key:"_nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var b=this.offset.pageIdx;var a=this.pageMatches[b];if(!a){this.resumePageIdx=b;break}}while(!this._matchesReady(a))}},
{key:"_advanceOffsetPage",value:function(b){var a=this.offset,c=this.extractTextPromises.length;a.pageIdx=b?a.pageIdx-1:a.pageIdx+1;a.matchIdx=null;this.pagesToSearch--;if(a.pageIdx>=c||0>a.pageIdx)a.pageIdx=b?c-1:0,a.wrapped=!0}},{key:"_updateMatch",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a=t.NOT_FOUND,c=this.offset.wrapped;this.offset.wrapped=!1;b&&(b=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,
a=c?t.WRAPPED:t.FOUND,-1!==b&&b!==this.selected.pageIdx&&this._updatePage(b));this._updateUIState(a,this.state.findPrevious);-1!==this.selected.pageIdx&&this._updatePage(this.selected.pageIdx)}},{key:"_updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},{key:"_updateUIState",value:function(b,a){if(this.onUpdateState)this.onUpdateState(b,a,this.matchCount)}}]);return b}();b.FindState=t;b.PDFFindController=n},function(n,b,f){function q(a){var b=
unescape(document.location.hash).substring(1),d=(0,k.parseQueryString)(b).page|0;Number.isInteger(d)&&0<d&&d<=a.pagesCount||(d=null);return{hash:b,page:d,rotation:a.rotation}}function l(a,b){return"string"!==typeof a||"string"!==typeof b?!1:a===b||(0,k.parseQueryString)(a).nameddest===b?!0:!1}function m(a,b){function c(a,b){if(("undefined"===typeof a?"undefined":t(a))!==("undefined"===typeof b?"undefined":t(b))||a instanceof Array||b instanceof Array)return!1;if(null!==a&&"object"===("undefined"===
typeof a?"undefined":t(a))&&null!==b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(var d in a)if(!c(a[d],b[d]))return!1;return!0}return a===b||Number.isNaN(a)&&Number.isNaN(b)}if(!(a instanceof Array&&b instanceof Array)||a.length!==b.length)return!1;for(var e=0,h=a.length;e<h;e++)if(!c(a[e],b[e]))return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0});b.isDestArraysEqual=b.isDestHashesEqual=b.PDFHistory=void 0;var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},u=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,d,e){d&&a(b.prototype,d);e&&a(b,e);return b}}(),k=f(3),e=f(5);n=function(){function a(b){var c=this,p=b.linkService;b=b.eventBus;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.linkService=p;this.eventBus=b||(0,e.getGlobalEventBus)();this.initialized=!1;this.initialRotation=this.initialBookmark=null;this._boundEvents=Object.create(null);this._isPagesLoaded=this._isViewerInPresentationMode=!1;this.eventBus.on("presentationmodechanged",function(a){c._isViewerInPresentationMode=a.active||a.switchInProgress});this.eventBus.on("pagesloaded",function(a){c._isPagesLoaded=!!a.pagesCount})}u(a,[{key:"initialize",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:!1;if(a&&"string"===typeof a){var c=this.initialized&&this.fingerprint!==a;this.fingerprint=a;this.initialized||this._bindEvents();var e=window.history.state;this.initialized=!0;this.initialRotation=this.initialBookmark=null;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=document.location.hash;this._uid=this._maxUid=this._numPositionUpdates=0;this._position=this._destination=null;if(!this._isValidState(e)||b){var f=q(this.linkService);e=f.hash;var k=f.page;f=f.rotation;
!e||c||b?this._pushOrReplaceState(null,!0):this._pushOrReplaceState({hash:e,page:k,rotation:f},!0)}else b=e.destination,this._updateInternalState(b,e.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==b.rotation&&(this.initialRotation=b.rotation),b.dest?(this.initialBookmark=JSON.stringify(b.dest),this._destination.page=null):b.hash?this.initialBookmark=b.hash:b.page&&(this.initialBookmark="page="+b.page)}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},
{key:"push",value:function(a){var b=this,c=a.namedDest,e=a.explicitDest;a=a.pageNumber;if(this.initialized)if((!c||"string"===typeof c)&&e instanceof Array&&Number.isInteger(a)&&0<a&&a<=this.linkService.pagesCount){if(c=c||JSON.stringify(e)){var f=!1;if(this._destination&&(l(this._destination.hash,c)||m(this._destination.dest,e))){if(this._destination.page)return;f=!0}if(!this._popStateInProgress||f)this._pushOrReplaceState({dest:e,hash:c,page:a,rotation:this.linkService.rotation},f),this._popStateInProgress||
(this._popStateInProgress=!0,Promise.resolve().then(function(){b._popStateInProgress=!1}))}}else console.error("PDFHistory.push: Invalid parameters.")}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&0<a.uid&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var a=
window.history.state;this._isValidState(a)&&a.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)||!this._destination,c={fingerprint:this.fingerprint,uid:b?this._uid:this._uid+1,destination:a};this._updateInternalState(a,c.uid);b?window.history.replaceState(c,""):(this._maxUid=this._uid,window.history.pushState(c,""))}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var a=this._position;
0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(a=(0,k.cloneObj)(this._position),a.temporary=!0);if(!this._destination)this._pushOrReplaceState(a);else if(this._destination.temporary)this._pushOrReplaceState(a,!0);else if(!(this._destination.hash===a.hash||!this._destination.page&&50>=this._numPositionUpdates)){var b=!1;if(this._destination.page===a.first||this._destination.page===a.page){if(this._destination.dest||!this._destination.first)return;b=!0}this._pushOrReplaceState(a,b)}}}},{key:"_isValidState",
value:function(a){return!a||a.fingerprint!==this.fingerprint||!Number.isInteger(a.uid)||0>a.uid||null===a.destination||"object"!==t(a.destination)?!1:!0}},{key:"_updateInternalState",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);c&&a&&a.temporary&&delete a.temporary;this._destination=a;this._uid=b;this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(a){var b=
this;a=a.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);this._position={hash:this._isViewerInPresentationMode?"page="+a.pageNumber:a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation};this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){b._popStateInProgress||b._tryPushCurrentPosition(!0);
b._updateViewareaTimeout=null},1E3))}},{key:"_popState",value:function(a){var b=this;a=a.state;var c=document.location.hash,e=this._currentHash!==c;this._currentHash=c;a?this._isValidState(a)&&(this._popStateInProgress=!0,e&&(this._blockHashChange++,(0,k.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1E3}).then(function(){b._blockHashChange--})),c=a.destination,this._updateInternalState(c,a.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,k.isValidRotation)(c.rotation)&&(this.linkService.rotation=
c.rotation),c.dest?this.linkService.navigateTo(c.dest):c.hash?this.linkService.setHash(c.hash):c.page&&(this.linkService.page=c.page),Promise.resolve().then(function(){b._popStateInProgress=!1})):(this._uid++,a=q(this.linkService),this._pushOrReplaceState({hash:a.hash,page:a.page,rotation:a.rotation},!0))}},{key:"_bindEvents",value:function(){var a=this,b=this._boundEvents,e=this.eventBus;b.updateViewarea=this._updateViewarea.bind(this);b.popState=this._popState.bind(this);b.pageHide=function(b){a._destination&&
!a._destination.temporary||a._tryPushCurrentPosition()};e.on("updateviewarea",b.updateViewarea);window.addEventListener("popstate",b.popState);window.addEventListener("pagehide",b.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}]);return a}();b.PDFHistory=n;b.isDestHashesEqual=l;b.isDestArraysEqual=m},function(n,b,f){Object.defineProperty(b,"__esModule",{value:!0});b.PDFPageView=void 0;var q=function(){function b(a,
b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),l=f(3),m=f(2),t=f(5),u=f(13),k=f(14).viewerCompatibilityParams.maxCanvasPixels||16777216;n=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=a.container,d=a.defaultViewport;this.id=a.id;this.renderingId="page"+this.id;this.pageLabel=
this.pdfPage=null;this.rotation=0;this.scale=a.scale||l.DEFAULT_SCALE;this.viewport=d;this.pdfPageRotate=d.rotation;this.hasRestrictedScaling=!1;this.textLayerMode=Number.isInteger(a.textLayerMode)?a.textLayerMode:l.TextLayerMode.ENABLE;this.imageResourcesPath=a.imageResourcesPath||"";this.renderInteractiveForms=a.renderInteractiveForms||!1;this.useOnlyCssZoom=a.useOnlyCssZoom||!1;this.maxCanvasPixels=a.maxCanvasPixels||k;this.eventBus=a.eventBus||(0,t.getGlobalEventBus)();this.renderingQueue=a.renderingQueue;
this.textLayerFactory=a.textLayerFactory;this.annotationLayerFactory=a.annotationLayerFactory;this.renderer=a.renderer||l.RendererType.CANVAS;this.enableWebGL=a.enableWebGL||!1;this.l10n=a.l10n||l.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=u.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+
"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;c.appendChild(a)}q(b,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*l.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:!1;if(this.zoomLayer){var b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b);b.width=0;b.height=0;a&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering(b);var d=this.div;d.style.width=Math.floor(this.viewport.width)+"px";d.style.height=Math.floor(this.viewport.height)+"px";var e=d.childNodes;a=a&&this.zoomLayer||
null;b=b&&this.annotationLayer&&this.annotationLayer.div||null;for(var h=e.length-1;0<=h;h--){var f=e[h];a!==f&&b!==f&&d.removeChild(f)}d.removeAttribute("data-loaded");b?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null);a||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=
document.createElement("div");this.loadingIconDiv.className="loadingIcon";d.appendChild(this.loadingIconDiv)}},{key:"update",value:function(a,b){this.scale=a||this.scale;"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:this.scale*l.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{a=!1;this.canvas&&0<this.maxCanvasPixels&&
(b=this.outputScale,(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(a=!0));if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&a){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);
this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=u.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null);!a&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=
this.viewport.width,e=this.viewport.height,h=this.div;a.style.width=a.parentNode.style.width=h.style.width=Math.floor(d)+"px";a.style.height=a.parentNode.style.height=h.style.height=Math.floor(e)+"px";h=this.viewport.rotation-this.paintedViewportMap.get(a).rotation;var f=Math.abs(h),k=1,g=1;if(90===f||270===f)k=e/d,g=d/e;a.style.transform="rotate("+h+"deg) scale("+k+","+g+")";if(this.textLayer){f=this.textLayer.viewport;e=Math.abs(this.viewport.rotation-f.rotation);h=d/f.width;if(90===e||270===e)h=
d/f.height;d=this.textLayer.textLayerDiv;k=f=void 0;switch(e){case 0:f=k=0;break;case 90:f=0;k="-"+d.style.height;break;case 180:f="-"+d.style.width;k="-"+d.style.height;break;case 270:f="-"+d.style.width;k=0;break;default:console.error("Bad rotation value.")}d.style.transform="rotate("+e+"deg) scale("+h+", "+h+") translate("+f+", "+k+")";d.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(a,b){return this.viewport.convertToPdfPoint(a,
b)}},{key:"draw",value:function(){var a=this;this.renderingState!==u.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=u.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=u.RenderingStates.RUNNING;var b=this.pdfPage,d=this.div,e=document.createElement("div");e.style.width=d.style.width;e.style.height=d.style.height;e.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?
d.insertBefore(e,this.annotationLayer.div):d.appendChild(e);var h=null;if(this.textLayerMode!==l.TextLayerMode.DISABLE&&this.textLayerFactory){var f=document.createElement("div");f.className="textLayer";f.style.width=e.style.width;f.style.height=e.style.height;this.annotationLayer&&this.annotationLayer.div?d.insertBefore(f,this.annotationLayer.div):d.appendChild(f);h=this.textLayerFactory.createTextLayerBuilder(f,this.id-1,this.viewport,this.textLayerMode===l.TextLayerMode.ENABLE_ENHANCE)}this.textLayer=
h;f=null;this.renderingQueue&&(f=function(b){a.renderingQueue.isHighestPriority(a)?b():(a.renderingState=u.RenderingStates.PAUSED,a.resume=function(){a.renderingState=u.RenderingStates.RUNNING;b()})});var k=function(c){g===a.paintTask&&(a.paintTask=null);if(c instanceof m.RenderingCancelledException)return a.error=null,Promise.resolve(void 0);a.renderingState=u.RenderingStates.FINISHED;a.loadingIconDiv&&(d.removeChild(a.loadingIconDiv),delete a.loadingIconDiv);a._resetZoomLayer(!0);a.error=c;a.stats=
b.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:!1});return c?Promise.reject(c):Promise.resolve(void 0)},g=this.renderer===l.RendererType.SVG?this.paintOnSvg(e):this.paintOnCanvas(e);g.onRenderContinue=f;this.paintTask=g;e=g.promise.then(function(){return k(null).then(function(){if(h){var a=b.streamTextContent({normalizeWhitespace:!0});h.setTextContentStream(a);h.render()}})},function(a){return k(a)});this.annotationLayerFactory&&
(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(d,b,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display"));d.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return e}},{key:"paintOnCanvas",value:function(a){var b=(0,m.createPromiseCapability)(),d={promise:b.promise,onRenderContinue:function(a){a()},cancel:function(){y.cancel()}},e=this.viewport,h=document.createElement("canvas");
h.id=this.renderingId;h.setAttribute("hidden","hidden");var f=!0,k=function(){f&&(h.removeAttribute("hidden"),f=!1)};a.appendChild(h);this.canvas=h;h.mozOpaque=!0;a=h.getContext("2d",{alpha:!1});var g=(0,l.getOutputScale)(a);this.outputScale=g;if(this.useOnlyCssZoom){var v=e.clone({scale:l.CSS_UNITS});g.sx*=v.width/e.width;g.sy*=v.height/e.height;g.scaled=!0}0<this.maxCanvasPixels&&(v=Math.sqrt(this.maxCanvasPixels/(e.width*e.height)),g.sx>v||g.sy>v?(g.sx=v,g.sy=v,this.hasRestrictedScaling=g.scaled=
!0):this.hasRestrictedScaling=!1);v=(0,l.approximateFraction)(g.sx);var w=(0,l.approximateFraction)(g.sy);h.width=(0,l.roundToDivide)(e.width*g.sx,v[0]);h.height=(0,l.roundToDivide)(e.height*g.sy,w[0]);h.style.width=(0,l.roundToDivide)(e.width,v[1])+"px";h.style.height=(0,l.roundToDivide)(e.height,w[1])+"px";this.paintedViewportMap.set(h,e);var y=this.pdfPage.render({canvasContext:a,transform:g.scaled?[g.sx,0,0,g.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});
y.onContinue=function(a){k();if(d.onRenderContinue)d.onRenderContinue(a);else a()};y.promise.then(function(){k();b.resolve(void 0)},function(a){k();b.reject(a)});return d}},{key:"paintOnSvg",value:function(a){var b=this,d=!1,e=function(){if(d)throw new m.RenderingCancelledException("Rendering cancelled, page "+b.id,"svg");},h=this.pdfPage,f=this.viewport.clone({scale:l.CSS_UNITS});return{promise:h.getOperatorList().then(function(c){e();return(new m.SVGGraphics(h.commonObjs,h.objs)).getSVG(c,f).then(function(c){e();
b.svg=c;b.paintedViewportMap.set(c,f);c.style.width=a.style.width;c.style.height=a.style.height;b.renderingState=u.RenderingStates.FINISHED;a.appendChild(c)})}),onRenderContinue:function(a){a()},cancel:function(){d=!0}}}},{key:"setPageLabel",value:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);
return b}();b.PDFPageView=n},function(n,b,f){Object.defineProperty(b,"__esModule",{value:!0});var q=function(){function b(b,f){for(var k=0;k<f.length;k++){var e=f[k];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(f,l,k){l&&b(f.prototype,l);k&&b(f,k);return f}}(),l={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};n=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.idleTimeout=
this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}q(b,[{key:"setViewer",value:function(b){this.pdfViewer=b}},{key:"setThumbnailViewer",value:function(b){this.pdfThumbnailViewer=b}},{key:"isHighestPriority",value:function(b){return this.highestPriorityPage===b.renderingId}},{key:"renderHighestPriority",value:function(b){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);this.pdfViewer.forceRendering(b)||
this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))}},{key:"getHighestPriority",value:function(b,f,k){var e=b.views,a=e.length;if(0===a)return!1;for(var c=0;c<a;++c){var d=e[c].view;if(!this.isViewFinished(d))return d}if(k){if(b=b.last.id,f[b]&&!this.isViewFinished(f[b]))return f[b]}else if(b=b.first.id-2,f[b]&&!this.isViewFinished(f[b]))return f[b];return null}},{key:"isViewFinished",
value:function(b){return b.renderingState===l.FINISHED}},{key:"renderView",value:function(b){var f=this;switch(b.renderingState){case l.FINISHED:return!1;case l.PAUSED:this.highestPriorityPage=b.renderingId;b.resume();break;case l.RUNNING:this.highestPriorityPage=b.renderingId;break;case l.INITIAL:this.highestPriorityPage=b.renderingId;var k=function(){f.renderHighestPriority()};b.draw().then(k,k)}return!0}}]);return b}();b.RenderingStates=l;b.PDFRenderingQueue=n},function(n,b,f){n=Object.create(null);
var q="undefined"!==typeof navigator&&navigator.userAgent||"";f=/Android/.test(q);var l=/Trident/.test(q);q=/\b(iPad|iPhone|iPod)(?=;)/.test(q);l&&window.parent!==window&&(n.disableFullscreen=!0);if(q||f)n.maxCanvasPixels=5242880;b.viewerCompatibilityParams=Object.freeze(n)},function(n,b,f){function q(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?b:a}function l(b,a){if("function"!==typeof a&&null!==
a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}Object.defineProperty(b,"__esModule",{value:!0});b.PDFSinglePageViewer=void 0;var m=function(){function b(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),t=function p(a,b,d){null===a&&(a=Function.prototype);var c=Object.getOwnPropertyDescriptor(a,b);if(void 0===c){if(a=Object.getPrototypeOf(a),null!==a)return p(a,b,d)}else{if("value"in c)return c.value;b=c.get;return void 0===b?void 0:b.call(d)}};n=f(16);var u=f(3),k=f(2);f=function(a){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=q(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,
a));c.eventBus.on("pagesinit",function(a){c._ensurePageViewVisible()});return c}l(b,a);m(b,[{key:"_resetView",value:function(){t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_resetView",this).call(this);this._previousPageNumber=1;this._shadowViewer=document.createDocumentFragment()}},{key:"_ensurePageViewVisible",value:function(){var a=this._pages[this._currentPageNumber-1],b=this._pages[this._previousPageNumber-1],c=this.viewer.childNodes;switch(c.length){case 0:this.viewer.appendChild(a.div);
break;case 1:if(c[0]!==b.div)throw Error("_ensurePageViewVisible: Unexpected previously visible page.");if(a===b)break;this._shadowViewer.appendChild(b.div);this.viewer.appendChild(a.div);this.container.scrollTop=0;break;default:throw Error("_ensurePageViewVisible: Only one page should be visible at a time.");}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown();t(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),
"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(a){var b=this,c=a.pageDiv,d=a.pageSpot;d=void 0===d?null:d;a=a.pageNumber;(a=void 0===a?null:a)&&this._setCurrentPageNumber(a);var f=this._currentPageNumber>=this._previousPageNumber,g=this._location;this._ensurePageViewVisible();(0,u.scrollIntoView)(c,d);this._updateScrollDown=function(){b.scroll.down=f;delete b._updateScrollDown};setTimeout(function(){b._location===g&&(b._updateScrollDown&&b._updateScrollDown(),b.update())},
0)}},{key:"_getVisiblePages",value:function(){if(!this.pagesCount)return{views:[]};var a=this._pages[this._currentPageNumber-1],b=a.div;a={id:a.id,x:b.offsetLeft+b.clientLeft,y:b.offsetTop+b.clientTop,view:a};return{first:a,last:a,views:[a]}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views.length;0!==b&&(this._resizeBuffer(b),this.renderingQueue.renderHighestPriority(a),this._updateLocation(a.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location}))}},
{key:"_setDocumentViewerElement",get:function(){return(0,k.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}}]);return b}(n.BaseViewer);b.PDFSinglePageViewer=f},function(n,b,f){function q(a){var b=[];this.push=function(c){var d=b.indexOf(c);0<=d&&b.splice(d,1);b.push(c);b.length>a&&b.shift().destroy()};this.resize=function(c,d){a=c;if(d){var e=new Set;c=0;for(var g=d.length;c<g;++c)e.add(d[c].id);(0,m.moveToEndOfArray)(b,function(a){return e.has(a.id)})}for(;b.length>a;)b.shift().destroy()}}
Object.defineProperty(b,"__esModule",{value:!0});b.SpreadMode=b.ScrollMode=b.BaseViewer=void 0;var l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),m=f(3),t=f(13),u=f(1),k=f(2),e=f(5),a=f(12),c=f(4),d=f(6),p=/iphone|ipad|ipod|android|blackberry|bb10|mini|windowssce|palm/i.test(navigator.userAgent)?5:10,h=
{VERTICAL:0,HORIZONTAL:1,WRAPPED:2},r={NONE:0,ODD:1,EVEN:2};n=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this.constructor===b)throw Error("Cannot initialize BaseViewer.");this._name=this.constructor.name;this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||(0,e.getGlobalEventBus)();this.linkService=a.linkService||new c.SimpleLinkService;this.downloadManager=a.downloadManager||null;
this.removePageBorders=a.removePageBorders||!1;this.textLayerMode=Number.isInteger(a.textLayerMode)?a.textLayerMode:m.TextLayerMode.ENABLE;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.imageResourcesPath=a.imageResourcesPath||"";this.renderInteractiveForms=a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=a.renderer||m.RendererType.CANVAS;this.enableWebGL=a.enableWebGL||!1;this.useOnlyCssZoom=a.useOnlyCssZoom||!1;this.maxCanvasPixels=a.maxCanvasPixels;
this.l10n=a.l10n||m.NullL10n;this.scrollMode=a.scrollMode||h.VERTICAL;this.spreadMode=a.spreadMode||r.NONE;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new t.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=(0,m.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=m.PresentationModeState.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders");this._updateScrollModeClasses()}
l(b,[{key:"getPageView",value:function(a){return this._pages[a]}},{key:"_setCurrentPageNumber",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error(this._name+
'._setCurrentPageNumber: "'+a+'" is out of bounds.')}},{key:"setDocument",value:function(b){var c=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=b){var d=b.numPages,e=(0,k.createPromiseCapability)();this.pagesPromise=e.promise;e.promise.then(function(){c._pageViewsReady=!0;c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:d})});var g=!1,f=(0,k.createPromiseCapability)();this.onePageRendered=f.promise;var h=function(a){a.onBeforeDraw=function(){c._buffer.push(a)};
a.onAfterDraw=function(){g||(g=!0,f.resolve())}},l=b.getPage(1);this.firstPagePromise=l;l.then(function(g){var k=c.currentScale;g=g.getViewport(k*m.CSS_UNITS);for(var w=1;w<=d;++w){var l=null;c.textLayerMode!==m.TextLayerMode.DISABLE&&(l=c);l=new a.PDFPageView({container:c._setDocumentViewerElement,eventBus:c.eventBus,id:w,scale:k,defaultViewport:g.clone(),renderingQueue:c.renderingQueue,textLayerFactory:l,textLayerMode:c.textLayerMode,annotationLayerFactory:c,imageResourcesPath:c.imageResourcesPath,
renderInteractiveForms:c.renderInteractiveForms,renderer:c.renderer,enableWebGL:c.enableWebGL,useOnlyCssZoom:c.useOnlyCssZoom,maxCanvasPixels:c.maxCanvasPixels,l10n:c.l10n});h(l);c._pages.push(l)}c.spreadMode!==r.NONE&&c._regroupSpreads();f.promise.then(function(){if(b.loadingParams.disableAutoFetch)e.resolve();else for(var a=d,g=function(d){b.getPage(d).then(function(b){var g=c._pages[d-1];g.pdfPage||g.setPdfPage(b);c.linkService.cachePageRef(d,b.ref);0===--a&&e.resolve()},function(b){console.error("Unable to get page "+
d+" to initialize viewer",b);0===--a&&e.resolve()})},f=1;f<=d;++f)g(f)});c.eventBus.dispatch("pagesinit",{source:c});c.defaultRenderingQueue&&c.update();c.findController&&c.findController.resolveFirstPage()}).catch(function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",value:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):
this._pageLabels=null;a=0;for(var b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=m.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new q(p);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},
{key:"_scrollIntoView",value:function(a){throw Error("Not implemented: _scrollIntoView");}},{key:"_setScaleDispatchEvent",value:function(a,b){var c={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?b:void 0};this.eventBus.dispatch("scalechanging",c);this.eventBus.dispatch("scalechange",c)}},{key:"_setScaleUpdatePages",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;
this._currentScaleValue=b.toString();var e=this._currentScale;e=a===e?!0:1E-15>Math.abs(a-e)?!0:!1;if(e)d&&this._setScaleDispatchEvent(a,b,!0);else{e=0;for(var g=this._pages.length;e<g;e++)this._pages[e].update(a);this._currentScale=a;c||(c=this._currentPageNumber,e=void 0,!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:e,allowNegativeOffset:!0}));
this._setScaleDispatchEvent(a,b,d);this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=this.isInPresentationMode||this.removePageBorders?0:m.SCROLLBAR_PADDING,e=this.isInPresentationMode||this.removePageBorders?0:m.VERTICAL_PADDING;if(this.scrollMode===h.HORIZONTAL){var g=d;d=e;e=g}d=(this.container.clientWidth-
d)/c.width*c.scale;e=(this.container.clientHeight-e)/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=(0,m.isPortraitOrientation)(c)?d:Math.min(e,d);c=Math.min(m.MAX_AUTO_SCALE,c);break;default:console.error(this._name+'._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&
this._setScale(this._currentScaleValue,!0);this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(a){if(this.pdfDocument){var b=a.pageNumber||0,c=a.destArray||null;a=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!c)this._setCurrentPageNumber(b,!0);else{var d=this._pages[b-1];if(d){var e=0,g=0,f=0,h=0;var k=0===d.rotation%180?!1:!0;var l=(k?d.height:d.width)/d.scale/m.CSS_UNITS;k=(k?d.width:d.height)/d.scale/m.CSS_UNITS;switch(c[1].name){case "XYZ":e=
c[2];g=c[3];l=c[4];e=null!==e?e:0;g=null!==g?g:k;break;case "Fit":case "FitB":l="page-fit";break;case "FitH":case "FitBH":g=c[2];l="page-width";null===g&&this._location&&(e=this._location.left,g=this._location.top);break;case "FitV":case "FitBV":e=c[2];f=l;h=k;l="page-height";break;case "FitR":e=c[2];g=c[3];f=c[4]-e;h=c[5]-g;k=this.removePageBorders?0:m.VERTICAL_PADDING;l=(this.container.clientWidth-(this.removePageBorders?0:m.SCROLLBAR_PADDING))/f/m.CSS_UNITS;k=(this.container.clientHeight-k)/h/
m.CSS_UNITS;l=Math.min(Math.abs(l),Math.abs(k));break;default:console.error(this._name+'.scrollPageIntoView: "'+c[1].name+'" is not a valid destination type.');return}l&&l!==this._currentScale?this.currentScaleValue=l:this._currentScale===m.UNKNOWN_SCALE&&(this.currentScaleValue=m.DEFAULT_SCALE_VALUE);"page-fit"!==l||c[4]?(e=[d.viewport.convertToViewportPoint(e,g),d.viewport.convertToViewportPoint(e+f,g+h)],c=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),a||(c=Math.max(c,0),e=Math.max(e,0)),
this._scrollIntoView({pageDiv:d.div,pageSpot:{left:c,top:e},pageNumber:b})):this._scrollIntoView({pageDiv:d.div,pageNumber:b})}else console.error(this._name+'.scrollPageIntoView: Invalid "pageNumber" parameter.')}}}},{key:"_resizeBuffer",value:function(a,b){this._buffer.resize(Math.max(p,2*a+1),b)}},{key:"_updateLocation",value:function(a){var b=this._currentScale,c=this._currentScaleValue;b=parseFloat(c)===b?Math.round(1E4*b)/100:c;c=a.id;var d="#page="+c+("&zoom="+b);var e=this.container;e=this._pages[c-
1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y);a=Math.round(e[0]);e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,rotation:this._pagesRotation,pdfOpenParams:d+(","+a+","+e)}}},{key:"update",value:function(){throw Error("Not implemented: update");}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){throw Error("Not implemented: _getVisiblePages");}},{key:"cleanup",
value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==t.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];var d=this.pdfDocument.getPage(c).then(function(d){a.pdfPage||
a.setPdfPage(d);b._pagesRequests[c]=null;return d}).catch(function(a){console.error("Unable to get page for page view",a);b._pagesRequests[c]=null});return this._pagesRequests[c]=d}},{key:"forceRendering",value:function(a){var b=this;a=a||this._getVisiblePages();var c=this.renderingQueue.getHighestPriority(a,this._pages,this.scrollMode===h.HORIZONTAL?this.scroll.right:this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),!0):!1}},{key:"getPageTextContent",
value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(a,b,c){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new d.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:e})}},{key:"createAnnotationLayerBuilder",value:function(a,
b){return new u.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,imageResourcesPath:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:4<arguments.length&&void 0!==arguments[4]?arguments[4]:m.NullL10n})}},{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=
a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=(0,m.isPortraitOrientation)(a[0]);return a.map(function(a){return b===(0,m.isPortraitOrientation)(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"setScrollMode",value:function(a){a!==this.scrollMode&&(this.scrollMode=a,this._updateScrollModeClasses(),this.eventBus.dispatch("scrollmodechanged",{mode:a}),a=this._currentPageNumber,isNaN(this._currentScaleValue)&&
this._setScale(this._currentScaleValue,this.isInPresentationMode),this.scrollPageIntoView({pageNumber:a}),this.update())}},{key:"_updateScrollModeClasses",value:function(){var a=this.scrollMode,b=this.viewer.classList;b.toggle("scrollHorizontal",a===h.HORIZONTAL);b.toggle("scrollWrapped",a===h.WRAPPED)}},{key:"setSpreadMode",value:function(a){a!==this.spreadMode&&(this.spreadMode=a,this.eventBus.dispatch("spreadmodechanged",{mode:a}),this._regroupSpreads())}},{key:"_regroupSpreads",value:function(){}},
{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if(!Number.isInteger(a))throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var b=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),
0<=a&&(b=a+1));this.currentPageNumber=b}},{key:"currentScale",get:function(){return this._currentScale!==m.UNKNOWN_SCALE?this._currentScale:m.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!(0,m.isValidRotation)(a))throw Error("Invalid pages rotation angle.");
if(this.pdfDocument&&this._pagesRotation!==a){this._pagesRotation=a;for(var b=this._currentPageNumber,c=0,d=this._pages.length;c<d;c++){var e=this._pages[c];e.update(e.scale,a)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:a,pageNumber:b});this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw Error("Not implemented: _setDocumentViewerElement");}},{key:"isInPresentationMode",
get:function(){return this.presentationModeState===m.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===m.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",
get:function(){for(var a=this._pages[0],b=1,c=this._pages.length;b<c;++b){var d=this._pages[b];if(d.width!==a.width||d.height!==a.height)return!1}return!0}}]);return b}();b.BaseViewer=n;b.ScrollMode=h;b.SpreadMode=r},function(n,b,f){function q(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?
Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(b,"__esModule",{value:!0});b.PDFViewer=void 0;var l=function(){function b(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,a,c){a&&b(e.prototype,a);c&&b(e,c);return e}}(),m=f(16),t=f(3),u=f(2);n=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=(e.__proto__||
Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}q(e,b);l(e,[{key:"_scrollIntoView",value:function(a){var b=a.pageDiv;a=a.pageSpot;a=void 0===a?null:a;if(!a){var d=b.offsetLeft+b.clientLeft,e=d+b.clientWidth,f=this.container,k=f.scrollLeft;f=f.clientWidth;if(this.scrollMode===m.ScrollMode.HORIZONTAL||d<k||e>k+f)a={left:0,top:0}}(0,t.scrollIntoView)(b,
a)}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,t.getVisibleElements)(this.container,this._pages,!0,this.scrollMode===m.ScrollMode.HORIZONTAL);var a=this._pages[this._currentPageNumber-1];return{first:a,last:a,views:[{id:a.id,view:a}]}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views,d=b.length;if(0!==d){this._resizeBuffer(d,b);this.renderingQueue.renderHighestPriority(a);for(var e=this._currentPageNumber,f=!1,k=0;k<d;++k){var l=b[k];if(100>
l.percent)break;if(l.id===e){f=!0;break}}f||(e=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(e);this._updateLocation(a.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"_regroupSpreads",value:function(){for(var a=this._setDocumentViewerElement,b=this._pages;a.firstChild;)a.firstChild.remove();if(this.spreadMode===m.SpreadMode.NONE)for(var d=0,e=b.length;d<e;++d)a.appendChild(b[d].div);else{d=this.spreadMode-1;e=null;for(var f=0,k=b.length;f<
k;++f)null===e?(e=document.createElement("div"),e.className="spread",a.appendChild(e)):f%2===d&&(e=e.cloneNode(!1),a.appendChild(e)),e.appendChild(b[f].div)}this.scrollPageIntoView({pageNumber:this._currentPageNumber});this.update()}},{key:"_setDocumentViewerElement",get:function(){return(0,u.shadow)(this,"_setDocumentViewerElement",this.viewer)}}]);return e}(m.BaseViewer);b.PDFViewer=n}])});
