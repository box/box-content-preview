(function(p,a){"object"===typeof exports&&"object"===typeof module?module.exports=a():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],a):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=a():p["pdfjs-dist/web/pdf_viewer"]=p.pdfjsDistWebPdfViewer=a()})(this,function(){return function(p){function a(k){if(e[k])return e[k].exports;var h=e[k]={i:k,l:!1,exports:{}};p[k].call(h.exports,h,h.exports,a);h.l=!0;return h.exports}var e={};a.m=p;a.c=e;a.i=function(a){return a};
a.d=function(k,h,f){a.o(k,h)||Object.defineProperty(k,h,{configurable:!1,enumerable:!0,get:f})};a.n=function(k){var h=k&&k.__esModule?function(){return k["default"]}:function(){return k};a.d(h,"a",h);return h};a.o=function(a,h){return Object.prototype.hasOwnProperty.call(a,h)};a.p="";return a(a.s=12)}([function(p,a,e){var k;if("undefined"===typeof __pdfjsdev_webpack__)if("undefined"!==typeof window&&window["pdfjs-dist/build/pdf"])k=window["pdfjs-dist/build/pdf"];else if("function"===typeof require)k=
require("../build/pdf.js");else throw Error("Neither `require` nor `window` found");p.exports=k},function(p,a,e){function k(b,d){var n=0,g=b.length-1;if(0===b.length||!d(b[g]))return b.length;if(d(b[n]))return n;for(;n<g;){var c=n+g>>1;d(b[c])?g=c:n=c+1}return n}Object.defineProperty(a,"__esModule",{value:!0});a.localized=a.animationStarted=a.normalizeWheelEventDelta=a.binarySearchFirstItem=a.watchScroll=a.scrollIntoView=a.getOutputScale=a.approximateFraction=a.roundToDivide=a.getVisibleElements=
a.parseQueryString=a.noContextMenuHandler=a.getPDFFileNameFromURL=a.ProgressBar=a.EventBus=a.mozL10n=a.RendererType=a.VERTICAL_PADDING=a.SCROLLBAR_PADDING=a.MAX_AUTO_SCALE=a.UNKNOWN_SCALE=a.MAX_SCALE=a.MIN_SCALE=a.DEFAULT_SCALE=a.DEFAULT_SCALE_VALUE=a.CSS_UNITS=void 0;e=e(0);p=96/72;var h="undefined"!==typeof document?document.mozL10n||document.webL10n:void 0;e.PDFJS.disableFullscreen=void 0===e.PDFJS.disableFullscreen?!1:e.PDFJS.disableFullscreen;e.PDFJS.useOnlyCssZoom=void 0===e.PDFJS.useOnlyCssZoom?
!1:e.PDFJS.useOnlyCssZoom;e.PDFJS.maxCanvasPixels=void 0===e.PDFJS.maxCanvasPixels?16777216:e.PDFJS.maxCanvasPixels;e.PDFJS.disableHistory=void 0===e.PDFJS.disableHistory?!1:e.PDFJS.disableHistory;e.PDFJS.disableTextLayer=void 0===e.PDFJS.disableTextLayer?!1:e.PDFJS.disableTextLayer;e.PDFJS.ignoreCurrentPositionOnZoom=void 0===e.PDFJS.ignoreCurrentPositionOnZoom?!1:e.PDFJS.ignoreCurrentPositionOnZoom;e.PDFJS.locale=void 0===e.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:e.PDFJS.locale;
e=new Promise(function(b){window.requestAnimationFrame(b)});var f=new Promise(function(b,d){h?"loading"!==h.getReadyState()?b():window.addEventListener("localized",function(d){b()}):b()}),l=function(){function b(){this._listeners=Object.create(null)}b.prototype={on:function(b,n){var d=this._listeners[b];d||(d=[],this._listeners[b]=d);d.push(n)},off:function(b,n){b=this._listeners[b];var d;!b||0>(d=b.indexOf(n))||b.splice(d,1)},dispatch:function(b){var d=this._listeners[b];if(d&&0!==d.length){var g=
Array.prototype.slice.call(arguments,1);d.slice(0).forEach(function(b){b.apply(null,g)})}}};return b}(),c=function(){function b(b,n){this.visible=!0;this.div=document.querySelector(b+" .progress");this.bar=this.div.parentNode;this.height=n.height||100;this.width=n.width||100;this.units=n.units||"%";this.div.style.height=this.height+this.units;this.percent=0}b.prototype={updateBar:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),
this.div.style.width=this.width*this._percent/100+this.units)},get percent(){return this._percent},set percent(b){this._indeterminate=isNaN(b);this._percent=Math.min(Math.max(b,0),100);this.updateBar()},setWidth:function(b){b&&(b=b.parentNode.offsetWidth-b.offsetWidth,0<b&&this.bar.setAttribute("style","width: calc(100% - "+b+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||
(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}};return b}();a.CSS_UNITS=p;a.DEFAULT_SCALE_VALUE="auto";a.DEFAULT_SCALE=1;a.MIN_SCALE=.25;a.MAX_SCALE=10;a.UNKNOWN_SCALE=0;a.MAX_AUTO_SCALE=1.25;a.SCROLLBAR_PADDING=40;a.VERTICAL_PADDING=5;a.RendererType={CANVAS:"canvas",SVG:"svg"};a.mozL10n=h;a.EventBus=l;a.ProgressBar=c;a.getPDFFileNameFromURL=function(b){for(var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",n=0,g=b.length;n<
g&&""===b[n].trim();)n++;if("data:"===b.substr(n,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),d;n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;g=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(b);if(g=n.exec(g[1])||n.exec(g[2])||n.exec(g[3]))if(g=g[0],-1!==g.indexOf("%"))try{g=n.exec(decodeURIComponent(g))[0]}catch(w){}return g||d};a.noContextMenuHandler=function(b){b.preventDefault()};a.parseQueryString=function(b){b=b.split("&");for(var d=
{},n=0,g=b.length;n<g;++n){var c=b[n].split("="),a=c[0].toLowerCase(),c=1<c.length?c[1]:null;d[decodeURIComponent(a)]=decodeURIComponent(c)}return d};a.getVisibleElements=function(b,d,n){function g(b){b=b.div;return b.offsetTop+b.clientTop+b.clientHeight>c}var c=b.scrollTop,a=c+b.clientHeight,f=b.scrollLeft,l=f+b.clientWidth;b=[];for(var m,q,t,h,e,p=0===d.length?0:k(d,g),z=d.length;p<z;p++){m=d[p];q=m.div;t=q.offsetTop+q.clientTop;h=q.clientHeight;if(t>a)break;e=q.offsetLeft+q.clientLeft;q=q.clientWidth;
e+q<f||e>l||(q=Math.max(0,c-t)+Math.max(0,t+h-a),h=100*(h-q)/h|0,b.push({id:m.id,x:e,y:t,view:m,percent:h}))}d=b[0];a=b[b.length-1];n&&b.sort(function(b,d){var m=b.percent-d.percent;return.001<Math.abs(m)?-m:b.id-d.id});return{first:d,last:a,views:b}};a.roundToDivide=function(b,d){var n=b%d;return 0===n?b:Math.round(b-n+d)};a.approximateFraction=function(b){if(Math.floor(b)===b)return[b,1];var d=1/b;if(8<d)return[1,8];if(Math.floor(d)===d)return[1,d];for(var d=1<b?d:b,n=0,g=1,c=1,a=1;;){var f=n+c,
l=g+a;if(8<l)break;d<=f/l?(c=f,a=l):(n=f,g=l)}return d-n/g<c/a-d?d===b?[n,g]:[g,n]:d===b?[c,a]:[a,c]};a.getOutputScale=function(b){b=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1);return{sx:b,sy:b,scaled:1!==b}};a.scrollIntoView=function(b,d,c){var g=b.offsetParent;if(g){c=c||!1;var n=b.offsetTop+b.clientTop;for(b=b.offsetLeft+b.clientLeft;g.clientHeight===g.scrollHeight||
c&&"hidden"===getComputedStyle(g).overflow;)if(g.dataset._scaleY&&(n/=g.dataset._scaleY,b/=g.dataset._scaleX),n+=g.offsetTop,b+=g.offsetLeft,g=g.offsetParent,!g)return;d&&(void 0!==d.top&&(n+=d.top),void 0!==d.left&&(b+=d.left,g.scrollLeft=b));g.scrollTop=n}else console.error("offsetParent is not set -- cannot scroll")};a.watchScroll=function(b,d){var c=function(c){w||(w=window.requestAnimationFrame(function(){w=null;var c=b.scrollTop,n=g.lastY;c!==n&&(g.down=c>n);g.lastY=c;d(g)}))},g={down:!0,lastY:b.scrollTop,
_eventHandler:c},w=null;b.addEventListener("scroll",c,!0);return g};a.binarySearchFirstItem=k;a.normalizeWheelEventDelta=function(b){var d=Math.sqrt(b.deltaX*b.deltaX+b.deltaY*b.deltaY),c=Math.atan2(b.deltaY,b.deltaX);-.25*Math.PI<c&&c<.75*Math.PI&&(d=-d);0===b.deltaMode?d/=900:1===b.deltaMode&&(d/=30);return d};a.animationStarted=e;a.localized=f},function(p,a,e){function k(a){a.on("documentload",function(){var c=document.createEvent("CustomEvent");c.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(c)});
a.on("pagerendered",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagerendered",!0,!0,{pageNumber:c.pageNumber,cssTransform:c.cssTransform});c.source.div.dispatchEvent(b)});a.on("textlayerrendered",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:c.pageNumber});c.source.textLayerDiv.dispatchEvent(b)});a.on("pagechange",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("pagechange",!0,!0,window,0);
b.pageNumber=c.pageNumber;c.source.container.dispatchEvent(b)});a.on("pagesinit",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesinit",!0,!0,null);c.source.container.dispatchEvent(b)});a.on("pagesloaded",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagesloaded",!0,!0,{pagesCount:c.pagesCount});c.source.container.dispatchEvent(b)});a.on("scalechange",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("scalechange",!0,!0,window,
0);b.scale=c.scale;b.presetValue=c.presetValue;c.source.container.dispatchEvent(b)});a.on("updateviewarea",function(c){var b=document.createEvent("UIEvents");b.initUIEvent("updateviewarea",!0,!0,window,0);b.location=c.location;c.source.container.dispatchEvent(b)});a.on("find",function(c){if(c.source!==window){var b=document.createEvent("CustomEvent");b.initCustomEvent("find"+c.type,!0,!0,{query:c.query,phraseSearch:c.phraseSearch,caseSensitive:c.caseSensitive,highlightAll:c.highlightAll,findPrevious:c.findPrevious});
window.dispatchEvent(b)}});a.on("attachmentsloaded",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:c.attachmentsCount});c.source.container.dispatchEvent(b)});a.on("sidebarviewchanged",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("sidebarviewchanged",!0,!0,{view:c.view});c.source.outerContainer.dispatchEvent(b)});a.on("pagemode",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("pagemode",
!0,!0,{mode:c.mode});c.source.pdfViewer.container.dispatchEvent(b)});a.on("namedaction",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("namedaction",!0,!0,{action:c.action});c.source.pdfViewer.container.dispatchEvent(b)});a.on("presentationmodechanged",function(c){var b=document.createEvent("CustomEvent");b.initCustomEvent("presentationmodechanged",!0,!0,{active:c.active,switchInProgress:c.switchInProgress});window.dispatchEvent(b)});a.on("outlineloaded",function(c){var b=
document.createEvent("CustomEvent");b.initCustomEvent("outlineloaded",!0,!0,{outlineCount:c.outlineCount});c.source.container.dispatchEvent(b)})}Object.defineProperty(a,"__esModule",{value:!0});a.getGlobalEventBus=a.attachDOMEventsToEventBus=void 0;var h=e(1),f=null;a.attachDOMEventsToEventBus=k;a.getGlobalEventBus=function(){if(f)return f;f=new h.EventBus;k(f);return f}},function(p,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.SimpleLinkService=a.PDFLinkService=void 0;var k="function"===
typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},h=e(2),f=e(1),l=/^\d+$/;p=function(){function c(b){b=b||{};this.eventBus=b.eventBus||(0,h.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}function b(b){if(!(b instanceof Array))return!1;var d=b.length,c=!0;if(2>d)return!1;var a=b[0];if(!("object"===("undefined"===
typeof a?"undefined":k(a))&&"number"===typeof a.num&&(a.num|0)===a.num&&"number"===typeof a.gen&&(a.gen|0)===a.gen||"number"===typeof a&&(a|0)===a&&0<=a))return!1;a=b[1];if("object"!==("undefined"===typeof a?"undefined":k(a))||"string"!==typeof a.name)return!1;switch(a.name){case "XYZ":if(5!==d)return!1;break;case "Fit":case "FitB":return 2===d;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==d)return!1;break;case "FitR":if(6!==d)return!1;c=!1;break;default:return!1}for(a=2;a<d;a++){var f=
b[a];if(!("number"===typeof f||c&&null===f))return!1}return!0}c.prototype={setDocument:function(b,c){this.baseUrl=c;this.pdfDocument=b;this._pagesRefCache=Object.create(null)},setViewer:function(b){this.pdfViewer=b},setHistory:function(b){this.pdfHistory=b},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(b){this.pdfViewer.currentPageNumber=b},navigateTo:function(b){var d="",c=this,a=function r(m){var g;if(m instanceof
Object)g=c._cachedPageNumber(m);else if((m|0)===m)g=m+1;else{console.error('PDFLinkService_navigateTo: "'+m+'" is not a valid destination reference.');return}g?1>g||g>c.pagesCount?console.error('PDFLinkService_navigateTo: "'+g+'" is a non-existent page number.'):(c.pdfViewer.scrollPageIntoView({pageNumber:g,destArray:b}),c.pdfHistory&&c.pdfHistory.push({dest:b,hash:d,page:g})):c.pdfDocument.getPageIndex(m).then(function(b){c.cachePageRef(b+1,m);r(m)}).catch(function(){console.error('PDFLinkService_navigateTo: "'+
m+'" is not a valid page reference.')})},f;"string"===typeof b?(d=b,f=this.pdfDocument.getDestination(b)):f=Promise.resolve(b);f.then(function(d){b=d;d instanceof Array?a(d[0]):console.error('PDFLinkService_navigateTo: "'+d+'" is not a valid destination array.')})},getDestinationHash:function(b){return"string"===typeof b?this.getAnchorUrl("#"+(l.test(b)?"nameddest=":"")+escape(b)):b instanceof Array?(b=JSON.stringify(b),this.getAnchorUrl("#"+escape(b))):this.getAnchorUrl("")},getAnchorUrl:function(b){return(this.baseUrl||
"")+b},setHash:function(d){var c,g;if(0<=d.indexOf("="))if(d=(0,f.parseQueryString)(d),"search"in d&&this.eventBus.dispatch("findfromurlhash",{source:this,query:d.search.replace(/"/g,""),phraseSearch:"true"===d.phrase}),"nameddest"in d)this.pdfHistory&&this.pdfHistory.updateNextHashParam(d.nameddest),this.navigateTo(d.nameddest);else{"page"in d&&(c=d.page|0||1);if("zoom"in d){var a=d.zoom.split(","),v=a[0],h=parseFloat(v);-1===v.indexOf("Fit")?g=[null,{name:"XYZ"},1<a.length?a[1]|0:null,2<a.length?
a[2]|0:null,h?h/100:v]:"Fit"===v||"FitB"===v?g=[null,{name:v}]:"FitH"===v||"FitBH"===v||"FitV"===v||"FitBV"===v?g=[null,{name:v},1<a.length?a[1]|0:null]:"FitR"===v?5!==a.length?console.error("PDFLinkService_setHash: Not enough parameters for 'FitR'."):g=[null,{name:v},a[1]|0,a[2]|0,a[3]|0,a[4]|0]:console.error("PDFLinkService_setHash: '"+v+"' is not a valid zoom value.")}g?this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:g,allowNegativeOffset:!0}):c&&(this.page=c);"pagemode"in
d&&this.eventBus.dispatch("pagemode",{source:this,mode:d.pagemode})}else{l.test(d)&&d<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+d+'" form instead.'),this.page=d|0);g=unescape(d);try{g=JSON.parse(g),g instanceof Array||(g=g.toString())}catch(r){}"string"===typeof g||b(g)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(g),this.navigateTo(g)):console.error("PDFLinkService_setHash: '"+
unescape(d)+"' is not a valid destination.")}},executeNamedAction:function(b){switch(b){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})},onFileAttachmentAnnotation:function(){var b=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.eventBus.dispatch("fileattachmentannotation",{source:this,id:b.id,filename:b.filename,content:b.content})},cachePageRef:function(b,c){this._pagesRefCache[c.num+" "+c.gen+" R"]=b},_cachedPageNumber:function(b){b=b.num+" "+b.gen+" R";return this._pagesRefCache&&this._pagesRefCache[b]||null}};return c}();e=function(){function c(){}c.prototype={get page(){return 0},set page(b){},navigateTo:function(b){},getDestinationHash:function(b){return"#"},
getAnchorUrl:function(b){return"#"},setHash:function(b){},executeNamedAction:function(b){},onFileAttachmentAnnotation:function(b){},cachePageRef:function(b,d){}};return c}();a.PDFLinkService=p;a.SimpleLinkService=e},function(p,a,e){function k(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(a,"__esModule",{value:!0});a.DefaultAnnotationLayerFactory=a.AnnotationLayerBuilder=void 0;var h=function(){function b(b,d){for(var c=0;c<d.length;c++){var a=
d[c];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(d,c,a){c&&b(d.prototype,c);a&&b(d,a);return d}}(),f=e(0),l=e(1),c=e(3),b=function(){function b(d){k(this,b);this.pageDiv=d.pageDiv;this.pdfPage=d.pdfPage;this.renderInteractiveForms=d.renderInteractiveForms;this.linkService=d.linkService;this.downloadManager=d.downloadManager;this.div=null}h(b,[{key:"render",value:function(b){var d=this;this.pdfPage.getAnnotations({intent:1<
arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(c){var a={viewport:b.clone({dontFlip:!0}),div:d.div,annotations:c,page:d.pdfPage,renderInteractiveForms:d.renderInteractiveForms,linkService:d.linkService,downloadManager:d.downloadManager};d.div?f.AnnotationLayer.update(a):0!==c.length&&(d.div=document.createElement("div"),d.div.className="annotationLayer",d.pageDiv.appendChild(d.div),a.div=d.div,f.AnnotationLayer.render(a),"undefined"!==typeof l.mozL10n&&l.mozL10n.translate(d.div))})}},
{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return b}();p=function(){function d(){k(this,d)}h(d,[{key:"createAnnotationLayerBuilder",value:function(d,a){return new b({pageDiv:d,pdfPage:a,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:new c.SimpleLinkService})}}]);return d}();a.AnnotationLayerBuilder=b;a.DefaultAnnotationLayerFactory=p},function(p,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.PDFPageView=
void 0;var k=e(1),h=e(0),f=e(2),l=e(7);p=function(){function c(b){var d=b.container,c=b.id,a=b.scale,w=b.defaultViewport,h=b.renderingQueue,e=b.textLayerFactory,r=b.annotationLayerFactory,m=b.enhanceTextSelection||!1,q=b.renderInteractiveForms||!1;this.id=c;this.renderingId="page"+c;this.pageLabel=null;this.rotation=0;this.scale=a||k.DEFAULT_SCALE;this.viewport=w;this.pdfPageRotate=w.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=m;this.renderInteractiveForms=q;this.eventBus=b.eventBus||
(0,f.getGlobalEventBus)();this.renderingQueue=h;this.textLayerFactory=e;this.annotationLayerFactory=r;this.renderer=b.renderer||k.RendererType.CANVAS;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=l.RenderingStates.INITIAL;this.annotationLayer=this.zoomLayer=this.textLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;b=document.createElement("div");b.className="page";b.style.width=Math.floor(this.viewport.width)+"px";b.style.height=Math.floor(this.viewport.height)+
"px";b.setAttribute("data-page-number",this.id);this.div=b;d.appendChild(b)}c.prototype={setPdfPage:function(b){this.pdfPage=b;this.pdfPageRotate=b.rotate;this.viewport=b.getViewport(this.scale*k.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=b.stats;this.reset()},destroy:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()},_resetZoomLayer:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var d=this.zoomLayer.firstChild;this.paintedViewportMap.delete(d);
d.width=0;d.height=0;b&&this.zoomLayer.remove();this.zoomLayer=null}},reset:function(b,d){this.cancelRendering();var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";var a=c.childNodes;b=b&&this.zoomLayer||null;d=d&&this.annotationLayer&&this.annotationLayer.div||null;for(var f=a.length-1;0<=f;f--){var l=a[f];b!==l&&d!==l&&c.removeChild(l)}c.removeAttribute("data-loaded");d?this.annotationLayer.hide():this.annotationLayer=null;b||(this.canvas&&
(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)},update:function(b,d){this.scale=b||this.scale;"undefined"!==typeof d&&(this.rotation=d);this.viewport=this.viewport.clone({scale:this.scale*k.CSS_UNITS,rotation:(this.rotation+
this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{b=!1;this.canvas&&0<h.PDFJS.maxCanvasPixels&&(d=this.outputScale,(Math.floor(this.viewport.width)*d.sx|0)*(Math.floor(this.viewport.height)*d.sy|0)>h.PDFJS.maxCanvasPixels&&(b=!0));if(this.canvas){if(h.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&b){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,
pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}},cancelRendering:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=l.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)},updatePosition:function(){this.textLayer&&this.textLayer.render(200)},
cssTransform:function(b,d){var c=this.viewport.width,a=this.viewport.height,f=this.div;b.style.width=b.parentNode.style.width=f.style.width=Math.floor(c)+"px";b.style.height=b.parentNode.style.height=f.style.height=Math.floor(a)+"px";var f=this.viewport.rotation-this.paintedViewportMap.get(b).rotation,l=Math.abs(f),e=1,k=1;if(90===l||270===l)e=a/c,k=c/a;h.CustomStyle.setProp("transform",b,"rotate("+f+"deg) scale("+e+","+k+")");if(this.textLayer){f=this.textLayer.viewport;b=Math.abs(this.viewport.rotation-
f.rotation);a=c/f.width;if(90===b||270===b)a=c/f.height;var c=this.textLayer.textLayerDiv,m,q;switch(b){case 0:m=q=0;break;case 90:m=0;q="-"+c.style.height;break;case 180:m="-"+c.style.width;q="-"+c.style.height;break;case 270:m="-"+c.style.width;q=0;break;default:console.error("Bad rotation value.")}h.CustomStyle.setProp("transform",c,"rotate("+b+"deg) scale("+a+", "+a+") translate("+m+", "+q+")");h.CustomStyle.setProp("transformOrigin",c,"0% 0%")}d&&this.annotationLayer&&this.annotationLayer.render(this.viewport,
"display")},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function(b,c){return this.viewport.convertToPdfPoint(b,c)},draw:function(){this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());this.renderingState=l.RenderingStates.RUNNING;var b=this,c=this.pdfPage,a=this.div,g=document.createElement("div");g.style.width=a.style.width;g.style.height=a.style.height;g.classList.add("canvasWrapper");
this.annotationLayer&&this.annotationLayer.div?a.insertBefore(g,this.annotationLayer.div):a.appendChild(g);var f=null,e=null;this.textLayerFactory&&(f=document.createElement("div"),f.className="textLayer",f.style.width=g.style.width,f.style.height=g.style.height,this.annotationLayer&&this.annotationLayer.div?a.insertBefore(f,this.annotationLayer.div):a.appendChild(f),e=this.textLayerFactory.createTextLayerBuilder(f,this.id-1,this.viewport,this.enhanceTextSelection));this.textLayer=e;f=null;this.renderingQueue&&
(f=function(c){b.renderingQueue.isHighestPriority(b)?c():(b.renderingState=l.RenderingStates.PAUSED,b.resume=function(){b.renderingState=l.RenderingStates.RUNNING;c()})});var y=function(d){r===b.paintTask&&(b.paintTask=null);if("cancelled"===d||d instanceof h.RenderingCancelledException)return b.error=null,Promise.resolve(void 0);b.renderingState=l.RenderingStates.FINISHED;b.loadingIconDiv&&(a.removeChild(b.loadingIconDiv),delete b.loadingIconDiv);b._resetZoomLayer(!0);b.error=d;b.stats=c.stats;if(b.onAfterDraw)b.onAfterDraw();
b.eventBus.dispatch("pagerendered",{source:b,pageNumber:b.id,cssTransform:!1});return d?Promise.reject(d):Promise.resolve(void 0)},r=this.renderer===k.RendererType.SVG?this.paintOnSvg(g):this.paintOnCanvas(g);r.onRenderContinue=f;this.paintTask=r;g=r.promise.then(function(){return y(null).then(function(){e&&c.getTextContent({normalizeWhitespace:!0}).then(function(b){e.setTextContent(b);e.render(200)})})},function(b){return y(b)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=
this.annotationLayerFactory.createAnnotationLayerBuilder(a,c,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display"));a.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return g},paintOnCanvas:function(b){var c=(0,h.createPromiseCapability)(),a={promise:c.promise,onRenderContinue:function(b){b()},cancel:function(){t.cancel()}},g=this.viewport,f=document.createElement("canvas");f.id="page"+this.id;f.setAttribute("hidden","hidden");var l=!0,e=function(){l&&
(f.removeAttribute("hidden"),l=!1)};b.appendChild(f);this.canvas=f;f.mozOpaque=!0;b=f.getContext("2d",{alpha:!1});var r=(0,k.getOutputScale)(b);this.outputScale=r;if(h.PDFJS.useOnlyCssZoom){var m=g.clone({scale:k.CSS_UNITS});r.sx*=m.width/g.width;r.sy*=m.height/g.height;r.scaled=!0}0<h.PDFJS.maxCanvasPixels&&(m=Math.sqrt(h.PDFJS.maxCanvasPixels/(g.width*g.height)),r.sx>m||r.sy>m?(r.sx=m,r.sy=m,this.hasRestrictedScaling=r.scaled=!0):this.hasRestrictedScaling=!1);var m=(0,k.approximateFraction)(r.sx),
q=(0,k.approximateFraction)(r.sy);f.width=(0,k.roundToDivide)(g.width*r.sx,m[0]);f.height=(0,k.roundToDivide)(g.height*r.sy,q[0]);f.style.width=(0,k.roundToDivide)(g.width,m[1])+"px";f.style.height=(0,k.roundToDivide)(g.height,q[1])+"px";this.paintedViewportMap.set(f,g);var t=this.pdfPage.render({canvasContext:b,transform:r.scaled?[r.sx,0,0,r.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});t.onContinue=function(b){e();if(a.onRenderContinue)a.onRenderContinue(b);
else b()};t.promise.then(function(){e();c.resolve(void 0)},function(b){e();c.reject(b)});return a},paintOnSvg:function(b){var c=!1,a=function(){if(c){if(h.PDFJS.pdfjsNext)throw new h.RenderingCancelledException("Rendering cancelled, page "+f.id,"svg");throw"cancelled";}},f=this,e=this.pdfPage,v=this.viewport.clone({scale:k.CSS_UNITS});return{promise:e.getOperatorList().then(function(c){a();return(new h.SVGGraphics(e.commonObjs,e.objs)).getSVG(c,v).then(function(c){a();f.svg=c;f.paintedViewportMap.set(c,
v);c.style.width=b.style.width;c.style.height=b.style.height;f.renderingState=l.RenderingStates.FINISHED;b.appendChild(c)})}),onRenderContinue:function(b){b()},cancel:function(){c=!0}}},setPageLabel:function(b){this.pageLabel="string"===typeof b?b:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}};return c}();a.PDFPageView=p},function(p,a,e){function k(){}Object.defineProperty(a,"__esModule",{value:!0});a.DefaultTextLayerFactory=
a.TextLayerBuilder=void 0;var h=e(2),f=e(0),l=function(){function c(b){this.textLayerDiv=b.textLayerDiv;this.eventBus=b.eventBus||(0,h.getGlobalEventBus)();this.textContent=null;this.renderingDone=!1;this.pageIdx=b.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=b.viewport;this.textDivs=[];this.findController=b.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=b.enhanceTextSelection;this._bindMouse()}c.prototype={_finishRendering:function(){this.renderingDone=
!0;if(!this.enhanceTextSelection){var b=document.createElement("div");b.className="endOfContent";this.textLayerDiv.appendChild(b)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function(b){var c=this;if(this.textContent&&!this.renderingDone){this.cancel();this.textDivs=[];var a=document.createDocumentFragment();this.textLayerRenderTask=(0,f.renderTextLayer)({textContent:this.textContent,container:a,viewport:this.viewport,
textDivs:this.textDivs,timeout:b,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){c.textLayerDiv.appendChild(a);c._finishRendering();c.updateMatches()},function(b){})}},cancel:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)},setTextContent:function(b){this.cancel();this.textContent=b},convertMatches:function(b,c){var d=0,a=0,f=this.textContent.items,l=f.length-1,e=null===this.findController?0:this.findController.state.query.length,
h=[];if(!b)return h;for(var m=0,q=b.length;m<q;m++){for(var t=b[m];d!==l&&t>=a+f[d].str.length;)a+=f[d].str.length,d++;d===f.length&&console.error("Could not find a matching mapping");for(var k={begin:{divIdx:d,offset:t-a}},t=c?t+c[m]:t+e;d!==l&&t>a+f[d].str.length;)a+=f[d].str.length,d++;k.end={divIdx:d,offset:t-a};h.push(k)}return h},renderMatches:function(b){function c(b,c){var d=b.divIdx;l[d].textContent="";a(d,0,b.offset,c)}function a(b,c,d,a){var m=l[b];b=f[b].str.substring(c,d);b=document.createTextNode(b);
a?(c=document.createElement("span"),c.className=a,c.appendChild(b),m.appendChild(c)):m.appendChild(b)}if(0!==b.length){var f=this.textContent.items,l=this.textDivs,e=null,h=this.pageIdx,k=null===this.findController?!1:h===this.findController.selected.pageIdx,m=null===this.findController?-1:this.findController.selected.matchIdx,q=m,t=q+1;if(null===this.findController?0:this.findController.state.highlightAll)q=0,t=b.length;else if(!k)return;for(;q<t;q++){var x=b[q],u=x.begin,x=x.end,p=k&&q===m?" selected":
"";this.findController&&this.findController.updateMatchPosition(h,q,l,u.divIdx);e&&u.divIdx===e.divIdx?a(e.divIdx,e.offset,u.offset):(null!==e&&a(e.divIdx,e.offset,void 0),c(u));if(u.divIdx===x.divIdx)a(u.divIdx,u.offset,x.offset,"highlight"+p);else{a(u.divIdx,u.offset,void 0,"highlight begin"+p);e=u.divIdx+1;for(u=x.divIdx;e<u;e++)l[e].className="highlight middle"+p;c(x,"highlight end"+p)}e=x}e&&a(e.divIdx,e.offset,void 0)}},updateMatches:function(){if(this.renderingDone){for(var b=this.matches,
c=this.textDivs,a=this.textContent.items,f=-1,l=0,e=b.length;l<e;l++){for(var h=b[l],f=Math.max(f,h.begin.divIdx),k=h.end.divIdx;f<=k;f++){var m=c[f];m.textContent=a[f].str;m.className=""}f=h.end.divIdx+1}if(null!==this.findController&&this.findController.active){var q,t;null!==this.findController&&(q=this.findController.pageMatches[this.pageIdx]||null,t=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null);this.matches=this.convertMatches(q,t);this.renderMatches(this.matches)}}},
_bindMouse:function(){var b=this.textLayerDiv,c=this,a=null;b.addEventListener("mousedown",function(d){if(c.enhanceTextSelection&&c.textLayerRenderTask)c.textLayerRenderTask.expandTextDivs(!0),a&&(clearTimeout(a),a=null);else{var f=b.querySelector(".endOfContent");if(f){var g=d.target!==b;if(g=g&&"none"!==window.getComputedStyle(f).getPropertyValue("-moz-user-select"))g=b.getBoundingClientRect(),f.style.top=(100*Math.max(0,(d.pageY-g.top)/g.height)).toFixed(2)+"%";f.classList.add("active")}}});b.addEventListener("mouseup",
function(d){if(c.enhanceTextSelection&&c.textLayerRenderTask)a=setTimeout(function(){c.textLayerRenderTask&&c.textLayerRenderTask.expandTextDivs(!1);a=null},300);else if(d=b.querySelector(".endOfContent"))d.style.top="",d.classList.remove("active")})}};return c}();k.prototype={createTextLayerBuilder:function(c,b,a){return new l({textLayerDiv:c,pageIndex:b,viewport:a,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}};a.TextLayerBuilder=l;a.DefaultTextLayerFactory=k},
function(p,a,e){Object.defineProperty(a,"__esModule",{value:!0});var k=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(f,c,b){c&&a(f.prototype,c);b&&a(f,b);return f}}(),h={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};p=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=
this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}k(a,[{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setThumbnailViewer",value:function(a){this.pdfThumbnailViewer=a}},{key:"isHighestPriority",value:function(a){return this.highestPriorityPage===a.renderingId}},{key:"renderHighestPriority",value:function(a){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);this.pdfViewer.forceRendering(a)||this.pdfThumbnailViewer&&
this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))}},{key:"getHighestPriority",value:function(a,c,b){var d=a.views,f=d.length;if(0===f)return!1;for(var g=0;g<f;++g){var e=d[g].view;if(!this.isViewFinished(e))return e}a=b?a.last.id:a.first.id-2;return c[a]&&!this.isViewFinished(c[a])?c[a]:null}},{key:"isViewFinished",value:function(a){return a.renderingState===h.FINISHED}},{key:"renderView",value:function(a){var c=
this;switch(a.renderingState){case h.FINISHED:return!1;case h.PAUSED:this.highestPriorityPage=a.renderingId;a.resume();break;case h.RUNNING:this.highestPriorityPage=a.renderingId;break;case h.INITIAL:this.highestPriorityPage=a.renderingId;var b=function(){c.renderHighestPriority()};a.draw().then(b,b)}return!0}}]);return a}();a.RenderingStates=h;a.PDFRenderingQueue=p},function(p,a,e){function k(a,c){var b=document.createElement("a");b.click?(b.href=a,b.target="_parent","download"in b&&(b.download=
c),(document.body||document.documentElement).appendChild(b),b.click(),b.parentNode.removeChild(b)):(window.top===window&&a.split("#")[0]===window.location.href.split("#")[0]&&(c=-1===a.indexOf("?")?"?":"&",a=a.replace(/#|$/,c+"$&")),window.open(a,"_parent"))}function h(){}Object.defineProperty(a,"__esModule",{value:!0});a.DownloadManager=void 0;var f=e(0);h.prototype={downloadUrl:function(a,c){(0,f.createValidAbsoluteUrl)(a,"http://example.com")&&k(a+"#pdfjs.action=download",c)},downloadData:function(a,
c,b){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([a],{type:b}),c);a=(0,f.createObjectURL)(a,b,f.PDFJS.disableCreateObjectURL);k(a,c)},download:function(a,c,b){navigator.msSaveBlob?navigator.msSaveBlob(a,b)||this.downloadUrl(c,b):f.PDFJS.disableCreateObjectURL?this.downloadUrl(c,b):(a=URL.createObjectURL(a),k(a,b))}};a.DownloadManager=h},function(p,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.PDFFindController=a.FindStates=void 0;var k=e(1),h={FIND_FOUND:0,FIND_NOTFOUND:1,
FIND_WRAPPED:2,FIND_PENDING:3},f={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"};p=function(){function a(a){this.pdfViewer=a.pdfViewer||null;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();a=Object.keys(f).join("");this.normalizationRegex=new RegExp("["+a+"]","g")}a.prototype={reset:function(){var a=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=
Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(b){a.resolveFirstPage=b})},normalize:function(a){return a.replace(this.normalizationRegex,function(b){return f[b]})},_prepareMatches:function(a,b,d){function c(b,
a){var c,d;c=b[a];d=b[a+1];if(a<b.length-1&&c.match===d.match)return c.skipped=!0;for(d=a-1;0<=d;d--)if(a=b[d],!a.skipped){if(a.match+a.matchLength<c.match)break;if(a.match+a.matchLength>=c.match+c.matchLength)return c.skipped=!0}return!1}var f,e;a.sort(function(b,a){return b.match===a.match?b.matchLength-a.matchLength:b.match-a.match});f=0;for(e=a.length;f<e;f++)c(a,f)||(b.push(a[f].match),d.push(a[f].matchLength))},calcFindPhraseMatch:function(a,b,d){for(var c=[],f=a.length,e=-f;;){e=d.indexOf(a,
e+f);if(-1===e)break;c.push(e)}this.pageMatches[b]=c},calcFindWordMatch:function(a,b,d){var c=[];a=a.match(/\S+/g);for(var f,e,h,k=0,l=a.length;k<l;k++)for(f=a[k],e=f.length,h=-e;;){h=d.indexOf(f,h+e);if(-1===h)break;c.push({match:h,matchLength:e,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[b]=[];this.pageMatches[b]=[];this._prepareMatches(c,this.pageMatches[b],this.pageMatchesLength[b])},calcFindMatch:function(a){var b=this.normalize(this.pageContents[a]),
c=this.normalize(this.state.query),f=this.state.phraseSearch;0!==c.length&&(this.state.caseSensitive||(b=b.toLowerCase(),c=c.toLowerCase()),f?this.calcFindPhraseMatch(c,a,b):this.calcFindWordMatch(c,a,b),this.updatePage(a),this.resumePageIdx===a&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[a].length&&(this.matchCount+=this.pageMatches[a].length,this.updateUIResultsCount()))},extractText:function(){function a(c){e.pdfViewer.getPageTextContent(c).then(function(d){d=d.items;for(var f=
[],g=0,m=d.length;g<m;g++)f.push(d[g].str);e.pageContents.push(f.join(""));b[c](c);c+1<e.pdfViewer.pagesCount&&a(c+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents=[];for(var b=[],d=this.pdfViewer.pagesCount,f=0;f<d;f++)this.extractTextPromises.push(new Promise(function(a){b.push(a)}));var e=this;a(0)}},executeCommand:function(a,b){var c=this;if(null===this.state||"findagain"!==a)this.dirtyMatch=!0;this.state=b;this.updateUIState(h.FIND_PENDING);this._firstPagePromise.then(function(){c.extractText();
clearTimeout(c.findTimeout);"find"===a?c.findTimeout=setTimeout(c.nextMatch.bind(c),250):c.nextMatch()})},updatePage:function(a){this.selected.pageIdx===a&&(this.pdfViewer.currentPageNumber=a+1);a=this.pdfViewer.getPageView(a);a.textLayer&&a.textLayer.updateMatches()},nextMatch:function(){var a=this.state.findPrevious,b=this.pdfViewer.currentPageNumber-1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=
b;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(var f=this,b=0;b<d;b++)this.updatePage(b),b in this.pendingFindMatches||(this.pendingFindMatches[b]=!0,this.extractTextPromises[b].then(function(b){delete f.pendingFindMatches[b];f.calcFindMatch(b)}))}if(""===this.state.query)this.updateUIState(h.FIND_FOUND);else if(!this.resumePageIdx){b=this.offset;this.pagesToSearch=d;if(null!==b.matchIdx){d=this.pageMatches[b.pageIdx].length;
if(!a&&b.matchIdx+1<d||a&&0<b.matchIdx){this.hadMatch=!0;b.matchIdx=a?b.matchIdx-1:b.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(a)}this.nextPageMatch()}},matchesReady:function(a){var b=this.offset;a=a.length;var c=this.state.findPrevious;if(a)return this.hadMatch=!0,b.matchIdx=c?a-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return b.wrapped&&(b.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1},updateMatchPosition:function(a,b,d,f){this.selected.matchIdx===
b&&this.selected.pageIdx===a&&(0,k.scrollIntoView)(d[f],{top:-50,left:-400},!0)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var a=this.offset.pageIdx,b=this.pageMatches[a];if(!b){this.resumePageIdx=a;break}}while(!this.matchesReady(b))},advanceOffsetPage:function(a){var b=this.offset,c=this.extractTextPromises.length;b.pageIdx=a?b.pageIdx-1:b.pageIdx+1;b.matchIdx=null;this.pagesToSearch--;if(b.pageIdx>=c||0>b.pageIdx)b.pageIdx=a?c-1:
0,b.wrapped=!0},updateMatch:function(a){var b=h.FIND_NOTFOUND,c=this.offset.wrapped;this.offset.wrapped=!1;a&&(a=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,b=c?h.FIND_WRAPPED:h.FIND_FOUND,-1!==a&&a!==this.selected.pageIdx&&this.updatePage(a));this.updateUIState(b,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},updateUIResultsCount:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)},
updateUIState:function(a,b){if(this.onUpdateState)this.onUpdateState(a,b,this.matchCount)}};return a}();a.FindStates=h;a.PDFFindController=p},function(p,a,e){function k(a){this.linkService=a.linkService;this.eventBus=a.eventBus||(0,h.getGlobalEventBus)();this.initialized=!1;this.initialBookmark=this.initialDestination=null}Object.defineProperty(a,"__esModule",{value:!0});a.PDFHistory=void 0;var h=e(2);k.prototype={initialize:function(a){function f(){d.previousHash=window.location.hash.slice(1);d._pushToHistory({hash:d.previousHash},
!1,!0);d._updatePreviousBookmark()}function c(b,a){function c(){window.removeEventListener("popstate",c);window.addEventListener("popstate",f);d._pushToHistory(b,!1,!0);history.forward()}function f(){window.removeEventListener("popstate",f);d.allowHashChange=!0;d.historyUnlocked=!0;a()}d.historyUnlocked=!1;d.allowHashChange=!1;window.addEventListener("popstate",c);history.back()}function b(){var a=d._getPreviousParams(null,!0);a&&(d._pushToHistory(a,!1,!d.current.dest&&d.current.hash!==d.previousHash),
d._updatePreviousBookmark());window.removeEventListener("beforeunload",b)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=0;this.nextHashParam="";this.fingerprint=a;this.currentUid=this.uid=0;this.current={};a=window.history.state;this._isStateObjectDefined(a)?
(a.target.dest?this.initialDestination=a.target.dest:this.initialBookmark=a.target.hash,this.currentUid=a.uid,this.uid=a.uid+1,this.current=a.target):(a&&a.fingerprint&&this.fingerprint!==a.fingerprint&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var d=this;window.addEventListener("popstate",function(b){d.historyUnlocked&&(b.state?d._goTo(b.state):0===d.uid?c(d.previousHash&&d.currentBookmark&&d.previousHash!==d.currentBookmark?{hash:d.currentBookmark,page:d.currentPage}:
{page:1},function(){f()}):f())});window.addEventListener("beforeunload",b);window.addEventListener("pageshow",function(a){window.addEventListener("beforeunload",b)});d.eventBus.on("presentationmodechanged",function(b){d.isViewerInPresentationMode=b.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(a){return a&&0<=a.uid&&a.fingerprint&&this.fingerprint===a.fingerprint&&a.target&&a.target.hash?!0:!1},_pushOrReplaceState:function(a,e){e?window.history.replaceState(a,
"",document.URL):window.history.pushState(a,"",document.URL)},get isHashChangeUnlocked(){return this.initialized?this.allowHashChange:!0},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(a,e){this.initialized&&(this.currentBookmark=a.substring(1),this.currentPage=e|0,this._updatePreviousBookmark())},updateNextHashParam:function(a){this.initialized&&
(this.nextHashParam=a)},push:function(a,e){if(this.initialized&&this.historyUnlocked)if(a.dest&&!a.hash&&(a.hash=this.current.hash&&this.current.dest&&this.current.dest===a.dest?this.current.hash:this.linkService.getDestinationHash(a.dest).split("#")[1]),a.page&&(a.page|=0),e)e=window.history.state.target,e||(this._pushToHistory(a,!1),this.previousHash=window.location.hash.substring(1)),this.updatePreviousBookmark=this.nextHashParam?!1:!0,e&&this._updatePreviousBookmark();else{if(this.nextHashParam){if(this.nextHashParam===
a.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}a.hash?this.current.hash?this.current.hash!==a.hash?this._pushToHistory(a,!0):(!this.current.page&&a.page&&this._pushToHistory(a,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(a,!0):this.current.page&&a.page&&this.current.page!==a.page&&this._pushToHistory(a,!0)}},_getPreviousParams:function(a,e){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=
!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!a||e){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||a){if(this.previousPage===this.currentPage)return null}else return null;a={hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(a.hash=null);return a},_stateObj:function(a){return{fingerprint:this.fingerprint,uid:this.uid,target:a}},_pushToHistory:function(a,e,c){this.initialized&&
(!a.hash&&a.page&&(a.hash="page="+a.page),e&&!c&&(e=this._getPreviousParams())&&this._pushToHistory(e,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(a),c||0===this.uid),this.currentUid=this.uid++,this.current=a,this.updatePreviousBookmark=!0)},_goTo:function(a){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(a)){if(!this.reInitialized&&a.uid<this.currentUid){var e=this._getPreviousParams(!0);if(e){this._pushToHistory(this.current,
!1);this._pushToHistory(e,!1);this.currentUid=a.uid;window.history.back();return}}this.historyUnlocked=!1;a.target.dest?this.linkService.navigateTo(a.target.dest):this.linkService.setHash(a.target.hash);this.currentUid=a.uid;a.uid>this.uid&&(this.uid=a.uid);this.current=a.target;this.updatePreviousBookmark=!0;a=window.location.hash.substring(1);this.previousHash!==a&&(this.allowHashChange=!1);this.previousHash=a;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},
go:function(a){if(this.initialized&&this.historyUnlocked){var e=window.history.state;-1===a&&e&&0<e.uid?window.history.back():1===a&&e&&e.uid<this.uid-1&&window.history.forward()}}};a.PDFHistory=k},function(p,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.PDFViewer=a.PresentationModeState=void 0;var k=e(0),h=e(1),f=e(7),l=e(4),c=e(2),b=e(5),d=e(3),n=e(6),g={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},w=/iphone|ipad|ipod|android|blackberry|bb10|mini|windowssce|palm/i.test(navigator.userAgent)?
5:10;p=function(){function a(b){var a=[];this.push=function(c){var d=a.indexOf(c);0<=d&&a.splice(d,1);a.push(c);a.length>b&&a.shift().destroy()};this.resize=function(c){for(b=c;a.length>b;)a.shift().destroy()}}function e(a){return a.width<=a.height}function p(a){this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||(0,c.getGlobalEventBus)();this.linkService=a.linkService||new d.SimpleLinkService;this.downloadManager=a.downloadManager||null;this.removePageBorders=
a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=a.renderer||h.RendererType.CANVAS;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new f.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=(0,h.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=
g.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}p.prototype={get pagesCount(){return this._pages.length},getPageView:function(a){return this._pages[a]},get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument?this._setCurrentPageNumber(a,!0):this._currentPageNumber=a},_setCurrentPageNumber:function(a,b){if(this._currentPageNumber===
a)b&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var c={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",c);this.eventBus.dispatch("pagechange",c);b&&this._resetCurrentPageView()}else console.error('PDFViewer_setCurrentPageNumber: "'+a+'" is out of bounds.')},get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set currentPageLabel(a){var b=a|0;this._pageLabels&&
(a=this._pageLabels.indexOf(a),0<=a&&(b=a+1));this.currentPageNumber=b},get currentScale(){return this._currentScale!==h.UNKNOWN_SCALE?this._currentScale:h.DEFAULT_SCALE},set currentScale(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument?this._setScale(a,!1):(this._currentScale=a,this._currentScaleValue=a!==h.UNKNOWN_SCALE?a.toString():null)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(a){this.pdfDocument?this._setScale(a,!1):(this._currentScale=
isNaN(a)?h.UNKNOWN_SCALE:a,this._currentScaleValue=a.toString())},get pagesRotation(){return this._pagesRotation},set pagesRotation(a){if("number"!==typeof a||0!==a%90)throw Error("Invalid pages rotation angle.");this._pagesRotation=a;if(this.pdfDocument){for(var b=0,c=this._pages.length;b<c;b++){var d=this._pages[b];d.update(d.scale,a)}this._setScale(this._currentScaleValue,!0);this.defaultRenderingQueue&&this.update()}},setDocument:function(a){var c=this;this.pdfDocument&&(this._cancelRendering(),
this._resetView());if(this.pdfDocument=a){var d=a.numPages,e=(0,k.createPromiseCapability)();this.pagesPromise=e.promise;e.promise.then(function(){c._pageViewsReady=!0;c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:d})});var f=!1,m=(0,k.createPromiseCapability)();this.onePageRendered=m.promise;var g=function(a){a.onBeforeDraw=function(){c._buffer.push(a)};a.onAfterDraw=function(){f||(f=!0,m.resolve())}},l=a.getPage(1);this.firstPagePromise=l;return l.then(function(f){var t=c.currentScale;
f=f.getViewport(t*h.CSS_UNITS);for(var q=1;q<=d;++q){var u=null;k.PDFJS.disableTextLayer||(u=c);u=new b.PDFPageView({container:c.viewer,eventBus:c.eventBus,id:q,scale:t,defaultViewport:f.clone(),renderingQueue:c.renderingQueue,textLayerFactory:u,annotationLayerFactory:c,enhanceTextSelection:c.enhanceTextSelection,renderInteractiveForms:c.renderInteractiveForms,renderer:c.renderer});g(u);c._pages.push(u)}m.promise.then(function(){if(k.PDFJS.disableAutoFetch)e.resolve();else for(var b=d,f=function(d){a.getPage(d).then(function(a){var f=
c._pages[d-1];f.pdfPage||f.setPdfPage(a);c.linkService.cachePageRef(d,a.ref);0===--b&&e.resolve()})},m=1;m<=d;++m)f(m)});c.eventBus.dispatch("pagesinit",{source:c});c.defaultRenderingQueue&&c.update();c.findController&&c.findController.resolveFirstPage()})}},setPageLabels:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;a=0;for(var b=
this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}},_resetView:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=h.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new a(w);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].updatePosition()}},
_setScaleDispatchEvent:function(a,b,c){a={source:this,scale:a,presetValue:c?b:void 0};this.eventBus.dispatch("scalechanging",a);this.eventBus.dispatch("scalechange",a)},_setScaleUpdatePages:function(a,b,c,d){this._currentScaleValue=b.toString();var e;e=this._currentScale;e=a===e?!0:1E-15>Math.abs(a-e)?!0:!1;if(e)d&&this._setScaleDispatchEvent(a,b,!0);else{e=0;for(var f=this._pages.length;e<f;e++)this._pages[e].update(a);this._currentScale=a;if(!c){c=this._currentPageNumber;var m;!this._location||
k.PDFJS.ignoreCurrentPositionOnZoom||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,m=[null,{name:"XYZ"},this._location.left,this._location.top,null]);this.scrollPageIntoView({pageNumber:c,destArray:m,allowNegativeOffset:!0})}this._setScaleDispatchEvent(a,b,d);this.defaultRenderingQueue&&this.update()}},_setScale:function(a,b){var c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-
(this.isInPresentationMode||this.removePageBorders?0:h.SCROLLBAR_PADDING))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:h.VERTICAL_PADDING))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,e);break;case "auto":c=Math.min(h.MAX_AUTO_SCALE,c.width>c.height?Math.min(e,d):d);break;default:console.error('PDFViewer_setScale: "'+a+'" is an unknown zoom value.');
return}this._setScaleUpdatePages(c,a,b,!0)}},_resetCurrentPageView:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var a=this._pages[this._currentPageNumber-1];(0,h.scrollIntoView)(a.div)},scrollPageIntoView:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");var b={};"number"===typeof a&&(b.pageNumber=a);arguments[1]instanceof Array&&(b.destArray=arguments[1]);a=b}var c=
a.pageNumber||0,d=a.destArray||null,b=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!d)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-1]){var e=0,f=0,g=0,m=0,k,l;l=0===c.rotation%180?!1:!0;k=(l?c.height:c.width)/c.scale/h.CSS_UNITS;l=(l?c.width:c.height)/c.scale/h.CSS_UNITS;switch(d[1].name){case "XYZ":e=d[2];f=d[3];k=d[4];e=null!==e?e:0;f=null!==f?f:l;break;case "Fit":case "FitB":k="page-fit";break;case "FitH":case "FitBH":f=d[2];k="page-width";null===f&&this._location&&(e=this._location.left,
f=this._location.top);break;case "FitV":case "FitBV":e=d[2];g=k;m=l;k="page-height";break;case "FitR":e=d[2];f=d[3];g=d[4]-e;m=d[5]-f;l=this.removePageBorders?0:h.VERTICAL_PADDING;k=(this.container.clientWidth-(this.removePageBorders?0:h.SCROLLBAR_PADDING))/g/h.CSS_UNITS;l=(this.container.clientHeight-l)/m/h.CSS_UNITS;k=Math.min(Math.abs(k),Math.abs(l));break;default:console.error("PDFViewer_scrollPageIntoView: '"+d[1].name+"' is not a valid destination type.");return}k&&k!==this._currentScale?this.currentScaleValue=
k:this._currentScale===h.UNKNOWN_SCALE&&(this.currentScaleValue=h.DEFAULT_SCALE_VALUE);"page-fit"!==k||d[4]?(e=[c.viewport.convertToViewportPoint(e,f),c.viewport.convertToViewportPoint(e+g,f+m)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),b||(d=Math.max(d,0),e=Math.max(e,0)),(0,h.scrollIntoView)(c.div,{left:d,top:e})):(0,h.scrollIntoView)(c.div)}else console.error('PDFViewer_scrollPageIntoView: Invalid "pageNumber" parameter.')}},_updateLocation:function(a){var b=this._currentScale,c=
this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y);a=Math.round(e[0]);e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}},update:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(w,2*b.length+1));this.renderingQueue.renderHighestPriority(a);for(var c=this._currentPageNumber,
a=a.first,d=0,e=b.length,f=!1;d<e;++d){var g=b[d];if(100>g.percent)break;if(g.id===c){f=!0;break}}f||(c=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}},containsElement:function(a){return this.container.contains(a)},focus:function(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===g.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===
g.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(!this.isInPresentationMode)return(0,h.getVisibleElements)(this.container,this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}},cleanup:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==f.RenderingStates.FINISHED&&
this._pages[a].reset()},_cancelRendering:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()},_ensurePdfPageLoaded:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];var d=this.pdfDocument.getPage(c).then(function(d){a.pdfPage||a.setPdfPage(d);b._pagesRequests[c]=null;return d});return this._pagesRequests[c]=d},forceRendering:function(a){var b=this;a=a||this._getVisiblePages();
var c=this.renderingQueue.getHighestPriority(a,this._pages,this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),!0):!1},getPageTextContent:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})},createTextLayerBuilder:function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new n.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,
findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:d})},createAnnotationLayerBuilder:function(a,b){return new l.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function(a){this.findController=a},getPagesOverview:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);
return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=e(a[0]);return a.map(function(a){return b===e(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}};return p}();a.PresentationModeState=g;a.PDFViewer=p},function(p,a,e){var k=e(0);p=e(11);var h=e(5),f=e(3),l=e(6),c=e(4),b=e(10),d=e(9),n=e(1);e=e(8);k=k.PDFJS;k.PDFViewer=p.PDFViewer;k.PDFPageView=h.PDFPageView;k.PDFLinkService=f.PDFLinkService;k.TextLayerBuilder=l.TextLayerBuilder;
k.DefaultTextLayerFactory=l.DefaultTextLayerFactory;k.AnnotationLayerBuilder=c.AnnotationLayerBuilder;k.DefaultAnnotationLayerFactory=c.DefaultAnnotationLayerFactory;k.PDFHistory=b.PDFHistory;k.PDFFindController=d.PDFFindController;k.EventBus=n.EventBus;k.DownloadManager=e.DownloadManager;k.ProgressBar=n.ProgressBar;a.PDFJS=k}])});
