(function(n,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],b):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=b():n["pdfjs-dist/web/pdf_viewer"]=n.pdfjsDistWebPdfViewer=b()})(this,function(){return function(n){function b(h){if(g[h])return g[h].exports;var f=g[h]={i:h,l:!1,exports:{}};n[h].call(f.exports,f,f.exports,b);f.l=!0;return f.exports}var g={};b.m=n;b.c=g;b.i=function(b){return b};
b.d=function(h,f,d){b.o(h,f)||Object.defineProperty(h,f,{configurable:!1,enumerable:!0,get:d})};b.n=function(h){var f=h&&h.__esModule?function(){return h["default"]}:function(){return h};b.d(f,"a",f);return f};b.o=function(b,f){return Object.prototype.hasOwnProperty.call(b,f)};b.p="";return b(b.s=12)}([function(n,b,g){var h;if("undefined"===typeof __pdfjsdev_webpack__)if("undefined"!==typeof window&&window["pdfjs-dist/build/pdf"])h=window["pdfjs-dist/build/pdf"];else if("function"===typeof require)h=
require("../build/pdf.js");else throw Error("Neither `require` nor `window` found");n.exports=h},function(n,b,g){function h(a,e){var p=0,k=a.length-1;if(0===a.length||!e(a[k]))return a.length;if(e(a[p]))return p;for(;p<k;){var c=p+k>>1;e(a[c])?k=c:p=c+1}return p}Object.defineProperty(b,"__esModule",{value:!0});b.localized=b.animationStarted=b.normalizeWheelEventDelta=b.binarySearchFirstItem=b.watchScroll=b.scrollIntoView=b.getOutputScale=b.approximateFraction=b.roundToDivide=b.getVisibleElements=
b.parseQueryString=b.noContextMenuHandler=b.getPDFFileNameFromURL=b.ProgressBar=b.EventBus=b.mozL10n=b.RendererType=b.VERTICAL_PADDING=b.SCROLLBAR_PADDING=b.MAX_AUTO_SCALE=b.UNKNOWN_SCALE=b.MAX_SCALE=b.MIN_SCALE=b.DEFAULT_SCALE=b.DEFAULT_SCALE_VALUE=b.CSS_UNITS=void 0;g=g(0);n=96/72;var f=document.mozL10n||document.webL10n;g.PDFJS.disableFullscreen=void 0===g.PDFJS.disableFullscreen?!1:g.PDFJS.disableFullscreen;g.PDFJS.useOnlyCssZoom=void 0===g.PDFJS.useOnlyCssZoom?!1:g.PDFJS.useOnlyCssZoom;g.PDFJS.maxCanvasPixels=
void 0===g.PDFJS.maxCanvasPixels?16777216:g.PDFJS.maxCanvasPixels;g.PDFJS.disableHistory=void 0===g.PDFJS.disableHistory?!1:g.PDFJS.disableHistory;g.PDFJS.disableTextLayer=void 0===g.PDFJS.disableTextLayer?!1:g.PDFJS.disableTextLayer;g.PDFJS.ignoreCurrentPositionOnZoom=void 0===g.PDFJS.ignoreCurrentPositionOnZoom?!1:g.PDFJS.ignoreCurrentPositionOnZoom;g.PDFJS.locale=void 0===g.PDFJS.locale?navigator.language:g.PDFJS.locale;g=new Promise(function(a){window.requestAnimationFrame(a)});var d=new Promise(function(a,
e){f?"loading"!==f.getReadyState()?a():window.addEventListener("localized",function(e){a()}):a()}),m=function(){function a(){this._listeners=Object.create(null)}a.prototype={on:function(a,p){var e=this._listeners[a];e||(e=[],this._listeners[a]=e);e.push(p)},off:function(a,p){a=this._listeners[a];var e;!a||0>(e=a.indexOf(p))||a.splice(e,1)},dispatch:function(a){var e=this._listeners[a];if(e&&0!==e.length){var k=Array.prototype.slice.call(arguments,1);e.slice(0).forEach(function(a){a.apply(null,k)})}}};
return a}(),c=function(){function a(a,p){this.visible=!0;this.div=document.querySelector(a+" .progress");this.bar=this.div.parentNode;this.height=p.height||100;this.width=p.width||100;this.units=p.units||"%";this.div.style.height=this.height+this.units;this.percent=0}a.prototype={updateBar:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+
this.units)},get percent(){return this._percent},set percent(a){this._indeterminate=isNaN(a);this._percent=Math.min(Math.max(a,0),100);this.updateBar()},setWidth:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),
this.bar.classList.remove("hidden"))}};return a}();b.CSS_UNITS=n;b.DEFAULT_SCALE_VALUE="auto";b.DEFAULT_SCALE=1;b.MIN_SCALE=.25;b.MAX_SCALE=10;b.UNKNOWN_SCALE=0;b.MAX_AUTO_SCALE=1.25;b.SCROLLBAR_PADDING=40;b.VERTICAL_PADDING=5;b.RendererType={CANVAS:"canvas",SVG:"svg"};b.mozL10n=f;b.EventBus=m;b.ProgressBar=c;b.getPDFFileNameFromURL=function(a){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",p=0,k=a.length;p<k&&""===a[p].trim();)p++;if("data:"===a.substr(p,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),
e;p=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;k=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(k=p.exec(k[1])||p.exec(k[2])||p.exec(k[3]))if(k=k[0],-1!==k.indexOf("%"))try{k=p.exec(decodeURIComponent(k))[0]}catch(v){}return k||e};b.noContextMenuHandler=function(a){a.preventDefault()};b.parseQueryString=function(a){a=a.split("&");for(var e={},p=0,k=a.length;p<k;++p){var c=a[p].split("="),d=c[0].toLowerCase(),c=1<c.length?c[1]:null;e[decodeURIComponent(d)]=decodeURIComponent(c)}return e};
b.getVisibleElements=function(a,e,p){function k(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>c}var c=a.scrollTop,d=c+a.clientHeight,b=a.scrollLeft,m=b+a.clientWidth;a=[];for(var l,q,t,f,g,n=0===e.length?0:h(e,k),z=e.length;n<z;n++){l=e[n];q=l.div;t=q.offsetTop+q.clientTop;f=q.clientHeight;if(t>d)break;g=q.offsetLeft+q.clientLeft;q=q.clientWidth;g+q<b||g>m||(q=Math.max(0,c-t)+Math.max(0,t+f-d),f=100*(f-q)/f|0,a.push({id:l.id,x:g,y:t,view:l,percent:f}))}e=a[0];d=a[a.length-1];p&&a.sort(function(a,
e){var l=a.percent-e.percent;return.001<Math.abs(l)?-l:a.id-e.id});return{first:e,last:d,views:a}};b.roundToDivide=function(a,e){var c=a%e;return 0===c?a:Math.round(a-c+e)};b.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];var e=1/a;if(8<e)return[1,8];if(Math.floor(e)===e)return[1,e];for(var e=1<a?e:a,c=0,k=1,v=1,d=1;;){var b=c+v,m=k+d;if(8<m)break;e<=b/m?(v=b,d=m):(c=b,k=m)}return e-c/k<v/d-e?e===a?[c,k]:[k,c]:e===a?[v,d]:[d,v]};b.getOutputScale=function(a){a=(window.devicePixelRatio||
1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};b.scrollIntoView=function(a,e,c){var k=a.offsetParent;if(k){c=c||!1;var p=a.offsetTop+a.clientTop;for(a=a.offsetLeft+a.clientLeft;k.clientHeight===k.scrollHeight||c&&"hidden"===getComputedStyle(k).overflow;)if(k.dataset._scaleY&&(p/=k.dataset._scaleY,a/=k.dataset._scaleX),p+=k.offsetTop,a+=k.offsetLeft,k=k.offsetParent,
!k)return;e&&(void 0!==e.top&&(p+=e.top),void 0!==e.left&&(a+=e.left,k.scrollLeft=a));k.scrollTop=p}else console.error("offsetParent is not set -- cannot scroll")};b.watchScroll=function(a,e){var c=function(c){d||(d=window.requestAnimationFrame(function(){d=null;var c=a.scrollTop,p=k.lastY;c!==p&&(k.down=c>p);k.lastY=c;e(k)}))},k={down:!0,lastY:a.scrollTop,_eventHandler:c},d=null;a.addEventListener("scroll",c,!0);return k};b.binarySearchFirstItem=h;b.normalizeWheelEventDelta=function(a){var e=Math.sqrt(a.deltaX*
a.deltaX+a.deltaY*a.deltaY),c=Math.atan2(a.deltaY,a.deltaX);-.25*Math.PI<c&&c<.75*Math.PI&&(e=-e);0===a.deltaMode?e/=900:1===a.deltaMode&&(e/=30);return e};b.animationStarted=g;b.localized=d},function(n,b,g){function h(d){d.on("documentload",function(){var c=document.createEvent("CustomEvent");c.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(c)});d.on("pagerendered",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagerendered",!0,!0,{pageNumber:c.pageNumber,
cssTransform:c.cssTransform});c.source.div.dispatchEvent(a)});d.on("textlayerrendered",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:c.pageNumber});c.source.textLayerDiv.dispatchEvent(a)});d.on("pagechange",function(c){var a=document.createEvent("UIEvents");a.initUIEvent("pagechange",!0,!0,window,0);a.pageNumber=c.pageNumber;c.source.container.dispatchEvent(a)});d.on("pagesinit",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagesinit",
!0,!0,null);c.source.container.dispatchEvent(a)});d.on("pagesloaded",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagesloaded",!0,!0,{pagesCount:c.pagesCount});c.source.container.dispatchEvent(a)});d.on("scalechange",function(c){var a=document.createEvent("UIEvents");a.initUIEvent("scalechange",!0,!0,window,0);a.scale=c.scale;a.presetValue=c.presetValue;c.source.container.dispatchEvent(a)});d.on("updateviewarea",function(c){var a=document.createEvent("UIEvents");a.initUIEvent("updateviewarea",
!0,!0,window,0);a.location=c.location;c.source.container.dispatchEvent(a)});d.on("find",function(c){if(c.source!==window){var a=document.createEvent("CustomEvent");a.initCustomEvent("find"+c.type,!0,!0,{query:c.query,phraseSearch:c.phraseSearch,caseSensitive:c.caseSensitive,highlightAll:c.highlightAll,findPrevious:c.findPrevious});window.dispatchEvent(a)}});d.on("attachmentsloaded",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:c.attachmentsCount});
c.source.container.dispatchEvent(a)});d.on("sidebarviewchanged",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("sidebarviewchanged",!0,!0,{view:c.view});c.source.outerContainer.dispatchEvent(a)});d.on("pagemode",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("pagemode",!0,!0,{mode:c.mode});c.source.pdfViewer.container.dispatchEvent(a)});d.on("namedaction",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("namedaction",!0,!0,{action:c.action});
c.source.pdfViewer.container.dispatchEvent(a)});d.on("presentationmodechanged",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("presentationmodechanged",!0,!0,{active:c.active,switchInProgress:c.switchInProgress});window.dispatchEvent(a)});d.on("outlineloaded",function(c){var a=document.createEvent("CustomEvent");a.initCustomEvent("outlineloaded",!0,!0,{outlineCount:c.outlineCount});c.source.container.dispatchEvent(a)})}Object.defineProperty(b,"__esModule",{value:!0});b.getGlobalEventBus=
b.attachDOMEventsToEventBus=void 0;var f=g(1),d=null;b.attachDOMEventsToEventBus=h;b.getGlobalEventBus=function(){if(d)return d;d=new f.EventBus;h(d);return d}},function(n,b,g){Object.defineProperty(b,"__esModule",{value:!0});b.SimpleLinkService=b.PDFLinkService=void 0;var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},f=g(2),d=g(1),m=/^\d+$/;
n=function(){function c(a){a=a||{};this.eventBus=a.eventBus||(0,f.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}function a(a){if(!(a instanceof Array))return!1;var e=a.length,c=!0;if(2>e)return!1;var d=a[0];if(!("object"===("undefined"===typeof d?"undefined":h(d))&&"number"===typeof d.num&&(d.num|0)===d.num&&"number"===typeof d.gen&&(d.gen|0)===d.gen||"number"===typeof d&&(d|0)===d&&0<=d))return!1;d=a[1];if("object"!==("undefined"===typeof d?
"undefined":h(d))||"string"!==typeof d.name)return!1;switch(d.name){case "XYZ":if(5!==e)return!1;break;case "Fit":case "FitB":return 2===e;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==e)return!1;break;case "FitR":if(6!==e)return!1;c=!1;break;default:return!1}for(d=2;d<e;d++){var b=a[d];if(!("number"===typeof b||c&&null===b))return!1}return!0}c.prototype={setDocument:function(a,c){this.baseUrl=c;this.pdfDocument=a;this._pagesRefCache=Object.create(null)},setViewer:function(a){this.pdfViewer=
a},setHistory:function(a){this.pdfHistory=a},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(a){this.pdfViewer.currentPageNumber=a},navigateTo:function(a){var e="",c=this,d=function r(l){var d;if(l instanceof Object)d=c._cachedPageNumber(l);else if((l|0)===l)d=l+1;else{console.error('PDFLinkService_navigateTo: "'+l+'" is not a valid destination reference.');return}d?1>d||d>c.pagesCount?console.error('PDFLinkService_navigateTo: "'+
d+'" is a non-existent page number.'):(c.pdfViewer.scrollPageIntoView({pageNumber:d,destArray:a}),c.pdfHistory&&c.pdfHistory.push({dest:a,hash:e,page:d})):c.pdfDocument.getPageIndex(l).then(function(a){c.cachePageRef(a+1,l);r(l)}).catch(function(){console.error('PDFLinkService_navigateTo: "'+l+'" is not a valid page reference.')})},b;"string"===typeof a?(e=a,b=this.pdfDocument.getDestination(a)):b=Promise.resolve(a);b.then(function(e){a=e;e instanceof Array?d(e[0]):console.error('PDFLinkService_navigateTo: "'+
e+'" is not a valid destination array.')})},getDestinationHash:function(a){return"string"===typeof a?this.getAnchorUrl("#"+(m.test(a)?"nameddest=":"")+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")},getAnchorUrl:function(a){return(this.baseUrl||"")+a},setHash:function(e){var c,k;if(0<=e.indexOf("="))if(e=(0,d.parseQueryString)(e),"search"in e&&this.eventBus.dispatch("findfromurlhash",{source:this,query:e.search.replace(/"/g,""),phraseSearch:"true"===
e.phrase}),"nameddest"in e)this.pdfHistory&&this.pdfHistory.updateNextHashParam(e.nameddest),this.navigateTo(e.nameddest);else{"page"in e&&(c=e.page|0||1);if("zoom"in e){var b=e.zoom.split(","),f=b[0],h=parseFloat(f);-1===f.indexOf("Fit")?k=[null,{name:"XYZ"},1<b.length?b[1]|0:null,2<b.length?b[2]|0:null,h?h/100:f]:"Fit"===f||"FitB"===f?k=[null,{name:f}]:"FitH"===f||"FitBH"===f||"FitV"===f||"FitBV"===f?k=[null,{name:f},1<b.length?b[1]|0:null]:"FitR"===f?5!==b.length?console.error("PDFLinkService_setHash: Not enough parameters for 'FitR'."):
k=[null,{name:f},b[1]|0,b[2]|0,b[3]|0,b[4]|0]:console.error("PDFLinkService_setHash: '"+f+"' is not a valid zoom value.")}k?this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:k,allowNegativeOffset:!0}):c&&(this.page=c);"pagemode"in e&&this.eventBus.dispatch("pagemode",{source:this,mode:e.pagemode})}else{m.test(e)&&e<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+e+'" form instead.'),
this.page=e|0);k=unescape(e);try{k=JSON.parse(k),k instanceof Array||(k=k.toString())}catch(r){}"string"===typeof k||a(k)?(this.pdfHistory&&this.pdfHistory.updateNextHashParam(k),this.navigateTo(k)):console.error("PDFLinkService_setHash: '"+unescape(e)+"' is not a valid destination.")}},executeNamedAction:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;
break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})},onFileAttachmentAnnotation:function(a){this.eventBus.dispatch("fileattachmentannotation",{source:this,id:a.id,filename:a.filename,content:a.content})},cachePageRef:function(a,c){this._pagesRefCache[c.num+" "+c.gen+" R"]=a},_cachedPageNumber:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||
null}};return c}();g=function(){function c(){}c.prototype={get page(){return 0},set page(a){},navigateTo:function(a){},getDestinationHash:function(a){return"#"},getAnchorUrl:function(a){return"#"},setHash:function(a){},executeNamedAction:function(a){},onFileAttachmentAnnotation:function(a){},cachePageRef:function(a,c){}};return c}();b.PDFLinkService=n;b.SimpleLinkService=g},function(n,b,g){function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultAnnotationLayerFactory=b.AnnotationLayerBuilder=
void 0;var f=g(0),d=g(1),m=g(3),c=function(){function a(a){this.pageDiv=a.pageDiv;this.pdfPage=a.pdfPage;this.renderInteractiveForms=a.renderInteractiveForms;this.linkService=a.linkService;this.downloadManager=a.downloadManager;this.div=null}a.prototype={render:function(a,c){var e=this,b={intent:void 0===c?"display":c};this.pdfPage.getAnnotations(b).then(function(c){a=a.clone({dontFlip:!0});b={viewport:a,div:e.div,annotations:c,page:e.pdfPage,renderInteractiveForms:e.renderInteractiveForms,linkService:e.linkService,
downloadManager:e.downloadManager};e.div?f.AnnotationLayer.update(b):0!==c.length&&(e.div=document.createElement("div"),e.div.className="annotationLayer",e.pageDiv.appendChild(e.div),b.div=e.div,f.AnnotationLayer.render(b),"undefined"!==typeof d.mozL10n&&d.mozL10n.translate(e.div))})},hide:function(){this.div&&this.div.setAttribute("hidden","true")}};return a}();h.prototype={createAnnotationLayerBuilder:function(a,e,d){return new c({pageDiv:a,pdfPage:e,renderInteractiveForms:d,linkService:new m.SimpleLinkService})}};
b.AnnotationLayerBuilder=c;b.DefaultAnnotationLayerFactory=h},function(n,b,g){Object.defineProperty(b,"__esModule",{value:!0});b.PDFPageView=void 0;var h=g(1),f=g(0),d=g(2),m=g(7);n=function(){function c(a){var c=a.container,b=a.id,k=a.scale,f=a.defaultViewport,g=a.renderingQueue,x=a.textLayerFactory,r=a.annotationLayerFactory,l=a.enhanceTextSelection||!1,q=a.renderInteractiveForms||!1;this.id=b;this.renderingId="page"+b;this.pageLabel=null;this.rotation=0;this.scale=k||h.DEFAULT_SCALE;this.viewport=
f;this.pdfPageRotate=f.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=l;this.renderInteractiveForms=q;this.eventBus=a.eventBus||(0,d.getGlobalEventBus)();this.renderingQueue=g;this.textLayerFactory=x;this.annotationLayerFactory=r;this.renderer=a.renderer||h.RendererType.CANVAS;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=m.RenderingStates.INITIAL;this.annotationLayer=this.zoomLayer=this.textLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=
null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;c.appendChild(a)}c.prototype={setPdfPage:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*h.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()},destroy:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()},
_resetZoomLayer:function(a){if(this.zoomLayer){var c=this.zoomLayer.firstChild;this.paintedViewportMap.delete(c);c.width=0;c.height=0;a&&this.zoomLayer.remove();this.zoomLayer=null}},reset:function(a,c){this.cancelRendering();var e=this.div;e.style.width=Math.floor(this.viewport.width)+"px";e.style.height=Math.floor(this.viewport.height)+"px";var d=e.childNodes;a=a&&this.zoomLayer||null;c=c&&this.annotationLayer&&this.annotationLayer.div||null;for(var b=d.length-1;0<=b;b--){var f=d[b];a!==f&&c!==
f&&e.removeChild(f)}e.removeAttribute("data-loaded");c?this.annotationLayer.hide():this.annotationLayer=null;a||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";e.appendChild(this.loadingIconDiv)},update:function(a,c){this.scale=a||this.scale;
"undefined"!==typeof c&&(this.rotation=c);this.viewport=this.viewport.clone({scale:this.scale*h.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{a=!1;this.canvas&&0<f.PDFJS.maxCanvasPixels&&(c=this.outputScale,(Math.floor(this.viewport.width)*c.sx|0)*(Math.floor(this.viewport.height)*c.sy|0)>f.PDFJS.maxCanvasPixels&&(a=!0));if(this.canvas){if(f.PDFJS.useOnlyCssZoom||
this.hasRestrictedScaling&&a){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}},cancelRendering:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=m.RenderingStates.INITIAL;this.resume=null;this.textLayer&&
(this.textLayer.cancel(),this.textLayer=null)},updatePosition:function(){this.textLayer&&this.textLayer.render(200)},cssTransform:function(a,c){var e=this.viewport.width,d=this.viewport.height,b=this.div;a.style.width=a.parentNode.style.width=b.style.width=Math.floor(e)+"px";a.style.height=a.parentNode.style.height=b.style.height=Math.floor(d)+"px";var b=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,h=Math.abs(b),g=1,m=1;if(90===h||270===h)g=d/e,m=e/d;f.CustomStyle.setProp("transform",
a,"rotate("+b+"deg) scale("+g+","+m+")");if(this.textLayer){b=this.textLayer.viewport;a=Math.abs(this.viewport.rotation-b.rotation);d=e/b.width;if(90===a||270===a)d=e/b.height;var e=this.textLayer.textLayerDiv,l,q;switch(a){case 0:l=q=0;break;case 90:l=0;q="-"+e.style.height;break;case 180:l="-"+e.style.width;q="-"+e.style.height;break;case 270:l="-"+e.style.width;q=0;break;default:console.error("Bad rotation value.")}f.CustomStyle.setProp("transform",e,"rotate("+a+"deg) scale("+d+", "+d+") translate("+
l+", "+q+")");f.CustomStyle.setProp("transformOrigin",e,"0% 0%")}c&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function(a,c){return this.viewport.convertToPdfPoint(a,c)},draw:function(){this.renderingState!==m.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());this.renderingState=m.RenderingStates.RUNNING;var a=this,c=this.pdfPage,
d=this.div,b=document.createElement("div");b.style.width=d.style.width;b.style.height=d.style.height;b.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?d.insertBefore(b,this.annotationLayer.div):d.appendChild(b);var g=null,w=null;this.textLayerFactory&&(g=document.createElement("div"),g.className="textLayer",g.style.width=b.style.width,g.style.height=b.style.height,this.annotationLayer&&this.annotationLayer.div?d.insertBefore(g,this.annotationLayer.div):d.appendChild(g),
w=this.textLayerFactory.createTextLayerBuilder(g,this.id-1,this.viewport,this.enhanceTextSelection));this.textLayer=w;g=null;this.renderingQueue&&(g=function(c){a.renderingQueue.isHighestPriority(a)?c():(a.renderingState=m.RenderingStates.PAUSED,a.resume=function(){a.renderingState=m.RenderingStates.RUNNING;c()})});var x=function(e){r===a.paintTask&&(a.paintTask=null);if("cancelled"===e||e instanceof f.RenderingCancelledException)return a.error=null,Promise.resolve(void 0);a.renderingState=m.RenderingStates.FINISHED;
a.loadingIconDiv&&(d.removeChild(a.loadingIconDiv),delete a.loadingIconDiv);a._resetZoomLayer(!0);a.error=e;a.stats=c.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:!1});return e?Promise.reject(e):Promise.resolve(void 0)},r=this.renderer===h.RendererType.SVG?this.paintOnSvg(b):this.paintOnCanvas(b);r.onRenderContinue=g;this.paintTask=r;b=r.promise.then(function(){return x(null).then(function(){w&&c.getTextContent({normalizeWhitespace:!0}).then(function(a){w.setTextContent(a);
w.render(200)})})},function(a){return x(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(d,c,this.renderInteractiveForms)),this.annotationLayer.render(this.viewport,"display"));d.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return b},paintOnCanvas:function(a){var c=(0,f.createPromiseCapability)(),d={promise:c.promise,onRenderContinue:function(a){a()},cancel:function(){t.cancel()}},b=this.viewport,
g=document.createElement("canvas");g.id="page"+this.id;g.setAttribute("hidden","hidden");var m=!0,x=function(){m&&(g.removeAttribute("hidden"),m=!1)};a.appendChild(g);this.canvas=g;g.mozOpaque=!0;a=g.getContext("2d",{alpha:!1});var r=(0,h.getOutputScale)(a);this.outputScale=r;if(f.PDFJS.useOnlyCssZoom){var l=b.clone({scale:h.CSS_UNITS});r.sx*=l.width/b.width;r.sy*=l.height/b.height;r.scaled=!0}0<f.PDFJS.maxCanvasPixels&&(l=Math.sqrt(f.PDFJS.maxCanvasPixels/(b.width*b.height)),r.sx>l||r.sy>l?(r.sx=
l,r.sy=l,this.hasRestrictedScaling=r.scaled=!0):this.hasRestrictedScaling=!1);var l=(0,h.approximateFraction)(r.sx),q=(0,h.approximateFraction)(r.sy);g.width=(0,h.roundToDivide)(b.width*r.sx,l[0]);g.height=(0,h.roundToDivide)(b.height*r.sy,q[0]);g.style.width=(0,h.roundToDivide)(b.width,l[1])+"px";g.style.height=(0,h.roundToDivide)(b.height,q[1])+"px";this.paintedViewportMap.set(g,b);var t=this.pdfPage.render({canvasContext:a,transform:r.scaled?[r.sx,0,0,r.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});
t.onContinue=function(a){x();if(d.onRenderContinue)d.onRenderContinue(a);else a()};t.promise.then(function(){x();c.resolve(void 0)},function(a){x();c.reject(a)});return d},paintOnSvg:function(a){var c=!1,d=function(){if(c){if(f.PDFJS.pdfjsNext)throw new f.RenderingCancelledException("Rendering cancelled, page "+b.id,"svg");throw"cancelled";}},b=this,g=this.pdfPage,w=this.viewport.clone({scale:h.CSS_UNITS});return{promise:g.getOperatorList().then(function(c){d();return(new f.SVGGraphics(g.commonObjs,
g.objs)).getSVG(c,w).then(function(c){d();b.svg=c;b.paintedViewportMap.set(c,w);c.style.width=a.style.width;c.style.height=a.style.height;b.renderingState=m.RenderingStates.FINISHED;a.appendChild(c)})}),onRenderContinue:function(a){a()},cancel:function(){c=!0}}},setPageLabel:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}};return c}();b.PDFPageView=n},function(n,b,g){function h(){}
Object.defineProperty(b,"__esModule",{value:!0});b.DefaultTextLayerFactory=b.TextLayerBuilder=void 0;var f=g(2),d=g(0),m=function(){function c(a){this.textLayerDiv=a.textLayerDiv;this.eventBus=a.eventBus||(0,f.getGlobalEventBus)();this.textContent=null;this.renderingDone=!1;this.pageIdx=a.pageIndex;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=a.viewport;this.textDivs=[];this.findController=a.findController||null;this.textLayerRenderTask=null;this.enhanceTextSelection=a.enhanceTextSelection;
this._bindMouse()}c.prototype={_finishRendering:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})},render:function(a){if(this.textContent&&!this.renderingDone){this.cancel();this.textDivs=[];var c=document.createDocumentFragment();this.textLayerRenderTask=(0,d.renderTextLayer)({textContent:this.textContent,
container:c,viewport:this.viewport,textDivs:this.textDivs,timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){this.textLayerDiv.appendChild(c);this._finishRendering();this.updateMatches()}.bind(this),function(a){})}},cancel:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)},setTextContent:function(a){this.cancel();this.textContent=a},convertMatches:function(a,c){var d=0,e=0,b=this.textContent.items,
g=b.length-1,f=null===this.findController?0:this.findController.state.query.length,m=[];if(!a)return m;for(var l=0,q=a.length;l<q;l++){for(var t=a[l];d!==g&&t>=e+b[d].str.length;)e+=b[d].str.length,d++;d===b.length&&console.error("Could not find a matching mapping");for(var h={begin:{divIdx:d,offset:t-e}},t=c?t+c[l]:t+f;d!==g&&t>e+b[d].str.length;)e+=b[d].str.length,d++;h.end={divIdx:d,offset:t-e};m.push(h)}return m},renderMatches:function(a){function c(a,c){var e=a.divIdx;g[e].textContent="";d(e,
0,a.offset,c)}function d(a,c,d,e){var l=g[a];a=b[a].str.substring(c,d);a=document.createTextNode(a);e?(c=document.createElement("span"),c.className=e,c.appendChild(a),l.appendChild(c)):l.appendChild(a)}if(0!==a.length){var b=this.textContent.items,g=this.textDivs,f=null,m=this.pageIdx,h=null===this.findController?!1:m===this.findController.selected.pageIdx,l=null===this.findController?-1:this.findController.selected.matchIdx,q=l,t=q+1;if(null===this.findController?0:this.findController.state.highlightAll)q=
0,t=a.length;else if(!h)return;for(;q<t;q++){var y=a[q],u=y.begin,y=y.end,n=h&&q===l?" selected":"";this.findController&&this.findController.updateMatchPosition(m,q,g,u.divIdx);f&&u.divIdx===f.divIdx?d(f.divIdx,f.offset,u.offset):(null!==f&&d(f.divIdx,f.offset,void 0),c(u));if(u.divIdx===y.divIdx)d(u.divIdx,u.offset,y.offset,"highlight"+n);else{d(u.divIdx,u.offset,void 0,"highlight begin"+n);f=u.divIdx+1;for(u=y.divIdx;f<u;f++)g[f].className="highlight middle"+n;c(y,"highlight end"+n)}f=y}f&&d(f.divIdx,
f.offset,void 0)}},updateMatches:function(){if(this.renderingDone){for(var a=this.matches,c=this.textDivs,d=this.textContent.items,b=-1,f=0,g=a.length;f<g;f++){for(var m=a[f],b=Math.max(b,m.begin.divIdx),h=m.end.divIdx;b<=h;b++){var l=c[b];l.textContent=d[b].str;l.className=""}b=m.end.divIdx+1}if(null!==this.findController&&this.findController.active){var q,t;null!==this.findController&&(q=this.findController.pageMatches[this.pageIdx]||null,t=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||
null:null);this.matches=this.convertMatches(q,t);this.renderMatches(this.matches)}}},_bindMouse:function(){var a=this.textLayerDiv,c=this,d=null;a.addEventListener("mousedown",function(b){if(c.enhanceTextSelection&&c.textLayerRenderTask)c.textLayerRenderTask.expandTextDivs(!0),d&&(clearTimeout(d),d=null);else{var e=a.querySelector(".endOfContent");if(e){var f=b.target!==a;if(f=f&&"none"!==window.getComputedStyle(e).getPropertyValue("-moz-user-select"))f=a.getBoundingClientRect(),e.style.top=(100*
Math.max(0,(b.pageY-f.top)/f.height)).toFixed(2)+"%";e.classList.add("active")}}});a.addEventListener("mouseup",function(b){if(c.enhanceTextSelection&&c.textLayerRenderTask)d=setTimeout(function(){c.textLayerRenderTask&&c.textLayerRenderTask.expandTextDivs(!1);d=null},300);else if(b=a.querySelector(".endOfContent"))b.style.top="",b.classList.remove("active")})}};return c}();h.prototype={createTextLayerBuilder:function(c,a,d,b){return new m({textLayerDiv:c,pageIndex:a,viewport:d,enhanceTextSelection:b})}};
b.TextLayerBuilder=m;b.DefaultTextLayerFactory=h},function(n,b,g){Object.defineProperty(b,"__esModule",{value:!0});var h={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};n=function(){function b(){this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}b.prototype={setViewer:function(d){this.pdfViewer=d},setThumbnailViewer:function(d){this.pdfThumbnailViewer=d},isHighestPriority:function(d){return this.highestPriorityPage===
d.renderingId},renderHighestPriority:function(d){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);this.pdfViewer.forceRendering(d)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))},getHighestPriority:function(d,b,c){var a=d.views,e=a.length;if(0===e)return!1;for(var f=0;f<e;++f){var g=a[f].view;if(!this.isViewFinished(g))return g}d=c?d.last.id:
d.first.id-2;return b[d]&&!this.isViewFinished(b[d])?b[d]:null},isViewFinished:function(d){return d.renderingState===h.FINISHED},renderView:function(d){switch(d.renderingState){case h.FINISHED:return!1;case h.PAUSED:this.highestPriorityPage=d.renderingId;d.resume();break;case h.RUNNING:this.highestPriorityPage=d.renderingId;break;case h.INITIAL:this.highestPriorityPage=d.renderingId;var b=function(){this.renderHighestPriority()}.bind(this);d.draw().then(b,b)}return!0}};return b}();b.RenderingStates=
h;b.PDFRenderingQueue=n},function(n,b,g){function h(d,c){var a=document.createElement("a");a.click?(a.href=d,a.target="_parent","download"in a&&(a.download=c),(document.body||document.documentElement).appendChild(a),a.click(),a.parentNode.removeChild(a)):(window.top===window&&d.split("#")[0]===window.location.href.split("#")[0]&&(c=-1===d.indexOf("?")?"?":"&",d=d.replace(/#|$/,c+"$&")),window.open(d,"_parent"))}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.DownloadManager=void 0;
var d=g(0);f.prototype={downloadUrl:function(b,c){(0,d.createValidAbsoluteUrl)(b,"http://example.com")&&h(b+"#pdfjs.action=download",c)},downloadData:function(b,c,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([b],{type:a}),c);b=(0,d.createObjectURL)(b,a,d.PDFJS.disableCreateObjectURL);h(b,c)},download:function(b,c,a){navigator.msSaveBlob?navigator.msSaveBlob(b,a)||this.downloadUrl(c,a):d.PDFJS.disableCreateObjectURL?this.downloadUrl(c,a):(b=URL.createObjectURL(b),h(b,a))}};b.DownloadManager=
f},function(n,b,g){Object.defineProperty(b,"__esModule",{value:!0});b.PDFFindController=b.FindStates=void 0;var h=g(1),f={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3},d={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"};n=function(){function b(c){this.pdfViewer=c.pdfViewer||null;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();c=Object.keys(d).join("");this.normalizationRegex=
new RegExp("["+c+"]","g")}b.prototype={reset:function(){var c=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(a){c.resolveFirstPage=
a})},normalize:function(c){return c.replace(this.normalizationRegex,function(a){return d[a]})},_prepareMatches:function(c,a,d){function b(a,c){var d,b;d=a[c];b=a[c+1];if(c<a.length-1&&d.match===b.match)return d.skipped=!0;for(b=c-1;0<=b;b--)if(c=a[b],!c.skipped){if(c.match+c.matchLength<d.match)break;if(c.match+c.matchLength>=d.match+d.matchLength)return d.skipped=!0}return!1}var e,f;c.sort(function(a,c){return a.match===c.match?a.matchLength-c.matchLength:a.match-c.match});e=0;for(f=c.length;e<f;e++)b(c,
e)||(a.push(c[e].match),d.push(c[e].matchLength))},calcFindPhraseMatch:function(c,a,d){for(var b=[],e=c.length,f=-e;;){f=d.indexOf(c,f+e);if(-1===f)break;b.push(f)}this.pageMatches[a]=b},calcFindWordMatch:function(c,a,d){var b=[];c=c.match(/\S+/g);for(var e,f,g,h=0,m=c.length;h<m;h++)for(e=c[h],f=e.length,g=-f;;){g=d.indexOf(e,g+f);if(-1===g)break;b.push({match:g,matchLength:f,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[a]=[];this.pageMatches[a]=[];this._prepareMatches(b,
this.pageMatches[a],this.pageMatchesLength[a])},calcFindMatch:function(c){var a=this.normalize(this.pageContents[c]),d=this.normalize(this.state.query),b=this.state.phraseSearch;0!==d.length&&(this.state.caseSensitive||(a=a.toLowerCase(),d=d.toLowerCase()),b?this.calcFindPhraseMatch(d,c,a):this.calcFindWordMatch(d,c,a),this.updatePage(c),this.resumePageIdx===c&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[c].length&&(this.matchCount+=this.pageMatches[c].length,this.updateUIResultsCount()))},
extractText:function(){function c(d){f.pdfViewer.getPageTextContent(d).then(function(b){b=b.items;for(var e=[],g=0,l=b.length;g<l;g++)e.push(b[g].str);f.pageContents.push(e.join(""));a[d](d);d+1<f.pdfViewer.pagesCount&&c(d+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents=[];for(var a=[],d=this.pdfViewer.pagesCount,b=0;b<d;b++)this.extractTextPromises.push(new Promise(function(c){a.push(c)}));var f=this;c(0)}},executeCommand:function(c,a){if(null===this.state||"findagain"!==
c)this.dirtyMatch=!0;this.state=a;this.updateUIState(f.FIND_PENDING);this._firstPagePromise.then(function(){this.extractText();clearTimeout(this.findTimeout);"find"===c?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(c){this.selected.pageIdx===c&&(this.pdfViewer.currentPageNumber=c+1);c=this.pdfViewer.getPageView(c);c.textLayer&&c.textLayer.updateMatches()},nextMatch:function(){var c=this.state.findPrevious,a=this.pdfViewer.currentPageNumber-
1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch){this.dirtyMatch=!1;this.selected.pageIdx=this.selected.matchIdx=-1;this.offset.pageIdx=a;this.offset.matchIdx=null;this.hadMatch=!1;this.resumePageIdx=null;this.pageMatches=[];this.matchCount=0;this.pageMatchesLength=null;for(var b=this,a=0;a<d;a++)this.updatePage(a),a in this.pendingFindMatches||(this.pendingFindMatches[a]=!0,this.extractTextPromises[a].then(function(a){delete b.pendingFindMatches[a];b.calcFindMatch(a)}))}if(""===this.state.query)this.updateUIState(f.FIND_FOUND);
else if(!this.resumePageIdx){a=this.offset;this.pagesToSearch=d;if(null!==a.matchIdx){d=this.pageMatches[a.pageIdx].length;if(!c&&a.matchIdx+1<d||c&&0<a.matchIdx){this.hadMatch=!0;a.matchIdx=c?a.matchIdx-1:a.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(c)}this.nextPageMatch()}},matchesReady:function(c){var a=this.offset;c=c.length;var d=this.state.findPrevious;if(c)return this.hadMatch=!0,a.matchIdx=d?c-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(d);return a.wrapped&&(a.matchIdx=
null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1},updateMatchPosition:function(c,a,d,b){this.selected.matchIdx===a&&this.selected.pageIdx===c&&(0,h.scrollIntoView)(d[b],{top:-50,left:-400},!0)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var c=this.offset.pageIdx,a=this.pageMatches[c];if(!a){this.resumePageIdx=c;break}}while(!this.matchesReady(a))},advanceOffsetPage:function(c){var a=this.offset,d=this.extractTextPromises.length;
a.pageIdx=c?a.pageIdx-1:a.pageIdx+1;a.matchIdx=null;this.pagesToSearch--;if(a.pageIdx>=d||0>a.pageIdx)a.pageIdx=c?d-1:0,a.wrapped=!0},updateMatch:function(c){var a=f.FIND_NOTFOUND,d=this.offset.wrapped;this.offset.wrapped=!1;c&&(c=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,a=d?f.FIND_WRAPPED:f.FIND_FOUND,-1!==c&&c!==this.selected.pageIdx&&this.updatePage(c));this.updateUIState(a,this.state.findPrevious);-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},
updateUIResultsCount:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)},updateUIState:function(c,a){if(this.onUpdateState)this.onUpdateState(c,a,this.matchCount)}};return b}();b.FindStates=f;b.PDFFindController=n},function(n,b,g){function h(d){this.linkService=d.linkService;this.eventBus=d.eventBus||(0,f.getGlobalEventBus)();this.initialized=!1;this.initialBookmark=this.initialDestination=null}Object.defineProperty(b,"__esModule",{value:!0});b.PDFHistory=void 0;var f=
g(2);h.prototype={initialize:function(d){function b(){e.previousHash=window.location.hash.slice(1);e._pushToHistory({hash:e.previousHash},!1,!0);e._updatePreviousBookmark()}function c(a,c){function d(){window.removeEventListener("popstate",d);window.addEventListener("popstate",b);e._pushToHistory(a,!1,!0);history.forward()}function b(){window.removeEventListener("popstate",b);e.allowHashChange=!0;e.historyUnlocked=!0;c()}e.historyUnlocked=!1;e.allowHashChange=!1;window.addEventListener("popstate",
d);history.back()}function a(){var c=e._getPreviousParams(null,!0);c&&(e._pushToHistory(c,!1,!e.current.dest&&e.current.hash!==e.previousHash),e._updatePreviousBookmark());window.removeEventListener("beforeunload",a)}this.initialized=!0;this.reInitialized=!1;this.historyUnlocked=this.allowHashChange=!0;this.isViewerInPresentationMode=!1;this.previousHash=window.location.hash.substring(1);this.currentBookmark="";this.currentPage=0;this.updatePreviousBookmark=!1;this.previousBookmark="";this.previousPage=
0;this.nextHashParam="";this.fingerprint=d;this.currentUid=this.uid=0;this.current={};d=window.history.state;this._isStateObjectDefined(d)?(d.target.dest?this.initialDestination=d.target.dest:this.initialBookmark=d.target.hash,this.currentUid=d.uid,this.uid=d.uid+1,this.current=d.target):(d&&d.fingerprint&&this.fingerprint!==d.fingerprint&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var e=this;window.addEventListener("popstate",function(a){e.historyUnlocked&&
(a.state?e._goTo(a.state):0===e.uid?c(e.previousHash&&e.currentBookmark&&e.previousHash!==e.currentBookmark?{hash:e.currentBookmark,page:e.currentPage}:{page:1},function(){b()}):b())});window.addEventListener("beforeunload",a);window.addEventListener("pageshow",function(c){window.addEventListener("beforeunload",a)});e.eventBus.on("presentationmodechanged",function(a){e.isViewerInPresentationMode=a.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(d){return d&&
0<=d.uid&&d.fingerprint&&this.fingerprint===d.fingerprint&&d.target&&d.target.hash?!0:!1},_pushOrReplaceState:function(d,b){b?window.history.replaceState(d,"",document.URL):window.history.pushState(d,"",document.URL)},get isHashChangeUnlocked(){return this.initialized?this.allowHashChange:!0},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=
!1)},updateCurrentBookmark:function(d,b){this.initialized&&(this.currentBookmark=d.substring(1),this.currentPage=b|0,this._updatePreviousBookmark())},updateNextHashParam:function(d){this.initialized&&(this.nextHashParam=d)},push:function(d,b){if(this.initialized&&this.historyUnlocked)if(d.dest&&!d.hash&&(d.hash=this.current.hash&&this.current.dest&&this.current.dest===d.dest?this.current.hash:this.linkService.getDestinationHash(d.dest).split("#")[1]),d.page&&(d.page|=0),b)b=window.history.state.target,
b||(this._pushToHistory(d,!1),this.previousHash=window.location.hash.substring(1)),this.updatePreviousBookmark=this.nextHashParam?!1:!0,b&&this._updatePreviousBookmark();else{if(this.nextHashParam){if(this.nextHashParam===d.hash){this.nextHashParam=null;this.updatePreviousBookmark=!0;return}this.nextHashParam=null}d.hash?this.current.hash?this.current.hash!==d.hash?this._pushToHistory(d,!0):(!this.current.page&&d.page&&this._pushToHistory(d,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(d,
!0):this.current.page&&d.page&&this.current.page!==d.page&&this._pushToHistory(d,!0)}},_getPreviousParams:function(d,b){if(!this.currentBookmark||!this.currentPage)return null;this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1);if(0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!d||b){if(this.previousBookmark===this.currentBookmark)return null}else if(this.current.page||d){if(this.previousPage===this.currentPage)return null}else return null;d=
{hash:this.currentBookmark,page:this.currentPage};this.isViewerInPresentationMode&&(d.hash=null);return d},_stateObj:function(d){return{fingerprint:this.fingerprint,uid:this.uid,target:d}},_pushToHistory:function(d,b,c){this.initialized&&(!d.hash&&d.page&&(d.hash="page="+d.page),b&&!c&&(b=this._getPreviousParams())&&this._pushToHistory(b,!1,!this.current.dest&&this.current.hash!==this.previousHash),this._pushOrReplaceState(this._stateObj(d),c||0===this.uid),this.currentUid=this.uid++,this.current=
d,this.updatePreviousBookmark=!0)},_goTo:function(d){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(d)){if(!this.reInitialized&&d.uid<this.currentUid){var b=this._getPreviousParams(!0);if(b){this._pushToHistory(this.current,!1);this._pushToHistory(b,!1);this.currentUid=d.uid;window.history.back();return}}this.historyUnlocked=!1;d.target.dest?this.linkService.navigateTo(d.target.dest):this.linkService.setHash(d.target.hash);this.currentUid=d.uid;d.uid>this.uid&&(this.uid=d.uid);
this.current=d.target;this.updatePreviousBookmark=!0;d=window.location.hash.substring(1);this.previousHash!==d&&(this.allowHashChange=!1);this.previousHash=d;this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(d){if(this.initialized&&this.historyUnlocked){var b=window.history.state;-1===d&&b&&0<b.uid?window.history.back():1===d&&b&&b.uid<this.uid-1&&window.history.forward()}}};b.PDFHistory=h},function(n,b,g){Object.defineProperty(b,"__esModule",{value:!0});
b.PDFViewer=b.PresentationModeState=void 0;var h=g(0),f=g(1),d=g(7),m=g(4),c=g(2),a=g(5),e=g(3),p=g(6),k={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},v=/iphone|ipad|ipod|android|blackberry|bb10|mini|windowssce|palm/i.test(navigator.userAgent)?5:10;n=function(){function b(a){var c=[];this.push=function(b){var d=c.indexOf(b);0<=d&&c.splice(d,1);c.push(b);c.length>a&&c.shift().destroy()};this.resize=function(b){for(a=b;c.length>a;)c.shift().destroy()}}function g(a){return a.width<=a.height}function n(a){this.container=
a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||(0,c.getGlobalEventBus)();this.linkService=a.linkService||new e.SimpleLinkService;this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=a.renderer||f.RendererType.CANVAS;(this.defaultRenderingQueue=
!a.renderingQueue)?(this.renderingQueue=new d.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=(0,f.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=k.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}n.prototype={get pagesCount(){return this._pages.length},getPageView:function(a){return this._pages[a]},get pageViewsReady(){return this._pageViewsReady},get currentPageNumber(){return this._currentPageNumber},
set currentPageNumber(a){if((a|0)!==a)throw Error("Invalid page number.");this.pdfDocument?this._setCurrentPageNumber(a,!0):this._currentPageNumber=a},_setCurrentPageNumber:function(a,c){if(this._currentPageNumber===a)c&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var b={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",b);this.eventBus.dispatch("pagechange",b);c&&this._resetCurrentPageView()}else console.error('PDFViewer_setCurrentPageNumber: "'+
a+'" is out of bounds.')},get currentPageLabel(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set currentPageLabel(a){var c=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(c=a+1));this.currentPageNumber=c},get currentScale(){return this._currentScale!==f.UNKNOWN_SCALE?this._currentScale:f.DEFAULT_SCALE},set currentScale(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument?this._setScale(a,!1):(this._currentScale=a,this._currentScaleValue=a!==f.UNKNOWN_SCALE?
a.toString():null)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(a){this.pdfDocument?this._setScale(a,!1):(this._currentScale=isNaN(a)?f.UNKNOWN_SCALE:a,this._currentScaleValue=a.toString())},get pagesRotation(){return this._pagesRotation},set pagesRotation(a){if("number"!==typeof a||0!==a%90)throw Error("Invalid pages rotation angle.");this._pagesRotation=a;if(this.pdfDocument){for(var c=0,b=this._pages.length;c<b;c++){var d=this._pages[c];d.update(d.scale,a)}this._setScale(this._currentScaleValue,
!0);this.defaultRenderingQueue&&this.update()}},setDocument:function(c){var b=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=c){var d=c.numPages,e=(0,h.createPromiseCapability)();this.pagesPromise=e.promise;e.promise.then(function(){b._pageViewsReady=!0;b.eventBus.dispatch("pagesloaded",{source:b,pagesCount:d})});var l=!1,g=(0,h.createPromiseCapability)();this.onePageRendered=g.promise;var k=function(a){a.onBeforeDraw=function(){b._buffer.push(a)};a.onAfterDraw=
function(){l||(l=!0,g.resolve())}},m=c.getPage(1);this.firstPagePromise=m;return m.then(function(l){var t=b.currentScale;l=l.getViewport(t*f.CSS_UNITS);for(var q=1;q<=d;++q){var u=null;h.PDFJS.disableTextLayer||(u=b);u=new a.PDFPageView({container:b.viewer,eventBus:b.eventBus,id:q,scale:t,defaultViewport:l.clone(),renderingQueue:b.renderingQueue,textLayerFactory:u,annotationLayerFactory:b,enhanceTextSelection:b.enhanceTextSelection,renderInteractiveForms:b.renderInteractiveForms,renderer:b.renderer});
k(u);b._pages.push(u)}g.promise.then(function(){if(h.PDFJS.disableAutoFetch)e.resolve();else for(var a=d,f=1;f<=d;++f)c.getPage(f).then(function(b,c){var d=this._pages[b-1];d.pdfPage||d.setPdfPage(c);this.linkService.cachePageRef(b,c.ref);0===--a&&e.resolve()}.bind(b,f))});b.eventBus.dispatch("pagesinit",{source:b});b.defaultRenderingQueue&&b.update();b.findController&&b.findController.resolveFirstPage()})}},setPageLabels:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===
a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;a=0;for(var b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}},_resetView:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=f.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new b(v);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;
this.viewer.textContent=""},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var a=0,b=this._pages.length;a<b;a++)this._pages[a].updatePosition()}},_setScaleDispatchEvent:function(a,b,c){a={source:this,scale:a,presetValue:c?b:void 0};this.eventBus.dispatch("scalechanging",a);this.eventBus.dispatch("scalechange",a)},_setScaleUpdatePages:function(a,b,c,d){this._currentScaleValue=b.toString();var e;e=this._currentScale;e=a===e?!0:1E-15>Math.abs(a-e)?!0:!1;if(e)d&&this._setScaleDispatchEvent(a,
b,!0);else{e=0;for(var f=this._pages.length;e<f;e++)this._pages[e].update(a);this._currentScale=a;if(!c){c=this._currentPageNumber;var g;!this._location||h.PDFJS.ignoreCurrentPositionOnZoom||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,g=[null,{name:"XYZ"},this._location.left,this._location.top,null]);this.scrollPageIntoView({pageNumber:c,destArray:g,allowNegativeOffset:!0})}this._setScaleDispatchEvent(a,b,d);this.defaultRenderingQueue&&this.update()}},
_setScale:function(a,b){var c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var d=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:f.SCROLLBAR_PADDING))/c.width*c.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:f.VERTICAL_PADDING))/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=e;break;case "page-fit":c=Math.min(d,
e);break;case "auto":c=Math.min(f.MAX_AUTO_SCALE,c.width>c.height?Math.min(e,d):d);break;default:console.error('PDFViewer_setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(c,a,b,!0)}},_resetCurrentPageView:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var a=this._pages[this._currentPageNumber-1];(0,f.scrollIntoView)(a.div)},scrollPageIntoView:function(a){if(this.pdfDocument){if(1<arguments.length||"number"===typeof a){console.warn("Call of scrollPageIntoView() with obsolete signature.");
var c={};"number"===typeof a&&(c.pageNumber=a);arguments[1]instanceof Array&&(c.destArray=arguments[1]);a=c}var b=a.pageNumber||0,d=a.destArray||null,c=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!d)this._setCurrentPageNumber(b,!0);else if(b=this._pages[b-1]){var e=0,g=0,l=0,h=0,k,m;m=0===b.rotation%180?!1:!0;k=(m?b.height:b.width)/b.scale/f.CSS_UNITS;m=(m?b.width:b.height)/b.scale/f.CSS_UNITS;switch(d[1].name){case "XYZ":e=d[2];g=d[3];k=d[4];e=null!==e?e:0;g=null!==g?g:m;break;case "Fit":case "FitB":k=
"page-fit";break;case "FitH":case "FitBH":g=d[2];k="page-width";null===g&&this._location&&(e=this._location.left,g=this._location.top);break;case "FitV":case "FitBV":e=d[2];l=k;h=m;k="page-height";break;case "FitR":e=d[2];g=d[3];l=d[4]-e;h=d[5]-g;m=this.removePageBorders?0:f.VERTICAL_PADDING;k=(this.container.clientWidth-(this.removePageBorders?0:f.SCROLLBAR_PADDING))/l/f.CSS_UNITS;m=(this.container.clientHeight-m)/h/f.CSS_UNITS;k=Math.min(Math.abs(k),Math.abs(m));break;default:console.error("PDFViewer_scrollPageIntoView: '"+
d[1].name+"' is not a valid destination type.");return}k&&k!==this._currentScale?this.currentScaleValue=k:this._currentScale===f.UNKNOWN_SCALE&&(this.currentScaleValue=f.DEFAULT_SCALE_VALUE);"page-fit"!==k||d[4]?(e=[b.viewport.convertToViewportPoint(e,g),b.viewport.convertToViewportPoint(e+l,g+h)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),c||(d=Math.max(d,0),e=Math.max(e,0)),(0,f.scrollIntoView)(b.div,{left:d,top:e})):(0,f.scrollIntoView)(b.div)}else console.error('PDFViewer_scrollPageIntoView: Invalid "pageNumber" parameter.')}},
_updateLocation:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,d;d="#page="+c+("&zoom="+b);var e=this.container,e=this._pages[c-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y);a=Math.round(e[0]);e=Math.round(e[1]);this._location={pageNumber:c,scale:b,top:e,left:a,pdfOpenParams:d+(","+a+","+e)}},update:function(){var a=this._getVisiblePages(),b=a.views;if(0!==b.length){this._buffer.resize(Math.max(v,2*b.length+1));this.renderingQueue.renderHighestPriority(a);
for(var c=this._currentPageNumber,a=a.first,d=0,e=b.length,f=!1;d<e;++d){var g=b[d];if(100>g.percent)break;if(g.id===c){f=!0;break}}f||(c=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(c);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}},containsElement:function(a){return this.container.contains(a)},focus:function(){this.container.focus()},get isInPresentationMode(){return this.presentationModeState===k.FULLSCREEN},get isChangingPresentationMode(){return this.presentationModeState===
k.CHANGING},get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(!this.isInPresentationMode)return(0,f.getVisibleElements)(this.container,this._pages,!0);var a=[],b=this._pages[this._currentPageNumber-1];a.push({id:b.id,view:b});return{first:b,last:b,views:a}},cleanup:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==d.RenderingStates.FINISHED&&
this._pages[a].reset()},_cancelRendering:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()},_ensurePdfPageLoaded:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];var d=this.pdfDocument.getPage(c).then(function(d){a.pdfPage||a.setPdfPage(d);b._pagesRequests[c]=null;return d});return this._pagesRequests[c]=d},forceRendering:function(a){var b=this;a=a||this._getVisiblePages();
var c=this.renderingQueue.getHighestPriority(a,this._pages,this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),!0):!1},getPageTextContent:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})},createTextLayerBuilder:function(a,b,c,d){return new p.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,
enhanceTextSelection:this.isInPresentationMode?!1:d})},createAnnotationLayerBuilder:function(a,b,c){return new m.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,renderInteractiveForms:c,linkService:this.linkService,downloadManager:this.downloadManager})},setFindController:function(a){this.findController=a},getPagesOverview:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=g(a[0]);
return a.map(function(a){return b===g(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}};return n}();b.PresentationModeState=k;b.PDFViewer=n},function(n,b,g){var h=g(0);n=g(11);var f=g(5),d=g(3),m=g(6),c=g(4),a=g(10),e=g(9),p=g(1);g=g(8);h=h.PDFJS;h.PDFViewer=n.PDFViewer;h.PDFPageView=f.PDFPageView;h.PDFLinkService=d.PDFLinkService;h.TextLayerBuilder=m.TextLayerBuilder;h.DefaultTextLayerFactory=m.DefaultTextLayerFactory;h.AnnotationLayerBuilder=c.AnnotationLayerBuilder;h.DefaultAnnotationLayerFactory=
c.DefaultAnnotationLayerFactory;h.PDFHistory=a.PDFHistory;h.PDFFindController=e.PDFFindController;h.EventBus=p.EventBus;h.DownloadManager=g.DownloadManager;h.ProgressBar=p.ProgressBar;b.PDFJS=h}])});
