(function(r,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],b):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=b():r["pdfjs-dist/web/pdf_viewer"]=r.pdfjsDistWebPdfViewer=b()})(this,function(){return function(r){function b(n){if(q[n])return q[n].exports;var h=q[n]={i:n,l:!1,exports:{}};r[n].call(h.exports,h,h.exports,b);h.l=!0;return h.exports}var q={};b.m=r;b.c=q;b.d=function(n,h,
p){b.o(n,h)||Object.defineProperty(n,h,{configurable:!1,enumerable:!0,get:p})};b.n=function(n){var h=n&&n.__esModule?function(){return n["default"]}:function(){return n};b.d(h,"a",h);return h};b.o=function(b,h){return Object.prototype.hasOwnProperty.call(b,h)};b.p="";return b(b.s=8)}([function(r,b,q){b="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");r.exports=b},function(r,b,q){function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function h(a,c){return c?a.replace(/\{\{\s*(\w+)\s*\}\}/g,function(a,e){return e in c?c[e]:"{{"+e+"}}"}):a}function p(a,c){var e=0,m=a.length-1;if(0===a.length||!c(a[m]))return a.length;if(c(a[e]))return e;for(;e<m;){var k=e+m>>1;c(a[k])?m=k:e=k+1}return e}Object.defineProperty(b,"__esModule",{value:!0});b.waitOnEventOrTimeout=b.WaitOnType=b.localized=b.animationStarted=b.normalizeWheelEventDelta=b.binarySearchFirstItem=b.watchScroll=b.scrollIntoView=b.getOutputScale=b.approximateFraction=b.roundToDivide=
b.getVisibleElements=b.parseQueryString=b.noContextMenuHandler=b.getPDFFileNameFromURL=b.ProgressBar=b.EventBus=b.NullL10n=b.mozL10n=b.RendererType=b.cloneObj=b.isValidRotation=b.VERTICAL_PADDING=b.SCROLLBAR_PADDING=b.MAX_AUTO_SCALE=b.UNKNOWN_SCALE=b.MAX_SCALE=b.MIN_SCALE=b.DEFAULT_SCALE=b.DEFAULT_SCALE_VALUE=b.CSS_UNITS=void 0;var l=function(){function a(a,c){for(var e=0;e<c.length;e++){var k=c[e];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,
k.key,k)}}return function(c,e,m){e&&a(c.prototype,e);m&&a(c,m);return c}}(),g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=q(0);r=96/72;d.PDFJS.disableFullscreen=void 0===d.PDFJS.disableFullscreen?!1:d.PDFJS.disableFullscreen;d.PDFJS.useOnlyCssZoom=void 0===d.PDFJS.useOnlyCssZoom?!1:d.PDFJS.useOnlyCssZoom;d.PDFJS.maxCanvasPixels=void 0===
d.PDFJS.maxCanvasPixels?16777216:d.PDFJS.maxCanvasPixels;d.PDFJS.disableHistory=void 0===d.PDFJS.disableHistory?!1:d.PDFJS.disableHistory;d.PDFJS.disableTextLayer=void 0===d.PDFJS.disableTextLayer?!1:d.PDFJS.disableTextLayer;d.PDFJS.ignoreCurrentPositionOnZoom=void 0===d.PDFJS.ignoreCurrentPositionOnZoom?!1:d.PDFJS.ignoreCurrentPositionOnZoom;d.PDFJS.locale=void 0===d.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:d.PDFJS.locale;var c={EVENT:"event",TIMEOUT:"timeout"};q=new Promise(function(a){window.requestAnimationFrame(a)});
var a=Promise.resolve(),e=function(){function a(){n(this,a);this._listeners=Object.create(null)}l(a,[{key:"on",value:function(a,c){var e=this._listeners[a];e||(e=[],this._listeners[a]=e);e.push(c)}},{key:"off",value:function(a,c){a=this._listeners[a];var e=void 0;!a||0>(e=a.indexOf(c))||a.splice(e,1)}},{key:"dispatch",value:function(a){var c=this._listeners[a];if(c&&0!==c.length){var e=Array.prototype.slice.call(arguments,1);c.slice(0).forEach(function(a){a.apply(null,e)})}}}]);return a}(),f=function(){function a(c){var e=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},m=e.height,k=e.width,e=e.units;n(this,a);this.visible=!0;this.div=document.querySelector(c+" .progress");this.bar=this.div.parentNode;this.height=m||100;this.width=k||100;this.units=e||"%";this.div.style.height=this.height+this.units;this.percent=0}l(a,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=
this.width*this._percent/100+this.units)}},{key:"setWidth",value:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",
get:function(){return this._percent},set:function(a){this._indeterminate=isNaN(a);this._percent=Math.min(Math.max(a,0),100);this._updateBar()}}]);return a}();b.CSS_UNITS=r;b.DEFAULT_SCALE_VALUE="auto";b.DEFAULT_SCALE=1;b.MIN_SCALE=.25;b.MAX_SCALE=10;b.UNKNOWN_SCALE=0;b.MAX_AUTO_SCALE=1.25;b.SCROLLBAR_PADDING=40;b.VERTICAL_PADDING=5;b.isValidRotation=function(a){return Number.isInteger(a)&&0===a%90};b.cloneObj=function(a){var c=Object.create(null),e;for(e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(c[e]=a[e]);return c};b.RendererType={CANVAS:"canvas",SVG:"svg"};b.mozL10n=void 0;b.NullL10n={get:function(a,c,e){return Promise.resolve(h(e,c))},translate:function(a){return Promise.resolve()}};b.EventBus=e;b.ProgressBar=f;b.getPDFFileNameFromURL=function(a){for(var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf",e=0,m=a.length;e<m&&""===a[e].trim();)e++;if("data:"===a.substr(e,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),
c;e=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;m=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(m=e.exec(m[1])||e.exec(m[2])||e.exec(m[3]))if(m=m[0],-1!==m.indexOf("%"))try{m=e.exec(decodeURIComponent(m))[0]}catch(k){}return m||c};b.noContextMenuHandler=function(a){a.preventDefault()};b.parseQueryString=function(a){a=a.split("&");for(var c=Object.create(null),e=0,m=a.length;e<m;++e){var k=a[e].split("="),f=k[0].toLowerCase(),k=1<k.length?k[1]:null;c[decodeURIComponent(f)]=decodeURIComponent(k)}return c};
b.getVisibleElements=function(a,c){function e(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>k}for(var m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,k=a.scrollTop,f=k+a.clientHeight,t=a.scrollLeft,d=t+a.clientWidth,g=[],b=void 0,l=void 0,h=void 0,u=void 0,n=u=l=void 0,l=void 0,q=0===c.length?0:p(c,e),r=c.length;q<r;q++){b=c[q];l=b.div;h=l.offsetTop+l.clientTop;u=l.clientHeight;if(h>f)break;n=l.offsetLeft+l.clientLeft;l=l.clientWidth;n+l<t||n>d||(l=Math.max(0,k-h)+Math.max(0,
h+u-f),u=100*(u-l)/u|0,g.push({id:b.id,x:n,y:h,view:b,percent:u}))}f=g[0];t=g[g.length-1];m&&g.sort(function(a,c){var e=a.percent-c.percent;return.001<Math.abs(e)?-e:a.id-c.id});return{first:f,last:t,views:g}};b.roundToDivide=function(a,c){var e=a%c;return 0===e?a:Math.round(a-e+c)};b.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];var c=1/a;if(8<c)return[1,8];if(Math.floor(c)===c)return[1,c];for(var c=1<a?c:a,e=0,f=1,k=1,m=1;;){var g=e+k,d=f+m;if(8<d)break;c<=g/d?(k=g,m=d):(e=g,
f=d)}return c-e/f<k/m-c?c===a?[e,f]:[f,e]:c===a?[k,m]:[m,k]};b.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};b.scrollIntoView=function(a,c){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=a.offsetParent;if(f){for(var k=a.offsetTop+a.clientTop,m=a.offsetLeft+a.clientLeft;f.clientHeight===f.scrollHeight||
e&&"hidden"===getComputedStyle(f).overflow;)if(f.dataset._scaleY&&(k/=f.dataset._scaleY,m/=f.dataset._scaleX),k+=f.offsetTop,m+=f.offsetLeft,f=f.offsetParent,!f)return;c&&(void 0!==c.top&&(k+=c.top),void 0!==c.left&&(m+=c.left,f.scrollLeft=m));f.scrollTop=k}else console.error("offsetParent is not set -- cannot scroll")};b.watchScroll=function(a,c){var e=function(e){k||(k=window.requestAnimationFrame(function(){k=null;var e=a.scrollTop,m=f.lastY;e!==m&&(f.down=e>m);f.lastY=e;c(f)}))},f={down:!0,lastY:a.scrollTop,
_eventHandler:e},k=null;a.addEventListener("scroll",e,!0);return f};b.binarySearchFirstItem=p;b.normalizeWheelEventDelta=function(a){var c=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),e=Math.atan2(a.deltaY,a.deltaX);-.25*Math.PI<e&&e<.75*Math.PI&&(c=-c);0===a.deltaMode?c/=900:1===a.deltaMode&&(c/=30);return c};b.animationStarted=q;b.localized=a;b.WaitOnType=c;b.waitOnEventOrTimeout=function(a){function f(a){m instanceof e?m.off(b,x):m.removeEventListener(b,x);w&&clearTimeout(w);k.resolve(a)}var m=
a.target,b=a.name;a=a.delay;a=void 0===a?0:a;if(!("object"===("undefined"===typeof m?"undefined":g(m))&&b&&"string"===typeof b&&Number.isInteger(a)&&0<=a))return Promise.reject(Error("waitOnEventOrTimeout - invalid paramaters."));var k=(0,d.createPromiseCapability)(),x=f.bind(null,c.EVENT);if(m instanceof e)m.on(b,x);else m.addEventListener(b,x);var y=f.bind(null,c.TIMEOUT),w=setTimeout(y,a);return k.promise}},function(r,b,q){function n(b){b.on("documentload",function(){var b=document.createEvent("CustomEvent");
b.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(b)});b.on("pagerendered",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("pagerendered",!0,!0,{pageNumber:b.pageNumber,cssTransform:b.cssTransform});b.source.div.dispatchEvent(d)});b.on("textlayerrendered",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:b.pageNumber});b.source.textLayerDiv.dispatchEvent(d)});b.on("pagechange",function(b){var d=document.createEvent("UIEvents");
d.initUIEvent("pagechange",!0,!0,window,0);d.pageNumber=b.pageNumber;b.source.container.dispatchEvent(d)});b.on("pagesinit",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("pagesinit",!0,!0,null);b.source.container.dispatchEvent(d)});b.on("pagesloaded",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("pagesloaded",!0,!0,{pagesCount:b.pagesCount});b.source.container.dispatchEvent(d)});b.on("scalechange",function(b){var d=document.createEvent("UIEvents");
d.initUIEvent("scalechange",!0,!0,window,0);d.scale=b.scale;d.presetValue=b.presetValue;b.source.container.dispatchEvent(d)});b.on("updateviewarea",function(b){var d=document.createEvent("UIEvents");d.initUIEvent("updateviewarea",!0,!0,window,0);d.location=b.location;b.source.container.dispatchEvent(d)});b.on("find",function(b){if(b.source!==window){var d=document.createEvent("CustomEvent");d.initCustomEvent("find"+b.type,!0,!0,{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,
highlightAll:b.highlightAll,findPrevious:b.findPrevious});window.dispatchEvent(d)}});b.on("attachmentsloaded",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:b.attachmentsCount});b.source.container.dispatchEvent(d)});b.on("sidebarviewchanged",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("sidebarviewchanged",!0,!0,{view:b.view});b.source.outerContainer.dispatchEvent(d)});b.on("pagemode",function(b){var d=
document.createEvent("CustomEvent");d.initCustomEvent("pagemode",!0,!0,{mode:b.mode});b.source.pdfViewer.container.dispatchEvent(d)});b.on("namedaction",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("namedaction",!0,!0,{action:b.action});b.source.pdfViewer.container.dispatchEvent(d)});b.on("presentationmodechanged",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("presentationmodechanged",!0,!0,{active:b.active,switchInProgress:b.switchInProgress});
window.dispatchEvent(d)});b.on("outlineloaded",function(b){var d=document.createEvent("CustomEvent");d.initCustomEvent("outlineloaded",!0,!0,{outlineCount:b.outlineCount});b.source.container.dispatchEvent(d)})}Object.defineProperty(b,"__esModule",{value:!0});b.getGlobalEventBus=b.attachDOMEventsToEventBus=void 0;var h=q(1),p=null;b.attachDOMEventsToEventBus=n;b.getGlobalEventBus=function(){if(p)return p;p=new h.EventBus;n(p);return p}},function(r,b,q){function n(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function");
}function h(c){if(!(c instanceof Array))return!1;var a=c.length,e=!0;if(2>a)return!1;var f=c[0];if(!("object"===("undefined"===typeof f?"undefined":p(f))&&Number.isInteger(f.num)&&Number.isInteger(f.gen)||Number.isInteger(f)&&0<=f))return!1;f=c[1];if("object"!==("undefined"===typeof f?"undefined":p(f))||"string"!==typeof f.name)return!1;switch(f.name){case "XYZ":if(5!==a)return!1;break;case "Fit":case "FitB":return 2===a;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==a)return!1;break;case "FitR":if(6!==
a)return!1;e=!1;break;default:return!1}for(f=2;f<a;f++){var b=c[f];if(!("number"===typeof b||e&&null===b))return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.SimpleLinkService=b.PDFLinkService=void 0;var p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l=function(){function c(a,c){for(var e=0;e<c.length;e++){var b=c[e];b.enumerable=
b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,e,f){e&&c(a.prototype,e);f&&c(a,f);return a}}(),g=q(2),d=q(1);r=function(){function c(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).eventBus;n(this,c);this.eventBus=a||(0,g.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}l(c,[{key:"setDocument",value:function(a,c){this.baseUrl=c;this.pdfDocument=a;this._pagesRefCache=
Object.create(null)}},{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setHistory",value:function(a){this.pdfHistory=a}},{key:"navigateTo",value:function(a){var c=this,f=function t(e){var f=e.namedDest,k=e.explicitDest,b=k[0];e=void 0;if(b instanceof Object){if(e=c._cachedPageNumber(b),null===e){c.pdfDocument.getPageIndex(b).then(function(a){c.cachePageRef(a+1,b);t({namedDest:f,explicitDest:k})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+b+'" is not '+('a valid page reference, for dest="'+
a+'".'))});return}}else if(Number.isInteger(b))e=b+1;else{console.error('PDFLinkService.navigateTo: "'+b+'" is not '+('a valid destination reference, for dest="'+a+'".'));return}!e||1>e||e>c.pagesCount?console.error('PDFLinkService.navigateTo: "'+e+'" is not '+('a valid page number, for dest="'+a+'".')):(c.pdfHistory&&(c.pdfHistory.pushCurrentPosition(),c.pdfHistory.push({namedDest:f,explicitDest:k,pageNumber:e})),c.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:k}))};(new Promise(function(e,
f){"string"===typeof a?c.pdfDocument.getDestination(a).then(function(c){e({namedDest:a,explicitDest:c})}):e({namedDest:"",explicitDest:a})})).then(function(c){c.explicitDest instanceof Array?f(c):console.error('PDFLinkService.navigateTo: "'+c.explicitDest+'" is'+(' not a valid destination array, for dest="'+a+'".'))})}},{key:"getDestinationHash",value:function(a){return"string"===typeof a?this.getAnchorUrl("#"+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")}},
{key:"getAnchorUrl",value:function(a){return(this.baseUrl||"")+a}},{key:"setHash",value:function(a){var c=void 0,f=void 0;if(0<=a.indexOf("="))if(a=(0,d.parseQueryString)(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.navigateTo(a.nameddest);else{"page"in a&&(c=a.page|0||1);if("zoom"in a){var b=a.zoom.split(","),t=b[0],g=parseFloat(t);-1===t.indexOf("Fit")?f=[null,{name:"XYZ"},1<b.length?
b[1]|0:null,2<b.length?b[2]|0:null,g?g/100:t]:"Fit"===t||"FitB"===t?f=[null,{name:t}]:"FitH"===t||"FitBH"===t||"FitV"===t||"FitBV"===t?f=[null,{name:t},1<b.length?b[1]|0:null]:"FitR"===t?5!==b.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):f=[null,{name:t},b[1]|0,b[2]|0,b[3]|0,b[4]|0]:console.error('PDFLinkService.setHash: "'+t+'" is not a valid zoom value.')}f?this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:f,allowNegativeOffset:!0}):c&&(this.page=
c);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{/^\d+$/.test(a)&&a<=this.pagesCount&&(console.warn("PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, "+('please use the "#page='+a+'" form instead.')),this.page=a|0);f=unescape(a);try{f=JSON.parse(f),f instanceof Array||(f=f.toString())}catch(v){}"string"===typeof f||h(f)?this.navigateTo(f):console.error('PDFLinkService.setHash: "'+unescape(a)+'" is not a valid destination.')}}},
{key:"executeNamedAction",value:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})}},{key:"onFileAttachmentAnnotation",value:function(a){this.eventBus.dispatch("fileattachmentannotation",
{source:this,id:a.id,filename:a.filename,content:a.content})}},{key:"cachePageRef",value:function(a,c){this._pagesRefCache[c.num+" "+c.gen+" R"]=a}},{key:"_cachedPageNumber",value:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(a){this.pdfViewer.currentPageNumber=a}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},
set:function(a){this.pdfViewer.pagesRotation=a}}]);return c}();q=function(){function c(){n(this,c)}l(c,[{key:"navigateTo",value:function(a){}},{key:"getDestinationHash",value:function(a){return"#"}},{key:"getAnchorUrl",value:function(a){return"#"}},{key:"setHash",value:function(a){}},{key:"executeNamedAction",value:function(a){}},{key:"onFileAttachmentAnnotation",value:function(a){}},{key:"cachePageRef",value:function(a,c){}},{key:"page",get:function(){return 0},set:function(a){}},{key:"rotation",
get:function(){return 0},set:function(a){}}]);return c}();b.PDFLinkService=r;b.SimpleLinkService=q},function(r,b,q){Object.defineProperty(b,"__esModule",{value:!0});var n=function(){function b(b,g){for(var d=0;d<g.length;d++){var c=g[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(l,g,d){g&&b(l.prototype,g);d&&b(l,d);return l}}(),h={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};r=function(){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}n(b,[{key:"setViewer",value:function(b){this.pdfViewer=b}},{key:"setThumbnailViewer",value:function(b){this.pdfThumbnailViewer=b}},{key:"isHighestPriority",value:function(b){return this.highestPriorityPage===b.renderingId}},{key:"renderHighestPriority",value:function(b){this.idleTimeout&&(clearTimeout(this.idleTimeout),
this.idleTimeout=null);this.pdfViewer.forceRendering(b)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))}},{key:"getHighestPriority",value:function(b,g,d){var c=b.views,a=c.length;if(0===a)return!1;for(var e=0;e<a;++e){var f=c[e].view;if(!this.isViewFinished(f))return f}b=d?b.last.id:b.first.id-2;return g[b]&&!this.isViewFinished(g[b])?g[b]:null}},{key:"isViewFinished",
value:function(b){return b.renderingState===h.FINISHED}},{key:"renderView",value:function(b){var g=this;switch(b.renderingState){case h.FINISHED:return!1;case h.PAUSED:this.highestPriorityPage=b.renderingId;b.resume();break;case h.RUNNING:this.highestPriorityPage=b.renderingId;break;case h.INITIAL:this.highestPriorityPage=b.renderingId;var d=function(){g.renderHighestPriority()};b.draw().then(d,d)}return!0}}]);return b}();b.RenderingStates=h;b.PDFRenderingQueue=r},function(r,b,q){function n(c,a){if(!(c instanceof
a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultAnnotationLayerFactory=b.AnnotationLayerBuilder=void 0;var h=function(){function c(a,c){for(var e=0;e<c.length;e++){var b=c[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,e,b){e&&c(a.prototype,e);b&&c(a,b);return a}}(),p=q(0),l=q(1),g=q(3),d=function(){function c(a){var e=a.pageDiv,b=a.pdfPage,m=
a.linkService,d=a.downloadManager,g=a.renderInteractiveForms,g=void 0===g?!1:g;a=a.l10n;a=void 0===a?l.NullL10n:a;n(this,c);this.pageDiv=e;this.pdfPage=b;this.linkService=m;this.downloadManager=d;this.renderInteractiveForms=g;this.l10n=a;this.div=null}h(c,[{key:"render",value:function(a){var c=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(e){var b={viewport:a.clone({dontFlip:!0}),div:c.div,annotations:e,page:c.pdfPage,renderInteractiveForms:c.renderInteractiveForms,
linkService:c.linkService,downloadManager:c.downloadManager};c.div?p.AnnotationLayer.update(b):0!==e.length&&(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),b.div=c.div,p.AnnotationLayer.render(b),c.l10n.translate(c.div))})}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return c}();r=function(){function c(){n(this,c)}h(c,[{key:"createAnnotationLayerBuilder",value:function(a,c){var e=3<arguments.length&&void 0!==
arguments[3]?arguments[3]:l.NullL10n;return new d({pageDiv:a,pdfPage:c,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:new g.SimpleLinkService,l10n:e})}}]);return c}();b.AnnotationLayerBuilder=d;b.DefaultAnnotationLayerFactory=r},function(r,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.PDFPageView=void 0;var n=function(){function b(c,a){for(var e=0;e<a.length;e++){var b=a[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=
!0);Object.defineProperty(c,b.key,b)}}return function(c,a,e){a&&b(c.prototype,a);e&&b(c,e);return c}}(),h=q(1),p=q(0),l=q(2),g=q(4);r=function(){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=c.container,e=c.defaultViewport;this.id=c.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=c.scale||h.DEFAULT_SCALE;this.viewport=e;this.pdfPageRotate=e.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=
c.enhanceTextSelection||!1;this.renderInteractiveForms=c.renderInteractiveForms||!1;this.eventBus=c.eventBus||(0,l.getGlobalEventBus)();this.renderingQueue=c.renderingQueue;this.textLayerFactory=c.textLayerFactory;this.annotationLayerFactory=c.annotationLayerFactory;this.renderer=c.renderer||h.RendererType.CANVAS;this.l10n=c.l10n||h.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=g.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=
this.onBeforeDraw=this.error=this.resume=null;c=document.createElement("div");c.className="page";c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";c.setAttribute("data-page-number",this.id);this.div=c;a.appendChild(c)}n(b,[{key:"setPdfPage",value:function(c){this.pdfPage=c;this.pdfPageRotate=c.rotate;this.viewport=c.getViewport(this.scale*h.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=c.stats;this.reset()}},{key:"destroy",value:function(){this.reset();
this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var a=this.zoomLayer.firstChild;this.paintedViewportMap.delete(a);a.width=0;a.height=0;c&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering();var e=this.div;e.style.width=
Math.floor(this.viewport.width)+"px";e.style.height=Math.floor(this.viewport.height)+"px";for(var b=e.childNodes,c=c&&this.zoomLayer||null,a=a&&this.annotationLayer&&this.annotationLayer.div||null,m=b.length-1;0<=m;m--){var d=b[m];c!==d&&a!==d&&e.removeChild(d)}e.removeAttribute("data-loaded");a?this.annotationLayer.hide():this.annotationLayer=null;c||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&
(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";e.appendChild(this.loadingIconDiv)}},{key:"update",value:function(c,a){this.scale=c||this.scale;"undefined"!==typeof a&&(this.rotation=a);this.viewport=this.viewport.clone({scale:this.scale*h.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,
cssTransform:!0});else{c=!1;this.canvas&&0<p.PDFJS.maxCanvasPixels&&(a=this.outputScale,(Math.floor(this.viewport.width)*a.sx|0)*(Math.floor(this.viewport.height)*a.sy|0)>p.PDFJS.maxCanvasPixels&&(c=!0));if(this.canvas){if(p.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&c){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position=
"absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=g.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)}},{key:"cssTransform",value:function(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,e=this.viewport.width,b=this.viewport.height,m=this.div;c.style.width=c.parentNode.style.width=
m.style.width=Math.floor(e)+"px";c.style.height=c.parentNode.style.height=m.style.height=Math.floor(b)+"px";var m=this.viewport.rotation-this.paintedViewportMap.get(c).rotation,d=Math.abs(m),g=1,v=1;if(90===d||270===d)g=b/e,v=e/b;p.CustomStyle.setProp("transform",c,"rotate("+m+"deg) scale("+g+","+v+")");if(this.textLayer){d=this.textLayer.viewport;b=Math.abs(this.viewport.rotation-d.rotation);m=e/d.width;if(90===b||270===b)m=e/d.height;e=this.textLayer.textLayerDiv;g=d=void 0;switch(b){case 0:d=g=
0;break;case 90:d=0;g="-"+e.style.height;break;case 180:d="-"+e.style.width;g="-"+e.style.height;break;case 270:d="-"+e.style.width;g=0;break;default:console.error("Bad rotation value.")}p.CustomStyle.setProp("transform",e,"rotate("+b+"deg) scale("+m+", "+m+") translate("+d+", "+g+")");p.CustomStyle.setProp("transformOrigin",e,"0% 0%")}a&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(c,a){return this.viewport.convertToPdfPoint(c,a)}},
{key:"draw",value:function(){var c=this;this.renderingState!==g.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=g.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=g.RenderingStates.RUNNING;var a=this.pdfPage,b=this.div,f=document.createElement("div");f.style.width=b.style.width;f.style.height=b.style.height;f.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?
b.insertBefore(f,this.annotationLayer.div):b.appendChild(f);var d=null;if(this.textLayerFactory){var t=document.createElement("div");t.className="textLayer";t.style.width=f.style.width;t.style.height=f.style.height;this.annotationLayer&&this.annotationLayer.div?b.insertBefore(t,this.annotationLayer.div):b.appendChild(t);d=this.textLayerFactory.createTextLayerBuilder(t,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=d;t=null;this.renderingQueue&&(t=function(a){c.renderingQueue.isHighestPriority(c)?
a():(c.renderingState=g.RenderingStates.PAUSED,c.resume=function(){c.renderingState=g.RenderingStates.RUNNING;a()})});var l=function(e){v===c.paintTask&&(c.paintTask=null);if("cancelled"===e||e instanceof p.RenderingCancelledException)return c.error=null,Promise.resolve(void 0);c.renderingState=g.RenderingStates.FINISHED;c.loadingIconDiv&&(b.removeChild(c.loadingIconDiv),delete c.loadingIconDiv);c._resetZoomLayer(!0);c.error=e;c.stats=a.stats;if(c.onAfterDraw)c.onAfterDraw();c.eventBus.dispatch("pagerendered",
{source:c,pageNumber:c.id,cssTransform:!1});return e?Promise.reject(e):Promise.resolve(void 0)},v=this.renderer===h.RendererType.SVG?this.paintOnSvg(f):this.paintOnCanvas(f);v.onRenderContinue=t;this.paintTask=v;f=v.promise.then(function(){return l(null).then(function(){if(d){var c=a.streamTextContent({normalizeWhitespace:!0});d.setTextContentStream(c);d.render()}})},function(a){return l(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(b,
a,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display"));b.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return f}},{key:"paintOnCanvas",value:function(c){var a=(0,p.createPromiseCapability)(),b={promise:a.promise,onRenderContinue:function(a){a()},cancel:function(){y.cancel()}},f=this.viewport,d=document.createElement("canvas");d.id=this.renderingId;d.setAttribute("hidden","hidden");var g=!0,l=function(){g&&(d.removeAttribute("hidden"),
g=!1)};c.appendChild(d);this.canvas=d;d.mozOpaque=!0;c=d.getContext("2d",{alpha:!1});var v=(0,h.getOutputScale)(c);this.outputScale=v;if(p.PDFJS.useOnlyCssZoom){var k=f.clone({scale:h.CSS_UNITS});v.sx*=k.width/f.width;v.sy*=k.height/f.height;v.scaled=!0}0<p.PDFJS.maxCanvasPixels&&(k=Math.sqrt(p.PDFJS.maxCanvasPixels/(f.width*f.height)),v.sx>k||v.sy>k?(v.sx=k,v.sy=k,this.hasRestrictedScaling=v.scaled=!0):this.hasRestrictedScaling=!1);var k=(0,h.approximateFraction)(v.sx),x=(0,h.approximateFraction)(v.sy);
d.width=(0,h.roundToDivide)(f.width*v.sx,k[0]);d.height=(0,h.roundToDivide)(f.height*v.sy,x[0]);d.style.width=(0,h.roundToDivide)(f.width,k[1])+"px";d.style.height=(0,h.roundToDivide)(f.height,x[1])+"px";this.paintedViewportMap.set(d,f);var y=this.pdfPage.render({canvasContext:c,transform:v.scaled?[v.sx,0,0,v.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});y.onContinue=function(a){l();if(b.onRenderContinue)b.onRenderContinue(a);else a()};y.promise.then(function(){l();
a.resolve(void 0)},function(c){l();a.reject(c)});return b}},{key:"paintOnSvg",value:function(c){var a=this,b=!1,f=function(){if(b){if(p.PDFJS.pdfjsNext)throw new p.RenderingCancelledException("Rendering cancelled, page "+a.id,"svg");throw"cancelled";}},d=this.pdfPage,t=this.viewport.clone({scale:h.CSS_UNITS});return{promise:d.getOperatorList().then(function(b){f();return(new p.SVGGraphics(d.commonObjs,d.objs)).getSVG(b,t).then(function(b){f();a.svg=b;a.paintedViewportMap.set(b,t);b.style.width=c.style.width;
b.style.height=c.style.height;a.renderingState=g.RenderingStates.FINISHED;c.appendChild(b)})}),onRenderContinue:function(a){a()},cancel:function(){b=!0}}}},{key:"setPageLabel",value:function(c){this.pageLabel="string"===typeof c?c:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return b}();b.PDFPageView=
r},function(r,b,q){function n(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultTextLayerFactory=b.TextLayerBuilder=void 0;var h=function(){function b(c,a){for(var b=0;b<a.length;b++){var f=a[b];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}return function(c,a,e){a&&b(c.prototype,a);e&&b(c,e);return c}}(),p=q(2),l=q(0),g=function(){function b(c){var a=
c.textLayerDiv,e=c.eventBus,f=c.pageIndex,d=c.viewport,g=c.findController,g=void 0===g?null:g;c=c.enhanceTextSelection;c=void 0===c?!1:c;n(this,b);this.textLayerDiv=a;this.eventBus=e||(0,p.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=f;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=d;this.textDivs=[];this.findController=g;this.textLayerRenderTask=null;this.enhanceTextSelection=c;this._bindMouse()}
h(b,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var c=document.createElement("div");c.className="endOfContent";this.textLayerDiv.appendChild(c)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var c=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel();this.textDivs=
[];var b=document.createDocumentFragment();this.textLayerRenderTask=(0,l.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:b,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:a,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){c.textLayerDiv.appendChild(b);c._finishRendering();c.updateMatches()},function(a){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&
(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(c){this.cancel();this.textContentStream=c}},{key:"setTextContent",value:function(c){this.cancel();this.textContent=c}},{key:"convertMatches",value:function(c,a){var b=0,f=0,d=this.textContentItemsStr,g=d.length-1,l=null===this.findController?0:this.findController.state.query.length,h=[];if(!c)return h;for(var k=0,x=c.length;k<x;k++){for(var y=c[k];b!==g&&y>=f+d[b].length;)f+=d[b].length,
b++;b===d.length&&console.error("Could not find a matching mapping");for(var w={begin:{divIdx:b,offset:y-f}},y=a?y+a[k]:y+l;b!==g&&y>f+d[b].length;)f+=d[b].length,b++;w.end={divIdx:b,offset:y-f};h.push(w)}return h}},{key:"renderMatches",value:function(c){function a(a,c){var e=a.divIdx;d[e].textContent="";b(e,0,a.offset,c)}function b(a,c,b,e){var k=d[a];a=f[a].substring(c,b);a=document.createTextNode(a);e?(c=document.createElement("span"),c.className=e,c.appendChild(a),k.appendChild(c)):k.appendChild(a)}
if(0!==c.length){var f=this.textContentItemsStr,d=this.textDivs,g=null,l=this.pageIdx,h=null===this.findController?!1:l===this.findController.selected.pageIdx,k=null===this.findController?-1:this.findController.selected.matchIdx,x=k,y=x+1;if(null===this.findController?0:this.findController.state.highlightAll)x=0,y=c.length;else if(!h)return;for(;x<y;x++){var w=c[x],z=w.begin,w=w.end,A=h&&x===k?" selected":"";this.findController&&this.findController.updateMatchPosition(l,x,d,z.divIdx);g&&z.divIdx===
g.divIdx?b(g.divIdx,g.offset,z.offset):(null!==g&&b(g.divIdx,g.offset,void 0),a(z));if(z.divIdx===w.divIdx)b(z.divIdx,z.offset,w.offset,"highlight"+A);else{b(z.divIdx,z.offset,void 0,"highlight begin"+A);g=z.divIdx+1;for(z=w.divIdx;g<z;g++)d[g].className="highlight middle"+A;a(w,"highlight end"+A)}g=w}g&&b(g.divIdx,g.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var c=this.matches,a=this.textDivs,b=this.textContentItemsStr,f=-1,d=0,g=c.length;d<g;d++){for(var l=
c[d],f=Math.max(f,l.begin.divIdx),h=l.end.divIdx;f<=h;f++){var k=a[f];k.textContent=b[f];k.className=""}f=l.end.divIdx+1}null!==this.findController&&this.findController.active&&(a=c=void 0,null!==this.findController&&(c=this.findController.pageMatches[this.pageIdx]||null,a=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(c,a),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var c=this,a=this.textLayerDiv,
b=null;a.addEventListener("mousedown",function(e){if(c.enhanceTextSelection&&c.textLayerRenderTask)c.textLayerRenderTask.expandTextDivs(!0),b&&(clearTimeout(b),b=null);else{var f=a.querySelector(".endOfContent");if(f){var d=e.target!==a;if(d=d&&"none"!==window.getComputedStyle(f).getPropertyValue("-moz-user-select"))d=a.getBoundingClientRect(),f.style.top=(100*Math.max(0,(e.pageY-d.top)/d.height)).toFixed(2)+"%";f.classList.add("active")}}});a.addEventListener("mouseup",function(){if(c.enhanceTextSelection&&
c.textLayerRenderTask)b=setTimeout(function(){c.textLayerRenderTask&&c.textLayerRenderTask.expandTextDivs(!1);b=null},300);else{var e=a.querySelector(".endOfContent");e&&(e.style.top="",e.classList.remove("active"))}})}}]);return b}();r=function(){function b(){n(this,b)}h(b,[{key:"createTextLayerBuilder",value:function(c,a,b){return new g({textLayerDiv:c,pageIndex:a,viewport:b,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return b}();b.TextLayerBuilder=g;b.DefaultTextLayerFactory=
r},function(r,b,q){var n=q(0);r=q(9);var h=q(6),p=q(3),l=q(7),g=q(5),d=q(10),c=q(11),a=q(1),e=q(12);q=q(13);n=n.PDFJS;n.PDFViewer=r.PDFViewer;n.PDFPageView=h.PDFPageView;n.PDFLinkService=p.PDFLinkService;n.TextLayerBuilder=l.TextLayerBuilder;n.DefaultTextLayerFactory=l.DefaultTextLayerFactory;n.AnnotationLayerBuilder=g.AnnotationLayerBuilder;n.DefaultAnnotationLayerFactory=g.DefaultAnnotationLayerFactory;n.PDFHistory=d.PDFHistory;n.PDFFindController=c.PDFFindController;n.EventBus=a.EventBus;n.DownloadManager=
e.DownloadManager;n.ProgressBar=a.ProgressBar;n.GenericL10n=q.GenericL10n;n.NullL10n=a.NullL10n;b.PDFJS=n},function(r,b,q){function n(a){var c=[];this.push=function(b){var e=c.indexOf(b);0<=e&&c.splice(e,1);c.push(b);c.length>a&&c.shift().destroy()};this.resize=function(b){for(a=b;c.length>a;)c.shift().destroy()}}function h(a){return a.width<=a.height}Object.defineProperty(b,"__esModule",{value:!0});b.PDFViewer=b.PresentationModeState=void 0;var p=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=
c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),l=q(0),g=q(1),d=q(4),c=q(5),a=q(2),e=q(6),f=q(3),m=q(7),t={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},B=/iphone|ipad|ipod|android|blackberry|bb10|mini|windowssce|palm/i.test(navigator.userAgent)?5:10;r=function(){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.container=
c.container;this.viewer=c.viewer||c.container.firstElementChild;this.eventBus=c.eventBus||(0,a.getGlobalEventBus)();this.linkService=c.linkService||new f.SimpleLinkService;this.downloadManager=c.downloadManager||null;this.removePageBorders=c.removePageBorders||!1;this.enhanceTextSelection=c.enhanceTextSelection||!1;this.renderInteractiveForms=c.renderInteractiveForms||!1;this.enablePrintAutoRotate=c.enablePrintAutoRotate||!1;this.renderer=c.renderer||g.RendererType.CANVAS;this.l10n=c.l10n||g.NullL10n;
(this.defaultRenderingQueue=!c.renderingQueue)?(this.renderingQueue=new d.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=c.renderingQueue;this.scroll=(0,g.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=t.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders")}p(b,[{key:"getPageView",value:function(a){return this._pages[a]}},{key:"_setCurrentPageNumber",value:function(a){var c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)c&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var b={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",b);this.eventBus.dispatch("pagechange",b);c&&this._resetCurrentPageView()}else console.error('PDFViewer._setCurrentPageNumber: "'+a+'" is out of bounds.')}},{key:"setDocument",value:function(a){var c=this;this.pdfDocument&&
(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var b=a.numPages,f=(0,l.createPromiseCapability)();this.pagesPromise=f.promise;f.promise.then(function(){c._pageViewsReady=!0;c.eventBus.dispatch("pagesloaded",{source:c,pagesCount:b})});var d=!1,k=(0,l.createPromiseCapability)();this.onePageRendered=k.promise;var m=function(a){a.onBeforeDraw=function(){c._buffer.push(a)};a.onAfterDraw=function(){d||(d=!0,k.resolve())}},h=a.getPage(1);this.firstPagePromise=h;h.then(function(d){var u=
c.currentScale;d=d.getViewport(u*g.CSS_UNITS);for(var z=1;z<=b;++z){var w=null;l.PDFJS.disableTextLayer||(w=c);w=new e.PDFPageView({container:c.viewer,eventBus:c.eventBus,id:z,scale:u,defaultViewport:d.clone(),renderingQueue:c.renderingQueue,textLayerFactory:w,annotationLayerFactory:c,enhanceTextSelection:c.enhanceTextSelection,renderInteractiveForms:c.renderInteractiveForms,renderer:c.renderer,l10n:c.l10n});m(w);c._pages.push(w)}k.promise.then(function(){if(l.PDFJS.disableAutoFetch)f.resolve();else for(var e=
b,d=function(b){a.getPage(b).then(function(a){var d=c._pages[b-1];d.pdfPage||d.setPdfPage(a);c.linkService.cachePageRef(b,a.ref);0===--e&&f.resolve()},function(a){console.error("Unable to get page "+b+" to initialize viewer",a);0===--e&&f.resolve()})},k=1;k<=b;++k)d(k)});c.eventBus.dispatch("pagesinit",{source:c});c.defaultRenderingQueue&&c.update();c.findController&&c.findController.resolveFirstPage()}).catch(function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",value:function(a){if(this.pdfDocument){a?
a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("PDFViewer.setPageLabels: Invalid page labels.")):this._pageLabels=null;a=0;for(var c=this._pages.length;a<c;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=g.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new n(B);this._location=null;this._pagesRotation=
0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_setScaleDispatchEvent",value:function(a,c){var b={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?c:void 0};this.eventBus.dispatch("scalechanging",b);this.eventBus.dispatch("scalechange",b)}},{key:"_setScaleUpdatePages",value:function(a,c){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=c.toString();var f;f=this._currentScale;f=a===f?!0:1E-15>Math.abs(a-f)?!0:!1;if(f)e&&this._setScaleDispatchEvent(a,c,!0);else{f=0;for(var d=this._pages.length;f<d;f++)this._pages[f].update(a);this._currentScale=a;b||(b=this._currentPageNumber,f=void 0,!this._location||l.PDFJS.ignoreCurrentPositionOnZoom||this.isInPresentationMode||this.isChangingPresentationMode||(b=this._location.pageNumber,f=[null,{name:"XYZ"},
this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:b,destArray:f,allowNegativeOffset:!0}));this._setScaleDispatchEvent(a,c,e);this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,b=parseFloat(a);if(0<b)this._setScaleUpdatePages(b,a,c,!1);else if(b=this._pages[this._currentPageNumber-1]){var e=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:g.SCROLLBAR_PADDING))/
b.width*b.scale,f=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:g.VERTICAL_PADDING))/b.height*b.scale;switch(a){case "page-actual":b=1;break;case "page-width":b=e;break;case "page-height":b=f;break;case "page-fit":b=Math.min(e,f);break;case "auto":b=Math.min(g.MAX_AUTO_SCALE,b.width>b.height?Math.min(f,e):e);break;default:console.error('PDFViewer._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(b,a,c,!0)}}},{key:"_resetCurrentPageView",
value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var a=this._pages[this._currentPageNumber-1];(0,g.scrollIntoView)(a.div)}},{key:"scrollPageIntoView",value:function(a){if(1<arguments.length||"number"===typeof a)console.error("Call of scrollPageIntoView() with obsolete signature.");else if(this.pdfDocument){var c=a.pageNumber||0,b=a.destArray||null,e=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!b)this._setCurrentPageNumber(c,!0);else if(c=this._pages[c-
1]){var f=0,d=0,k=0,m=0,u,l;l=0===c.rotation%180?!1:!0;u=(l?c.height:c.width)/c.scale/g.CSS_UNITS;l=(l?c.width:c.height)/c.scale/g.CSS_UNITS;switch(b[1].name){case "XYZ":f=b[2];d=b[3];u=b[4];f=null!==f?f:0;d=null!==d?d:l;break;case "Fit":case "FitB":u="page-fit";break;case "FitH":case "FitBH":d=b[2];u="page-width";null===d&&this._location&&(f=this._location.left,d=this._location.top);break;case "FitV":case "FitBV":f=b[2];k=u;m=l;u="page-height";break;case "FitR":f=b[2];d=b[3];k=b[4]-f;m=b[5]-d;l=
this.removePageBorders?0:g.VERTICAL_PADDING;u=(this.container.clientWidth-(this.removePageBorders?0:g.SCROLLBAR_PADDING))/k/g.CSS_UNITS;l=(this.container.clientHeight-l)/m/g.CSS_UNITS;u=Math.min(Math.abs(u),Math.abs(l));break;default:console.error('PDFViewer.scrollPageIntoView: "'+b[1].name+'" is not a valid destination type.');return}u&&u!==this._currentScale?this.currentScaleValue=u:this._currentScale===g.UNKNOWN_SCALE&&(this.currentScaleValue=g.DEFAULT_SCALE_VALUE);"page-fit"!==u||b[4]?(f=[c.viewport.convertToViewportPoint(f,
d),c.viewport.convertToViewportPoint(f+k,d+m)],b=Math.min(f[0][0],f[1][0]),f=Math.min(f[0][1],f[1][1]),e||(b=Math.max(b,0),f=Math.max(f,0)),(0,g.scrollIntoView)(c.div,{left:b,top:f})):(0,g.scrollIntoView)(c.div)}else console.error('PDFViewer.scrollPageIntoView: Invalid "pageNumber" parameter.')}}},{key:"_updateLocation",value:function(a){var c=this._currentScale,b=this._currentScaleValue,c=parseFloat(b)===c?Math.round(1E4*c)/100:b,b=a.id,e;e="#page="+b+("&zoom="+c);var f=this.container,f=this._pages[b-
1].getPagePoint(f.scrollLeft-a.x,f.scrollTop-a.y);a=Math.round(f[0]);f=Math.round(f[1]);this._location={pageNumber:b,scale:c,top:f,left:a,rotation:this._pagesRotation,pdfOpenParams:e+(","+a+","+f)}}},{key:"update",value:function(){var a=this._getVisiblePages(),c=a.views;if(0!==c.length){this._buffer.resize(Math.max(B,2*c.length+1));this.renderingQueue.renderHighestPriority(a);for(var b=this._currentPageNumber,a=a.first,e=!1,f=0,d=c.length;f<d;++f){var g=c[f];if(100>g.percent)break;if(g.id===b){e=
!0;break}}e||(b=c[0].id);this.isInPresentationMode||this._setCurrentPageNumber(b);this._updateLocation(a);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,g.getVisibleElements)(this.container,this._pages,!0);var a=[],c=this._pages[this._currentPageNumber-1];
a.push({id:c.id,view:c});return{first:c,last:c,views:a}}},{key:"cleanup",value:function(){for(var a=0,c=this._pages.length;a<c;a++)this._pages[a]&&this._pages[a].renderingState!==d.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=0,c=this._pages.length;a<c;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var c=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var b=a.id;if(this._pagesRequests[b])return this._pagesRequests[b];
var e=this.pdfDocument.getPage(b).then(function(e){a.pdfPage||a.setPdfPage(e);c._pagesRequests[b]=null;return e}).catch(function(a){console.error("Unable to get page for page view",a);c._pagesRequests[b]=null});return this._pagesRequests[b]=e}},{key:"forceRendering",value:function(a){var c=this;a=a||this._getVisiblePages();var b=this.renderingQueue.getHighestPriority(a,this._pages,this.scroll.down);return b?(this._ensurePdfPageLoaded(b).then(function(){c.renderingQueue.renderView(b)}),!0):!1}},{key:"getPageTextContent",
value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(a,c,b){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new m.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:c,viewport:b,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:e})}},{key:"createAnnotationLayerBuilder",value:function(a,
b){return new c.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:3<arguments.length&&void 0!==arguments[3]?arguments[3]:g.NullL10n})}},{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});
if(!this.enablePrintAutoRotate)return a;var c=h(a[0]);return a.map(function(a){return c===h(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if(!Number.isInteger(a))throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,!0)}},{key:"currentPageLabel",
get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var c=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(c=a+1));this.currentPageNumber=c}},{key:"currentScale",get:function(){return this._currentScale!==g.UNKNOWN_SCALE?this._currentScale:g.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(a){this.pdfDocument&&
this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!(0,g.isValidRotation)(a))throw Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==a){this._pagesRotation=a;for(var c=this._currentPageNumber,b=0,e=this._pages.length;b<e;b++){var f=this._pages[b];f.update(f.scale,a)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:a,pageNumber:c});
this.defaultRenderingQueue&&this.update()}}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===t.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===t.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],c=1,b=this._pages.length;c<b;++c){var e=this._pages[c];if(e.width!==
a.width||e.height!==a.height)return!1}return!0}}]);return b}();b.PresentationModeState=t;b.PDFViewer=r},function(r,b,q){function n(c){var a=unescape(document.location.hash).substring(1),b=(0,g.parseQueryString)(a).page|0;Number.isInteger(b)&&0<b&&b<=c.pagesCount||(b=null);return{hash:a,page:b,rotation:c.rotation}}function h(c,a){function b(a,c){if(("undefined"===typeof a?"undefined":p(a))!==("undefined"===typeof c?"undefined":p(c))||a instanceof Array||c instanceof Array)return!1;if(null!==a&&"object"===
("undefined"===typeof a?"undefined":p(a))&&null!==c){if(Object.keys(a).length!==Object.keys(c).length)return!1;for(var e in a)if(!b(a[e],c[e]))return!1;return!0}return a===c||Number.isNaN(a)&&Number.isNaN(c)}if(!(c instanceof Array&&a instanceof Array)||c.length!==a.length)return!1;for(var f=0,d=c.length;f<d;f++)if(!b(c[f],a[f]))return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0});b.isDestsEqual=b.PDFHistory=void 0;var p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l=function(){function c(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(a,b,f){b&&c(a.prototype,b);f&&c(a,f);return a}}(),g=q(1),d=q(2);r=function(){function c(a){var b=this,f=a.linkService;a=a.eventBus;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.linkService=f;this.eventBus=a||(0,d.getGlobalEventBus)();this.initialized=!1;this.initialRotation=this.initialBookmark=null;this._boundEvents=Object.create(null);this._isPagesLoaded=this._isViewerInPresentationMode=!1;this.eventBus.on("presentationmodechanged",function(a){b._isViewerInPresentationMode=a.active||a.switchInProgress});this.eventBus.on("pagesloaded",function(a){b._isPagesLoaded=!!a.pagesCount})}l(c,[{key:"initialize",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:!1;if(a&&"string"===typeof a){var b=this.initialized&&this.fingerprint!==a;this.fingerprint=a;this.initialized||this._bindEvents();var d=window.history.state;this.initialized=!0;this.initialRotation=this.initialBookmark=null;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=document.location.hash;this._currentUid=this._uid=this._numPositionUpdates=0;this._position=this._destination=null;if(!this._isValidState(d)||c){var g=n(this.linkService),d=g.hash,l=g.page,g=g.rotation;
!d||b||c?this._pushOrReplaceState(null,!0):this._pushOrReplaceState({hash:d,page:l,rotation:g},!0)}else c=d.destination,this._updateInternalState(c,d.uid,!0),void 0!==c.rotation&&(this.initialRotation=c.rotation),c.dest?(this.initialBookmark=JSON.stringify(c.dest),this._destination.page=null):c.hash?this.initialBookmark=c.hash:c.page&&(this.initialBookmark="page="+c.page)}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"push",value:function(a){var c=
this,b=a.namedDest,d=a.explicitDest;a=a.pageNumber;if(this.initialized)if((!b||"string"===typeof b)&&d instanceof Array&&Number.isInteger(a)&&0<a&&a<=this.linkService.pagesCount){if(b=b||JSON.stringify(d)){var g=!1;if(this._destination&&(this._destination.hash===b||h(this._destination.dest,d))){if(this._destination.page)return;g=!0}if(!this._popStateInProgress||g)this._pushOrReplaceState({dest:d,hash:b,page:a,rotation:this.linkService.rotation},g),this._popStateInProgress||(this._popStateInProgress=
!0,Promise.resolve().then(function(){c._popStateInProgress=!1}))}}else console.error("PDFHistory.push: Invalid parameters.")}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&0<a.uid&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;
this._isValidState(a)&&a.uid<this._uid-1&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(a){var c=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)||!this._destination,b={fingerprint:this.fingerprint,uid:c?this._currentUid:this._uid,destination:a};this._updateInternalState(a,b.uid);c?window.history.replaceState(b,"",document.URL):window.history.pushState(b,"",document.URL)}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var a=this._position;0<
arguments.length&&void 0!==arguments[0]&&arguments[0]&&(a=(0,g.cloneObj)(this._position),a.temporary=!0);if(!this._destination)this._pushOrReplaceState(a);else if(this._destination.temporary)this._pushOrReplaceState(a,!0);else if(!(this._destination.hash===a.hash||!this._destination.page&&50>=this._numPositionUpdates)){var c=!1;if(this._destination.page===a.first||this._destination.page===a.page){if(this._destination.dest||!this._destination.first)return;c=!0}this._pushOrReplaceState(a,c)}}}},{key:"_isValidState",
value:function(a){return!a||a.fingerprint!==this.fingerprint||!Number.isInteger(a.uid)||0>a.uid||null===a.destination||"object"!==p(a.destination)?!1:!0}},{key:"_updateInternalState",value:function(a,c){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);b&&a&&a.temporary&&delete a.temporary;this._destination=a;this._currentUid=c;this._uid=this._currentUid+1;this._numPositionUpdates=
0}},{key:"_updateViewarea",value:function(a){var c=this;a=a.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);this._position={hash:this._isViewerInPresentationMode?"page="+a.pageNumber:a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation};this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){c._popStateInProgress||
c._tryPushCurrentPosition(!0);c._updateViewareaTimeout=null},1E3))}},{key:"_popState",value:function(a){var c=this;a=a.state;var b=document.location.hash,d=this._currentHash!==b;this._currentHash=b;a?this._isValidState(a)&&(this._popStateInProgress=!0,d&&(this._blockHashChange++,(0,g.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1E3}).then(function(){c._blockHashChange--})),b=a.destination,this._updateInternalState(b,a.uid,!0),(0,g.isValidRotation)(b.rotation)&&(this.linkService.rotation=
b.rotation),b.dest?this.linkService.navigateTo(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(function(){c._popStateInProgress=!1})):(this._currentUid=this._uid,a=n(this.linkService),this._pushOrReplaceState({hash:a.hash,page:a.page,rotation:a.rotation},!0))}},{key:"_bindEvents",value:function(){var a=this,c=this._boundEvents,b=this.eventBus;c.updateViewarea=this._updateViewarea.bind(this);c.popState=this._popState.bind(this);c.pageHide=
function(c){a._destination||a._tryPushCurrentPosition()};b.on("updateviewarea",c.updateViewarea);window.addEventListener("popstate",c.popState);window.addEventListener("pagehide",c.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}]);return c}();b.PDFHistory=r;b.isDestsEqual=h},function(r,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.PDFFindController=b.FindState=void 0;var n=function(){function b(c,a){for(var b=
0;b<a.length;b++){var d=a[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,a,e){a&&b(c.prototype,a);e&&b(c,e);return c}}(),h=q(0),p=q(1),l={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},g={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"};r=function(){function b(c){c=c.pdfViewer;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.pdfViewer=c;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();c=Object.keys(g).join("");this.normalizationRegex=new RegExp("["+c+"]","g")}n(b,[{key:"reset",value:function(){var c=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=
this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(a){c.resolveFirstPage=a})}},{key:"normalize",value:function(c){return c.replace(this.normalizationRegex,function(a){return g[a]})}},{key:"_prepareMatches",value:function(c,a,b){function e(a,c){var b=a[c],e=a[c+1];if(c<a.length-1&&b.match===e.match)return b.skipped=!0;for(--c;0<=c;c--)if(e=a[c],!e.skipped){if(e.match+e.matchLength<b.match)break;if(e.match+e.matchLength>=b.match+b.matchLength)return b.skipped=
!0}return!1}c.sort(function(a,c){return a.match===c.match?a.matchLength-c.matchLength:a.match-c.match});for(var d=0,g=c.length;d<g;d++)e(c,d)||(a.push(c[d].match),b.push(c[d].matchLength))}},{key:"calcFindPhraseMatch",value:function(c,a,b){for(var e=[],d=c.length,g=-d;;){g=b.indexOf(c,g+d);if(-1===g)break;e.push(g)}this.pageMatches[a]=e}},{key:"calcFindWordMatch",value:function(c,a,b){var e=[];c=c.match(/\S+/g);for(var d=0,g=c.length;d<g;d++)for(var l=c[d],h=l.length,k=-h;;){k=b.indexOf(l,k+h);if(-1===
k)break;e.push({match:k,matchLength:h,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[a]=[];this.pageMatches[a]=[];this._prepareMatches(e,this.pageMatches[a],this.pageMatchesLength[a])}},{key:"calcFindMatch",value:function(c){var a=this.normalize(this.pageContents[c]),b=this.normalize(this.state.query),d=this.state.phraseSearch;0!==b.length&&(this.state.caseSensitive||(a=a.toLowerCase(),b=b.toLowerCase()),d?this.calcFindPhraseMatch(b,c,a):this.calcFindWordMatch(b,
c,a),this.updatePage(c),this.resumePageIdx===c&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[c].length&&(this.matchCount+=this.pageMatches[c].length,this.updateUIResultsCount()))}},{key:"extractText",value:function(){var c=this;if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents.length=0;for(var a=Promise.resolve(),b=function(b,e){var d=(0,h.createPromiseCapability)();c.extractTextPromises[b]=d.promise;a=a.then(function(){return c.pdfViewer.getPageTextContent(b).then(function(a){a=
a.items;for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f].str);c.pageContents[b]=e.join("");d.resolve(b)},function(a){console.error("Unable to get page "+(b+1)+" text content",a);c.pageContents[b]="";d.resolve(b)})})},d=0,g=this.pdfViewer.pagesCount;d<g;d++)b(d,g)}}},{key:"executeCommand",value:function(c,a){var b=this;if(null===this.state||"findagain"!==c)this.dirtyMatch=!0;this.state=a;this.updateUIState(l.PENDING);this._firstPagePromise.then(function(){b.extractText();clearTimeout(b.findTimeout);
"find"===c?b.findTimeout=setTimeout(b.nextMatch.bind(b),250):b.nextMatch()})}},{key:"updatePage",value:function(c){this.selected.pageIdx===c&&(this.pdfViewer.currentPageNumber=c+1);c=this.pdfViewer.getPageView(c);c.textLayer&&c.textLayer.updateMatches()}},{key:"nextMatch",value:function(){var c=this,a=this.state.findPrevious,b=this.pdfViewer.currentPageNumber-1,d=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch)for(this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=
b,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[],this.matchCount=0,this.pageMatchesLength=null,b=0;b<d;b++)this.updatePage(b),b in this.pendingFindMatches||(this.pendingFindMatches[b]=!0,this.extractTextPromises[b].then(function(a){delete c.pendingFindMatches[a];c.calcFindMatch(a)}));if(""===this.state.query)this.updateUIState(l.FOUND);else if(!this.resumePageIdx){b=this.offset;this.pagesToSearch=d;if(null!==b.matchIdx){d=this.pageMatches[b.pageIdx].length;
if(!a&&b.matchIdx+1<d||a&&0<b.matchIdx){this.hadMatch=!0;b.matchIdx=a?b.matchIdx-1:b.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(a)}this.nextPageMatch()}}},{key:"matchesReady",value:function(c){var a=this.offset;c=c.length;var b=this.state.findPrevious;if(c)return this.hadMatch=!0,a.matchIdx=b?c-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(b);return a.wrapped&&(a.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1}},{key:"updateMatchPosition",value:function(c,
a,b,d){this.selected.matchIdx===a&&this.selected.pageIdx===c&&(0,p.scrollIntoView)(b[d],{top:-50,left:-400},!0)}},{key:"nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");var c;do{var a=this.offset.pageIdx;c=this.pageMatches[a];if(!c){this.resumePageIdx=a;break}}while(!this.matchesReady(c))}},{key:"advanceOffsetPage",value:function(c){var a=this.offset,b=this.extractTextPromises.length;a.pageIdx=c?a.pageIdx-1:a.pageIdx+1;a.matchIdx=null;
this.pagesToSearch--;if(a.pageIdx>=b||0>a.pageIdx)a.pageIdx=c?b-1:0,a.wrapped=!0}},{key:"updateMatch",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a=l.NOT_FOUND,b=this.offset.wrapped;this.offset.wrapped=!1;c&&(c=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,a=b?l.WRAPPED:l.FOUND,-1!==c&&c!==this.selected.pageIdx&&this.updatePage(c));this.updateUIState(a,this.state.findPrevious);-1!==this.selected.pageIdx&&
this.updatePage(this.selected.pageIdx)}},{key:"updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},{key:"updateUIState",value:function(c,a){if(this.onUpdateState)this.onUpdateState(c,a,this.matchCount)}}]);return b}();b.FindState=l;b.PDFFindController=r},function(r,b,q){function n(b,g){var d=document.createElement("a");d.click?(d.href=b,d.target="_parent","download"in d&&(d.download=g),(document.body||document.documentElement).appendChild(d),
d.click(),d.parentNode.removeChild(d)):(window.top===window&&b.split("#")[0]===window.location.href.split("#")[0]&&(g=-1===b.indexOf("?")?"?":"&",b=b.replace(/#|$/,g+"$&")),window.open(b,"_parent"))}Object.defineProperty(b,"__esModule",{value:!0});b.DownloadManager=void 0;var h=function(){function b(b,d){for(var c=0;c<d.length;c++){var a=d[c];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(g,d,c){d&&b(g.prototype,d);c&&
b(g,c);return g}}(),p=q(0);r=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");}h(b,[{key:"downloadUrl",value:function(b,d){(0,p.createValidAbsoluteUrl)(b,"http://example.com")&&n(b+"#pdfjs.action=download",d)}},{key:"downloadData",value:function(b,d,c){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([b],{type:c}),d);b=(0,p.createObjectURL)(b,c,p.PDFJS.disableCreateObjectURL);n(b,d)}},{key:"download",value:function(b,d,c){navigator.msSaveBlob?
navigator.msSaveBlob(b,c)||this.downloadUrl(d,c):p.PDFJS.disableCreateObjectURL?this.downloadUrl(d,c):(b=URL.createObjectURL(b),n(b,c))}}]);return b}();b.DownloadManager=r},function(r,b,q){Object.defineProperty(b,"__esModule",{value:!0});b.GenericL10n=void 0;var n=function(){function b(b,g){for(var d=0;d<g.length;d++){var c=g[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(h,g,d){g&&b(h.prototype,g);d&&b(h,d);return h}}();
q(14);var h=document.webL10n;r=function(){function b(l){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._lang=l;this._ready=new Promise(function(b,d){h.setLanguage(l,function(){b(h)})})}n(b,[{key:"getDirection",value:function(){return this._ready.then(function(b){return b.getDirection()})}},{key:"get",value:function(b,g,d){return this._ready.then(function(c){return c.get(b,g,d)})}},{key:"translate",value:function(b){return this._ready.then(function(g){return g.translate(b)})}}]);
return b}();b.GenericL10n=r},function(r,b,q){document.webL10n=function(b,h,q){function l(){var a=h.querySelector('script[type="application/l10n"]');return a?JSON.parse(a.innerHTML):null}function g(a){var b=h.createEvent("Event");b.initEvent("localized",!0,!1);b.language=a;h.dispatchEvent(b)}function d(a,b,c){b=b||function(a){};c=c||function(){};var d=new XMLHttpRequest;d.open("GET",a,!0);d.overrideMimeType&&d.overrideMimeType("text/plain; charset=utf-8");d.onreadystatechange=function(){4==d.readyState&&
(200==d.status||0===d.status?b(d.responseText):c())};d.onerror=c;d.ontimeout=c;try{d.send(null)}catch(C){c()}}function c(a,b,c,e){function f(a,c){function e(a,c,d){function e(){for(;;){if(!m.length){d();break}var a=m.shift();if(!k.test(a)){if(c){if(q=l.exec(a)){p=q[1].toLowerCase();n="*"!==p&&p!==b&&p!==z;continue}else if(n)continue;if(q=w.exec(a)){f(g+q[1],e);break}}var h=a.match(A);h&&3==h.length&&(a=h[1],h=h[2],h=0>h.lastIndexOf("\\")?h:h.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,
"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"),u[a]=h)}}}var m=a.replace(h,"").split(/[\r\n]+/),p="*",z=b.split("-",1)[0],n=!1,q="";e()}function f(a,b){d(a,function(a){e(a,!1,b)},function(){console.warn(a+" not found.");b()})}var u={},h=/^\s*|\s*$/,k=/^\s*#|^\s*$/,l=/^\s*\[(.*)\]\s*$/,w=/^\s*@import\s+url\((.*)\)\s*$/i,A=/^([^=\s]*)\s*=\s*(.+)$/;e(a,!0,function(){c(u)})}var g=a.replace(/[^\/]*$/,
"")||"./";d(a,function(a){r+=a;f(a,function(a){for(var b in a){var d,e;e=b.lastIndexOf(".");0<e?(d=b.substring(0,e),e=b.substr(e+1)):(d=b,e="textContent");p[d]||(p[d]={});p[d][e]=a[b]}c&&c()})},e)}function a(a,b){function d(a){var b=a.href;this.load=function(a,d){c(b,a,d,function(){console.warn(b+" not found.");console.warn('"'+a+'" resource not found');k="";d()})}}a&&(a=a.toLowerCase());b=b||function(){};p={};k=r="";k=a;var e=h.querySelectorAll('link[type="application/l10n"]'),f=e.length;if(0===
f){if((e=l())&&e.locales&&e.default_locale){console.log("using the embedded JSON directory, early way out");p=e.locales[a];if(!p){var u=e.default_locale.toLowerCase(),m;for(m in e.locales)if(m=m.toLowerCase(),m===a){p=e.locales[a];break}else m===u&&(p=e.locales[u])}b()}else console.log("no resource to load, early way out");g(a);y="complete"}else{m=null;var w=0;m=function(){w++;w>=f&&(b(),g(a),y="complete")};for(u=0;u<f;u++)(new d(e[u])).load(a,m)}}function e(a){function b(a,b){return-1!==b.indexOf(a)}
function c(a,b,c){return b<=a&&a<=c}var d={0:function(a){return"other"},1:function(a){return c(a%100,3,10)?"few":0===a?"zero":c(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return c(a,0,1)?"one":"other"},5:function(a){return c(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":
"other"},8:function(a){return c(a,3,6)?"few":c(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&c(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return c(a%10,2,9)&&!c(a%100,11,19)?"few":1!=a%10||c(a%100,11,19)?"other":"one"},11:function(a){return c(a%10,2,4)&&!c(a%100,12,14)?"few":0===a%10||c(a%10,5,9)||c(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return c(a,2,4)?"few":1==a?"one":"other"},13:function(a){return c(a%10,2,4)&&!c(a%100,12,
14)?"few":1!=a&&c(a%10,0,1)||c(a%10,5,9)||c(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return c(a%100,3,4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||c(a%100,2,10)?"few":c(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":c(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return c(a,2,10)?"few":
c(a,0,1)?"one":"other"},20:function(a){return!c(a%10,3,4)&&9!=a%10||c(a%100,10,19)||c(a%100,70,79)||c(a%100,90,99)?0===a%1E6&&0!==a?"many":2!=a%10||b(a%100,[12,72,92])?1!=a%10||b(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return c(a,0,1)||c(a,11,99)?"one":"other"},23:function(a){return c(a%10,1,2)||0===a%20?"one":"other"},24:function(a){return c(a,3,10)||c(a,13,19)?"few":b(a,[2,12])?"two":b(a,[1,11])?"one":"other"}},e={af:3,ak:4,
am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,
naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return e in d?d[e]:(console.warn("plural form unknown for ["+a+"]"),function(){return"other"})}
function f(a,b,c){var d=p[a];if(!d){console.warn("#"+a+" is undefined.");if(!c)return null;d=c}c={};for(var e in d){var f=d[e];var g=void 0,h=b,k=a,l=e,n=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(f);if(n&&n.length){var q=n[1],n=n[2];h&&n in h?g=h[n]:n in p&&(g=p[n]);q in x&&(f=(0,x[q])(f,g,k,l))}f=m(f,b,a);c[e]=f}return c}function m(a,b,c){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,d){if(b&&d in b)return b[d];if(d in p)return p[d];console.log("argument {{"+d+"}} for #"+c+" is undefined.");
return a})}function n(a){var b,c;if(a){b=a.getAttribute("data-l10n-id");var d=a.getAttribute("data-l10n-args");c={};if(d)try{c=JSON.parse(d)}catch(D){console.warn("could not parse arguments for #"+b)}}else c=b=void 0;if(b)if(c=f(b,c)){if(c.textContent){if(a.children)b=a.children.length;else if("undefined"!==typeof a.childElementCount)b=a.childElementCount;else for(d=b=0;d<a.childNodes.length;d++)b+=1===a.nodeType?1:0;if(0===b)a.textContent=c.textContent;else{b=a.childNodes;for(var d=!1,e=0,g=b.length;e<
g;e++)3===b[e].nodeType&&/\S/.test(b[e].nodeValue)&&(d?b[e].nodeValue="":(b[e].nodeValue=c.textContent,d=!0));d||(b=h.createTextNode(c.textContent),a.insertBefore(b,a.firstChild))}delete c.textContent}for(var k in c)a[k]=c[k]}else console.warn("#"+b+" is undefined.")}var p={},r="",k="",x={},y="loading";x.plural=function(a,b,c,d){b=parseFloat(b);if(isNaN(b)||"textContent"!=d)return a;x._pluralRules||(x._pluralRules=e(k));var f="["+x._pluralRules(b)+"]";0===b&&c+"[zero]"in p?a=p[c+"[zero]"][d]:1==b&&
c+"[one]"in p?a=p[c+"[one]"][d]:2==b&&c+"[two]"in p?a=p[c+"[two]"][d]:c+f in p?a=p[c+f][d]:c+"[other]"in p&&(a=p[c+"[other]"][d]);return a};return{get:function(a,b,c){var d=a.lastIndexOf("."),e="textContent";0<d&&(e=a.substr(d+1),a=a.substring(0,d));var g;c&&(g={},g[e]=c);return(b=f(a,b,g))&&e in b?b[e]:"{{"+a+"}}"},getData:function(){return p},getText:function(){return r},getLanguage:function(){return k},setLanguage:function(b,c){a(b,function(){c&&c()})},getDirection:function(){var a=k.split("-",
1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(a)?"rtl":"ltr"},translate:function(a){for(var b=(a=a||h.documentElement)?a.querySelectorAll("*[data-l10n-id]"):[],c=b.length,d=0;d<c;d++)n(b[d]);n(a)},getReadyState:function(){return y},ready:function(a){a&&("complete"==y||"interactive"==y?b.setTimeout(function(){a()}):h.addEventListener&&h.addEventListener("localized",function A(){h.removeEventListener("localized",A);a()}))}}}(window,document)}])});
