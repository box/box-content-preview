(function(c,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],d):"object"===typeof exports?exports["pdfjs-dist/build/pdf"]=d():c["pdfjs-dist/build/pdf"]=c.pdfjsLib=d()})(this,function(){return function(c){function d(l){if(a[l])return a[l].exports;var n=a[l]={i:l,l:!1,exports:{}};c[l].call(n.exports,n,n.exports,d);n.l=!0;return n.exports}var a={};d.m=c;d.c=a;d.d=function(a,c,h){d.o(a,c)||Object.defineProperty(a,
c,{enumerable:!0,get:h})};d.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};d.t=function(a,c){c&1&&(a=d(a));if(c&8||c&4&&"object"===typeof a&&a&&a.__esModule)return a;var h=Object.create(null);d.r(h);Object.defineProperty(h,"default",{enumerable:!0,value:a});if(c&2&&"string"!=typeof a)for(var n in a)d.d(h,n,function(h){return a[h]}.bind(null,n));return h};d.n=function(a){var c=
a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(c,"a",c);return c};d.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};d.p="";return d(d.s=0)}([function(c,d,a){c=a(1);var l=a(147),n=a(162),h=a(163),x=a(151),v=a(164),g=a(156),B=a(153);if(a(4)()){var z=a(165).PDFNodeStream;l.setPDFNetworkStreamFactory(function(a){return new z(a)})}else{var p=a(168).PDFNetworkStream;if(x.isFetchSupported())var A=a(169).PDFFetchStream;l.setPDFNetworkStreamFactory(function(a){return A&&
x.isValidFetchUrl(a.url)?new A(a):new p(a)})}d.build=l.build;d.version=l.version;d.getDocument=l.getDocument;d.LoopbackPort=l.LoopbackPort;d.PDFDataRangeTransport=l.PDFDataRangeTransport;d.PDFWorker=l.PDFWorker;d.renderTextLayer=n.renderTextLayer;d.AnnotationLayer=h.AnnotationLayer;d.createPromiseCapability=c.createPromiseCapability;d.PasswordResponses=c.PasswordResponses;d.InvalidPDFException=c.InvalidPDFException;d.MissingPDFException=c.MissingPDFException;d.SVGGraphics=v.SVGGraphics;d.NativeImageDecoding=
c.NativeImageDecoding;d.CMapCompressionType=c.CMapCompressionType;d.PermissionFlag=c.PermissionFlag;d.UnexpectedResponseException=c.UnexpectedResponseException;d.OPS=c.OPS;d.VerbosityLevel=c.VerbosityLevel;d.UNSUPPORTED_FEATURES=c.UNSUPPORTED_FEATURES;d.createValidAbsoluteUrl=c.createValidAbsoluteUrl;d.createObjectURL=c.createObjectURL;d.removeNullCharacters=c.removeNullCharacters;d.shadow=c.shadow;d.Util=c.Util;d.ReadableStream=c.ReadableStream;d.URL=c.URL;d.RenderingCancelledException=x.RenderingCancelledException;
d.getFilenameFromUrl=x.getFilenameFromUrl;d.LinkTarget=x.LinkTarget;d.addLinkAttributes=x.addLinkAttributes;d.loadScript=x.loadScript;d.PDFDateString=x.PDFDateString;d.GlobalWorkerOptions=g.GlobalWorkerOptions;d.apiCompatibilityParams=B.apiCompatibilityParams},function(c,d,a){function l(b){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return l(b)}
function n(b){A>=p.WARNINGS&&console.log("Warning: "+b)}function h(b){throw Error(b);}function x(b,f){b||h(f)}function v(b){x("string"===typeof b,"Invalid argument for stringToBytes");for(var f=b.length,k=new Uint8Array(f),e=0;e<f;++e)k[e]=b.charCodeAt(e)&255;return k}function g(b){if(void 0!==b.length)return b.length;x(void 0!==b.byteLength);return b.byteLength}Object.defineProperty(d,"__esModule",{value:!0});d.arrayByteLength=g;d.arraysToBytes=function(b){if(1===b.length&&b[0]instanceof Uint8Array)return b[0];
var f=0,k,e=b.length;for(k=0;k<e;k++){var a=b[k];var h=g(a);f+=h}var m=0;f=new Uint8Array(f);for(k=0;k<e;k++)a=b[k],a instanceof Uint8Array||(a="string"===typeof a?v(a):new Uint8Array(a)),h=a.byteLength,f.set(a,m),m+=h;return f};d.assert=x;d.bytesToString=function(b){x(null!==b&&"object"===l(b)&&void 0!==b.length,"Invalid argument for bytesToString");var f=b.length;if(8192>f)return String.fromCharCode.apply(null,b);for(var k=[],e=0;e<f;e+=8192){var a=b.subarray(e,Math.min(e+8192,f));k.push(String.fromCharCode.apply(null,
a))}return k.join("")};d.createPromiseCapability=function(){var b=Object.create(null),f=!1;Object.defineProperty(b,"settled",{get:function(){return f}});b.promise=new Promise(function(k,e){b.resolve=function(b){f=!0;k(b)};b.reject=function(b){f=!0;e(b)}});return b};d.getVerbosityLevel=function(){return A};d.info=function(b){A>=p.INFOS&&console.log("Info: "+b)};d.isArrayBuffer=function(b){return"object"===l(b)&&null!==b&&void 0!==b.byteLength};d.isArrayEqual=function(b,f){return b.length!==f.length?
!1:b.every(function(b,e){return b===f[e]})};d.isBool=function(b){return"boolean"===typeof b};d.isEmptyObj=function(b){for(var f in b)return!1;return!0};d.isNum=function(b){return"number"===typeof b};d.isString=function(b){return"string"===typeof b};d.isSpace=function(b){return 32===b||9===b||13===b||10===b};d.isSameOrigin=function(b,f){try{var k=new z.URL(b);if(!k.origin||"null"===k.origin)return!1}catch(y){return!1}b=new z.URL(f,k);return k.origin===b.origin};d.createValidAbsoluteUrl=function(b,
f){if(!b)return null;try{var k=f?new z.URL(b,f):new z.URL(b);a:if(k)switch(k.protocol){case "http:":case "https:":case "ftp:":case "mailto:":case "tel:":var e=!0;break a;default:e=!1}else e=!1;if(e)return k}catch(D){}return null};d.isLittleEndian=function(){var b=new Uint8Array(4);b[0]=1;return 1===(new Uint32Array(b.buffer,0,1))[0]};d.isEvalSupported=function(){try{return new Function(""),!0}catch(b){return!1}};d.log2=function(b){return 0>=b?0:Math.ceil(Math.log2(b))};d.readInt8=function(b,f){return b[f]<<
24>>24};d.readUint16=function(b,f){return b[f]<<8|b[f+1]};d.readUint32=function(b,f){return(b[f]<<24|b[f+1]<<16|b[f+2]<<8|b[f+3])>>>0};d.removeNullCharacters=function(b){return"string"!==typeof b?(n("The argument for removeNullCharacters must be a string."),b):b.replace(t,"")};d.setVerbosityLevel=function(b){Number.isInteger(b)&&(A=b)};d.shadow=function(b,f,k){Object.defineProperty(b,f,{value:k,enumerable:!0,configurable:!0,writable:!1});return k};d.string32=function(b){return String.fromCharCode(b>>
24&255,b>>16&255,b>>8&255,b&255)};d.stringToBytes=v;d.stringToPDFString=function(b){var f,k=b.length,a=[];if("\u00fe"===b[0]&&"\u00ff"===b[1])for(f=2;f<k;f+=2)a.push(String.fromCharCode(b.charCodeAt(f)<<8|b.charCodeAt(f+1)));else for(f=0;f<k;++f){var g=e[b.charCodeAt(f)];a.push(g?String.fromCharCode(g):b.charAt(f))}return a.join("")};d.stringToUTF8String=function(b){return decodeURIComponent(escape(b))};d.utf8StringToString=function(b){return unescape(encodeURIComponent(b))};d.warn=n;d.unreachable=
h;Object.defineProperty(d,"ReadableStream",{enumerable:!0,get:function(){return B.ReadableStream}});Object.defineProperty(d,"URL",{enumerable:!0,get:function(){return z.URL}});d.createObjectURL=d.FormatError=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.TextRenderingMode=d.StreamType=d.PermissionFlag=d.PasswordResponses=d.PasswordException=d.NativeImageDecoding=d.MissingPDFException=d.InvalidPDFException=d.AbortException=d.CMapCompressionType=d.ImageKind=d.FontType=d.AnnotationType=
d.AnnotationFlag=d.AnnotationFieldFlag=d.AnnotationBorderStyleType=d.UNSUPPORTED_FEATURES=d.VerbosityLevel=d.OPS=d.IDENTITY_MATRIX=d.FONT_IDENTITY_MATRIX=void 0;a(2);var B=a(143),z=a(145);d.IDENTITY_MATRIX=[1,0,0,1,0,0];d.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];d.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};d.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};d.TextRenderingMode=
{FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};d.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};d.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};
d.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};d.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};d.AnnotationBorderStyleType=
{SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};d.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};d.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};var p={ERRORS:0,WARNINGS:1,INFOS:5};d.VerbosityLevel=p;d.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};d.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,
save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,
nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,
endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};d.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",
shadingPattern:"shadingPattern",font:"font"};d.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var A=p.WARNINGS;c=function(){function b(b,k){this.name="PasswordException";this.message=b;this.code=k}b.prototype=Error();return b.constructor=b}();d.PasswordException=c;c=function(){function b(b,k){this.name="UnknownErrorException";this.message=b;this.details=k}b.prototype=Error();return b.constructor=b}();d.UnknownErrorException=c;c=function(){function b(b){this.name="InvalidPDFException";this.message=
b}b.prototype=Error();return b.constructor=b}();d.InvalidPDFException=c;c=function(){function b(b){this.name="MissingPDFException";this.message=b}b.prototype=Error();return b.constructor=b}();d.MissingPDFException=c;c=function(){function b(b,k){this.name="UnexpectedResponseException";this.message=b;this.status=k}b.prototype=Error();return b.constructor=b}();d.UnexpectedResponseException=c;c=function(){function b(b){this.message=b}b.prototype=Error();b.prototype.name="FormatError";return b.constructor=
b}();d.FormatError=c;c=function(){function b(b){this.name="AbortException";this.message=b}b.prototype=Error();return b.constructor=b}();d.AbortException=c;var t=/\x00/g;c=function(){function b(){}var e=["rgb(",0,",",0,",",0,")"];b.makeCssRgb=function(b,f,a){e[1]=b;e[3]=f;e[5]=a;return e.join("")};b.transform=function(b,e){return[b[0]*e[0]+b[2]*e[1],b[1]*e[0]+b[3]*e[1],b[0]*e[2]+b[2]*e[3],b[1]*e[2]+b[3]*e[3],b[0]*e[4]+b[2]*e[5]+b[4],b[1]*e[4]+b[3]*e[5]+b[5]]};b.applyTransform=function(b,e){return[b[0]*
e[0]+b[1]*e[2]+e[4],b[0]*e[1]+b[1]*e[3]+e[5]]};b.applyInverseTransform=function(b,e){var k=e[0]*e[3]-e[1]*e[2];return[(b[0]*e[3]-b[1]*e[2]+e[2]*e[5]-e[4]*e[3])/k,(-b[0]*e[1]+b[1]*e[0]+e[4]*e[1]-e[5]*e[0])/k]};b.getAxialAlignedBoundingBox=function(k,e){var f=b.applyTransform(k,e),a=b.applyTransform(k.slice(2,4),e),m=b.applyTransform([k[0],k[3]],e);k=b.applyTransform([k[2],k[1]],e);return[Math.min(f[0],a[0],m[0],k[0]),Math.min(f[1],a[1],m[1],k[1]),Math.max(f[0],a[0],m[0],k[0]),Math.max(f[1],a[1],m[1],
k[1])]};b.inverseTransform=function(b){var k=b[0]*b[3]-b[1]*b[2];return[b[3]/k,-b[1]/k,-b[2]/k,b[0]/k,(b[2]*b[5]-b[4]*b[3])/k,(b[4]*b[1]-b[5]*b[0])/k]};b.apply3dTransform=function(b,e){return[b[0]*e[0]+b[1]*e[1]+b[2]*e[2],b[3]*e[0]+b[4]*e[1]+b[5]*e[2],b[6]*e[0]+b[7]*e[1]+b[8]*e[2]]};b.singularValueDecompose2dScale=function(b){var e=[b[0],b[2],b[1],b[3]],k=b[0]*e[0]+b[1]*e[2],f=b[2]*e[1]+b[3]*e[3],a=(k+f)/2;b=Math.sqrt((k+f)*(k+f)-4*(k*f-(b[2]*e[0]+b[3]*e[2])*(b[0]*e[1]+b[1]*e[3])))/2;return[Math.sqrt(a+
b||1),Math.sqrt(a-b||1)]};b.normalizeRect=function(b){var e=b.slice(0);b[0]>b[2]&&(e[0]=b[2],e[2]=b[0]);b[1]>b[3]&&(e[1]=b[3],e[3]=b[1]);return e};b.intersect=function(e,f){function k(b,e){return b-e}var a=[e[0],e[2],f[0],f[2]].sort(k),m=[e[1],e[3],f[1],f[3]].sort(k),y=[];e=b.normalizeRect(e);f=b.normalizeRect(f);if(a[0]===e[0]&&a[1]===f[0]||a[0]===f[0]&&a[1]===e[0])y[0]=a[1],y[2]=a[2];else return!1;if(m[0]===e[1]&&m[1]===f[1]||m[0]===f[1]&&m[1]===e[1])y[1]=m[1],y[3]=m[2];else return!1;return y};
return b}();d.Util=c;var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];c=function(){return function(b,e){if(!(2<arguments.length&&
void 0!==arguments[2]&&arguments[2])&&z.URL.createObjectURL){var k=new Blob([b],{type:e});return z.URL.createObjectURL(k)}k="data:"+e+";base64,";for(var f=0,a=b.length;f<a;f+=3){var g=b[f]&255,m=b[f+1]&255,h=b[f+2]&255;k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[g>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(g&3)<<4|m>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f+1<a?(m&15)<<2|h>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f+
2<a?h&63:64]}return k}}();d.createObjectURL=c},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}var n=a(3);if(!n._pdfjsCompatibilityChecked){n._pdfjsCompatibilityChecked=!0;var h=a(4),x="object"===("undefined"===typeof window?"undefined":l(window))&&"object"===("undefined"===typeof document?"undefined":
l(document));(function(){!n.btoa&&h()&&(n.btoa=function(a){return Buffer.from(a,"binary").toString("base64")})})();(function(){!n.atob&&h()&&(n.atob=function(a){return Buffer.from(a,"base64").toString("binary")})})();(function(){x&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})})();(function(){if(x&&!h()){var a=document.createElement("div");a.classList.add("testOne","testTwo");if(!0!==a.classList.contains("testOne")||
!0!==a.classList.contains("testTwo")){var g=DOMTokenList.prototype.add,c=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var a=arguments.length,h=Array(a),c=0;c<a;c++)h[c]=arguments[c];for(a=0;a<h.length;a++)g.call(this,h[a])};DOMTokenList.prototype.remove=function(){for(var a=arguments.length,h=Array(a),g=0;g<a;g++)h[g]=arguments[g];for(a=0;a<h.length;a++)c.call(this,h[a])}}}})();(function(){x&&!h()&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=
function(a){var h=1<arguments.length?!!arguments[1]:!this.contains(a);return this[h?"add":"remove"](a),h})})();String.prototype.startsWith||a(5);String.prototype.endsWith||a(36);String.prototype.includes||a(38);Array.prototype.includes||a(40);Array.from||a(47);Object.assign||a(70);Math.log2||(Math.log2=a(75));Number.isNaN||(Number.isNaN=a(77));Number.isInteger||(Number.isInteger=a(79));n.Promise&&n.Promise.prototype&&n.Promise.prototype["finally"]||(n.Promise=a(82));n.WeakMap||(n.WeakMap=a(102));
n.WeakSet||(n.WeakSet=a(119));String.codePointAt||(String.codePointAt=a(123));String.fromCodePoint||(String.fromCodePoint=a(125));n.Symbol||a(127);String.prototype.padStart||a(134);String.prototype.padEnd||a(138);Object.values||(Object.values=a(140))}},function(c,d,a){c.exports="undefined"!==typeof window&&Math===Math?window:"undefined"!==typeof global&&global.Math===Math?global:"undefined"!==typeof self&&self.Math===Math?self:{}},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===
typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}c.exports=function(){return"object"===("undefined"===typeof process?"undefined":l(process))&&"[object process]"===process+""&&!process.versions.nw&&!process.versions.electron}},function(c,d,a){a(6);c.exports=a(9).String.startsWith},function(c,d,a){c=a(7);var l=a(28),n=a(30),h="".startsWith;c(c.P+c.F*a(35)("startsWith"),"String",
{startsWith:function(a){var c=n(this,a,"startsWith"),g=l(Math.min(1<arguments.length?arguments[1]:void 0,c.length)),d=String(a);return h?h.call(c,d,g):c.slice(g,g+d.length)===d}})},function(c,d,a){var l=a(8),n=a(9),h=a(10),x=a(20),v=a(26);d=function A(a,c,d){var t=a&A.F,e=a&A.G,b=a&A.S,f=a&A.P,k=a&A.B;b=e?l:b?l[c]||(l[c]={}):(l[c]||{}).prototype;var y=e?n:n[c]||(n[c]={}),p=y.prototype||(y.prototype={}),r;e&&(d=c);for(r in d)e=!t&&b&&void 0!==b[r],c=(e?b:d)[r],e=k&&e?v(c,l):f&&"function"==typeof c?
v(Function.call,c):c,b&&x(b,r,c,a&A.U),y[r]!=c&&h(y,r,e),f&&p[r]!=c&&(p[r]=c)};l.core=n;d.F=1;d.G=2;d.S=4;d.P=8;d.B=16;d.W=32;d.U=64;d.R=128;c.exports=d},function(c,d,a){c=c.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(c,d,a){c=c.exports={version:"2.6.9"};"number"==typeof __e&&(__e=c)},function(c,d,a){var l=a(11),n=a(19);c.exports=a(15)?function(a,c,d){return l.f(a,c,n(1,d))}:
function(a,c,d){a[c]=d;return a}},function(c,d,a){var l=a(12),n=a(14),h=a(18),x=Object.defineProperty;d.f=a(15)?Object.defineProperty:function(a,g,c){l(a);g=h(g,!0);l(c);if(n)try{return x(a,g,c)}catch(z){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");"value"in c&&(a[g]=c.value);return a}},function(c,d,a){var l=a(13);c.exports=function(a){if(!l(a))throw TypeError(a+" is not an object!");return a}},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}c.exports=function(a){return"object"===l(a)?null!==a:"function"===typeof a}},function(c,d,a){c.exports=!a(15)&&!a(16)(function(){return 7!=Object.defineProperty(a(17)("div"),"a",{get:function(){return 7}}).a})},function(c,d,a){c.exports=!a(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(c,d,a){c.exports=
function(a){try{return!!a()}catch(n){return!0}}},function(c,d,a){d=a(13);var l=a(8).document,n=d(l)&&d(l.createElement);c.exports=function(a){return n?l.createElement(a):{}}},function(c,d,a){var l=a(13);c.exports=function(a,h){if(!l(a))return a;var c,d;if(h&&"function"==typeof(c=a.toString)&&!l(d=c.call(a))||"function"==typeof(c=a.valueOf)&&!l(d=c.call(a))||!h&&"function"==typeof(c=a.toString)&&!l(d=c.call(a)))return d;throw TypeError("Can't convert object to primitive value");}},function(c,d,a){c.exports=
function(a,c){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:c}}},function(c,d,a){var l=a(8),n=a(10),h=a(21),x=a(22)("src"),v=a(23),g=(""+v).split("toString");a(9).inspectSource=function(a){return v.call(a)};(c.exports=function(a,c,d,v){var t="function"==typeof d;t&&(h(d,"name")||n(d,"name",c));a[c]!==d&&(t&&(h(d,x)||n(d,x,a[c]?""+a[c]:g.join(String(c)))),a===l?a[c]=d:v?a[c]?a[c]=d:n(a,c,d):(delete a[c],n(a,c,d)))})(Function.prototype,"toString",function(){return"function"==typeof this&&
this[x]||v.call(this)})},function(c,d,a){var l={}.hasOwnProperty;c.exports=function(a,h){return l.call(a,h)}},function(c,d,a){var l=0,n=Math.random();c.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++l+n).toString(36))}},function(c,d,a){c.exports=a(24)("native-function-to-string",Function.toString)},function(c,d,a){d=a(9);var l=a(8),n=l["__core-js_shared__"]||(l["__core-js_shared__"]={});(c.exports=function(a,c){return n[a]||(n[a]=void 0!==c?c:{})})("versions",[]).push({version:d.version,
mode:a(25)?"pure":"global",copyright:"\u00a9 2019 Denis Pushkarev (zloirock.ru)"})},function(c,d,a){c.exports=!1},function(c,d,a){var l=a(27);c.exports=function(a,c,d){l(a);if(void 0===c)return a;switch(d){case 1:return function(h){return a.call(c,h)};case 2:return function(h,g){return a.call(c,h,g)};case 3:return function(h,g,d){return a.call(c,h,g,d)}}return function(){return a.apply(c,arguments)}}},function(c,d,a){c.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");
return a}},function(c,d,a){var l=a(29),n=Math.min;c.exports=function(a){return 0<a?n(l(a),9007199254740991):0}},function(c,d,a){var l=Math.ceil,n=Math.floor;c.exports=function(a){return isNaN(a=+a)?0:(0<a?n:l)(a)}},function(c,d,a){var l=a(31),n=a(34);c.exports=function(a,c,d){if(l(c))throw TypeError("String#"+d+" doesn't accept regex!");return String(n(a))}},function(c,d,a){var l=a(13),n=a(32),h=a(33)("match");c.exports=function(a){var c;return l(a)&&(void 0!==(c=a[h])?!!c:"RegExp"==n(a))}},function(c,
d,a){var l={}.toString;c.exports=function(a){return l.call(a).slice(8,-1)}},function(c,d,a){var l=a(24)("wks"),n=a(22),h=a(8).Symbol,x="function"==typeof h;(c.exports=function(a){return l[a]||(l[a]=x&&h[a]||(x?h:n)("Symbol."+a))}).store=l},function(c,d,a){c.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(c,d,a){var l=a(33)("match");c.exports=function(a){var c=/./;try{"/./"[a](c)}catch(x){try{return c[l]=!1,!"/./"[a](c)}catch(v){}}return!0}},function(c,
d,a){a(37);c.exports=a(9).String.endsWith},function(c,d,a){c=a(7);var l=a(28),n=a(30),h="".endsWith;c(c.P+c.F*a(35)("endsWith"),"String",{endsWith:function(a){var c=n(this,a,"endsWith"),g=1<arguments.length?arguments[1]:void 0,d=l(c.length);g=void 0===g?d:Math.min(l(g),d);d=String(a);return h?h.call(c,d,g):c.slice(g-d.length,g)===d}})},function(c,d,a){a(39);c.exports=a(9).String.includes},function(c,d,a){c=a(7);var l=a(30);c(c.P+c.F*a(35)("includes"),"String",{includes:function(a){return!!~l(this,
a,"includes").indexOf(a,1<arguments.length?arguments[1]:void 0)}})},function(c,d,a){a(41);c.exports=a(9).Array.includes},function(c,d,a){c=a(7);var l=a(42)(!0);c(c.P,"Array",{includes:function(a){return l(this,a,1<arguments.length?arguments[1]:void 0)}});a(46)("includes")},function(c,d,a){var l=a(43),n=a(28),h=a(45);c.exports=function(a){return function(c,g,d){c=l(c);var v=n(c.length);d=h(d,v);if(a&&g!=g)for(;v>d;){if(g=c[d++],g!=g)return!0}else for(;v>d;d++)if((a||d in c)&&c[d]===g)return a||d||
0;return!a&&-1}}},function(c,d,a){var l=a(44),n=a(34);c.exports=function(a){return l(n(a))}},function(c,d,a){var l=a(32);c.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==l(a)?a.split(""):Object(a)}},function(c,d,a){var l=a(29),n=Math.max,h=Math.min;c.exports=function(a,c){a=l(a);return 0>a?n(a+c,0):h(a,c)}},function(c,d,a){var l=a(33)("unscopables"),n=Array.prototype;void 0==n[l]&&a(10)(n,l,{});c.exports=function(a){n[l][a]=!0}},function(c,d,a){a(48);a(63);c.exports=
a(9).Array.from},function(c,d,a){var l=a(49)(!0);a(50)(String,"String",function(a){this._t=String(a);this._i=0},function(){var a=this._t,c=this._i;if(c>=a.length)return{value:void 0,done:!0};a=l(a,c);this._i+=a.length;return{value:a,done:!1}})},function(c,d,a){var l=a(29),n=a(34);c.exports=function(a){return function(c,d){c=String(n(c));d=l(d);var g=c.length,h;if(0>d||d>=g)return a?"":void 0;var v=c.charCodeAt(d);return 55296>v||56319<v||d+1===g||56320>(h=c.charCodeAt(d+1))||57343<h?a?c.charAt(d):
v:a?c.slice(d,d+2):(v-55296<<10)+(h-56320)+65536}}},function(c,d,a){var l=a(25),n=a(7),h=a(20),x=a(10),v=a(51),g=a(52),B=a(60),z=a(61),p=a(33)("iterator"),A=!([].keys&&"next"in[].keys()),t=function(){return this};c.exports=function(a,b,f,k,c,d,r){g(f,b,k);k=function(b){return!A&&b in q?q[b]:function(){return new f(this,b)}};var e=b+" Iterator",y="values"==c,w=!1,q=a.prototype,F=q[p]||q["@@iterator"]||c&&q[c],D=F||k(c),C=c?y?k("entries"):D:void 0,P="Array"==b?q.entries||F:F,H;P&&(a=z(P.call(new a)),
a!==Object.prototype&&a.next&&(B(a,e,!0),l||"function"==typeof a[p]||x(a,p,t)));y&&F&&"values"!==F.name&&(w=!0,D=function(){return F.call(this)});l&&!r||!A&&!w&&q[p]||x(q,p,D);v[b]=D;v[e]=t;if(c){var N={values:y?D:k("values"),keys:d?D:k("keys"),entries:C};if(r)for(H in N)H in q||h(q,H,N[H]);else n(n.P+n.F*(A||w),b,N)}return N}},function(c,d,a){c.exports={}},function(c,d,a){var l=a(53),n=a(19),h=a(60),x={};a(10)(x,a(33)("iterator"),function(){return this});c.exports=function(a,c,d){a.prototype=l(x,
{next:n(1,d)});h(a,c+" Iterator")}},function(c,d,a){var l=a(12),n=a(54),h=a(58),x=a(57)("IE_PROTO"),v=function(){},g=function(){var c=a(17)("iframe"),d=h.length;c.style.display="none";a(59).appendChild(c);c.src="javascript:";c=c.contentWindow.document;c.open();c.write("<script>document.F=Object\x3c/script>");c.close();for(g=c.F;d--;)delete g.prototype[h[d]];return g()};c.exports=Object.create||function(a,c){if(null!==a){v.prototype=l(a);var d=new v;v.prototype=null;d[x]=a}else d=g();return void 0===
c?d:n(d,c)}},function(c,d,a){var l=a(11),n=a(12),h=a(55);c.exports=a(15)?Object.defineProperties:function(a,c){n(a);for(var g=h(c),d=g.length,v=0,p;d>v;)l.f(a,p=g[v++],c[p]);return a}},function(c,d,a){var l=a(56),n=a(58);c.exports=Object.keys||function(a){return l(a,n)}},function(c,d,a){var l=a(21),n=a(43),h=a(42)(!1),x=a(57)("IE_PROTO");c.exports=function(a,c){a=n(a);var g=0,d=[],p;for(p in a)p!=x&&l(a,p)&&d.push(p);for(;c.length>g;)l(a,p=c[g++])&&(~h(d,p)||d.push(p));return d}},function(c,d,a){var l=
a(24)("keys"),n=a(22);c.exports=function(a){return l[a]||(l[a]=n(a))}},function(c,d,a){c.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},function(c,d,a){d=a(8).document;c.exports=d&&d.documentElement},function(c,d,a){var l=a(11).f,n=a(21),h=a(33)("toStringTag");c.exports=function(a,c,g){a&&!n(a=g?a:a.prototype,h)&&l(a,h,{configurable:!0,value:c})}},function(c,d,a){var l=a(21),n=a(62),h=a(57)("IE_PROTO"),x=Object.prototype;c.exports=
Object.getPrototypeOf||function(a){a=n(a);return l(a,h)?a[h]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?x:null}},function(c,d,a){var l=a(34);c.exports=function(a){return Object(l(a))}},function(c,d,a){var l=a(26);c=a(7);var n=a(62),h=a(64),x=a(65),v=a(28),g=a(66),B=a(67);c(c.S+c.F*!a(69)(function(a){Array.from(a)}),"Array",{from:function(a){var c=n(a),d="function"==typeof this?this:Array,t=arguments.length,e=1<t?arguments[1]:void 0,b=void 0!==
e,f=0,k=B(c);b&&(e=l(e,2<t?arguments[2]:void 0,2));if(void 0==k||d==Array&&x(k))for(t=v(c.length),d=new d(t);t>f;f++)g(d,f,b?e(c[f],f):c[f]);else for(c=k.call(c),d=new d;!(t=c.next()).done;f++)g(d,f,b?h(c,e,[t.value,f],!0):t.value);d.length=f;return d}})},function(c,d,a){var l=a(12);c.exports=function(a,c,d,v){try{return v?c(l(d)[0],d[1]):c(d)}catch(g){throw c=a["return"],void 0!==c&&l(c.call(a)),g;}}},function(c,d,a){var l=a(51),n=a(33)("iterator"),h=Array.prototype;c.exports=function(a){return void 0!==
a&&(l.Array===a||h[n]===a)}},function(c,d,a){var l=a(11),n=a(19);c.exports=function(a,c,d){c in a?l.f(a,c,n(0,d)):a[c]=d}},function(c,d,a){var l=a(68),n=a(33)("iterator"),h=a(51);c.exports=a(9).getIteratorMethod=function(a){if(void 0!=a)return a[n]||a["@@iterator"]||h[l(a)]}},function(c,d,a){var l=a(32),n=a(33)("toStringTag"),h="Arguments"==l(function(){return arguments}());c.exports=function(a){var c;if(void 0===a)var d="Undefined";else{if(null===a)var x="Null";else{a:{var z=a=Object(a);try{x=z[n];
break a}catch(p){}x=void 0}x="string"==typeof(d=x)?d:h?l(a):"Object"==(c=l(a))&&"function"==typeof a.callee?"Arguments":c}d=x}return d}},function(c,d,a){var l=a(33)("iterator"),n=!1;try{var h=[7][l]();h["return"]=function(){n=!0};Array.from(h,function(){throw 2;})}catch(x){}c.exports=function(a,c){if(!c&&!n)return!1;var d=!1;try{c=[7];var h=c[l]();h.next=function(){return{done:d=!0}};c[l]=function(){return h};a(c)}catch(z){}return d}},function(c,d,a){a(71);c.exports=a(9).Object.assign},function(c,
d,a){c=a(7);c(c.S+c.F,"Object",{assign:a(72)})},function(c,d,a){var l=a(15),n=a(55),h=a(73),x=a(74),v=a(62),g=a(44),B=Object.assign;c.exports=!B||a(16)(function(){var a={},c={},d=Symbol();a[d]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return 7!=B({},a)[d]||"abcdefghijklmnopqrst"!=Object.keys(B({},c)).join("")})?function(a,c){for(var d=v(a),t=arguments.length,e=1,b=h.f,f=x.f;t>e;)for(var k=g(arguments[e++]),y=b?n(k).concat(b(k)):n(k),D=y.length,r=0,m;D>r;)if(m=y[r++],!l||f.call(k,
m))d[m]=k[m];return d}:B},function(c,d,a){d.f=Object.getOwnPropertySymbols},function(c,d,a){d.f={}.propertyIsEnumerable},function(c,d,a){a(76);c.exports=a(9).Math.log2},function(c,d,a){c=a(7);c(c.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},function(c,d,a){a(78);c.exports=a(9).Number.isNaN},function(c,d,a){c=a(7);c(c.S,"Number",{isNaN:function(a){return a!=a}})},function(c,d,a){a(80);c.exports=a(9).Number.isInteger},function(c,d,a){c=a(7);c(c.S,"Number",{isInteger:a(81)})},function(c,
d,a){var l=a(13),n=Math.floor;c.exports=function(a){return!l(a)&&isFinite(a)&&n(a)===a}},function(c,d,a){a(83);a(48);a(84);a(87);a(100);a(101);c.exports=a(9).Promise},function(c,d,a){var l=a(68);c={};c[a(33)("toStringTag")]="z";"[object z]"!=c+""&&a(20)(Object.prototype,"toString",function(){return"[object "+l(this)+"]"},!0)},function(c,d,a){c=a(85);var l=a(55);d=a(20);var n=a(8),h=a(10),x=a(51),v=a(33);a=v("iterator");v=v("toStringTag");var g=x.Array,B={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,
ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1};l=l(B);for(var z=0;z<l.length;z++){var p=
l[z],A=B[p],t=n[p];t=t&&t.prototype;var e;if(t&&(t[a]||h(t,a,g),t[v]||h(t,v,p),x[p]=g,A))for(e in c)t[e]||d(t,e,c[e],!0)}},function(c,d,a){d=a(46);var l=a(86),n=a(51),h=a(43);c.exports=a(50)(Array,"Array",function(a,c){this._t=h(a);this._i=0;this._k=c},function(){var a=this._t,c=this._k,d=this._i++;return!a||d>=a.length?(this._t=void 0,l(1)):"keys"==c?l(0,d):"values"==c?l(0,a[d]):l(0,[d,a[d]])},"values");n.Arguments=n.Array;d("keys");d("values");d("entries")},function(c,d,a){c.exports=function(a,
c){return{value:c,done:!!a}}},function(c,d,a){var l=a(25),n=a(8),h=a(26),x=a(68);c=a(7);var v=a(13),g=a(27),B=a(88),z=a(89),p=a(90),A=a(91).set,t=a(93)();d=a(94);var e=a(95),b=a(96),f=a(97),k=n.TypeError,y=n.process,D=y&&y.versions,r=D&&D.v8||"",m=n.Promise,u="process"==x(y),w=function(){},q,F=q=d.f;x=!!function(){try{var e=m.resolve(1),k=(e.constructor={})[a(33)("species")]=function(a){a(w,w)};return(u||"function"==typeof PromiseRejectionEvent)&&e.then(w)instanceof k&&0!==r.indexOf("6.6")&&-1===
b.indexOf("Chrome/66")}catch(V){}}();var J=function(a){var b;return v(a)&&"function"==typeof(b=a.then)?b:!1},C=function(a,b){if(!a._n){a._n=!0;var e=a._c;t(function(){for(var f=a._v,q=1==a._s,c=0;e.length>c;){var m=void 0,w=void 0,d=void 0,y=e[c++],g=q?y.ok:y.fail,u=y.resolve,h=y.reject,r=y.domain;try{g?(q||(2==a._h&&H(a),a._h=1),!0===g?d=f:(r&&r.enter(),d=g(f),r&&(r.exit(),m=!0)),d===y.promise?h(k("Promise-chain cycle")):(w=J(d))?w.call(d,u,h):u(d)):h(f)}catch(S){r&&!m&&r.exit(),h(S)}}a._c=[];a._n=
!1;b&&!a._h&&P(a)})}},P=function(a){A.call(n,function(){var b=a._v,k=1!==a._h&&0===(a._a||a._c).length,f,q;if(k){var c=e(function(){u?y.emit("unhandledRejection",b,a):(f=n.onunhandledrejection)?f({promise:a,reason:b}):(q=n.console)&&q.error&&q.error("Unhandled promise rejection",b)});a._h=u||1!==a._h&&0===(a._a||a._c).length?2:1}a._a=void 0;if(k&&c.e)throw c.v;})},H=function(a){A.call(n,function(){var b;u?y.emit("rejectionHandled",a):(b=n.onrejectionhandled)&&b({promise:a,reason:a._v})})},N=function(a){var b=
this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),C(b,!0))},M=function V(a){var b=this,e;if(!b._d){b._d=!0;b=b._w||b;try{if(b===a)throw k("Promise can't be resolved itself");(e=J(a))?t(function(){var k={_w:b,_d:!1};try{e.call(a,h(V,k,1),h(N,k,1))}catch(W){N.call(k,W)}}):(b._v=a,b._s=1,C(b,!1))}catch(Z){N.call({_w:b,_d:!1},Z)}}};if(!x){m=function(a){B(this,m,"Promise","_h");g(a);L.call(this);try{a(h(M,this,1),h(N,this,1))}catch(V){N.call(this,V)}};var L=function(a){this._c=[];this._a=
void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1};L.prototype=a(98)(m.prototype,{then:function(a,b){var e=F(p(this,m));e.ok="function"==typeof a?a:!0;e.fail="function"==typeof b&&b;e.domain=u?y.domain:void 0;this._c.push(e);this._a&&this._a.push(e);this._s&&C(this,!1);return e.promise},"catch":function(a){return this.then(void 0,a)}});var I=function(){var a=new L;this.promise=a;this.resolve=h(M,a,1);this.reject=h(N,a,1)};d.f=F=function(a){return a===m||a===O?new I(a):q(a)}}c(c.G+c.W+
c.F*!x,{Promise:m});a(60)(m,"Promise");a(99)("Promise");var O=a(9).Promise;c(c.S+c.F*!x,"Promise",{reject:function(a){var b=F(this),e=b.reject;e(a);return b.promise}});c(c.S+c.F*(l||!x),"Promise",{resolve:function(a){return f(l&&this===O?m:this,a)}});c(c.S+c.F*!(x&&a(69)(function(a){m.all(a)["catch"](w)})),"Promise",{all:function(a){var b=this,k=F(b),f=k.resolve,q=k.reject,c=e(function(){var e=[],k=0,c=1;z(a,!1,function(a){var m=k++,w=!1;e.push(void 0);c++;b.resolve(a).then(function(a){w||(w=!0,e[m]=
a,--c||f(e))},q)});--c||f(e)});c.e&&q(c.v);return k.promise},race:function(a){var b=this,k=F(b),f=k.reject,q=e(function(){z(a,!1,function(a){b.resolve(a).then(k.resolve,f)})});q.e&&f(q.v);return k.promise}})},function(c,d,a){c.exports=function(a,c,d,x){if(!(a instanceof c)||void 0!==x&&x in a)throw TypeError(d+": incorrect invocation!");return a}},function(c,d,a){var l=a(26),n=a(64),h=a(65),x=a(12),v=a(28),g=a(67),B={},z={};c=c.exports=function(a,c,d,e,b){b=b?function(){return a}:g(a);d=l(d,e,c?2:
1);e=0;var f,k;if("function"!=typeof b)throw TypeError(a+" is not iterable!");if(h(b))for(f=v(a.length);f>e;e++){if(b=c?d(x(k=a[e])[0],k[1]):d(a[e]),b===B||b===z)return b}else for(e=b.call(a);!(k=e.next()).done;)if(b=n(e,d,k.value,c),b===B||b===z)return b};c.BREAK=B;c.RETURN=z},function(c,d,a){var l=a(12),n=a(27),h=a(33)("species");c.exports=function(a,c){a=l(a).constructor;var d;return void 0===a||void 0==(d=l(a)[h])?c:n(d)}},function(c,d,a){var l=a(26),n=a(92),h=a(59),x=a(17),v=a(8),g=v.process;
d=v.setImmediate;var B=v.clearImmediate,z=v.MessageChannel,p=v.Dispatch,A=0,t={},e=function(){var a=+this;if(t.hasOwnProperty(a)){var b=t[a];delete t[a];b()}},b=function(a){e.call(a.data)};if(!d||!B)if(d=function(a){for(var b=[],e=1;arguments.length>e;)b.push(arguments[e++]);t[++A]=function(){n("function"==typeof a?a:Function(a),b)};f(A);return A},B=function(a){delete t[a]},"process"==a(32)(g))var f=function(a){g.nextTick(l(e,a,1))};else p&&p.now?f=function(a){p.now(l(e,a,1))}:z?(a=new z,z=a.port2,
a.port1.onmessage=b,f=l(z.postMessage,z,1)):v.addEventListener&&"function"==typeof postMessage&&!v.importScripts?(f=function(a){v.postMessage(a+"","*")},v.addEventListener("message",b,!1)):f="onreadystatechange"in x("script")?function(a){h.appendChild(x("script")).onreadystatechange=function(){h.removeChild(this);e.call(a)}}:function(a){setTimeout(l(e,a,1),0)};c.exports={set:d,clear:B}},function(c,d,a){c.exports=function(a,c,d){var h=void 0===d;switch(c.length){case 0:return h?a():a.call(d);case 1:return h?
a(c[0]):a.call(d,c[0]);case 2:return h?a(c[0],c[1]):a.call(d,c[0],c[1]);case 3:return h?a(c[0],c[1],c[2]):a.call(d,c[0],c[1],c[2]);case 4:return h?a(c[0],c[1],c[2],c[3]):a.call(d,c[0],c[1],c[2],c[3])}return a.apply(d,c)}},function(c,d,a){var l=a(8),n=a(91).set,h=l.MutationObserver||l.WebKitMutationObserver,x=l.process,v=l.Promise,g="process"==a(32)(x);c.exports=function(){var a,c,d=function(){var b;for(g&&(b=x.domain)&&b.exit();a;){var e=a.fn;a=a.next;try{e()}catch(y){throw a?A():c=void 0,y;}}c=void 0;
b&&b.enter()};if(g)var A=function(){x.nextTick(d)};else if(!h||l.navigator&&l.navigator.standalone)if(v&&v.resolve){var t=v.resolve(void 0);A=function(){t.then(d)}}else A=function(){n.call(l,d)};else{var e=!0,b=document.createTextNode("");(new h(d)).observe(b,{characterData:!0});A=function(){b.data=e=!e}}return function(b){b={fn:b,next:void 0};c&&(c.next=b);a||(a=b,A());c=b}}},function(c,d,a){function l(a){var c,d;this.promise=new a(function(a,h){if(void 0!==c||void 0!==d)throw TypeError("Bad Promise constructor");
c=a;d=h});this.resolve=n(c);this.reject=n(d)}var n=a(27);c.exports.f=function(a){return new l(a)}},function(c,d,a){c.exports=function(a){try{return{e:!1,v:a()}}catch(n){return{e:!0,v:n}}}},function(c,d,a){d=a(8).navigator;c.exports=d&&d.userAgent||""},function(c,d,a){var l=a(12),n=a(13),h=a(94);c.exports=function(a,c){l(a);if(n(c)&&c.constructor===a)return c;a=h.f(a);var d=a.resolve;d(c);return a.promise}},function(c,d,a){var l=a(20);c.exports=function(a,c,d){for(var h in c)l(a,h,c[h],d);return a}},
function(c,d,a){var l=a(8),n=a(11),h=a(15),x=a(33)("species");c.exports=function(a){a=l[a];h&&a&&!a[x]&&n.f(a,x,{configurable:!0,get:function(){return this}})}},function(c,d,a){c=a(7);var l=a(9),n=a(8),h=a(90),x=a(97);c(c.P+c.R,"Promise",{"finally":function(a){var c=h(this,l.Promise||n.Promise),d="function"==typeof a;return this.then(d?function(d){return x(c,a()).then(function(){return d})}:a,d?function(d){return x(c,a()).then(function(){throw d;})}:a)}})},function(c,d,a){c=a(7);var l=a(94),n=a(95);
c(c.S,"Promise",{"try":function(a){var c=l.f(this);a=n(a);(a.e?c.reject:c.resolve)(a.v);return c.promise}})},function(c,d,a){a(83);a(84);a(103);a(115);a(117);c.exports=a(9).WeakMap},function(c,d,a){var l=a(8);d=a(104)(0);var n=a(20),h=a(108),x=a(72),v=a(109),g=a(13),B=a(110),z=a(110);l=!l.ActiveXObject&&"ActiveXObject"in l;var p=h.getWeak,A=Object.isExtensible,t=v.ufstore,e=function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},b={get:function(a){if(g(a)){var b=p(a);
return!0===b?t(B(this,"WeakMap")).get(a):b?b[this._i]:void 0}},set:function(a,b){return v.def(B(this,"WeakMap"),a,b)}},f=c.exports=a(111)("WeakMap",e,b,v,!0,!0);if(z&&l){var k=v.getConstructor(e,"WeakMap");x(k.prototype,b);h.NEED=!0;d(["delete","has","get","set"],function(a){var b=f.prototype,e=b[a];n(b,a,function(b,f){return g(b)&&!A(b)?(this._f||(this._f=new k),b=this._f[a](b,f),"set"==a?this:b):e.call(this,b,f)})})}},function(c,d,a){var l=a(26),n=a(44),h=a(62),x=a(28),v=a(105);c.exports=function(a,
c){var d=1==a,g=2==a,A=3==a,t=4==a,e=6==a,b=5==a||e,f=c||v;return function(k,c,D){var y=h(k),m=n(y);c=l(c,D,3);D=x(m.length);var u=0;k=d?f(k,D):g?f(k,0):void 0;for(var w,q;D>u;u++)if(b||u in m)if(w=m[u],q=c(w,u,y),a)if(d)k[u]=q;else if(q)switch(a){case 3:return!0;case 5:return w;case 6:return u;case 2:k.push(w)}else if(t)return!1;return e?-1:A||t?t:k}}},function(c,d,a){var l=a(106);c.exports=function(a,c){return new (l(a))(c)}},function(c,d,a){var l=a(13),n=a(107),h=a(33)("species");c.exports=function(a){if(n(a)){var c=
a.constructor;"function"!=typeof c||c!==Array&&!n(c.prototype)||(c=void 0);l(c)&&(c=c[h],null===c&&(c=void 0))}return void 0===c?Array:c}},function(c,d,a){var l=a(32);c.exports=Array.isArray||function(a){return"Array"==l(a)}},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}var n=a(22)("meta"),h=a(13),
x=a(21),v=a(11).f,g=0,B=Object.isExtensible||function(){return!0},z=!a(16)(function(){return B(Object.preventExtensions({}))}),p=function(a){v(a,n,{value:{i:"O"+ ++g,w:{}}})},A=c.exports={KEY:n,NEED:!1,fastKey:function(a,e){if(!h(a))return"symbol"==l(a)?a:("string"==typeof a?"S":"P")+a;if(!x(a,n)){if(!B(a))return"F";if(!e)return"E";p(a)}return a[n].i},getWeak:function(a,e){if(!x(a,n)){if(!B(a))return!0;if(!e)return!1;p(a)}return a[n].w},onFreeze:function(a){z&&A.NEED&&B(a)&&!x(a,n)&&p(a);return a}}},
function(c,d,a){var l=a(98),n=a(108).getWeak,h=a(12),x=a(13),v=a(88),g=a(89);d=a(104);var B=a(21),z=a(110),p=d(5),A=d(6),t=0,e=function(a){return a._l||(a._l=new b)},b=function(){this.a=[]},f=function(a,b){return p(a.a,function(a){return a[0]===b})};b.prototype={get:function(a){if(a=f(this,a))return a[1]},has:function(a){return!!f(this,a)},set:function(a,b){var e=f(this,a);e?e[1]=b:this.a.push([a,b])},"delete":function(a){var b=A(this.a,function(b){return b[0]===a});~b&&this.a.splice(b,1);return!!~b}};
c.exports={getConstructor:function(a,b,f,c){var k=a(function(a,e){v(a,k,b,"_i");a._t=b;a._i=t++;a._l=void 0;void 0!=e&&g(e,f,a[c],a)});l(k.prototype,{"delete":function(a){if(!x(a))return!1;var f=n(a);return!0===f?e(z(this,b))["delete"](a):f&&B(f,this._i)&&delete f[this._i]},has:function(a){if(!x(a))return!1;var f=n(a);return!0===f?e(z(this,b)).has(a):f&&B(f,this._i)}});return k},def:function(a,b,f){var c=n(h(b),!0);!0===c?e(a).set(b,f):c[a._i]=f;return a},ufstore:e}},function(c,d,a){var l=a(13);c.exports=
function(a,c){if(!l(a)||a._t!==c)throw TypeError("Incompatible receiver, "+c+" required!");return a}},function(c,d,a){var l=a(8),n=a(7),h=a(20),x=a(98),v=a(108),g=a(89),B=a(88),z=a(13),p=a(16),A=a(69),t=a(60),e=a(112);c.exports=function(a,f,c,d,D,r){var b=l[a],k=b,w=D?"set":"add",q=k&&k.prototype,y={},J=function(a){var b=q[a];h(q,a,"delete"==a?function(a){return r&&!z(a)?!1:b.call(this,0===a?0:a)}:"has"==a?function(a){return r&&!z(a)?!1:b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!z(a)?
void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){b.call(this,0===a?0:a);return this}:function(a,e){b.call(this,0===a?0:a,e);return this})};if("function"==typeof k&&(r||q.forEach&&!p(function(){(new k).entries().next()}))){var C=new k;c=C[w](r?{}:-0,1)!=C;var P=p(function(){C.has(1)}),H=A(function(a){new k(a)}),N=!r&&p(function(){for(var a=new k,b=5;b--;)a[w](b,b);return!a.has(-0)});H||(k=f(function(f,c){B(f,k,a);f=e(new b,f,k);void 0!=c&&g(c,D,f[w],f);return f}),k.prototype=q,q.constructor=k);
if(P||N)J("delete"),J("has"),D&&J("get");(N||c)&&J(w);r&&q.clear&&delete q.clear}else k=d.getConstructor(f,a,D,w),x(k.prototype,c),v.NEED=!0;t(k,a);y[a]=k;n(n.G+n.W+n.F*(k!=b),y);r||d.setStrong(k,a,D);return k}},function(c,d,a){var l=a(13),n=a(113).set;c.exports=function(a,c,d){c=c.constructor;var g;c!==d&&"function"==typeof c&&(g=c.prototype)!==d.prototype&&l(g)&&n&&n(a,g);return a}},function(c,d,a){var l=a(13),n=a(12),h=function(a,c){n(a);if(!l(c)&&null!==c)throw TypeError(c+": can't set as prototype!");
};c.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,d,g){try{g=a(26)(Function.call,a(114).f(Object.prototype,"__proto__").set,2),g(c,[]),d=!(c instanceof Array)}catch(B){d=!0}return function(a,c){h(a,c);d?a.__proto__=c:g(a,c);return a}}({},!1):void 0),check:h}},function(c,d,a){var l=a(74),n=a(19),h=a(43),x=a(18),v=a(21),g=a(14),B=Object.getOwnPropertyDescriptor;d.f=a(15)?B:function(a,c){a=h(a);c=x(c,!0);if(g)try{return B(a,c)}catch(A){}if(v(a,c))return n(!l.f.call(a,c),a[c])}},function(c,
d,a){a(116)("WeakMap")},function(c,d,a){var l=a(7);c.exports=function(a){l(l.S,a,{of:function(){for(var a=arguments.length,c=Array(a);a--;)c[a]=arguments[a];return new this(c)}})}},function(c,d,a){a(118)("WeakMap")},function(c,d,a){var l=a(7),n=a(27),h=a(26),x=a(89);c.exports=function(a){l(l.S,a,{from:function(a,c,d){var g;n(this);(g=void 0!==c)&&n(c);if(void 0==a)return new this;var l=[];if(g){var t=0;var e=h(c,d,2);x(a,!1,function(a){l.push(e(a,t++))})}else x(a,!1,l.push,l);return new this(l)}})}},
function(c,d,a){a(83);a(84);a(120);a(121);a(122);c.exports=a(9).WeakSet},function(c,d,a){var l=a(109),n=a(110);a(111)("WeakSet",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{add:function(a){return l.def(n(this,"WeakSet"),a,!0)}},l,!1,!0)},function(c,d,a){a(116)("WeakSet")},function(c,d,a){a(118)("WeakSet")},function(c,d,a){a(124);c.exports=a(9).String.codePointAt},function(c,d,a){c=a(7);var l=a(49)(!1);c(c.P,"String",{codePointAt:function(a){return l(this,
a)}})},function(c,d,a){a(126);c.exports=a(9).String.fromCodePoint},function(c,d,a){c=a(7);var l=a(45),n=String.fromCharCode;a=String.fromCodePoint;c(c.S+c.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(a){for(var c=[],d=arguments.length,g=0,h;d>g;){h=+arguments[g++];if(l(h,1114111)!==h)throw RangeError(h+" is not a valid code point");c.push(65536>h?n(h):n(((h-=65536)>>10)+55296,h%1024+56320))}return c.join("")}})},function(c,d,a){a(128);a(83);c.exports=a(9).Symbol},function(c,d,a){function l(a){l=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}c=a(8);var n=a(21),h=a(15);d=a(7);var x=a(20),v=a(108).KEY,g=a(16),B=a(24),z=a(60),p=a(22),A=a(33),t=a(129),e=a(130),b=a(131),f=a(107),k=a(12),y=a(13),D=a(62),r=a(43),m=a(18),u=a(19),w=a(53),q=a(132),F=a(114),J=a(73),C=a(11),P=a(55),H=F.f,N=C.f,M=q.f,L=c.Symbol,I=c.JSON,O=I&&I.stringify,
K=A("_hidden"),U=A("toPrimitive"),V={}.propertyIsEnumerable,Q=B("symbol-registry"),Y=B("symbols"),Z=B("op-symbols"),W=Object.prototype;B="function"==typeof L&&!!J.f;var R=c.QObject,T=!R||!R.prototype||!R.prototype.findChild,ba=h&&g(function(){return 7!=w(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(a,b,e){var c=H(W,b);c&&delete W[b];N(a,b,e);c&&a!==W&&N(W,b,c)}:N,ca=function(a){var b=Y[a]=w(L.prototype);b._k=a;return b},da=B&&"symbol"==l(L.iterator)?function(a){return"symbol"==
l(a)}:function(a){return a instanceof L},ea=function(a,b,e){a===W&&ea(Z,b,e);k(a);b=m(b,!0);k(e);return n(Y,b)?(e.enumerable?(n(a,K)&&a[K][b]&&(a[K][b]=!1),e=w(e,{enumerable:u(0,!1)})):(n(a,K)||N(a,K,u(1,{})),a[K][b]=!0),ba(a,b,e)):N(a,b,e)},X=function(a,e){k(a);for(var c=b(e=r(e)),f=0,q=c.length,d;q>f;)ea(a,d=c[f++],e[d]);return a},S=function(a){var b=V.call(this,a=m(a,!0));return this===W&&n(Y,a)&&!n(Z,a)?!1:b||!n(this,a)||!n(Y,a)||n(this,K)&&this[K][a]?b:!0};R=function(a,b){a=r(a);b=m(b,!0);if(a!==
W||!n(Y,b)||n(Z,b)){var e=H(a,b);!e||!n(Y,b)||n(a,K)&&a[K][b]||(e.enumerable=!0);return e}};var E=function(a){a=M(r(a));for(var b=[],e=0,c;a.length>e;)n(Y,c=a[e++])||c==K||c==v||b.push(c);return b},aa=function(a){var b=a===W;a=M(b?Z:r(a));for(var e=[],c=0,f;a.length>c;)n(Y,f=a[c++])&&(b?n(W,f):1)&&e.push(Y[f]);return e};B||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var a=p(0<arguments.length?arguments[0]:void 0),b=function ra(b){this===W&&ra.call(Z,b);n(this,
K)&&n(this[K],a)&&(this[K][a]=!1);ba(this,a,u(1,b))};h&&T&&ba(W,a,{configurable:!0,set:b});return ca(a)},x(L.prototype,"toString",function(){return this._k}),F.f=R,C.f=ea,a(133).f=q.f=E,a(74).f=S,J.f=aa,h&&!a(25)&&x(W,"propertyIsEnumerable",S,!0),t.f=function(a){return ca(A(a))});d(d.G+d.W+d.F*!B,{Symbol:L});x="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");for(t=0;x.length>t;)A(x[t++]);P=P(A.store);for(x=0;P.length>x;)e(P[x++]);
d(d.S+d.F*!B,"Symbol",{"for":function(a){return n(Q,a+="")?Q[a]:Q[a]=L(a)},keyFor:function(a){if(!da(a))throw TypeError(a+" is not a symbol!");for(var b in Q)if(Q[b]===a)return b},useSetter:function(){T=!0},useSimple:function(){T=!1}});d(d.S+d.F*!B,"Object",{create:function(a,b){return void 0===b?w(a):X(w(a),b)},defineProperty:ea,defineProperties:X,getOwnPropertyDescriptor:R,getOwnPropertyNames:E,getOwnPropertySymbols:aa});e=g(function(){J.f(1)});d(d.S+d.F*e,"Object",{getOwnPropertySymbols:function(a){return J.f(D(a))}});
I&&d(d.S+d.F*(!B||g(function(){var a=L();return"[null]"!=O([a])||"{}"!=O({a:a})||"{}"!=O(Object(a))})),"JSON",{stringify:function(a){for(var b=[a],e=1,c;arguments.length>e;)b.push(arguments[e++]);c=e=b[1];if((y(e)||void 0!==a)&&!da(a))return f(e)||(e=function(a,b){"function"==typeof c&&(b=c.call(this,a,b));if(!da(b))return b}),b[1]=e,O.apply(I,b)}});L.prototype[U]||a(10)(L.prototype,U,L.prototype.valueOf);z(L,"Symbol");z(Math,"Math",!0);z(c.JSON,"JSON",!0)},function(c,d,a){d.f=a(33)},function(c,d,
a){var l=a(8),n=a(9),h=a(25),x=a(129),v=a(11).f;c.exports=function(a){var c=n.Symbol||(n.Symbol=h?{}:l.Symbol||{});"_"==a.charAt(0)||a in c||v(c,a,{value:x.f(a)})}},function(c,d,a){var l=a(55),n=a(73),h=a(74);c.exports=function(a){var c=l(a),d=n.f;if(d){d=d(a);for(var x=h.f,z=0,p;d.length>z;)x.call(a,p=d[z++])&&c.push(p)}return c}},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}var n=a(43),h=a(133).f,x={}.toString,v="object"==("undefined"===typeof window?"undefined":l(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(a){if(v&&"[object Window]"==x.call(a))try{var c=h(a)}catch(z){c=v.slice()}else c=h(n(a));return c}},function(c,d,a){var l=a(56),n=a(58).concat("length","prototype");d.f=Object.getOwnPropertyNames||function(a){return l(a,n)}},function(c,
d,a){a(135);c.exports=a(9).String.padStart},function(c,d,a){c=a(7);var l=a(136);a=a(96);a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);c(c.P+c.F*a,"String",{padStart:function(a){return l(this,a,1<arguments.length?arguments[1]:void 0,!0)}})},function(c,d,a){var l=a(28),n=a(137),h=a(34);c.exports=function(a,c,d,B){a=String(h(a));var g=a.length;d=void 0===d?" ":String(d);c=l(c);if(c<=g||""==d)return a;c-=g;g=n.call(d,Math.ceil(c/d.length));g.length>c&&(g=g.slice(0,c));return B?g+a:a+g}},
function(c,d,a){var l=a(29),n=a(34);c.exports=function(a){var c=String(n(this)),d="";a=l(a);if(0>a||Infinity==a)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(c+=c))a&1&&(d+=c);return d}},function(c,d,a){a(139);c.exports=a(9).String.padEnd},function(c,d,a){c=a(7);var l=a(136);a=a(96);a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);c(c.P+c.F*a,"String",{padEnd:function(a){return l(this,a,1<arguments.length?arguments[1]:void 0,!1)}})},function(c,d,a){a(141);c.exports=a(9).Object.values},
function(c,d,a){c=a(7);var l=a(142)(!1);c(c.S,"Object",{values:function(a){return l(a)}})},function(c,d,a){var l=a(15),n=a(55),h=a(43),x=a(74).f;c.exports=function(a){return function(c){c=h(c);for(var d=n(c),g=d.length,p=0,A=[],t;g>p;)t=d[p++],l&&!x.call(c,t)||A.push(a?[t,c[t]]:c[t]);return A}}},function(c,d,a){c=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),c=!0}catch(l){}d.ReadableStream=c?ReadableStream:a(144).ReadableStream},function(c,d,a){function l(a){l=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}(function(a,c){for(var d in c)a[d]=c[d]})(d,function(a){function c(h){if(d[h])return d[h].exports;var g=d[h]={i:h,l:!1,exports:{}};a[h].call(g.exports,g,g.exports,c);g.l=!0;return g.exports}var d={};c.m=a;c.c=d;c.i=function(a){return a};c.d=function(a,d,h){c.o(a,d)||Object.defineProperty(a,
d,{configurable:!1,enumerable:!0,get:h})};c.n=function(a){var d=a&&a.__esModule?function(){return a["default"]}:function(){return a};c.d(d,"a",d);return d};c.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};c.p="";return c(c.s=7)}([function(a,c,d){function h(a){return"string"===typeof a||"symbol"===("undefined"===typeof a?"undefined":n(a))}function g(a,c,d){if("function"!==typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,c,d)}var n=
"function"===typeof Symbol&&"symbol"===l(Symbol.iterator)?function(a){return l(a)}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":l(a)},z=d(1).assert;c.typeIsObject=function(a){return"object"===("undefined"===typeof a?"undefined":n(a))&&null!==a||"function"===typeof a};c.createDataProperty=function(a,d,g){z(c.typeIsObject(a));Object.defineProperty(a,d,{value:g,writable:!0,enumerable:!0,configurable:!0})};c.createArrayFromList=function(a){return a.slice()};
c.ArrayBufferCopy=function(a,c,d,e,b){(new Uint8Array(a)).set(new Uint8Array(d,e,b),c)};c.CreateIterResultObject=function(a,c){z("boolean"===typeof c);var d={};Object.defineProperty(d,"value",{value:a,enumerable:!0,writable:!0,configurable:!0});Object.defineProperty(d,"done",{value:c,enumerable:!0,writable:!0,configurable:!0});return d};c.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)||Infinity===a||0>a?!1:!0};c.InvokeOrNoop=function(a,c,d){z(void 0!==a);z(h(c));z(Array.isArray(d));
c=a[c];if(void 0!==c)return g(c,a,d)};c.PromiseInvokeOrNoop=function(a,d,g){z(void 0!==a);z(h(d));z(Array.isArray(g));try{return Promise.resolve(c.InvokeOrNoop(a,d,g))}catch(e){return Promise.reject(e)}};c.PromiseInvokeOrPerformFallback=function(a,c,d,e,b){z(void 0!==a);z(h(c));z(Array.isArray(d));z(Array.isArray(b));var f=void 0;try{f=a[c]}catch(k){return Promise.reject(k)}if(void 0===f)return e.apply(null,b);try{return Promise.resolve(g(f,a,d))}catch(k){return Promise.reject(k)}};c.TransferArrayBuffer=
function(a){return a.slice()};c.ValidateAndNormalizeHighWaterMark=function(a){a=Number(a);if(Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a};c.ValidateAndNormalizeQueuingStrategy=function(a,d){if(void 0!==a&&"function"!==typeof a)throw new TypeError("size property of a queuing strategy must be a function");d=c.ValidateAndNormalizeHighWaterMark(d);return{size:a,highWaterMark:d}}},function(a,c,d){function h(a){this.name=
"AssertionError";this.message=a||"";this.stack=Error().stack}h.prototype=Object.create(Error.prototype);h.prototype.constructor=h;a.exports={rethrowAssertionErrorRejection:function(a){a&&a.constructor===h&&setTimeout(function(){throw a;},0)},AssertionError:h,assert:function(a,c){if(!a)throw new h(c);}}},function(a,c,d){function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function g(a){return new ra(a)}function l(a){return S(a)&&Object.prototype.hasOwnProperty.call(a,
"_writableStreamController")?!0:!1}function n(a){E(!0===l(a),"IsWritableStreamLocked should only be used on known writable streams");return void 0===a._writer?!1:!0}function p(a,b){var c=a._state;if("closed"===c)return Promise.resolve(void 0);if("errored"===c)return Promise.reject(a._storedError);var f=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(f);E("writable"===c||"erroring"===c,"state must be writable or erroring");var k=!1;"erroring"===c&&(k=!0,
b=void 0);c=new Promise(function(c,e){a._pendingAbortRequest={_resolve:c,_reject:e,_reason:b,_wasAlreadyErroring:k}});!1===k&&e(a,f);return c}function A(a){E(!0===n(a));E("writable"===a._state);return new Promise(function(b,c){a._writeRequests.push({_resolve:b,_reject:c})})}function t(a,c){var f=a._state;"writable"===f?e(a,c):(E("erroring"===f),b(a))}function e(a,c){E(void 0===a._storedError,"stream._storedError === undefined");E("writable"===a._state,"state must be writable");var e=a._writableStreamController;
E(void 0!==e,"controller must not be undefined");a._state="erroring";a._storedError=c;var f=a._writer;void 0!==f&&q(f,c);!1===(void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0)&&!0===e._started&&b(a)}function b(a){E("erroring"===a._state,"stream._state === erroring");E(!1===(void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0),"WritableStreamHasOperationMarkedInFlight(stream) === false");a._state="errored";a._writableStreamController.__errorSteps();for(var b=
a._storedError,c=0;c<a._writeRequests.length;c++)a._writeRequests[c]._reject(b);a._writeRequests=[];if(void 0===a._pendingAbortRequest)D(a);else{var e=a._pendingAbortRequest;a._pendingAbortRequest=void 0;!0===e._wasAlreadyErroring?(e._reject(b),D(a)):a._writableStreamController.__abortSteps(e._reason).then(function(){e._resolve();D(a)},function(b){e._reject(b);D(a)})}}function f(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function k(a){E(void 0===a._inFlightCloseRequest);
E(void 0!==a._closeRequest);a._inFlightCloseRequest=a._closeRequest;a._closeRequest=void 0}function y(a){E(void 0===a._inFlightWriteRequest,"there must be no pending write request");E(0!==a._writeRequests.length,"writeRequests must not be empty");a._inFlightWriteRequest=a._writeRequests.shift()}function D(a){E("errored"===a._state,'_stream_.[[state]] is `"errored"`');void 0!==a._closeRequest&&(E(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=
a._writer;void 0!==b&&(U(b,a._storedError),b._closedPromise["catch"](function(){}))}function r(a,b){E("writable"===a._state);E(!1===f(a));var c=a._writer;void 0!==c&&b!==a._backpressure&&(!0===b?R(c):(E(!1===b),ba(c)));a._backpressure=b}function m(a){return S(a)&&Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!0:!1}function u(a){var b=a._ownerWritableStream;E(void 0!==b);var c=b._state;if("closed"===c||"errored"===c)return Promise.reject(new TypeError("The stream (in "+c+" state) is not in the writable state and cannot be closed"));
E("writable"===c||"erroring"===c);E(!1===f(b));var e=new Promise(function(a,c){b._closeRequest={_resolve:a,_reject:c}});!0===b._backpressure&&"writable"===c&&ba(a);C(b._writableStreamController);return e}function w(a,b){"pending"===a._closedPromiseState?U(a,b):V(a,b);a._closedPromise["catch"](function(){})}function q(a,b){"pending"===a._readyPromiseState?W(a,b):T(a,b);a._readyPromise["catch"](function(){})}function F(a){var b=a._ownerWritableStream;E(void 0!==b);E(b._writer===a);var c=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
q(a,c);w(a,c);b._writer=void 0;a._ownerWritableStream=void 0}function J(a,b){var c=a._ownerWritableStream;E(void 0!==c);var e=c._writableStreamController;var k=e._strategySize;if(void 0===k)var d=1;else try{d=k(b)}catch(ha){"writable"===e._controlledWritableStream._state&&M(e,ha),d=1}if(c!==a._ownerWritableStream)return Promise.reject(O("write to"));a=c._state;if("errored"===a)return Promise.reject(c._storedError);if(!0===f(c)||"closed"===a)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));
if("erroring"===a)return Promise.reject(c._storedError);E("writable"===a);c=A(c);a:{b={chunk:b};try{ka(e,b,d)}catch(ha){"writable"===e._controlledWritableStream._state&&M(e,ha);break a}d=e._controlledWritableStream;!1===f(d)&&"writable"===d._state&&r(d,0>=e._strategyHWM-e._queueTotalSize);P(e)}return c}function C(a){ka(a,"close",0);P(a)}function P(a){var c=a._controlledWritableStream;if(!1!==a._started&&void 0===c._inFlightWriteRequest){var e=c._state;"closed"!==e&&"errored"!==e&&("erroring"===e?
b(c):0!==a._queue.length&&(c=ma(a),"close"===c?H(a):x(a,c.chunk)))}}function H(a){var b=a._controlledWritableStream;k(b);qa(a);E(0===a._queue.length,"queue must be empty once the final write record is dequeued");ea(a._underlyingSink,"close",[]).then(function(){E(void 0!==b._inFlightCloseRequest);b._inFlightCloseRequest._resolve(void 0);b._inFlightCloseRequest=void 0;var a=b._state;E("writable"===a||"erroring"===a);"erroring"===a&&(b._storedError=void 0,void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._resolve(),
b._pendingAbortRequest=void 0));b._state="closed";a=b._writer;void 0!==a&&(E(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),E(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),E("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved");E(void 0===b._pendingAbortRequest,"stream._pendingAbortRequest === undefined");
E(void 0===b._storedError,"stream._storedError === undefined")},function(a){E(void 0!==b._inFlightCloseRequest);b._inFlightCloseRequest._reject(a);b._inFlightCloseRequest=void 0;E("writable"===b._state||"erroring"===b._state);void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._reject(a),b._pendingAbortRequest=void 0);t(b,a)})["catch"](aa)}function x(a,b){var c=a._controlledWritableStream;y(c);ea(a._underlyingSink,"write",[b,a]).then(function(){E(void 0!==c._inFlightWriteRequest);c._inFlightWriteRequest._resolve(void 0);
c._inFlightWriteRequest=void 0;var b=c._state;E("writable"===b||"erroring"===b);qa(a);!1===f(c)&&"writable"===b&&r(c,0>=a._strategyHWM-a._queueTotalSize);P(a)},function(a){E(void 0!==c._inFlightWriteRequest);c._inFlightWriteRequest._reject(a);c._inFlightWriteRequest=void 0;E("writable"===c._state||"erroring"===c._state);t(c,a)})["catch"](aa)}function M(a,b){a=a._controlledWritableStream;E("writable"===a._state);e(a,b)}function L(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}
function I(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function O(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function K(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b;a._closedPromise_reject=c;a._closedPromiseState="pending"})}function U(a,b){E(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined");E(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined");
E("pending"===a._closedPromiseState,"writer._closedPromiseState is pending");a._closedPromise_reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0;a._closedPromiseState="rejected"}function V(a,b){E(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined");E(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined");E("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending");a._closedPromise=Promise.reject(b);a._closedPromiseState=
"rejected"}function Q(a){a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b;a._readyPromise_reject=c});a._readyPromiseState="pending"}function Y(a,b){a._readyPromise=Promise.reject(b);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function Z(a){a._readyPromise=Promise.resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="fulfilled"}function W(a,b){E(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");
E(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_reject(b);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState="rejected"}function R(a){E(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");E(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b;a._readyPromise_reject=c});a._readyPromiseState="pending"}function T(a,
b){E(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined");E(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined");a._readyPromise=Promise.reject(b);a._readyPromiseState="rejected"}function ba(a){E(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined");E(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined");a._readyPromise_resolve(void 0);a._readyPromise_resolve=void 0;a._readyPromise_reject=void 0;a._readyPromiseState=
"fulfilled"}var ca=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}();c=d(0);var da=c.InvokeOrNoop,ea=c.PromiseInvokeOrNoop,X=c.ValidateAndNormalizeQueuingStrategy,S=c.typeIsObject;c=d(1);var E=c.assert,aa=c.rethrowAssertionErrorRejection;d=d(3);var qa=d.DequeueValue,ka=d.EnqueueValueWithSize,ma=d.PeekQueueValue,
fa=d.ResetQueue;d=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=c.size;c=c.highWaterMark;c=void 0===c?1:c;h(this,a);this._state="writable";this._writableStreamController=this._writer=this._storedError=void 0;this._writeRequests=[];this._pendingAbortRequest=this._inFlightCloseRequest=this._closeRequest=this._inFlightWriteRequest=void 0;this._backpressure=!1;if(void 0!==b.type)throw new RangeError("Invalid type is specified");
this._writableStreamController=new xa(this,b,e,c);this._writableStreamController.__startSteps()}ca(a,[{key:"abort",value:function(a){return!1===l(this)?Promise.reject(L("abort")):!0===n(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):p(this,a)}},{key:"getWriter",value:function(){if(!1===l(this))throw L("getWriter");return g(this)}},{key:"locked",get:function(){if(!1===l(this))throw L("locked");return n(this)}}]);return a}();a.exports={AcquireWritableStreamDefaultWriter:g,
IsWritableStream:l,IsWritableStreamLocked:n,WritableStream:d,WritableStreamAbort:p,WritableStreamDefaultControllerError:M,WritableStreamDefaultWriterCloseWithErrorPropagation:function(a){var b=a._ownerWritableStream;E(void 0!==b);var c=b._state;if(!0===f(b)||"closed"===c)return Promise.resolve();if("errored"===c)return Promise.reject(b._storedError);E("writable"===c||"erroring"===c);return u(a)},WritableStreamDefaultWriterRelease:F,WritableStreamDefaultWriterWrite:J,WritableStreamCloseQueuedOrInFlight:f};
var ra=function(){function a(b){h(this,a);if(!1===l(b))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===n(b))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b;b._writer=this;var c=b._state;"writable"===c?(!1===f(b)&&!0===b._backpressure?Q(this):Z(this),K(this)):"erroring"===c?(Y(this,b._storedError),this._readyPromise["catch"](function(){}),K(this)):"closed"===
c?(Z(this),this._closedPromise=Promise.resolve(void 0),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="resolved"):(E("errored"===c,"state must be errored"),b=b._storedError,Y(this,b),this._readyPromise["catch"](function(){}),this._closedPromise=Promise.reject(b),this._closedPromise_reject=this._closedPromise_resolve=void 0,this._closedPromiseState="rejected",this._closedPromise["catch"](function(){}))}ca(a,[{key:"abort",value:function(a){if(!1===m(this))return Promise.reject(I("abort"));
if(void 0===this._ownerWritableStream)return Promise.reject(O("abort"));var b=this._ownerWritableStream;E(void 0!==b);return p(b,a)}},{key:"close",value:function(){if(!1===m(this))return Promise.reject(I("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(O("close")):!0===f(a)?Promise.reject(new TypeError("cannot close an already-closing stream")):u(this)}},{key:"releaseLock",value:function(){if(!1===m(this))throw I("releaseLock");var a=this._ownerWritableStream;void 0!==a&&
(E(void 0!==a._writer),F(this))}},{key:"write",value:function(a){return!1===m(this)?Promise.reject(I("write")):void 0===this._ownerWritableStream?Promise.reject(O("write to")):J(this,a)}},{key:"closed",get:function(){return!1===m(this)?Promise.reject(I("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===m(this))throw I("desiredSize");if(void 0===this._ownerWritableStream)throw O("desiredSize");var a=this._ownerWritableStream,b=a._state;"errored"===b||"erroring"===b?a=null:"closed"===
b?a=0:(a=a._writableStreamController,a=a._strategyHWM-a._queueTotalSize);return a}},{key:"ready",get:function(){return!1===m(this)?Promise.reject(I("ready")):this._readyPromise}}]);return a}(),xa=function(){function a(b,c,e,f){h(this,a);if(!1===l(b))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==b._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");
this._controlledWritableStream=b;this._underlyingSink=c;this._queueTotalSize=this._queue=void 0;fa(this);this._started=!1;c=X(e,f);this._strategySize=c.size;this._strategyHWM=c.highWaterMark;r(b,0>=this._strategyHWM-this._queueTotalSize)}ca(a,[{key:"error",value:function(a){var b=S(this)?Object.prototype.hasOwnProperty.call(this,"_underlyingSink")?!0:!1:!1;if(!1===b)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===
this._controlledWritableStream._state&&M(this,a)}},{key:"__abortSteps",value:function(a){return ea(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){fa(this)}},{key:"__startSteps",value:function(){var a=this,b=da(this._underlyingSink,"start",[this]),c=this._controlledWritableStream;Promise.resolve(b).then(function(){E("writable"===c._state||"erroring"===c._state);a._started=!0;P(a)},function(b){E("writable"===c._state||"erroring"===c._state);a._started=!0;t(c,b)})["catch"](aa)}}]);
return a}()},function(a,c,d){var h=d(0).IsFiniteNonNegativeNumber,g=d(1).assert;c.DequeueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");g(0<a._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var c=a._queue.shift();a._queueTotalSize-=c.size;0>a._queueTotalSize&&(a._queueTotalSize=0);return c.value};c.EnqueueValueWithSize=function(a,c,d){g("_queue"in a&&
"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]].");d=Number(d);if(!h(d))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:c,size:d});a._queueTotalSize+=d};c.PeekQueueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].");g(0<a._queue.length,"Spec-level failure: should never peek at an empty queue.");
return a._queue[0].value};c.ResetQueue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].");a._queue=[];a._queueTotalSize=0}},function(a,c,d){function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function g(a){return na(a)&&Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!0:!1}function l(a){G(!0===g(a),"IsReadableStreamLocked should only be used on known readable streams");
return void 0===a._reader?!1:!0}function n(a,b){G(!0===g(a));G("boolean"===typeof b);var c=new ya(a),e={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};e.promise=new Promise(function(a){e._resolve=a});var f=p();f._reader=c;f._teeState=e;f._cloneForBranch2=b;var k=A();k._stream=a;k._teeState=e;b=t();b._stream=a;b._teeState=e;a=Object.create(Object.prototype);va(a,"pull",f);va(a,"cancel",k);a=new za(a);k=Object.create(Object.prototype);va(k,"pull",f);va(k,"cancel",b);b=new za(k);
f._branch1=a._readableStreamController;f._branch2=b._readableStreamController;c._closedPromise["catch"](function(a){!0!==e.closedOrErrored&&(I(f._branch1,a),I(f._branch2,a),e.closedOrErrored=!0)});return[a,b]}function p(){function a(){var b=a._branch1,c=a._branch2,e=a._teeState;return C(a._reader).then(function(a){G(na(a));var f=a.value;a=a.done;G("boolean"===typeof a);!0===a&&!1===e.closedOrErrored&&(!1===e.canceled1&&M(b),!1===e.canceled2&&M(c),e.closedOrErrored=!0);!0!==e.closedOrErrored&&(!1===
e.canceled1&&L(b,f),!1===e.canceled2&&L(c,f))})}return a}function A(){function a(b){var c=a._stream,e=a._teeState;e.canceled1=!0;e.reason1=b;!0===e.canceled2&&(b=Aa([e.reason1,e.reason2]),c=f(c,b),e._resolve(c));return e.promise}return a}function t(){function a(b){var c=a._stream,e=a._teeState;e.canceled2=!0;e.reason2=b;!0===e.canceled1&&(b=Aa([e.reason1,e.reason2]),c=f(c,b),e._resolve(c));return e.promise}return a}function e(a){G(!0===u(a._reader));G("readable"===a._state||"closed"===a._state);return new Promise(function(b,
c){a._reader._readIntoRequests.push({_resolve:b,_reject:c})})}function b(a){G(!0===w(a._reader));G("readable"===a._state);return new Promise(function(b,c){a._reader._readRequests.push({_resolve:b,_reject:c})})}function f(a,b){a._disturbed=!0;if("closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);k(a);return a._readableStreamController.__cancelSteps(b).then(function(){})}function k(a){G("readable"===a._state);a._state="closed";a=a._reader;
if(void 0!==a){if(!0===w(a)){for(var b=0;b<a._readRequests.length;b++){var c=a._readRequests[b]._resolve;c(la(void 0,!0))}a._readRequests=[]}G(void 0!==a._closedPromise_resolve);G(void 0!==a._closedPromise_reject);a._closedPromise_resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}}function y(a,b){G(!0===g(a),"stream must be ReadableStream");G("readable"===a._state,"state must be readable");a._state="errored";a._storedError=b;a=a._reader;if(void 0!==a){if(!0===w(a)){for(var c=
0;c<a._readRequests.length;c++)a._readRequests[c]._reject(b);a._readRequests=[]}else{G(u(a),"reader must be ReadableStreamBYOBReader");for(c=0;c<a._readIntoRequests.length;c++)a._readIntoRequests[c]._reject(b);a._readIntoRequests=[]}Ca(a,b);a._closedPromise["catch"](function(){})}}function D(a,b,c){a=a._reader;G(0<a._readRequests.length);a._readRequests.shift()._resolve(la(b,c))}function r(a){a=a._reader;return void 0===a||!1===u(a)?!1:!0}function m(a){a=a._reader;return void 0===a||!1===w(a)?!1:
!0}function u(a){return na(a)&&Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!0:!1}function w(a){return na(a)&&Object.prototype.hasOwnProperty.call(a,"_readRequests")?!0:!1}function q(a,b){a._ownerReadableStream=b;b._reader=a;"readable"===b._state?ra(a):"closed"===b._state?Fa(a):(G("errored"===b._state,"state must be errored"),xa(a,b._storedError),a._closedPromise["catch"](function(){}))}function F(a,b){a=a._ownerReadableStream;G(void 0!==a);return f(a,b)}function J(a){G(void 0!==a._ownerReadableStream);
G(a._ownerReadableStream._reader===a);"readable"===a._ownerReadableStream._state?Ca(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ga(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"));a._closedPromise["catch"](function(){});a._ownerReadableStream._reader=void 0;a._ownerReadableStream=void 0}function C(a){a=a._ownerReadableStream;G(void 0!==a);a._disturbed=!0;if("closed"===a._state)return Promise.resolve(la(void 0,
!0));if("errored"===a._state)return Promise.reject(a._storedError);G("readable"===a._state);return a._readableStreamController.__pullSteps()}function P(a){return na(a)&&Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!0:!1}function H(a){!1!==x(a)&&(!0===a._pulling?a._pullAgain=!0:(G(!1===a._pullAgain),a._pulling=!0,wa(a._underlyingSource,"pull",[a]).then(function(){a._pulling=!1;if(!0===a._pullAgain)return a._pullAgain=!1,H(a)},function(b){O(a,b)})["catch"](ja)))}function x(a){var b=a._controlledReadableStream;
return"closed"===b._state||"errored"===b._state||!0===a._closeRequested||!1===a._started?!1:!0===l(b)&&0<b._reader._readRequests.length||0<K(a)?!0:!1}function M(a){var b=a._controlledReadableStream;G(!1===a._closeRequested);G("readable"===b._state);a._closeRequested=!0;0===a._queue.length&&k(b)}function L(a,b){var c=a._controlledReadableStream;G(!1===a._closeRequested);G("readable"===c._state);if(!0===l(c)&&0<c._reader._readRequests.length)D(c,b,!1);else{c=1;if(void 0!==a._strategySize){var e=a._strategySize;
try{c=e(b)}catch(ia){throw O(a,ia),ia;}}try{Ha(a,b,c)}catch(ia){throw O(a,ia),ia;}}H(a)}function I(a,b){var c=a._controlledReadableStream;G("readable"===c._state);oa(a);y(c,b)}function O(a,b){"readable"===a._controlledReadableStream._state&&I(a,b)}function K(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function U(a){return na(a)&&Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")?!0:!1}function V(a){return na(a)&&
Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!0:!1}function Q(a){!1!==E(a)&&(!0===a._pulling?a._pullAgain=!0:(G(!1===a._pullAgain),a._pulling=!0,wa(a._underlyingByteSource,"pull",[a]).then(function(){a._pulling=!1;!0===a._pullAgain&&(a._pullAgain=!1,Q(a))},function(b){"readable"===a._controlledReadableStream._state&&aa(a,b)})["catch"](ja)))}function Y(a,b){G("errored"!==a._state,"state must not be errored");var c=!1;"closed"===a._state&&(G(0===b.bytesFilled),c=
!0);var e=Z(b);"default"===b.readerType?D(a,e,c):(G("byob"===b.readerType),b=c,a=a._reader,G(0<a._readIntoRequests.length),a._readIntoRequests.shift()._resolve(la(e,b)))}function Z(a){var b=a.bytesFilled,c=a.elementSize;G(b<=a.byteLength);G(0===b%c);return new a.ctor(a.buffer,a.byteOffset,b/c)}function W(a,b,c,e){a._queue.push({buffer:b,byteOffset:c,byteLength:e});a._queueTotalSize+=e}function R(a,b){var c=b.elementSize,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e,k=
f-f%c;f=!1;k>b.bytesFilled-b.bytesFilled%c&&(e=k-b.bytesFilled,f=!0);for(c=a._queue;0<e;){k=c[0];var d=Math.min(e,k.byteLength);Ia(b.buffer,b.byteOffset+b.bytesFilled,k.buffer,k.byteOffset,d);k.byteLength===d?c.shift():(k.byteOffset+=d,k.byteLength-=d);a._queueTotalSize-=d;T(a,d,b);e-=d}!1===f&&(G(0===a._queueTotalSize,"queue must be empty"),G(0<b.bytesFilled),G(b.bytesFilled<b.elementSize));return f}function T(a,b,c){G(0===a._pendingPullIntos.length||a._pendingPullIntos[0]===c);ca(a);c.bytesFilled+=
b}function ba(a){G("readable"===a._controlledReadableStream._state);0===a._queueTotalSize&&!0===a._closeRequested?k(a._controlledReadableStream):Q(a)}function ca(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function da(a){for(G(!1===a._closeRequested);0<a._pendingPullIntos.length&&0!==a._queueTotalSize;){var b=a._pendingPullIntos[0];!0===R(a,b)&&(S(a),Y(a._controlledReadableStream,b))}}function ea(a,b){var c=
a._controlledReadableStream,f=1;b.constructor!==DataView&&(f=b.constructor.BYTES_PER_ELEMENT);f={buffer:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:f,ctor:b.constructor,readerType:"byob"};if(0<a._pendingPullIntos.length)return f.buffer=sa(f.buffer),a._pendingPullIntos.push(f),e(c);if("closed"===c._state)return a=new b.constructor(f.buffer,f.byteOffset,0),Promise.resolve(la(a,!0));if(0<a._queueTotalSize){if(!0===R(a,f))return b=Z(f),ba(a),Promise.resolve(la(b,
!1));if(!0===a._closeRequested)return b=new TypeError("Insufficient bytes to fill elements in the given buffer"),aa(a,b),Promise.reject(b)}f.buffer=sa(f.buffer);a._pendingPullIntos.push(f);b=e(c);Q(a);return b}function X(a,b){var c=a._pendingPullIntos[0],e=a._controlledReadableStream;if("closed"===e._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");c.buffer=sa(c.buffer);G(0===c.bytesFilled,"bytesFilled must be 0");c=a._controlledReadableStream;
if(!0===r(c))for(;0<c._reader._readIntoRequests.length;)b=S(a),Y(c,b)}else{G("readable"===e._state);if(c.bytesFilled+b>c.byteLength)throw new RangeError("bytesWritten out of range");T(a,b,c);c.bytesFilled<c.elementSize||(S(a),b=c.bytesFilled%c.elementSize,0<b&&(e=c.byteOffset+c.bytesFilled,e=c.buffer.slice(e-b,e),W(a,e,0,e.byteLength)),c.buffer=sa(c.buffer),c.bytesFilled-=b,Y(a._controlledReadableStream,c),da(a))}}function S(a){var b=a._pendingPullIntos.shift();ca(a);return b}function E(a){var b=
a._controlledReadableStream;return"readable"!==b._state||!0===a._closeRequested||!1===a._started?!1:!0===m(b)&&0<b._reader._readRequests.length||!0===r(b)&&0<b._reader._readIntoRequests.length||0<qa(a)?!0:!1}function aa(a,b){var c=a._controlledReadableStream;G("readable"===c._state);ca(a);a._pendingPullIntos=[];oa(a);y(c,b)}function qa(a){var b=a._controlledReadableStream._state;return"errored"===b?null:"closed"===b?0:a._strategyHWM-a._queueTotalSize}function ka(a){return new TypeError("ReadableStream.prototype."+
a+" can only be used on a ReadableStream")}function ma(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function fa(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ra(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b;a._closedPromise_reject=c})}function xa(a,b){a._closedPromise=Promise.reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function Fa(a){a._closedPromise=
Promise.resolve(void 0);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function Ca(a,b){G(void 0!==a._closedPromise_resolve);G(void 0!==a._closedPromise_reject);a._closedPromise_reject(b);a._closedPromise_resolve=void 0;a._closedPromise_reject=void 0}function Ga(a,b){G(void 0===a._closedPromise_resolve);G(void 0===a._closedPromise_reject);a._closedPromise=Promise.reject(b)}function ta(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}
function ua(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function Da(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function ha(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function Ja(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(Za){}}var pa=function(){function a(a,
b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}();c=d(0);var Ia=c.ArrayBufferCopy,la=c.CreateIterResultObject,Ka=c.IsFiniteNonNegativeNumber,Ea=c.InvokeOrNoop,wa=c.PromiseInvokeOrNoop,sa=c.TransferArrayBuffer,La=c.ValidateAndNormalizeQueuingStrategy,Ma=c.ValidateAndNormalizeHighWaterMark;c=d(0);var Aa=c.createArrayFromList,va=c.createDataProperty,
na=c.typeIsObject;c=d(1);var G=c.assert,ja=c.rethrowAssertionErrorRejection;c=d(3);var Na=c.DequeueValue,Ha=c.EnqueueValueWithSize,oa=c.ResetQueue;d=d(2);var Oa=d.AcquireWritableStreamDefaultWriter,Pa=d.IsWritableStream,Qa=d.IsWritableStreamLocked,Ra=d.WritableStreamAbort,Sa=d.WritableStreamDefaultWriterCloseWithErrorPropagation,Ta=d.WritableStreamDefaultWriterRelease,Ua=d.WritableStreamDefaultWriterWrite,Ba=d.WritableStreamCloseQueuedOrInFlight,za=function(){function a(){var b=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=c.size;c=c.highWaterMark;h(this,a);this._state="readable";this._storedError=this._reader=void 0;this._disturbed=!1;this._readableStreamController=void 0;var f=b.type;if("bytes"===String(f))void 0===c&&(c=0),this._readableStreamController=new Va(this,b,c);else if(void 0===f)void 0===c&&(c=1),this._readableStreamController=new Wa(this,b,e,c);else throw new RangeError("Invalid type is specified");}pa(a,
[{key:"cancel",value:function(a){return!1===g(this)?Promise.reject(ka("cancel")):!0===l(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):f(this,a)}},{key:"getReader",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode;if(!1===g(this))throw ka("getReader");if(void 0===a)return new ya(this);a=String(a);if("byob"===a)return new Xa(this);throw new RangeError("Invalid mode is specified");}},{key:"pipeThrough",value:function(a,b){var c=
a.readable;a=this.pipeTo(a.writable,b);Ja(a);return c}},{key:"pipeTo",value:function(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=c.preventClose,k=c.preventAbort,d=c.preventCancel;if(!1===g(this))return Promise.reject(ka("pipeTo"));if(!1===Pa(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));e=!!e;k=!!k;d=!!d;if(!0===l(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));
if(!0===Qa(a))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var q=new ya(this),m=Oa(a),w=!1,y=Promise.resolve();return new Promise(function(c,R){function u(){y=Promise.resolve();return!0===w?Promise.resolve():m._readyPromise.then(function(){return C(q).then(function(a){!0!==a.done&&(y=Ua(m,a.value)["catch"](function(){}))})}).then(u)}function r(){var a=y;return y.then(function(){return a!==y?r():void 0})}function g(a,b,c){if("errored"===
a._state)c(a._storedError);else b["catch"](c)["catch"](ja)}function T(b,c,e){function f(){b().then(function(){return t(c,e)},function(a){return t(!0,a)})["catch"](ja)}!0!==w&&(w=!0,"writable"===a._state&&!1===Ba(a)?r().then(f):f())}function h(b,c){if(!0!==w)if(w=!0,"writable"===a._state&&!1===Ba(a))r().then(function(){return t(b,c)})["catch"](ja);else t(b,c)}function t(a,b){Ta(m);J(q);a?R(b):c(void 0)}g(b,q._closedPromise,function(b){!1===k?T(function(){return Ra(a,b)},!0,b):h(!0,b)});g(a,m._closedPromise,
function(a){!1===d?T(function(){return f(b,a)},!0,a):h(!0,a)});(function(a,b,c){if("closed"===a._state)c();else b.then(c)["catch"](ja)})(b,q._closedPromise,function(){!1===e?T(function(){return Sa(m)}):h()});if(!0===Ba(a)||"closed"===a._state){var F=new TypeError("the destination writable stream closed before all data could be piped to it");!1===d?T(function(){return f(b,F)},!0,F):h(!0,F)}u()["catch"](function(a){y=Promise.resolve();ja(a)})})}},{key:"tee",value:function(){if(!1===g(this))throw ka("tee");
var a=n(this,!1);return Aa(a)}},{key:"locked",get:function(){if(!1===g(this))throw ka("locked");return l(this)}}]);return a}();a.exports={ReadableStream:za,IsReadableStreamDisturbed:function(a){G(!0===g(a),"IsReadableStreamDisturbed should only be used on known readable streams");return a._disturbed},ReadableStreamDefaultControllerClose:M,ReadableStreamDefaultControllerEnqueue:L,ReadableStreamDefaultControllerError:I,ReadableStreamDefaultControllerGetDesiredSize:K};var ya=function(){function a(b){h(this,
a);if(!1===g(b))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===l(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,b);this._readRequests=[]}pa(a,[{key:"cancel",value:function(a){return!1===w(this)?Promise.reject(fa("cancel")):void 0===this._ownerReadableStream?Promise.reject(ma("cancel")):F(this,a)}},{key:"read",value:function(){return!1===w(this)?Promise.reject(fa("read")):
void 0===this._ownerReadableStream?Promise.reject(ma("read from")):C(this)}},{key:"releaseLock",value:function(){if(!1===w(this))throw fa("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");J(this)}}},{key:"closed",get:function(){return!1===w(this)?Promise.reject(fa("closed")):this._closedPromise}}]);return a}(),Xa=function(){function a(b){h(this,a);if(!g(b))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");
if(!1===U(b._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(l(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,b);this._readIntoRequests=[]}pa(a,[{key:"cancel",value:function(a){return u(this)?void 0===this._ownerReadableStream?Promise.reject(ma("cancel")):F(this,a):Promise.reject(ta("cancel"))}},{key:"read",value:function(a){if(!u(this))return Promise.reject(ta("read"));
if(void 0===this._ownerReadableStream)return Promise.reject(ma("read from"));if(!ArrayBuffer.isView(a))return Promise.reject(new TypeError("view must be an array buffer view"));if(0===a.byteLength)return Promise.reject(new TypeError("view must have non-zero byteLength"));var b=this._ownerReadableStream;G(void 0!==b);b._disturbed=!0;a="errored"===b._state?Promise.reject(b._storedError):ea(b._readableStreamController,a);return a}},{key:"releaseLock",value:function(){if(!u(this))throw ta("releaseLock");
if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");J(this)}}},{key:"closed",get:function(){return u(this)?this._closedPromise:Promise.reject(ta("closed"))}}]);return a}(),Wa=function(){function a(b,c,e,f){h(this,a);if(!1===g(b))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");
this._controlledReadableStream=b;this._underlyingSource=c;this._queueTotalSize=this._queue=void 0;oa(this);this._pulling=this._pullAgain=this._closeRequested=this._started=!1;b=La(e,f);this._strategySize=b.size;this._strategyHWM=b.highWaterMark;var k=this;c=Ea(c,"start",[this]);Promise.resolve(c).then(function(){k._started=!0;G(!1===k._pulling);G(!1===k._pullAgain);H(k)},function(a){O(k,a)})["catch"](ja)}pa(a,[{key:"close",value:function(){if(!1===P(this))throw ua("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");
var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");M(this)}},{key:"enqueue",value:function(a){if(!1===P(this))throw ua("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return L(this,
a)}},{key:"error",value:function(a){if(!1===P(this))throw ua("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");I(this,a)}},{key:"__cancelSteps",value:function(a){oa(this);return wa(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(0<this._queue.length){var c=Na(this);!0===this._closeRequested&&0===this._queue.length?k(a):H(this);return Promise.resolve(la(c,
!1))}a=b(a);H(this);return a}},{key:"desiredSize",get:function(){if(!1===P(this))throw ua("desiredSize");return K(this)}}]);return a}(),Ya=function(){function a(b,c){h(this,a);this._associatedReadableByteStreamController=b;this._view=c}pa(a,[{key:"respond",value:function(a){if(!1===V(this))throw Da("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");var b=this._associatedReadableByteStreamController;a=Number(a);if(!1===
Ka(a))throw new RangeError("bytesWritten must be a finite");G(0<b._pendingPullIntos.length);X(b,a)}},{key:"respondWithNewView",value:function(a){if(!1===V(this))throw Da("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");var b=this._associatedReadableByteStreamController;G(0<b._pendingPullIntos.length);var c=b._pendingPullIntos[0];
if(c.byteOffset+c.bytesFilled!==a.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(c.byteLength!==a.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");c.buffer=a.buffer;X(b,a.byteLength)}},{key:"view",get:function(){return this._view}}]);return a}(),Va=function(){function a(b,c,e){h(this,a);if(!1===g(b))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");
if(void 0!==b._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=b;this._underlyingByteSource=c;this._pulling=this._pullAgain=!1;ca(this);this._pendingPullIntos=[];this._queue=this._queueTotalSize=void 0;oa(this);this._started=this._closeRequested=!1;this._strategyHWM=Ma(e);e=c.autoAllocateChunkSize;if(void 0!==e&&(!1===Number.isInteger(e)||0>=e))throw new RangeError("autoAllocateChunkSize must be a positive integer");
this._autoAllocateChunkSize=e;this._pendingPullIntos=[];var f=this;c=Ea(c,"start",[this]);Promise.resolve(c).then(function(){f._started=!0;G(!1===f._pulling);G(!1===f._pullAgain);Q(f)},function(a){"readable"===b._state&&aa(f,a)})["catch"](ja)}pa(a,[{key:"close",value:function(){if(!1===U(this))throw ha("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+
a+" state) is not in the readable state and cannot be closed");a=this._controlledReadableStream;G(!1===this._closeRequested);G("readable"===a._state);if(0<this._queueTotalSize)this._closeRequested=!0;else{if(0<this._pendingPullIntos.length&&0<this._pendingPullIntos[0].bytesFilled)throw a=new TypeError("Insufficient bytes to fill elements in the given buffer"),aa(this,a),a;k(a)}}},{key:"enqueue",value:function(a){if(!1===U(this))throw ha("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");
var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");b=this._controlledReadableStream;G(!1===this._closeRequested);G("readable"===b._state);var c=a.byteOffset,e=a.byteLength;a=sa(a.buffer);!0===m(b)?0===b._reader._readRequests.length?W(this,a,c,e):(G(0===
this._queue.length),a=new Uint8Array(a,c,e),D(b,a,!1)):!0===r(b)?(W(this,a,c,e),da(this)):(G(!1===l(b),"stream must not be locked"),W(this,a,c,e))}},{key:"error",value:function(a){if(!1===U(this))throw ha("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");aa(this,a)}},{key:"__cancelSteps",value:function(a){0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0);oa(this);return wa(this._underlyingByteSource,
"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;G(!0===m(a));if(0<this._queueTotalSize){G(0===a._reader._readRequests.length);a=this._queue.shift();this._queueTotalSize-=a.byteLength;ba(this);var c=void 0;try{c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}catch(ia){return Promise.reject(ia)}return Promise.resolve(la(c,!1))}c=this._autoAllocateChunkSize;if(void 0!==c){var e=void 0;try{e=new ArrayBuffer(c)}catch(ia){return Promise.reject(ia)}this._pendingPullIntos.push({buffer:e,
byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"})}a=b(a);Q(this);return a}},{key:"byobRequest",get:function(){if(!1===U(this))throw ha("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var a=this._pendingPullIntos[0];a=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new Ya(this,a)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===U(this))throw ha("desiredSize");
return qa(this)}}]);return a}()},function(a,c,d){a=d(6);var h=d(4);d=d(2);c.TransformStream=a.TransformStream;c.ReadableStream=h.ReadableStream;c.IsReadableStreamDisturbed=h.IsReadableStreamDisturbed;c.ReadableStreamDefaultControllerClose=h.ReadableStreamDefaultControllerClose;c.ReadableStreamDefaultControllerEnqueue=h.ReadableStreamDefaultControllerEnqueue;c.ReadableStreamDefaultControllerError=h.ReadableStreamDefaultControllerError;c.ReadableStreamDefaultControllerGetDesiredSize=h.ReadableStreamDefaultControllerGetDesiredSize;
c.AcquireWritableStreamDefaultWriter=d.AcquireWritableStreamDefaultWriter;c.IsWritableStream=d.IsWritableStream;c.IsWritableStreamLocked=d.IsWritableStreamLocked;c.WritableStream=d.WritableStream;c.WritableStreamAbort=d.WritableStreamAbort;c.WritableStreamDefaultControllerError=d.WritableStreamDefaultControllerError;c.WritableStreamDefaultWriterCloseWithErrorPropagation=d.WritableStreamDefaultWriterCloseWithErrorPropagation;c.WritableStreamDefaultWriterRelease=d.WritableStreamDefaultWriterRelease;
c.WritableStreamDefaultWriterWrite=d.WritableStreamDefaultWriterWrite},function(a,c,d){function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function g(a,b){if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");var c=a._readableController;try{C(c,b)}catch(Q){throw a._readableClosed=!0,!1===a._errored&&n(a,Q),a._storedError;}!0===0>=H(c)&&!1===a._backpressure&&
A(a,!0)}function l(a){r(!1===a._errored);r(!1===a._readableClosed);try{J(a._readableController)}catch(U){r(!1)}a._readableClosed=!0}function n(a,b){r(!1===a._errored);a._errored=!0;a._storedError=b;!1===a._writableDone&&M(a._writableController,b);!1===a._readableClosed&&P(a._readableController,b)}function p(a){r(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");if(!1===a._backpressure)return Promise.resolve();r(!0===a._backpressure,"_backpressure should have been initialized");
return a._backpressureChangePromise}function A(a,b){r(a._backpressure!==b,"TransformStreamSetBackpressure() should be called only when backpressure is changed");void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(b);a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b});a._backpressureChangePromise.then(function(a){r(a!==b,"_backpressureChangePromise should be fulfilled only when backpressure is changed")});a._backpressure=b}function t(a,
b){g(b._controlledTransformStream,a);return Promise.resolve()}function e(a,b){r(!1===a._errored);r(!1===a._transforming);r(!1===a._backpressure);a._transforming=!0;var c=a._transformStreamController;return u(a._transformer,"transform",[b,c],t,[b,c]).then(function(){a._transforming=!1;return p(a)},function(b){!1===a._errored&&n(a,b);return Promise.reject(b)})}function b(a){return q(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!0:!1}function f(a){return q(a)&&Object.prototype.hasOwnProperty.call(a,
"_transformStreamController")?!0:!1}function k(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function y(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var D=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,
c);e&&a(b,e);return b}}(),r=d(1).assert;c=d(0);var m=c.InvokeOrNoop,u=c.PromiseInvokeOrPerformFallback,w=c.PromiseInvokeOrNoop,q=c.typeIsObject;c=d(4);var F=c.ReadableStream,J=c.ReadableStreamDefaultControllerClose,C=c.ReadableStreamDefaultControllerEnqueue,P=c.ReadableStreamDefaultControllerError,H=c.ReadableStreamDefaultControllerGetDesiredSize;d=d(2);var N=d.WritableStream,M=d.WritableStreamDefaultControllerError,x=function(){function a(b,c){h(this,a);this._transformStream=b;this._startPromise=
c}D(a,[{key:"start",value:function(a){var b=this._transformStream;b._writableController=a;return this._startPromise.then(function(){return p(b)})}},{key:"write",value:function(a){return e(this._transformStream,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0;n(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;r(!1===a._transforming);a._writableDone=!0;return w(a._transformer,"flush",[a._transformStreamController]).then(function(){if(!0===
a._errored)return Promise.reject(a._storedError);!1===a._readableClosed&&l(a);return Promise.resolve()})["catch"](function(b){!1===a._errored&&n(a,b);return Promise.reject(a._storedError)})}}]);return a}(),I=function(){function a(b,c){h(this,a);this._transformStream=b;this._startPromise=c}D(a,[{key:"start",value:function(a){var b=this._transformStream;b._readableController=a;return this._startPromise.then(function(){r(void 0!==b._backpressureChangePromise,"_backpressureChangePromise should have been initialized");
if(!0===b._backpressure)return Promise.resolve();r(!1===b._backpressure,"_backpressure should have been initialized");return b._backpressureChangePromise})}},{key:"pull",value:function(){var a=this._transformStream;r(!0===a._backpressure,"pull() should be never called while _backpressure is false");r(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized");A(a,!1);return a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;
a._readableClosed=!0;n(a,new TypeError("Readable side canceled"))}}]);return a}(),O=function(){function a(b){h(this,a);if(!1===f(b))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==b._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=b}D(a,[{key:"enqueue",value:function(a){if(!1===b(this))throw k("enqueue");
g(this._controlledTransformStream,a)}},{key:"close",value:function(){if(!1===b(this))throw k("close");var a=this._controlledTransformStream;if(!0===a._errored)throw new TypeError("TransformStream is already errored");if(!0===a._readableClosed)throw new TypeError("Readable side is already closed");l(a)}},{key:"error",value:function(a){if(!1===b(this))throw k("error");var c=this._controlledTransformStream;if(!0===c._errored)throw new TypeError("TransformStream is already errored");n(c,a)}},{key:"desiredSize",
get:function(){if(!1===b(this))throw k("desiredSize");return H(this._controlledTransformStream._readableController)}}]);return a}();d=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,a);this._transformer=b;var c=b.readableStrategy,e=b.writableStrategy;this._errored=this._transforming=!1;this._transformStreamController=this._readableController=this._writableController=this._storedError=void 0;this._readableClosed=this._writableDone=!1;this._backpressureChangePromise_resolve=
this._backpressureChangePromise=this._backpressure=void 0;this._transformStreamController=new O(this);var f=void 0,d=new Promise(function(a){f=a}),k=new I(this,d);this._readable=new F(k,c);c=new x(this,d);this._writable=new N(c,e);r(void 0!==this._writableController);r(void 0!==this._readableController);e=H(this._readableController);A(this,0>=e);var q=this;b=m(b,"start",[q._transformStreamController]);f(b);d["catch"](function(a){!1===q._errored&&(q._errored=!0,q._storedError=a)})}D(a,[{key:"readable",
get:function(){if(!1===f(this))throw y("readable");return this._readable}},{key:"writable",get:function(){if(!1===f(this))throw y("writable");return this._writable}}]);return a}();a.exports={TransformStream:d}},function(a,c,d){a.exports=d(5)}]))},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}c=!1;
try{if("function"===typeof URL&&"object"===l(URL.prototype)&&"origin"in URL.prototype){var n=new URL("b","http://a");n.pathname="c%20d";c="http://a/c%20d"===n.href}}catch(x){}if(c)d.URL=URL;else{n=a(146).URL;var h=a(3).URL;h&&(n.createObjectURL=function(a){return h.createObjectURL.apply(h,arguments)},n.revokeObjectURL=function(a){h.revokeObjectURL(a)});d.URL=n}},function(c,d,a){(function(){function a(a){""===a&&(v.call(this),this._isInvalid=!0);return a.toLowerCase()}function c(a){var b=a.charCodeAt(0);
return 32<b&&127>b&&-1===[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function h(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1===[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function x(e,b,f){function d(a){w.push(a)}var y=b||"scheme start",g=0,r="",m=!1,u=!1,w=[];a:for(;(e[g-1]!==p||0===g)&&!this._isInvalid;){var q=e[g];switch(y){case "scheme start":if(q&&A.test(q))r+=q.toLowerCase(),y="scheme";else if(b){d("Invalid scheme.");break a}else{r="";y="no scheme";continue}break;case "scheme":if(q&&
t.test(q))r+=q.toLowerCase();else if(":"===q){this._scheme=r;r="";if(b)break a;void 0!==B[this._scheme]&&(this._isRelative=!0);y="file"===this._scheme?"relative":this._isRelative&&f&&f._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(b){q!==p&&d("Code point not allowed in scheme: "+q);break a}else{r="";g=0;y="no scheme";continue}break;case "scheme data":"?"===q?(this._query="?",y="query"):"#"===q?(this._fragment="#",y="fragment"):q!==p&&
"\t"!==q&&"\n"!==q&&"\r"!==q&&(this._schemeData+=c(q));break;case "no scheme":if(f&&void 0!==B[f._scheme]){y="relative";continue}else d("Missing scheme."),v.call(this),this._isInvalid=!0;break;case "relative or authority":if("/"===q&&"/"===e[g+1])y="authority ignore slashes";else{d("Expected /, got: "+q);y="relative";continue}break;case "relative":this._isRelative=!0;"file"!==this._scheme&&(this._scheme=f._scheme);if(q===p){this._host=f._host;this._port=f._port;this._path=f._path.slice();this._query=
f._query;this._username=f._username;this._password=f._password;break a}else if("/"===q||"\\"===q)"\\"===q&&d("\\ is an invalid code point."),y="relative slash";else if("?"===q)this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query="?",this._username=f._username,this._password=f._password,y="query";else if("#"===q)this._host=f._host,this._port=f._port,this._path=f._path.slice(),this._query=f._query,this._fragment="#",this._username=f._username,this._password=f._password,y="fragment";
else{y=e[g+1];var F=e[g+2];if("file"!==this._scheme||!A.test(q)||":"!==y&&"|"!==y||F!==p&&"/"!==F&&"\\"!==F&&"?"!==F&&"#"!==F)this._host=f._host,this._port=f._port,this._username=f._username,this._password=f._password,this._path=f._path.slice(),this._path.pop();y="relative path";continue}break;case "relative slash":if("/"===q||"\\"===q)"\\"===q&&d("\\ is an invalid code point."),y="file"===this._scheme?"file host":"authority ignore slashes";else{"file"!==this._scheme&&(this._host=f._host,this._port=
f._port,this._username=f._username,this._password=f._password);y="relative path";continue}break;case "authority first slash":if("/"===q)y="authority second slash";else{d("Expected '/', got: "+q);y="authority ignore slashes";continue}break;case "authority second slash":y="authority ignore slashes";if("/"!==q){d("Expected '/', got: "+q);continue}break;case "authority ignore slashes":if("/"!==q&&"\\"!==q){y="authority";continue}else d("Expected authority, got: "+q);break;case "authority":if("@"===q){m&&
(d("@ already seen."),r+="%40");m=!0;for(q=0;q<r.length;q++)F=r[q],"\t"===F||"\n"===F||"\r"===F?d("Invalid whitespace in authority."):":"===F&&null===this._password?this._password="":(F=c(F),null!==this._password?this._password+=F:this._username+=F);r=""}else if(q===p||"/"===q||"\\"===q||"?"===q||"#"===q){g-=r.length;r="";y="host";continue}else r+=q;break;case "file host":if(q===p||"/"===q||"\\"===q||"?"===q||"#"===q){2!==r.length||!A.test(r[0])||":"!==r[1]&&"|"!==r[1]?(0!==r.length&&(this._host=
a.call(this,r),r=""),y="relative path start"):y="relative path";continue}else"\t"===q||"\n"===q||"\r"===q?d("Invalid whitespace in file host."):r+=q;break;case "host":case "hostname":if(":"!==q||u)if(q===p||"/"===q||"\\"===q||"?"===q||"#"===q){this._host=a.call(this,r);r="";y="relative path start";if(b)break a;continue}else"\t"!==q&&"\n"!==q&&"\r"!==q?("["===q?u=!0:"]"===q&&(u=!1),r+=q):d("Invalid code point in host/hostname: "+q);else if(this._host=a.call(this,r),r="",y="port","hostname"===b)break a;
break;case "port":if(/[0-9]/.test(q))r+=q;else if(q===p||"/"===q||"\\"===q||"?"===q||"#"===q||b){""!==r&&(r=parseInt(r,10),r!==B[this._scheme]&&(this._port=r+""),r="");if(b)break a;y="relative path start";continue}else"\t"===q||"\n"===q||"\r"===q?d("Invalid code point in port: "+q):(v.call(this),this._isInvalid=!0);break;case "relative path start":"\\"===q&&d("'\\' not allowed in path.");y="relative path";if("/"!==q&&"\\"!==q)continue;break;case "relative path":if(q!==p&&"/"!==q&&"\\"!==q&&(b||"?"!==
q&&"#"!==q))"\t"!==q&&"\n"!==q&&"\r"!==q&&(r+=c(q));else{"\\"===q&&d("\\ not allowed in relative path.");if(F=z[r.toLowerCase()])r=F;".."===r?(this._path.pop(),"/"!==q&&"\\"!==q&&this._path.push("")):"."===r&&"/"!==q&&"\\"!==q?this._path.push(""):"."!==r&&("file"===this._scheme&&0===this._path.length&&2===r.length&&A.test(r[0])&&"|"===r[1]&&(r=r[0]+":"),this._path.push(r));r="";"?"===q?(this._query="?",y="query"):"#"===q&&(this._fragment="#",y="fragment")}break;case "query":b||"#"!==q?q!==p&&"\t"!==
q&&"\n"!==q&&"\r"!==q&&(this._query+=h(q)):(this._fragment="#",y="fragment");break;case "fragment":q!==p&&"\t"!==q&&"\n"!==q&&"\r"!==q&&(this._fragment+=q)}g++}}function v(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=!1}function g(a,b){void 0===b||b instanceof g||(b=new g(String(b)));this._url=a;v.call(this);a=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");x.call(this,a,null,
b)}var B=Object.create(null);B.ftp=21;B.file=0;B.gopher=70;B.http=80;B.https=443;B.ws=80;B.wss=443;var z=Object.create(null);z["%2e"]=".";z[".%2e"]="..";z["%2e."]="..";z["%2e%2e"]="..";var p,A=/[a-zA-Z]/,t=/[a-zA-Z0-9\+\-\.]/;g.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";if(""!==this._username||null!==this._password)a=this._username+(null!==this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:
"")+this.pathname+this._query+this._fragment},set href(a){v.call(this);x.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||x.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&x.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&x.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&
this._isRelative&&x.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],x.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"===a[0]&&(a=a.slice(1)),x.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||
"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),x.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null";case "blob":try{return(new g(this._schemeData)).origin||"null"}catch(b){}return"null"}return(a=this.host)?this._scheme+"://"+a:""}};d.URL=g})()},function(c,d,a){function l(a){return a&&a.__esModule?a:{default:a}}
function n(a,b,c,e,f,d,k){try{var q=a[d](k),m=q.value}catch(S){c(S);return}q.done?b(m):Promise.resolve(m).then(e,f)}function h(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){function d(a){n(q,e,f,d,k,"next",a)}function k(a){n(q,e,f,d,k,"throw",a)}var q=a.apply(b,c);d(void 0)})}}function x(a,b){var c=Array.isArray(a)?a:void 0;if(!c){c=[];var e=!0,f=!1,d=void 0;try{for(var k=a[Symbol.iterator](),q;!(e=(q=k.next()).done)&&(c.push(q.value),!b||c.length!==b);e=!0);}catch(X){f=
!0,d=X}finally{try{if(!e&&null!=k["return"])k["return"]()}finally{if(f)throw d;}}}if(!(a=c))throw new TypeError("Invalid attempt to destructure non-iterable instance");return a}function v(a){if(Array.isArray(a)){var b=0;for(var c=Array(a.length);b<a.length;b++)c[b]=a[b];b=c}else b=void 0;b||(b=Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0);if(!(a=b))throw new TypeError("Invalid attempt to spread non-iterable instance");return a}function g(a,
b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function B(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function z(a,b,c){b&&B(a.prototype,b);c&&B(a,c);return a}function p(a){p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};return p(a)}function A(a,b,c,e){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));c&&(b.length=c.length,b.initialData=c.initialData,b.progressiveDone=c.progressiveDone);return a.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.2.228",source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:b.maxImageSize,disableFontFace:b.disableFontFace,disableCreateObjectURL:b.disableCreateObjectURL,
postMessageTransfers:a.postMessageTransfers,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors,isEvalSupported:b.isEvalSupported}).then(function(b){if(a.destroyed)throw Error("Worker was destroyed");return b})}Object.defineProperty(d,"__esModule",{value:!0});d.getDocument=function(a){var c=new N;if("string"===typeof a)a={url:a};else if((0,e.isArrayBuffer)(a))a={data:a};else if(a instanceof M)a={range:a};else{if("object"!==p(a))throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");
if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");}var f=Object.create(null),d=null,q=null;for(g in a)if("url"===g&&"undefined"!==typeof window)f[g]=(new e.URL(a[g],window.location)).href;else if("range"===g)d=a[g];else if("worker"===g)q=a[g];else if("data"!==g||a[g]instanceof Uint8Array)f[g]=a[g];else{var y=a[g];if("string"===typeof y)f[g]=(0,e.stringToBytes)(y);else if("object"!==p(y)||null===y||isNaN(y.length))if((0,e.isArrayBuffer)(y))f[g]=
new Uint8Array(y);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");else f[g]=new Uint8Array(y)}f.rangeChunkSize=f.rangeChunkSize||F;f.CMapReaderFactory=f.CMapReaderFactory||b.DOMCMapReaderFactory;f.ignoreErrors=!0!==f.stopAtErrors;f.pdfBug=!0===f.pdfBug;var g=Object.values(e.NativeImageDecoding);void 0!==f.nativeImageDecoderSupport&&g.includes(f.nativeImageDecoderSupport)||(f.nativeImageDecoderSupport=k.apiCompatibilityParams.nativeImageDecoderSupport||
e.NativeImageDecoding.DECODE);Number.isInteger(f.maxImageSize)||(f.maxImageSize=-1);"boolean"!==typeof f.isEvalSupported&&(f.isEvalSupported=!0);"boolean"!==typeof f.disableFontFace&&(f.disableFontFace=k.apiCompatibilityParams.disableFontFace||!1);"boolean"!==typeof f.disableRange&&(f.disableRange=!1);"boolean"!==typeof f.disableStream&&(f.disableStream=!1);"boolean"!==typeof f.disableAutoFetch&&(f.disableAutoFetch=!1);"boolean"!==typeof f.disableCreateObjectURL&&(f.disableCreateObjectURL=k.apiCompatibilityParams.disableCreateObjectURL||
!1);(0,e.setVerbosityLevel)(f.verbosity);q||(g={postMessageTransfers:f.postMessageTransfers,verbosity:f.verbosity,port:r.GlobalWorkerOptions.workerPort},q=g.port?K.fromPort(g):new K(g),c._worker=q);var u=c.docId;q.promise.then(function(){if(c.destroyed)throw Error("Loading aborted");return A(q,f,d,u).then(function(a){if(c.destroyed)throw Error("Loading aborted");var b;d?b=new w.PDFDataTransportStream({length:f.length,initialData:f.initialData,progressiveDone:f.progressiveDone,disableRange:f.disableRange,
disableStream:f.disableStream},d):f.data||(b=H({url:f.url,length:f.length,httpHeaders:f.httpHeaders,withCredentials:f.withCredentials,rangeChunkSize:f.rangeChunkSize,disableRange:f.disableRange,disableStream:f.disableStream}));a=new m.MessageHandler(u,a,q.port);a.postMessageTransfers=q.postMessageTransfers;b=new U(a,c,b,f);c._transport=b;a.send("Ready",null)})})["catch"](c._capability.reject);return c};d.setPDFNetworkStreamFactory=function(a){H=a};d.build=d.version=d.PDFPageProxy=d.PDFDocumentProxy=
d.PDFWorker=d.PDFDataRangeTransport=d.LoopbackPort=void 0;var t=l(a(148)),e=a(1),b=a(151),f=a(152),k=a(153),y=a(154),D=l(a(3)),r=a(156),m=a(157),u=a(158),w=a(160),q=a(161),F=65536,J=!1,C,P=null;c=!1;"undefined"===typeof window?(J=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),c=!0):"undefined"!==typeof require&&"function"===typeof require.ensure&&(c=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&(C=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));a="undefined"!==
typeof requirejs&&requirejs.load;P=c?function(){return new Promise(function(a,b){require.ensure([],function(){try{var c=require("./pdf.worker.js");a(c.WorkerMessageHandler)}catch(T){b(T)}},b,"pdfjsWorker")})}:a?function(){return new Promise(function(a,b){requirejs(["pdfjs-dist/build/pdf.worker"],function(c){try{a(c.WorkerMessageHandler)}catch(T){b(T)}},b)})}:null;!C&&"object"===("undefined"===typeof document?"undefined":p(document))&&"currentScript"in document&&(c=document.currentScript&&document.currentScript.src)&&
(C=c.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"));var H,N=function(){var a=0;return function(){function c(){g(this,c);this._capability=(0,e.createPromiseCapability)();this._worker=this._transport=null;this.docId="d"+a++;this.destroyed=!1;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}z(c,[{key:"destroy",value:function(){var a=this;this.destroyed=!0;return(this._transport?this._transport.destroy():Promise.resolve()).then(function(){a._transport=null;a._worker&&(a._worker.destroy(),
a._worker=null)})}},{key:"then",value:function(a,c){(0,b.deprecated)("PDFDocumentLoadingTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._capability.promise}}]);return c}()}(),M=function(){function a(b,c){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;g(this,a);this.length=b;this.initialData=c;this.progressiveDone=f;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=
[];this._progressiveDoneListeners=[];this._readyCapability=(0,e.createPromiseCapability)()}z(a,[{key:"addRangeListener",value:function(a){this._rangeListeners.push(a)}},{key:"addProgressListener",value:function(a){this._progressListeners.push(a)}},{key:"addProgressiveReadListener",value:function(a){this._progressiveReadListeners.push(a)}},{key:"addProgressiveDoneListener",value:function(a){this._progressiveDoneListeners.push(a)}},{key:"onDataRange",value:function(a,b){var c=!0,e=!1,f=void 0;try{for(var d=
this._rangeListeners[Symbol.iterator](),k;!(c=(k=d.next()).done);c=!0){var q=k.value;q(a,b)}}catch(S){e=!0,f=S}finally{try{if(!c&&null!=d["return"])d["return"]()}finally{if(e)throw f;}}}},{key:"onDataProgress",value:function(a,b){var c=this;this._readyCapability.promise.then(function(){var e=!0,f=!1,d=void 0;try{for(var k=c._progressListeners[Symbol.iterator](),q;!(e=(q=k.next()).done);e=!0){var m=q.value;m(a,b)}}catch(E){f=!0,d=E}finally{try{if(!e&&null!=k["return"])k["return"]()}finally{if(f)throw d;
}}})}},{key:"onDataProgressiveRead",value:function(a){var b=this;this._readyCapability.promise.then(function(){var c=!0,e=!1,f=void 0;try{for(var d=b._progressiveReadListeners[Symbol.iterator](),k;!(c=(k=d.next()).done);c=!0){var q=k.value;q(a)}}catch(S){e=!0,f=S}finally{try{if(!c&&null!=d["return"])d["return"]()}finally{if(e)throw f;}}})}},{key:"onDataProgressiveDone",value:function(){var a=this;this._readyCapability.promise.then(function(){var b=!0,c=!1,e=void 0;try{for(var f=a._progressiveDoneListeners[Symbol.iterator](),
d;!(b=(d=f.next()).done);b=!0){var k=d.value;k()}}catch(X){c=!0,e=X}finally{try{if(!b&&null!=f["return"])f["return"]()}finally{if(c)throw e;}}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(a,b){(0,e.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]);return a}();d.PDFDataRangeTransport=M;var L=function(){function a(b,c){g(this,a);this._pdfInfo=b;this._transport=c}z(a,[{key:"getPage",
value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",value:function(a){return this._transport.getPageIndex(a)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},
{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},
{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},
{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]);return a}();d.PDFDocumentProxy=L;var I=function(){function a(c,e,f){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;g(this,a);this.pageIndex=c;this._pageInfo=e;this._transport=f;this._stats=d?new b.StatTimer:b.DummyStatTimer;this._pdfBug=d;this.commonObjs=f.commonObjs;
this.objs=new V;this.pendingCleanup=this.cleanupAfterRender=!1;this.intentStates=Object.create(null);this.destroyed=!1}z(a,[{key:"getViewport",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=a.scale,e=a.rotation;e=void 0===e?this.rotate:e;a=a.dontFlip;a=void 0===a?!1:a;if(1<arguments.length||"number"===typeof arguments[0])(0,b.deprecated)("getViewport is called with obsolete arguments."),c=arguments[0],e="number"===typeof arguments[1]?arguments[1]:this.rotate,a=
"boolean"===typeof arguments[2]?arguments[2]:!1;return new b.PageViewport({viewBox:this.view,scale:c,rotation:e,dontFlip:a})}},{key:"getAnnotations",value:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).intent;a=void 0===a?null:a;this.annotationsPromise&&this.annotationsIntent===a||(this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,a),this.annotationsIntent=a);return this.annotationsPromise}},{key:"render",value:function(a){var c=this,f=a.canvasContext,
d=a.viewport,k=a.intent;k=void 0===k?"display":k;var m=a.enableWebGL;m=void 0===m?!1:m;var w=a.renderInteractiveForms;w=void 0===w?!1:w;var y=a.transform;y=void 0===y?null:y;var g=a.imageLayer;g=void 0===g?null:g;var u=a.canvasFactory;u=void 0===u?null:u;a=a.background;a=void 0===a?null:a;var r=this._stats;r.time("Overall");this.pendingCleanup=!1;var t="print"===k?"print":"display";k=u||new b.DOMCanvasFactory;m=new q.WebGLContext({enable:m});this.intentStates[t]||(this.intentStates[t]=Object.create(null));
var C=this.intentStates[t];C.displayReadyCapability||(C.receivingOperatorList=!0,C.displayReadyCapability=(0,e.createPromiseCapability)(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1},r.time("Page Request"),this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:t,renderInteractiveForms:!0===w}));var F=function(a){var b=C.renderTasks.indexOf(h);0<=b&&C.renderTasks.splice(b,1);if(c.cleanupAfterRender||"print"===t)c.pendingCleanup=!0;c._tryCleanup();a?h.capability.reject(a):
h.capability.resolve();r.timeEnd("Rendering");r.timeEnd("Overall")},h=new Y({callback:F,params:{canvasContext:f,viewport:d,transform:y,imageLayer:g,background:a},objs:this.objs,commonObjs:this.commonObjs,operatorList:C.operatorList,pageNumber:this.pageNumber,canvasFactory:k,webGLContext:m,useRequestAnimationFrame:"print"!==t,pdfBug:this._pdfBug});C.renderTasks||(C.renderTasks=[]);C.renderTasks.push(h);f=h.task;C.displayReadyCapability.promise.then(function(a){c.pendingCleanup?F():(r.time("Rendering"),
h.initializeGraphics(a),h.operatorListChanged())})["catch"](F);return f}},{key:"getOperatorList",value:function(){function a(){if(b.operatorList.lastChunk){b.opListReadCapability.resolve(b.operatorList);var a=b.renderTasks.indexOf(c);0<=a&&b.renderTasks.splice(a,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var b=this.intentStates.oplist;if(!b.opListReadCapability){var c={};c.operatorListChanged=a;b.receivingOperatorList=!0;b.opListReadCapability=(0,e.createPromiseCapability)();
b.renderTasks=[];b.renderTasks.push(c);b.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this._stats.time("Page Request");this._transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return b.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.normalizeWhitespace;a=a.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-
1,normalizeWhitespace:!0===(void 0===b?!1:b),combineTextItems:!0!==(void 0===a?!1:a)},{highWaterMark:100,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var a=this.streamTextContent(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return new Promise(function(b,c){function e(){f.read().then(function(a){var c,f=a.value;a.done?b(d):(Object.assign(d.styles,f.styles),(c=d.items).push.apply(c,v(f.items)),e())},c)}var f=a.getReader(),d={items:[],styles:Object.create(null)};
e()})}},{key:"_destroy",value:function(){this.destroyed=!0;this._transport.pageCache[this.pageIndex]=null;var a=[];Object.keys(this.intentStates).forEach(function(b){"oplist"!==b&&this.intentStates[b].renderTasks.forEach(function(b){var c=b.capability.promise["catch"](function(){});a.push(c);b.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=!1;return Promise.all(a)}},{key:"cleanup",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;
this.pendingCleanup=!0;this._tryCleanup(a)}},{key:"_tryCleanup",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return 0!==a.renderTasks.length||a.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this),this.objs.clear(),this.annotationsPromise=null,a&&this._stats instanceof b.StatTimer&&(this._stats=new b.StatTimer),
this.pendingCleanup=!1)}},{key:"_startRenderPage",value:function(a,b){b=this.intentStates[b];b.displayReadyCapability&&b.displayReadyCapability.resolve(a)}},{key:"_renderPageChunk",value:function(a,b){b=this.intentStates[b];for(var c=0,e=a.length;c<e;c++)b.operatorList.fnArray.push(a.fnArray[c]),b.operatorList.argsArray.push(a.argsArray[c]);b.operatorList.lastChunk=a.lastChunk;for(c=0;c<b.renderTasks.length;c++)b.renderTasks[c].operatorListChanged();a.lastChunk&&(b.receivingOperatorList=!1,this._tryCleanup())}},
{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats instanceof b.StatTimer?this._stats:null}}]);return a}();d.PDFPageProxy=I;var O=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
!0;g(this,a);this._listeners=[];this._defer=b;this._deferred=Promise.resolve(void 0)}z(a,[{key:"postMessage",value:function(a,b){function c(a){if("object"!==p(a)||null===a)return a;if(d.has(a))return d.get(a);var f;if((f=a.buffer)&&(0,e.isArrayBuffer)(f)){var k=b&&b.includes(f);f=a===f?a:k?new a.constructor(f,a.byteOffset,a.byteLength):new a.constructor(a);d.set(a,f);return f}f=Array.isArray(a)?[]:{};d.set(a,f);for(k in a){for(var q,m=a;!(q=Object.getOwnPropertyDescriptor(m,k));)m=Object.getPrototypeOf(m);
"undefined"!==typeof q.value&&"function"!==typeof q.value&&(f[k]=c(q.value))}return f}var f=this;if(this._defer){var d=new WeakMap,k={data:c(a)};this._deferred.then(function(){f._listeners.forEach(function(a){a.call(this,k)},f)})}else this._listeners.forEach(function(b){b.call(this,{data:a})},this)}},{key:"addEventListener",value:function(a,b){this._listeners.push(b)}},{key:"removeEventListener",value:function(a,b){a=this._listeners.indexOf(b);this._listeners.splice(a,1)}},{key:"terminate",value:function(){this._listeners.length=
0}}]);return a}();d.LoopbackPort=O;var K=function(){function a(){if(r.GlobalWorkerOptions.workerSrc)return r.GlobalWorkerOptions.workerSrc;if("undefined"!==typeof C)return C;throw Error('No "GlobalWorkerOptions.workerSrc" specified.');}function c(){try{if("undefined"!==typeof window)return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(da){}return null}function f(){if(q)return q.promise;q=(0,e.createPromiseCapability)();var f=c();if(f)return q.resolve(f),q.promise;(P||function(){return(0,
b.loadScript)(a()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})})().then(q.resolve,q.reject);return q.promise}var d=new WeakMap,k=0,q;return function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=a.name;c=void 0===c?null:c;var f=a.port;f=void 0===f?null:f;var k=a.postMessageTransfers;k=void 0===k?!0:k;a=a.verbosity;a=void 0===a?(0,e.getVerbosityLevel)():a;g(this,b);if(f&&d.has(f))throw Error("Cannot use more than one PDFWorker per port");this.name=
c;this.destroyed=!1;this.postMessageTransfers=!1!==k;this.verbosity=a;this._readyCapability=(0,e.createPromiseCapability)();this._messageHandler=this._webWorker=this._port=null;f?(d.set(f,this),this._initializeFromPort(f)):this._initialize()}z(b,[{key:"_initializeFromPort",value:function(a){this._port=a;this._messageHandler=new m.MessageHandler("main","worker",a);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()}},{key:"_initialize",value:function(){var b=this;if("undefined"!==
typeof Worker&&!J&&!c()){var f=a();try{(0,e.isSameOrigin)(window.location.href,f)||(f=e.URL.createObjectURL(new Blob(["importScripts('"+(new e.URL(f,window.location)).href+"');"])));var d=new Worker(f),k=new m.MessageHandler("main","worker",d),q=function(){d.removeEventListener("error",w);k.destroy();d.terminate();b.destroyed?b._readyCapability.reject(Error("Worker was destroyed")):b._setupFakeWorker()},w=function(){b._webWorker||q()};d.addEventListener("error",w);k.on("test",function(a){d.removeEventListener("error",
w);b.destroyed?q():a&&a.supportTypedArray?(b._messageHandler=k,b._port=d,b._webWorker=d,a.supportTransfers||(b.postMessageTransfers=!1),b._readyCapability.resolve(),k.send("configure",{verbosity:b.verbosity})):(b._setupFakeWorker(),k.destroy(),d.terminate())});k.on("ready",function(a){d.removeEventListener("error",w);if(b.destroyed)q();else try{y()}catch(fa){b._setupFakeWorker()}});var y=function(){var a=new Uint8Array([b.postMessageTransfers?255:0]);try{k.send("test",a,[a.buffer])}catch(fa){(0,e.info)("Cannot use postMessage transfers"),
a[0]=0,k.send("test",a)}};y();return}catch(ma){(0,e.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;J||((0,e.warn)("Setting up fake worker."),J=!0);f().then(function(b){if(a.destroyed)a._readyCapability.reject(Error("Worker was destroyed"));else{var c=new O;a._port=c;var e="fake"+k++,f=new m.MessageHandler(e+"_worker",e,c);b.setup(f,c);b=new m.MessageHandler(e,e+"_worker",c);a._messageHandler=b;a._readyCapability.resolve()}})["catch"](function(b){a._readyCapability.reject(Error('Setting up fake worker failed: "'.concat(b.message,
'".')))})}},{key:"destroy",value:function(){this.destroyed=!0;this._webWorker&&(this._webWorker.terminate(),this._webWorker=null);d["delete"](this._port);this._port=null;this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(a){if(!a||!a.port)throw Error("PDFWorker.fromPort - invalid method signature.");
return d.has(a.port)?d.get(a.port):new b(a)}},{key:"getWorkerSrc",value:function(){return a()}}]);return b}()}();d.PDFWorker=K;var U=function(){function a(b,c,d,k){g(this,a);this.messageHandler=b;this.loadingTask=c;this.commonObjs=new V;this.fontLoader=new f.FontLoader({docId:c.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)});this._params=k;this.CMapReaderFactory=new k.CMapReaderFactory({baseUrl:k.cMapUrl,isCompressed:k.cMapPacked});this.destroyed=!1;this._passwordCapability=this.destroyCapability=
null;this._networkStream=d;this._lastProgress=this._fullReader=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,e.createPromiseCapability)();this.setupMessageHandler()}z(a,[{key:"destroy",value:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0;this.destroyCapability=(0,e.createPromiseCapability)();this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));var b=
[];this.pageCache.forEach(function(a){a&&b.push(a._destroy())});this.pageCache.length=0;this.pagePromises.length=0;var c=this.messageHandler.sendWithPromise("Terminate",null);b.push(c);Promise.all(b).then(function(){a.fontLoader.clear();a._networkStream&&a._networkStream.cancelAllRequests();a.messageHandler&&(a.messageHandler.destroy(),a.messageHandler=null);a.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var a=
this.messageHandler,c=this.loadingTask;a.on("GetReader",function(a,b){var c=this;(0,e.assert)(this._networkStream);this._fullReader=this._networkStream.getFullReader();this._fullReader.onProgress=function(a){c._lastProgress={loaded:a.loaded,total:a.total}};b.onPull=function(){c._fullReader.read().then(function(a){var c=a.value;a.done?b.close():((0,e.assert)((0,e.isArrayBuffer)(c)),b.enqueue(new Uint8Array(c),1,[c]))})["catch"](function(a){b.error(a)})};b.onCancel=function(a){c._fullReader.cancel(a)}},
this);a.on("ReaderHeadersReady",function(a){var b=this,f=(0,e.createPromiseCapability)(),d=this._fullReader;d.headersReady.then(function(){if(!d.isStreamingSupported||!d.isRangeSupported){if(b._lastProgress&&c.onProgress)c.onProgress(b._lastProgress);d.onProgress=function(a){if(c.onProgress)c.onProgress({loaded:a.loaded,total:a.total})}}f.resolve({isStreamingSupported:d.isStreamingSupported,isRangeSupported:d.isRangeSupported,contentLength:d.contentLength})},f.reject);return f.promise},this);a.on("GetRangeReader",
function(a,b){(0,e.assert)(this._networkStream);var c=this._networkStream.getRangeReader(a.begin,a.end);c?(b.onPull=function(){c.read().then(function(a){var c=a.value;a.done?b.close():((0,e.assert)((0,e.isArrayBuffer)(c)),b.enqueue(new Uint8Array(c),1,[c]))})["catch"](function(a){b.error(a)})},b.onCancel=function(a){c.cancel(a)}):b.close()},this);a.on("GetDoc",function(a){a=a.pdfInfo;this._numPages=a.numPages;c._capability.resolve(new L(a,this))},this);a.on("PasswordRequest",function(a){var b=this;
this._passwordCapability=(0,e.createPromiseCapability)();if(c.onPassword){var f=function(a){b._passwordCapability.resolve({password:a})};try{c.onPassword(f,a.code)}catch(da){this._passwordCapability.reject(da)}}else this._passwordCapability.reject(new e.PasswordException(a.message,a.code));return this._passwordCapability.promise},this);a.on("PasswordException",function(a){c._capability.reject(new e.PasswordException(a.message,a.code))},this);a.on("InvalidPDF",function(a){c._capability.reject(new e.InvalidPDFException(a.message))},
this);a.on("MissingPDF",function(a){c._capability.reject(new e.MissingPDFException(a.message))},this);a.on("UnexpectedResponse",function(a){c._capability.reject(new e.UnexpectedResponseException(a.message,a.status))},this);a.on("UnknownError",function(a){c._capability.reject(new e.UnknownErrorException(a.message,a.details))},this);a.on("DataLoaded",function(a){if(c.onProgress)c.onProgress({loaded:a.length,total:a.length});this.downloadInfoCapability.resolve(a)},this);a.on("StartRenderPage",function(a){if(!this.destroyed){var b=
this.pageCache[a.pageIndex];b._stats.timeEnd("Page Request");b._startRenderPage(a.transparency,a.intent)}},this);a.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);a.on("commonobj",function(b){var c=this;if(!this.destroyed){b=x(b,3);var d=b[0],k=b[1];b=b[2];if(!this.commonObjs.has(d))switch(k){case "Font":k=this._params;if("error"in b){b=b.error;(0,e.warn)("Error during font loading: ".concat(b));this.commonObjs.resolve(d,
b);break}var q=null;k.pdfBug&&D["default"].FontInspector&&D["default"].FontInspector.enabled&&(q={registerFont:function(a,b){D["default"].FontInspector.fontAdded(a,b)}});var m=new f.FontFaceObject(b,{isEvalSupported:k.isEvalSupported,disableFontFace:k.disableFontFace,ignoreErrors:k.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:q});this.fontLoader.bind(m).then(function(){c.commonObjs.resolve(d,m)},function(b){a.sendWithPromise("FontFallback",{id:d})["finally"](function(){c.commonObjs.resolve(d,
m)})});break;case "FontPath":case "FontType3Res":this.commonObjs.resolve(d,b);break;default:throw Error("Got unknown common object type ".concat(k));}}},this);a.on("obj",function(a){if(!this.destroyed){a=x(a,4);var c=a[0],e=a[2],f=a[3],d=this.pageCache[a[1]];if(!d.objs.has(c))switch(e){case "JpegStream":return(new Promise(function(a,c){var e=new Image;e.onload=function(){a(e)};e.onerror=function(){c(Error("Error during JPEG image loading"));(0,b.releaseImageResources)(e)};e.src=f})).then(function(a){d.objs.resolve(c,
a)});case "Image":d.objs.resolve(c,f);f&&"data"in f&&8E6<f.data.length&&(d.cleanupAfterRender=!0);break;default:throw Error("Got unknown object type ".concat(e));}}},this);a.on("DocProgress",function(a){if(!this.destroyed&&c.onProgress)c.onProgress({loaded:a.loaded,total:a.total})},this);a.on("PageError",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex].intentStates[a.intent];if(b.displayReadyCapability)b.displayReadyCapability.reject(Error(a.error));else throw Error(a.error);if(b.operatorList)for(b.operatorList.lastChunk=
!0,a=0;a<b.renderTasks.length;a++)b.renderTasks[a].operatorListChanged()}},this);a.on("UnsupportedFeature",this._onUnsupportedFeature,this);a.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if("undefined"===typeof document)return Promise.reject(Error('"document" is not defined.'));a=x(a,2);var c=a[0],e=a[1];return 3!==e&&1!==e?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,f){var d=new Image;d.onload=
function(){var c=d.width,f=d.height,k=c*f,q=4*k;k=new Uint8ClampedArray(k*e);var m=document.createElement("canvas");m.width=c;m.height=f;var w=m.getContext("2d");w.drawImage(d,0,0);w=w.getImageData(0,0,c,f).data;if(3===e)for(var y=0,g=0;y<q;y+=4,g+=3)k[g]=w[y],k[g+1]=w[y+1],k[g+2]=w[y+2];else if(1===e)for(g=y=0;y<q;y+=4,g++)k[g]=w[y];a({data:k,width:c,height:f});(0,b.releaseImageResources)(d);m.width=0;m.height=0};d.onerror=function(){f(Error("JpegDecode failed to load image"));(0,b.releaseImageResources)(d)};
d.src=c})},this);a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)}},{key:"_onUnsupportedFeature",value:function(a){a=a.featureId;if(!this.destroyed&&this.loadingTask.onUnsupportedFeature)this.loadingTask.onUnsupportedFeature(a)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(a){var b=this;if(!Number.isInteger(a)||0>=
a||a>this._numPages)return Promise.reject(Error("Invalid page request"));var c=a-1;if(c in this.pagePromises)return this.pagePromises[c];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(function(a){if(b.destroyed)throw Error("Transport destroyed");a=new I(c,a,b,b._params.pdfBug);return b.pageCache[c]=a});return this.pagePromises[c]=a}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})["catch"](function(a){return Promise.reject(Error(a))})}},
{key:"getAnnotations",value:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return"string"!==typeof a?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",
null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenActionDestination",value:function(){return this.messageHandler.sendWithPromise("GetOpenActionDestination",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",
null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(b){return{info:b[0],metadata:b[1]?new u.Metadata(b[1]):null,
contentDispositionFilename:a._fullReader?a._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var b=0,c=a.pageCache.length;b<c;b++){var e=a.pageCache[b];e&&e.cleanup()}a.commonObjs.clear();a.fontLoader.clear()})}},{key:"loadingParams",get:function(){var a=this._params;return(0,e.shadow)(this,"loadingParams",
{disableAutoFetch:a.disableAutoFetch,disableCreateObjectURL:a.disableCreateObjectURL,disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport})}}]);return a}(),V=function(){function a(){g(this,a);this._objs=Object.create(null)}z(a,[{key:"_ensureObj",value:function(a){return this._objs[a]?this._objs[a]:this._objs[a]={capability:(0,e.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
null;if(b)return this._ensureObj(a).capability.promise.then(b),null;b=this._objs[a];if(!b||!b.resolved)throw Error("Requesting object that isn't resolved yet ".concat(a,"."));return b.data}},{key:"has",value:function(a){return(a=this._objs[a])?a.resolved:!1}},{key:"resolve",value:function(a,b){a=this._ensureObj(a);a.resolved=!0;a.data=b;a.capability.resolve(b)}},{key:"clear",value:function(){for(var a in this._objs){var c=this._objs[a].data;"undefined"!==typeof Image&&c instanceof Image&&(0,b.releaseImageResources)(c)}this._objs=
Object.create(null)}}]);return a}(),Q=function(){function a(b){g(this,a);this._internalRenderTask=b;this.onContinue=null}z(a,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(a,c){(0,b.deprecated)("RenderTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]);return a}(),Y=function(){var a=new WeakSet;return function(){function c(a){var b=
a.callback,f=a.params,d=a.objs,k=a.commonObjs,q=a.operatorList,m=a.pageNumber,w=a.canvasFactory,y=a.webGLContext,u=a.useRequestAnimationFrame;u=void 0===u?!1:u;a=a.pdfBug;a=void 0===a?!1:a;g(this,c);this.callback=b;this.params=f;this.objs=d;this.commonObjs=k;this.operatorListIdx=null;this.operatorList=q;this.pageNumber=m;this.canvasFactory=w;this.webGLContext=y;this._pdfBug=a;this.running=!1;this.graphicsReadyCallback=null;this.graphicsReady=!1;this._useRequestAnimationFrame=!0===u&&"undefined"!==
typeof window;this.cancelled=!1;this.capability=(0,e.createPromiseCapability)();this.task=new Q(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=f.canvasContext.canvas}z(c,[{key:"initializeGraphics",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(!this.cancelled){if(this._canvas){if(a.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");
a.add(this._canvas)}this._pdfBug&&D["default"].StepperManager&&D["default"].StepperManager.enabled&&(this.stepper=D["default"].StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var c=this.params,e=c.viewport,f=c.transform,d=c.background;this.gfx=new y.CanvasGraphics(c.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,c.imageLayer);this.gfx.beginDrawing({transform:f,viewport:e,transparency:b,
background:d});this.operatorListIdx=0;this.graphicsReady=!0;this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.running=!1;this.cancelled=!0;this.gfx&&this.gfx.endDrawing();if(this._canvas)a["delete"](this._canvas);this.callback(c||new b.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?
(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0;if(!this.cancelled)if(this.task.onContinue)this.task.onContinue(this._scheduleNextBound);else this._scheduleNext()}},{key:"_scheduleNext",value:function(){var a=this;if(this._useRequestAnimationFrame)window.requestAnimationFrame(function(){a._nextBound()["catch"](a.cancel.bind(a))});
else Promise.resolve().then(this._nextBound)["catch"](this.cancel.bind(this))}},{key:"_next",value:function(){var b=h(t["default"].mark(function ba(){return t["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!this.cancelled){b.next=2;break}return b.abrupt("return");case 2:if(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk)){this.gfx.endDrawing();
if(this._canvas)a["delete"](this._canvas);this.callback()}case 4:case "end":return b.stop()}},ba,this)}));return function(){return b.apply(this,arguments)}}()}]);return c}()}();d.version="2.2.228";d.build="d7afb74a"},function(c,d,a){c.exports=a(149)},function(c,d,a){(function(a){function c(a){c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};
return c(a)}a=function(a){function d(a,b,c,e){b=Object.create((b&&b.prototype instanceof g?b:g).prototype);e=new k(e||[]);b._invoke=t(a,c,e);return b}function h(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(V){return{type:"throw",arg:V}}}function g(){}function l(){}function n(){}function p(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function A(a){function b(e,f,d,k){e=h(a[e],a,f);if("throw"===e.type)k(e.arg);else{var q=e.arg;return(e=q.value)&&
"object"===c(e)&&m.call(e,"__await")?Promise.resolve(e.__await).then(function(a){b("next",a,d,k)},function(a){b("throw",a,d,k)}):Promise.resolve(e).then(function(a){q.value=a;d(q)},function(a){return b("throw",a,d,k)})}}var e;this._invoke=function(a,c){function f(){return new Promise(function(e,f){b(a,c,e,f)})}return e=e?e.then(f,f):f()}}function t(a,b,c){var f=C;return function(d,k){if(f===H)throw Error("Generator is already running");if(f===N){if("throw"===d)throw k;return D()}c.method=d;for(c.arg=
k;;){if(d=c.delegate)if(d=e(d,c)){if(d===M)continue;return d}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(f===C)throw f=N,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);f=H;d=h(a,b,c);if("normal"===d.type){f=c.done?N:P;if(d.arg===M)continue;return{value:d.arg,done:c.done}}"throw"===d.type&&(f=N,c.method="throw",c.arg=d.arg)}}}function e(a,b){var c=a.iterator[b.method];if(c===u){b.delegate=null;if("throw"===b.method){if(a.iterator["return"]&&
(b.method="return",b.arg=u,e(a,b),"throw"===b.method))return M;b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return M}c=h(c,a.iterator,b.arg);if("throw"===c.type)return b.method="throw",b.arg=c.arg,b.delegate=null,M;c=c.arg;if(!c)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,M;if(c.done)b[a.resultName]=c.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=u);else return c;b.delegate=null;return M}
function b(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function f(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function k(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(b,this);this.reset(!0)}function y(a){if(a){var b=a[q];if(b)return b.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var c=-1;b=function Q(){for(;++c<a.length;)if(m.call(a,c))return Q.value=a[c],Q.done=!1,Q;Q.value=
u;Q.done=!0;return Q};return b.next=b}}return{next:D}}function D(){return{value:u,done:!0}}var r=Object.prototype,m=r.hasOwnProperty,u,w="function"===typeof Symbol?Symbol:{},q=w.iterator||"@@iterator",F=w.asyncIterator||"@@asyncIterator",J=w.toStringTag||"@@toStringTag";a.wrap=d;var C="suspendedStart",P="suspendedYield",H="executing",N="completed",M={};w={};w[q]=function(){return this};var L=Object.getPrototypeOf;(L=L&&L(L(y([]))))&&L!==r&&m.call(L,q)&&(w=L);var I=n.prototype=g.prototype=Object.create(w);
l.prototype=I.constructor=n;n.constructor=l;n[J]=l.displayName="GeneratorFunction";a.isGeneratorFunction=function(a){return(a="function"===typeof a&&a.constructor)?a===l||"GeneratorFunction"===(a.displayName||a.name):!1};a.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,n):(a.__proto__=n,J in a||(a[J]="GeneratorFunction"));a.prototype=Object.create(I);return a};a.awrap=function(a){return{__await:a}};p(A.prototype);A.prototype[F]=function(){return this};a.AsyncIterator=A;a.async=function(b,
c,e,f){var k=new A(d(b,c,e,f));return a.isGeneratorFunction(c)?k:k.next().then(function(a){return a.done?a.value:k.next()})};p(I);I[J]="Generator";I[q]=function(){return this};I.toString=function(){return"[object Generator]"};a.keys=function(a){var b=[],c;for(c in a)b.push(c);b.reverse();return function Q(){for(;b.length;){var c=b.pop();if(c in a)return Q.value=c,Q.done=!1,Q}Q.done=!0;return Q}};a.values=y;k.prototype={constructor:k,reset:function(a){this.next=this.prev=0;this.sent=this._sent=u;this.done=
!1;this.delegate=null;this.method="next";this.arg=u;this.tryEntries.forEach(f);if(!a)for(var b in this)"t"===b.charAt(0)&&m.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=u)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,e){d.type="throw";d.arg=a;c.next=b;e&&(c.method="next",c.arg=u);return!!e}if(this.done)throw a;for(var c=this,e=this.tryEntries.length-1;0<=e;--e){var f=this.tryEntries[e],
d=f.completion;if("root"===f.tryLoc)return b("end");if(f.tryLoc<=this.prev){var k=m.call(f,"catchLoc"),q=m.call(f,"finallyLoc");if(k&&q){if(this.prev<f.catchLoc)return b(f.catchLoc,!0);if(this.prev<f.finallyLoc)return b(f.finallyLoc)}else if(k){if(this.prev<f.catchLoc)return b(f.catchLoc,!0)}else if(q){if(this.prev<f.finallyLoc)return b(f.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;0<=c;--c){var e=this.tryEntries[c];
if(e.tryLoc<=this.prev&&m.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var f=e;break}}f&&("break"===a||"continue"===a)&&f.tryLoc<=b&&b<=f.finallyLoc&&(f=null);c=f?f.completion:{};c.type=a;c.arg=b;return f?(this.method="next",this.next=f.finallyLoc,M):this.complete(c)},complete:function(a,b){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b);return M},
finish:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),f(c),M}},"catch":function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.tryLoc===a){a=c.completion;if("throw"===a.type){var e=a.arg;f(c)}return e}}throw Error("illegal catch attempt");},delegateYield:function(a,b,c){this.delegate={iterator:y(a),resultName:b,nextLoc:c};"next"===this.method&&(this.arg=u);return M}};
return a}("object"===c(a)?a.exports:{});try{regeneratorRuntime=a}catch(h){Function("r","regeneratorRuntime = r")(a)}}).call(this,a(150)(c))},function(c,d,a){c.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1);return a}},function(c,d,a){function l(a,b,c,e,d,m,g){try{var f=a[m](g),
k=f.value}catch(F){c(F);return}f.done?b(k):Promise.resolve(k).then(e,d)}function n(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){function d(a){l(w,e,f,d,k,"next",a)}function k(a){l(w,e,f,d,k,"throw",a)}var w=a.apply(b,c);d(void 0)})}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function x(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}function v(a,b,c){b&&x(a.prototype,b);c&&x(a,c);return a}function g(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream}function B(a,b){try{var c=(b?new p.URL(a,b):new p.URL(a)).protocol;return"http:"===c||"https:"===c}catch(D){return!1}}Object.defineProperty(d,"__esModule",{value:!0});d.addLinkAttributes=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=b.url,f=b.target;b=b.rel;a.href=
a.title=c?(0,p.removeNullCharacters)(c):"";c&&(c=Object.values(t).includes(f)?f:t.NONE,a.target=e[c],a.rel="string"===typeof b?b:A)};d.getFilenameFromUrl=function(a){var b=a.indexOf("#"),c=a.indexOf("?");b=Math.min(0<b?b:a.length,0<c?c:a.length);return a.substring(a.lastIndexOf("/",b)+1,b)};d.isFetchSupported=g;d.isValidFetchUrl=B;d.loadScript=function(a){return new Promise(function(b,c){var e=document.createElement("script");e.src=a;e.onload=b;e.onerror=function(){c(Error("Cannot load script at: ".concat(e.src)))};
(document.head||document.documentElement).appendChild(e)})};d.deprecated=function(a){console.log("Deprecated API usage: "+a)};d.releaseImageResources=function(a){(0,p.assert)(a instanceof Image,"Invalid `img` parameter.");var b=a.src;"string"===typeof b&&b.startsWith("blob:")&&p.URL.revokeObjectURL&&p.URL.revokeObjectURL(b);a.removeAttribute("src")};d.PDFDateString=d.DummyStatTimer=d.StatTimer=d.DOMSVGFactory=d.DOMCMapReaderFactory=d.DOMCanvasFactory=d.DEFAULT_LINK_REL=d.LinkTarget=d.RenderingCancelledException=
d.PageViewport=void 0;var z=function(a){return a&&a.__esModule?a:{default:a}}(a(148)),p=a(1),A="noopener noreferrer nofollow";d.DEFAULT_LINK_REL=A;c=function(){function a(){h(this,a)}v(a,[{key:"create",value:function(a,b){if(0>=a||0>=b)throw Error("Invalid canvas size");var c=document.createElement("canvas"),e=c.getContext("2d");c.width=a;c.height=b;return{canvas:c,context:e}}},{key:"reset",value:function(a,b,c){if(!a.canvas)throw Error("Canvas is not specified");if(0>=b||0>=c)throw Error("Invalid canvas size");
a.canvas.width=b;a.canvas.height=c}},{key:"destroy",value:function(a){if(!a.canvas)throw Error("Canvas is not specified");a.canvas.width=0;a.canvas.height=0;a.canvas=null;a.context=null}}]);return a}();d.DOMCanvasFactory=c;c=function(){function a(b){var c=b.baseUrl;c=void 0===c?null:c;b=b.isCompressed;b=void 0===b?!1:b;h(this,a);this.baseUrl=c;this.isCompressed=b}v(a,[{key:"fetch",value:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(){var a=
n(z["default"].mark(function r(a){var b=this,c,e,f;return z["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:c=a.name;if(this.baseUrl){d.next=3;break}throw Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(c){d.next=5;break}throw Error("CMap name must be specified.");case 5:e=this.baseUrl+c+(this.isCompressed?".bcmap":"");f=this.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE;
if(!g()||!B(e,document.baseURI)){d.next=9;break}return d.abrupt("return",fetch(e).then(function(){var a=n(z["default"].mark(function H(a){var c;return z["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.ok){e.next=2;break}throw Error(a.statusText);case 2:if(!b.isCompressed){e.next=10;break}e.t0=Uint8Array;e.next=6;return a.arrayBuffer();case 6:e.t1=e.sent;c=new e.t0(e.t1);e.next=15;break;case 10:return e.t2=p.stringToBytes,e.next=13,a.text();case 13:e.t3=e.sent,c=(0,e.t2)(e.t3);
case 15:return e.abrupt("return",{cMapData:c,compressionType:f});case 16:case "end":return e.stop()}},H)}));return function(b){return a.apply(this,arguments)}}())["catch"](function(a){throw Error("Unable to load ".concat(b.isCompressed?"binary ":"")+"CMap at: ".concat(e));}));case 9:return d.abrupt("return",(new Promise(function(a,c){var d=new XMLHttpRequest;d.open("GET",e,!0);b.isCompressed&&(d.responseType="arraybuffer");d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE){if(200===
d.status||0===d.status){var e;b.isCompressed&&d.response?e=new Uint8Array(d.response):!b.isCompressed&&d.responseText&&(e=(0,p.stringToBytes)(d.responseText));if(e){a({cMapData:e,compressionType:f});return}}c(Error(d.statusText))}};d.send(null)}))["catch"](function(a){throw Error("Unable to load ".concat(b.isCompressed?"binary ":"")+"CMap at: ".concat(e));}));case 10:case "end":return d.stop()}},r,this)}));return function(b){return a.apply(this,arguments)}}())}]);return a}();d.DOMCMapReaderFactory=
c;c=function(){function a(){h(this,a)}v(a,[{key:"create",value:function(a,b){(0,p.assert)(0<a&&0<b,"Invalid SVG dimensions");var c=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");c.setAttribute("version","1.1");c.setAttribute("width",a+"px");c.setAttribute("height",b+"px");c.setAttribute("preserveAspectRatio","none");c.setAttribute("viewBox","0 0 "+a+" "+b);return c}},{key:"createElement",value:function(a){(0,p.assert)("string"===typeof a,"Invalid SVG element type");return document.createElementNS("http://www.w3.org/2000/svg",
a)}}]);return a}();d.DOMSVGFactory=c;c=function(){function a(b){var c=b.viewBox,e=b.scale,f=b.rotation,d=b.offsetX,k=void 0===d?0:d;d=b.offsetY;var w=void 0===d?0:d;b=b.dontFlip;var q=void 0===b?!1:b;h(this,a);this.viewBox=c;this.scale=e;this.rotation=f;this.offsetX=k;this.offsetY=w;b=(c[2]+c[0])/2;d=(c[3]+c[1])/2;var g;f%=360;switch(0>f?f+360:f){case 180:f=-1;var t=g=0;var C=1;break;case 90:f=0;t=g=1;C=0;break;case 270:f=0;t=g=-1;C=0;break;default:f=1,t=g=0,C=-1}q&&(t=-t,C=-C);0===f?(k=Math.abs(d-
c[1])*e+k,w=Math.abs(b-c[0])*e+w,q=Math.abs(c[3]-c[1])*e,c=Math.abs(c[2]-c[0])*e):(k=Math.abs(b-c[0])*e+k,w=Math.abs(d-c[1])*e+w,q=Math.abs(c[2]-c[0])*e,c=Math.abs(c[3]-c[1])*e);this.transform=[f*e,g*e,t*e,C*e,k-f*e*b-t*e*d,w-g*e*b-C*e*d];this.width=q;this.height=c}v(a,[{key:"clone",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=b.scale;c=void 0===c?this.scale:c;var e=b.rotation;e=void 0===e?this.rotation:e;b=b.dontFlip;b=void 0===b?!1:b;return new a({viewBox:this.viewBox.slice(),
scale:c,rotation:e,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:b})}},{key:"convertToViewportPoint",value:function(a,b){return p.Util.applyTransform([a,b],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var b=p.Util.applyTransform([a[0],a[1]],this.transform);a=p.Util.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],a[0],a[1]]}},{key:"convertToPdfPoint",value:function(a,b){return p.Util.applyInverseTransform([a,b],this.transform)}}]);return a}();d.PageViewport=
c;c=function(){function a(a,b){this.message=a;this.type=b}a.prototype=Error();a.prototype.name="RenderingCancelledException";return a.constructor=a}();d.RenderingCancelledException=c;var t={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};d.LinkTarget=t;var e=["","_self","_blank","_parent","_top"];c=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;h(this,a);this.enabled=!!b;this.started=Object.create(null);this.times=[]}v(a,[{key:"time",value:function(a){this.enabled&&
(a in this.started&&(0,p.warn)("Timer is already running for "+a),this.started[a]=Date.now())}},{key:"timeEnd",value:function(a){this.enabled&&(a in this.started||(0,p.warn)("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])}},{key:"toString",value:function(){var a="",b=0,c=!0,e=!1,f=void 0;try{for(var d=this.times[Symbol.iterator](),w;!(c=(w=d.next()).done);c=!0){var q=w.value.name;q.length>b&&(b=q.length)}}catch(H){e=!0,f=
H}finally{try{if(!c&&null!=d["return"])d["return"]()}finally{if(e)throw f;}}c=!0;e=!1;f=void 0;try{for(var g=this.times[Symbol.iterator](),t;!(c=(t=g.next()).done);c=!0){var C=t.value,h=C.end-C.start;a+="".concat(C.name.padEnd(b)," ").concat(h,"ms\n")}}catch(H){e=!0,f=H}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(e)throw f;}}return a}}]);return a}();d.StatTimer=c;c=function(){function a(){h(this,a);(0,p.unreachable)("Cannot initialize DummyStatTimer.")}v(a,null,[{key:"time",value:function(a){}},
{key:"timeEnd",value:function(a){}},{key:"toString",value:function(){return""}}]);return a}();d.DummyStatTimer=c;var b;c=function(){function a(){h(this,a)}v(a,null,[{key:"toDateObject",value:function(a){if(!a||!(0,p.isString)(a))return null;b||(b=/^D:(\d{4})(\d{2})?(\d{2})?(\d{2})?(\d{2})?(\d{2})?([Z|+|-])?(\d{2})?'?(\d{2})?'?/);var c=b.exec(a);if(!c)return null;a=parseInt(c[1],10);var e=parseInt(c[2],10);e=1<=e&&12>=e?e-1:0;var f=parseInt(c[3],10);f=1<=f&&31>=f?f:1;var d=parseInt(c[4],10);d=0<=d&&
23>=d?d:0;var k=parseInt(c[5],10);k=0<=k&&59>=k?k:0;var w=parseInt(c[6],10);w=0<=w&&59>=w?w:0;var q=c[7]||"Z",g=parseInt(c[8],10);g=0<=g&&23>=g?g:0;c=parseInt(c[9],10)||0;c=0<=c&&59>=c?c:0;"-"===q?(d+=g,k+=c):"+"===q&&(d-=g,k-=c);return new Date(Date.UTC(a,e,f,d,k,w))}}]);return a}();d.PDFDateString=c},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&
a!==Symbol.prototype?"symbol":typeof a};return l(a)}function n(a){n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return n(a)}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&x(a,b)}function x(a,b){x=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return x(a,
b)}function v(a,b,c,e,d,m,g){try{var f=a[m](g),k=f.value}catch(F){c(F);return}f.done?b(k):Promise.resolve(k).then(e,d)}function g(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){function d(a){v(w,e,f,d,k,"next",a)}function k(a){v(w,e,f,d,k,"throw",a)}var w=a.apply(b,c);d(void 0)})}}function B(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function z(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=
!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}function p(a,b,c){b&&z(a.prototype,b);c&&z(a,c);return a}Object.defineProperty(d,"__esModule",{value:!0});d.FontLoader=d.FontFaceObject=void 0;var A=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),t=a(1);c=function(){function a(b){var c=b.docId;b=b.onUnsupportedFeature;B(this,a);this.constructor===a&&(0,t.unreachable)("Cannot initialize BaseFontLoader.");this.docId=c;this._onUnsupportedFeature=b;this.nativeFontFaces=[];
this.styleElement=null}p(a,[{key:"addNativeFontFace",value:function(a){this.nativeFontFaces.push(a);document.fonts.add(a)}},{key:"insertRule",value:function(a){var b=this.styleElement;b||(b=this.styleElement=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(b));b=b.sheet;b.insertRule(a,b.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(a){document.fonts["delete"](a)});
this.nativeFontFaces.length=0;this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var a=g(A["default"].mark(function r(a){var b=this,c,e;return A["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!a.attached&&!a.missingFile){d.next=2;break}return d.abrupt("return",void 0);case 2:a.attached=!0;if(!this.isFontLoadingAPISupported){d.next=19;break}c=a.createNativeFontFace();if(!c){d.next=18;break}this.addNativeFontFace(c);d.prev=7;d.next=
10;return c.loaded;case 10:d.next=18;break;case 12:throw d.prev=12,d.t0=d["catch"](7),this._onUnsupportedFeature({featureId:t.UNSUPPORTED_FEATURES.font}),(0,t.warn)("Failed to load font '".concat(c.family,"': '").concat(d.t0,"'.")),a.disableFontFace=!0,d.t0;case 18:return d.abrupt("return",void 0);case 19:e=a.createFontFaceRule();if(!e){d.next=25;break}this.insertRule(e);if(!this.isSyncFontLoadingSupported){d.next=24;break}return d.abrupt("return",void 0);case 24:return d.abrupt("return",new Promise(function(c){c=
b._queueLoadingCallback(c);b._prepareFontLoadEvent([e],[a],c)}));case 25:return d.abrupt("return",void 0);case 26:case "end":return d.stop()}},r,this,[[7,12]])}));return function(b){return a.apply(this,arguments)}}()},{key:"_queueLoadingCallback",value:function(a){(0,t.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(a,b,c){(0,t.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){(0,t.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},
{key:"isSyncFontLoadingSupported",get:function(){(0,t.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,t.unreachable)("Abstract method `_loadTestFont`.")}}]);return a}();var e;d.FontLoader=e;d.FontLoader=e=function(a){function b(a){B(this,b);a=n(b).call(this,a);if(!a||"object"!==l(a)&&"function"!==typeof a){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=this}a.loadingContext={requests:[],
nextRequestId:0};a.loadTestFontId=0;return a}h(b,a);p(b,[{key:"_queueLoadingCallback",value:function(a){var b=this.loadingContext,c={id:"pdfjs-font-loading-".concat(b.nextRequestId++),done:!1,complete:function(){(0,t.assert)(!c.done,"completeRequest() cannot be called twice.");for(c.done=!0;0<b.requests.length&&b.requests[0].done;){var a=b.requests.shift();setTimeout(a.callback,0)}},callback:a};b.requests.push(c);return c}},{key:"_prepareFontLoadEvent",value:function(a,b,c){function e(a,b){return a.charCodeAt(b)<<
24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function d(a,b,c,e){var d=a.substring(0,b);a=a.substring(b+c);return d+e+a}function f(a,b){r++;30<r?((0,t.warn)("Load test font never loaded."),b()):(g.font="30px "+a,g.fillText(".",0,20),0<g.getImageData(0,0,1,1).data[3]?b():setTimeout(f.bind(null,a,b)))}var k;a=document.createElement("canvas");a.width=1;a.height=1;var g=a.getContext("2d"),r=0;a="lt".concat(Date.now()).concat(this.loadTestFontId++);var C=this._loadTestFont;C=d(C,
976,a.length,a);var y=e(C,16);var h=0;for(k=a.length-3;h<k;h+=4)y=y-1482184792+e(a,h)|0;h<a.length&&(y=y-1482184792+e(a+"XXX",h)|0);C=d(C,16,4,(0,t.string32)(y));h="url(data:font/opentype;base64,".concat(btoa(C),");");h='@font-face {font-family:"'.concat(a,'";src:').concat(h,"}");this.insertRule(h);C=[];h=0;for(k=b.length;h<k;h++)C.push(b[h].loadedName);C.push(a);var l=document.createElement("div");l.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
h=0;for(k=C.length;h<k;++h)b=document.createElement("span"),b.textContent="Hi",b.style.fontFamily=C[h],l.appendChild(b);document.body.appendChild(l);f(a,function(){document.body.removeChild(l);c.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var a="undefined"!==typeof document&&!!document.fonts;if(a&&"undefined"!==typeof navigator){var b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);b&&63>b[1]&&(a=!1)}return(0,t.shadow)(this,"isFontLoadingAPISupported",a)}},{key:"isSyncFontLoadingSupported",
get:function(){var a=!1;if("undefined"===typeof navigator)a=!0;else{var b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);b&&14<=b[1]&&(a=!0)}return(0,t.shadow)(this,"isSyncFontLoadingSupported",a)}},{key:"_loadTestFont",get:function(){return(0,t.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]);
return b}(c);var b={get value(){return(0,t.shadow)(this,"value",(0,t.isEvalSupported)())}};e=function(){function a(b,c){var e=c.isEvalSupported;e=void 0===e?!0:e;var d=c.disableFontFace;d=void 0===d?!1:d;var f=c.ignoreErrors;f=void 0===f?!1:f;var k=c.onUnsupportedFeature;k=void 0===k?null:k;c=c.fontRegistry;c=void 0===c?null:c;B(this,a);this.compiledGlyphs=Object.create(null);for(var w in b)this[w]=b[w];this.isEvalSupported=!1!==e;this.disableFontFace=!0===d;this.ignoreErrors=!0===f;this._onUnsupportedFeature=
k;this.fontRegistry=c}p(a,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var a=new FontFace(this.loadedName,this.data,{});this.fontRegistry&&this.fontRegistry.registerFont(this);return a}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var a=(0,t.bytesToString)(new Uint8Array(this.data));a="url(data:".concat(this.mimetype,";base64,").concat(btoa(a),");");var b='@font-face {font-family:"'.concat(this.loadedName,
'";src:').concat(a,"}");this.fontRegistry&&this.fontRegistry.registerFont(this,a);return b}},{key:"getPathGenerator",value:function(a,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];try{var e=a.get(this.loadedName+"_path_"+c)}catch(q){if(!this.ignoreErrors)throw q;this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:t.UNSUPPORTED_FEATURES.font});(0,t.warn)('getPathGenerator - ignoring character: "'.concat(q,'".'));return this.compiledGlyphs[c]=function(a,b){}}if(this.isEvalSupported&&
b.value){for(var d="",f=0,k=e.length;f<k;f++){var w=e[f];a=void 0!==w.args?w.args.join(","):"";d+="c."+w.cmd+"("+a+");\n"}return this.compiledGlyphs[c]=new Function("c","size",d)}return this.compiledGlyphs[c]=function(a,b){for(var c=0,d=e.length;c<d;c++)w=e[c],"scale"===w.cmd&&(w.args=[b,-b]),a[w.cmd].apply(a,w.args)}}}]);return a}();d.FontFaceObject=e},function(c,d,a){c=Object.create(null);a=a(4);var l="undefined"!==typeof navigator&&navigator.userAgent||"",n=/Trident/.test(l);l=/CriOS/.test(l);
if(n||l)c.disableCreateObjectURL=!0;a()&&(c.disableFontFace=!0,c.nativeImageDecoderSupport="none");d.apiCompatibilityParams=Object.freeze(c)},function(c,d,a){function l(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,
"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,c=a[0],d=a[1],e=a[2],b=a[3],f=a[4];a=a[5];var k=c*b-d*e,g=d*e-c*b;return[b/k,d/g,e/g,c/k,(b*f-e*a)/g,(d*f-c*a)/k]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},
a.translate=function(a,c){var d=this._transformMatrix;d[4]=d[0]*a+d[2]*c+d[4];d[5]=d[1]*a+d[3]*c+d[5];this._originalTranslate(a,c)},a.scale=function(a,c){var d=this._transformMatrix;d[0]*=a;d[1]*=a;d[2]*=c;d[3]*=c;this._originalScale(a,c)},a.transform=function(c,d,g,e,b,f){var k=this._transformMatrix;this._transformMatrix=[k[0]*c+k[2]*d,k[1]*c+k[3]*d,k[0]*g+k[2]*e,k[1]*g+k[3]*e,k[0]*b+k[2]*f+k[4],k[1]*b+k[3]*f+k[5]];a._originalTransform(c,d,g,e,b,f)},a.setTransform=function(c,d,g,e,b,f){this._transformMatrix=
[c,d,g,e,b,f];a._originalSetTransform(c,d,g,e,b,f)},a.rotate=function(a){var c=Math.cos(a),d=Math.sin(a),e=this._transformMatrix;this._transformMatrix=[e[0]*c+e[2]*d,e[1]*c+e[3]*d,e[0]*-d+e[2]*c,e[1]*-d+e[3]*c,e[4],e[5]];this._originalRotate(a)})}function n(a){var c=a.width,d=a.height,g,e=c+1,b=new Uint8Array(e*(d+1)),f=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=c+7&-8,h=a.data,l=new Uint8Array(k*d),r=0;a=0;for(g=h.length;a<g;a++){var m=128;for(var u=h[a];0<m;)l[r++]=u&m?0:255,m>>=1}r=h=
0;0!==l[r]&&(b[0]=1,++h);for(g=1;g<c;g++)l[r]!==l[r+1]&&(b[g]=l[r]?2:1,++h),r++;0!==l[r]&&(b[g]=2,++h);for(a=1;a<d;a++){r=a*k;m=a*e;l[r-k]!==l[r]&&(b[m]=l[r]?1:8,++h);u=(l[r]?4:0)+(l[r-k]?8:0);for(g=1;g<c;g++)u=(u>>2)+(l[r+1]?4:0)+(l[r-k+1]?8:0),f[u]&&(b[m+g]=f[u],++h),r++;l[r-k]!==l[r]&&(b[m+g]=l[r]?2:4,++h);if(1E3<h)return null}r=k*(d-1);m=a*e;0!==l[r]&&(b[m]=8,++h);for(g=1;g<c;g++)l[r]!==l[r+1]&&(b[m+g]=l[r]?4:8,++h),r++;0!==l[r]&&(b[m+g]=4,++h);if(1E3<h)return null;f=new Int32Array([0,e,-1,0,
-e,0,0,0,1]);var w=[];for(a=0;h&&a<=d;a++){k=a*e;for(l=k+c;k<l&&!b[k];)k++;if(k!==l){l=[k%e,a];r=b[k];g=k;do{m=f[r];do k+=m;while(!b[k]);m=b[k];5!==m&&10!==m?(r=m,b[k]=0):(r=m&51*r>>4,b[k]&=r>>2|r<<2);l.push(k%e);l.push(k/e|0);b[k]||--h}while(g!==k);w.push(l);--a}}return function(a){a.save();a.scale(1/c,-1/d);a.translate(0,-d);a.beginPath();for(var b=0,e=w.length;b<e;b++){var f=w[b];a.moveTo(f[0],f[1]);for(var k=2,q=f.length;k<q;k+=2)a.lineTo(f[k],f[k+1])}a.fill();a.beginPath();a.restore()}}Object.defineProperty(d,
"__esModule",{value:!0});d.CanvasGraphics=void 0;var h=a(1),x=a(155),v={get value(){return(0,h.shadow)(v,"value",(0,h.isLittleEndian)())}},g=function(){function a(a){this.canvasFactory=a;this.cache=Object.create(null)}a.prototype={getCanvas:function(a,c,d,e){if(void 0!==this.cache[a]){var b=this.cache[a];this.canvasFactory.reset(b,c,d);b.context.setTransform(1,0,0,1,0,0)}else b=this.canvasFactory.create(c,d),this.cache[a]=b;e&&l(b.context);return b},clear:function(){for(var a in this.cache)this.canvasFactory.destroy(this.cache[a]),
delete this.cache[a]}};return a}(),B=function(){function a(){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=h.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=h.FONT_IDENTITY_MATRIX;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=h.TextRenderingMode.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=
this.activeSMask=null}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,c){this.x=a;this.y=c}};return a}();c=function(){function a(a,b,c,e,d,f){this.ctx=a;this.current=new B;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=b;this.objs=c;this.canvasFactory=e;this.webGLContext=d;this.imageLayer=f;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=
[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new g(this.canvasFactory);a&&l(a);this._cachedGetSinglePixelWidth=null}function c(a,b){if("undefined"!==typeof ImageData&&b instanceof ImageData)a.putImageData(b,0,0);else{var c=b.height,e=b.width,d=c%16;c=(c-d)/16;var f=0===d?c:c+1,k=a.createImageData(e,16),q=0,w=b.data,m=k.data,g,u;if(b.kind===h.ImageKind.GRAYSCALE_1BPP){var r=w.byteLength;m=new Uint32Array(m.buffer,0,m.byteLength>>2);var l=m.length,t=e+7>>3,y=v.value?4278190080:255;
for(g=0;g<f;g++){var n=g<c?16:d;for(u=b=0;u<n;u++){var p=r-q,A=0;p=p>t?e:8*p-7;for(var R=p&-8,T=0,z=0;A<R;A+=8)z=w[q++],m[b++]=z&128?4294967295:y,m[b++]=z&64?4294967295:y,m[b++]=z&32?4294967295:y,m[b++]=z&16?4294967295:y,m[b++]=z&8?4294967295:y,m[b++]=z&4?4294967295:y,m[b++]=z&2?4294967295:y,m[b++]=z&1?4294967295:y;for(;A<p;A++)0===T&&(z=w[q++],T=128),m[b++]=z&T?4294967295:y,T>>=1}for(;b<l;)m[b++]=0;a.putImageData(k,0,16*g)}}else if(b.kind===h.ImageKind.RGBA_32BPP){u=0;n=64*e;for(g=0;g<c;g++)m.set(w.subarray(q,
q+n)),q+=n,a.putImageData(k,0,u),u+=16;g<f&&(m.set(w.subarray(q,q+e*d*4)),a.putImageData(k,0,u))}else if(b.kind===h.ImageKind.RGB_24BPP)for(n=16*e,g=0;g<f;g++){g>=c&&(n=d,n*=e);b=0;for(u=n;u--;)m[b++]=w[q++],m[b++]=w[q++],m[b++]=w[q++],m[b++]=255;a.putImageData(k,0,16*g)}else throw Error("bad image kind: ".concat(b.kind));}}function d(a,b){var c=b.height,e=b.width,d=c%16;c=(c-d)/16;var f=0===d?c:c+1,k=a.createImageData(e,16),q=0;b=b.data;for(var w=k.data,m=0;m<f;m++){for(var g=m<c?16:d,u=3,r=0;r<
g;r++)for(var h=0,l=0;l<e;l++){if(!h){var t=b[q++];h=128}w[u]=t&h?0:255;u+=4;h>>=1}a.putImageData(k,0,16*m)}}function t(a,b){for(var c="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),e=0,d=c.length;e<d;e++){var f=c[e];void 0!==a[f]&&(b[f]=a[f])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function e(a){a.strokeStyle="#000000";a.fillStyle="#000000";a.fillRule="nonzero";a.globalAlpha=
1;a.lineWidth=1;a.lineCap="butt";a.lineJoin="miter";a.miterLimit=10;a.globalCompositeOperation="source-over";a.font="10px sans-serif";void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function b(a,b,c){for(var e=a.length,d=1/255,f=3;f<e;f+=4)b[f]=b[f]*(c?c[a[f]]:a[f])*d|0}function f(a,b,c){for(var e=a.length,d=3;d<e;d+=4){var f=77*a[d-3]+152*a[d-2]+28*a[d-1];b[d]=c?b[d]*c[f>>8]>>8:b[d]*f>>16}}function k(a,c,e,d){var k=c.canvas,m=c.context;a.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,
c.offsetY);var q=c.backdrop||null;if(!c.transferMap&&d.isEnabled)e=d.composeSMask({layer:e.canvas,mask:k,properties:{subtype:c.subtype,backdrop:q}}),a.setTransform(1,0,0,1,0,0),a.drawImage(e,c.offsetX,c.offsetY);else{d=k.width;var g=k.height,w=c.transferMap,u=!!q,r=u?q[0]:0,h=u?q[1]:0;q=u?q[2]:0;c="Luminosity"===c.subtype?f:b;for(var l=Math.min(g,Math.ceil(1048576/d)),t=0;t<g;t+=l){var y=Math.min(l,g-t),F=m.getImageData(0,t,d,y);y=e.getImageData(0,t,d,y);if(u)for(var J=F.data,n=r,p=h,R=q,T=J.length,
A=3;A<T;A+=4){var v=J[A];if(0===v)J[A-3]=n,J[A-2]=p,J[A-1]=R;else if(255>v){var z=255-v;J[A-3]=J[A-3]*v+n*z>>8;J[A-2]=J[A-2]*v+p*z>>8;J[A-1]=J[A-1]*v+R*z>>8}}c(F.data,y.data,w);m.putImageData(y,0,t)}a.drawImage(k,0,0)}}var y=["butt","round","square"],D=["miter","round","bevel"],r={},m={};a.prototype={beginDrawing:function(a){var b=a.transform,c=a.viewport,d=a.transparency;d=void 0===d?!1:d;a=a.background;a=void 0===a?null:a;var f=this.ctx.canvas.width,k=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=
a||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,f,k);this.ctx.restore();d&&(d=this.cachedCanvases.getCanvas("transparent",f,k,!0),this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();e(this.ctx);b&&this.ctx.transform.apply(this.ctx,b);this.ctx.transform.apply(this.ctx,c.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},
executeOperatorList:function(a,b,c,e){var d=a.argsArray;a=a.fnArray;b=b||0;var f=d.length;if(f===b)return b;for(var k=10<f-b&&"function"===typeof c,m=k?Date.now()+15:0,q=0,g=this.commonObjs,w=this.objs,u;;){if(void 0!==e&&b===e.nextBreakPoint)return e.breakIt(b,c),b;u=a[b];if(u!==h.OPS.dependency)this[u].apply(this,d[b]);else{u=!0;var r=!1,l=void 0;try{for(var t=d[b][Symbol.iterator](),y;!(u=(y=t.next()).done);u=!0){var F=y.value,J=F.startsWith("g_")?g:w;if(!J.has(F))return J.get(F,c),b}}catch(W){r=
!0,l=W}finally{try{if(!u&&null!=t["return"])t["return"]()}finally{if(r)throw l;}}}b++;if(b===f)return b;if(k&&10<++q){if(Date.now()>m)return c(),b;q=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();this.webGLContext.clear();
this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=y[a]},setLineJoin:function(a){this.ctx.lineJoin=D[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(a),c.lineDashOffset=b)},setRenderingIntent:function(a){},setFlatness:function(a){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var e=a[b],d=e[1];switch(e[0]){case "LW":this.setLineWidth(d);
break;case "LC":this.setLineCap(d);break;case "LJ":this.setLineJoin(d);break;case "ML":this.setMiterLimit(d);break;case "D":this.setDash(d[0],d[1]);break;case "RI":this.setRenderingIntent(d);break;case "FL":this.setFlatness(d);break;case "Font":this.setFont(d[0],d[1]);break;case "CA":this.current.strokeAlpha=e[1];break;case "ca":this.current.fillAlpha=e[1];this.ctx.globalAlpha=e[1];break;case "BM":this.ctx.globalCompositeOperation=d;break;case "SMask":this.current.activeSMask&&(0<this.stateStack.length&&
this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=d?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),c=this.ctx,e=c.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/a.scaleX,1/a.scaleY);b.translate(-a.offsetX,
-a.offsetY);b.transform.apply(b,e);a.startTransformInverse=b.mozCurrentTransformInverse;t(c,b);this.ctx=b;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();k(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();this.ctx.save();t(a,this.ctx);this.current.resumeSMaskCtx=a;var b=h.Util.transform(this.current.activeSMask.startTransformInverse,
a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,b);a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();k(this.ctx,this.current.activeSMask,a,this.webGLContext);this.ctx.restore();t(a,this.ctx);a=h.Util.transform(this.current.activeSMask.startTransformInverse,
a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,a)},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),
this._cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,b,c,e,d,f){this.ctx.transform(a,b,c,e,d,f);this._cachedGetSinglePixelWidth=null},constructPath:function(a,b){for(var c=this.ctx,e=this.current,d=e.x,f=e.y,k=0,m=0,g=a.length;k<g;k++)switch(a[k]|0){case h.OPS.rectangle:d=b[m++];f=b[m++];var q=b[m++],w=b[m++];0===q&&(q=this.getSinglePixelWidth());0===w&&(w=this.getSinglePixelWidth());q=d+q;w=f+w;this.ctx.moveTo(d,f);this.ctx.lineTo(q,f);this.ctx.lineTo(q,w);this.ctx.lineTo(d,
w);this.ctx.lineTo(d,f);this.ctx.closePath();break;case h.OPS.moveTo:d=b[m++];f=b[m++];c.moveTo(d,f);break;case h.OPS.lineTo:d=b[m++];f=b[m++];c.lineTo(d,f);break;case h.OPS.curveTo:d=b[m+4];f=b[m+5];c.bezierCurveTo(b[m],b[m+1],b[m+2],b[m+3],d,f);m+=6;break;case h.OPS.curveTo2:c.bezierCurveTo(d,f,b[m],b[m+1],b[m+2],b[m+3]);d=b[m+2];f=b[m+3];m+=4;break;case h.OPS.curveTo3:d=b[m+2];f=b[m+3];c.bezierCurveTo(b[m],b[m+1],d,f,d,f);m+=4;break;case h.OPS.closePath:c.closePath()}e.setCurrentPoint(d,f)},closePath:function(){this.ctx.closePath()},
stroke:function(a){a="undefined"!==typeof a?a:!0;var b=this.ctx,c=this.current.strokeColor;b.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth);b.globalAlpha=this.current.strokeAlpha;c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke();a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){a="undefined"!==typeof a?a:!0;var b=
this.ctx,c=this.current.fillColor,e=!1;this.current.patternFill&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=c.getPattern(b,this),e=!0);this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill();e&&b.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();
this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=r},eoClip:function(){this.pendingClip=m},beginText:function(){this.current.textMatrix=h.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)b.beginPath();else{b.save();b.beginPath();for(var c=
0;c<a.length;c++){var e=a[c];b.setTransform.apply(b,e.transform);b.translate(e.x,e.y);e.addToPath(b,e.fontSize)}b.restore();b.clip();b.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),e=this.current;if(!c)throw Error("Can't find font for ".concat(a));
e.fontMatrix=c.fontMatrix?c.fontMatrix:h.FONT_IDENTITY_MATRIX;0!==e.fontMatrix[0]&&0!==e.fontMatrix[3]||(0,h.warn)("Invalid font matrix for font "+a);0>b?(b=-b,e.fontDirection=-1):e.fontDirection=1;this.current.font=c;this.current.fontSize=b;if(!c.isType3Font){a=c.black?"900":c.bold?"bold":"normal";e=c.italic?"italic":"normal";c='"'.concat(c.loadedName||"sans-serif",'", ').concat(c.fallbackName);var d=16>b?16:100<b?100:b;this.current.fontSizeScale=b/d;this.ctx.font="".concat(e," ").concat(a," ").concat(d,
"px ").concat(c)}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},setTextMatrix:function(a,b,c,e,d,f){this.current.textMatrix=[a,b,c,e,d,f];this.current.textMatrixScale=Math.sqrt(a*a+b*b);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},
nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c,e){var d=this.ctx,f=this.current,k=f.font,m=f.textRenderingMode,g=f.fontSize/f.fontSizeScale,q=m&h.TextRenderingMode.FILL_STROKE_MASK;m=!!(m&h.TextRenderingMode.ADD_TO_PATH_FLAG);f=f.patternFill&&k.data;if(k.disableFontFace||m||f)var w=k.getPathGenerator(this.commonObjs,a);k.disableFontFace||f?(d.save(),d.translate(b,c),d.beginPath(),w(d,g),e&&d.setTransform.apply(d,e),q!==h.TextRenderingMode.FILL&&q!==h.TextRenderingMode.FILL_STROKE||
d.fill(),q!==h.TextRenderingMode.STROKE&&q!==h.TextRenderingMode.FILL_STROKE||d.stroke(),d.restore()):(q!==h.TextRenderingMode.FILL&&q!==h.TextRenderingMode.FILL_STROKE||d.fillText(a,b,c),q!==h.TextRenderingMode.STROKE&&q!==h.TextRenderingMode.FILL_STROKE||d.strokeText(a,b,c));m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:b,y:c,fontSize:g,addToPath:w})},get isFontSubpixelAAEnabled(){var a=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;
a.scale(1.5,1);a.fillText("I",0,10);a=a.getImageData(0,0,10,10).data;for(var b=!1,c=3;c<a.length;c+=4)if(0<a[c]&&255>a[c]){b=!0;break}return(0,h.shadow)(this,"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var e=b.fontSize;if(0!==e){var d=this.ctx,f=b.fontSizeScale,k=b.charSpacing,m=b.wordSpacing,g=b.fontDirection,w=b.textHScale*g,u=a.length,r=c.vertical,l=r?1:-1,t=c.defaultVMetrics,y=e*b.fontMatrix[0],n=b.textRenderingMode===
h.TextRenderingMode.FILL&&!c.disableFontFace&&!b.patternFill;d.save();if(b.patternFill){d.save();var p=b.fillColor.getPattern(d,this);var A=d.mozCurrentTransform;d.restore();d.fillStyle=p}d.transform.apply(d,b.textMatrix);d.translate(b.x,b.y+b.textRise);0<g?d.scale(w,-1):d.scale(w,1);p=b.lineWidth;var v=b.textMatrixScale;if(0===v||0===p){if(v=b.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK,v===h.TextRenderingMode.STROKE||v===h.TextRenderingMode.FILL_STROKE)this._cachedGetSinglePixelWidth=
null,p=.65*this.getSinglePixelWidth()}else p/=v;1!==f&&(d.scale(f,f),p/=f);d.lineWidth=p;for(v=p=0;v<u;++v){var R=a[v];if((0,h.isNum)(R))p+=l*R*e/1E3;else{var T=!1,z=(R.isSpace?m:0)+k,D=R.fontChar,x=R.accent,B=R.width;if(r){var X=R.vmetric||t;var S=R.vmetric?X[1]:.5*B;S=-S*y;var E=X[2]*y;B=X?-X[0]:B;X=S/f;E=(p+E)/f}else X=p/f,E=0;c.remeasure&&0<B&&(S=1E3*d.measureText(D).width/e*f,B<S&&this.isFontSubpixelAAEnabled?(S=B/S,T=!0,d.save(),d.scale(S,1),X/=S):B!==S&&(X+=(B-S)/2E3*e/f));if(R.isInFont||c.missingFile)n&&
!x?d.fillText(D,X,E):(this.paintChar(D,X,E,A),x&&(R=X+x.offset.x/f,D=E-x.offset.y/f,this.paintChar(x.fontChar,R,D,A)));p+=B*y+z*g;T&&d.restore()}}r?b.y-=p*w:b.x+=p*w;d.restore()}},showType3Text:function(a){var b=this.ctx,c=this.current,e=c.font,d=c.fontSize,f=c.fontDirection,k=e.vertical?1:-1,m=c.charSpacing,g=c.wordSpacing,w=c.textHScale*f,u=c.fontMatrix||h.FONT_IDENTITY_MATRIX,r=a.length;if(c.textRenderingMode!==h.TextRenderingMode.INVISIBLE&&0!==d){this._cachedGetSinglePixelWidth=null;b.save();
b.transform.apply(b,c.textMatrix);b.translate(c.x,c.y);b.scale(w,f);for(f=0;f<r;++f){var l=a[f];if((0,h.isNum)(l))l=k*l*d/1E3,this.ctx.translate(l,0),c.x+=l*w;else{var t=(l.isSpace?g:0)+m,y=e.charProcOperatorList[l.operatorListId];y?(this.processingType3=l,this.save(),b.scale(d,d),b.transform.apply(b,u),this.executeOperatorList(y),this.restore(),l=h.Util.applyTransform([l.width,0],u)[0]*d+t,b.translate(l,0),c.x+=l*w):(0,h.warn)('Type3 character "'.concat(l.operatorListId,'" is not available.'))}}b.restore();
this.processingType3=null}},setCharWidth:function(a,b){},setCharWidthAndBounds:function(a,b,c,e,d,f){this.ctx.rect(c,e,d-c,f-e);this.clip();this.endPath()},getColorN_Pattern:function(b){var c=this;if("TilingPattern"===b[0]){var e=b[1],d=this.baseTransform||this.ctx.mozCurrentTransform.slice();b=new x.TilingPattern(b,e,this.ctx,{createCanvasGraphics:function(b){return new a(b,c.commonObjs,c.objs,c.canvasFactory,c.webGLContext)}},d)}else b=(0,x.getShadingPatternFromIR)(b);return b},setStrokeColorN:function(){this.current.strokeColor=
this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){a=h.Util.makeCssRgb(a,b,c);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,b,c){a=h.Util.makeCssRgb(a,b,c);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save();a=(0,x.getShadingPatternFromIR)(a);b.fillStyle=a.getPattern(b,
this,!0);var c=b.mozCurrentTransformInverse;if(c){b=b.canvas;var e=b.width,d=b.height;b=h.Util.applyTransform([0,0],c);a=h.Util.applyTransform([0,d],c);var f=h.Util.applyTransform([e,0],c);c=h.Util.applyTransform([e,d],c);e=Math.min(b[0],a[0],f[0],c[0]);d=Math.min(b[1],a[1],f[1],c[1]);this.ctx.fillRect(e,d,Math.max(b[0],a[0],f[0],c[0])-e,Math.max(b[1],a[1],f[1],c[1])-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){(0,h.unreachable)("Should not call beginInlineImage")},
beginImageData:function(){(0,h.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){this.save();this.baseTransformStack.push(this.baseTransform);Array.isArray(a)&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;b&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;
a.isolated||(0,h.info)("TODO: Support non-isolated groups.");a.knockout&&(0,h.warn)("Knockout groups not supported.");var c=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);if(!a.bbox)throw Error("Bounding box is required.");var e=h.Util.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform);e=h.Util.intersect(e,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0];var d=Math.floor(e[0]),f=Math.floor(e[1]),k=Math.max(Math.ceil(e[2])-d,1),m=Math.max(Math.ceil(e[3])-f,1),g=e=1;4096<k&&(e=
k/4096,k=4096);4096<m&&(g=m/4096,m=4096);var u="groupAt"+this.groupLevel;a.smask&&(u+="_smask_"+this.smaskCounter++%2);k=this.cachedCanvases.getCanvas(u,k,m,!0);m=k.context;m.scale(1/e,1/g);m.translate(-d,-f);m.transform.apply(m,c);a.smask?this.smaskStack.push({canvas:k.canvas,context:m,offsetX:d,offsetY:f,scaleX:e,scaleY:g,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(d,f),b.scale(e,g));
t(b,m);this.ctx=m;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.baseTransform&&this.ctx.setTransform.apply(this.ctx,
this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){this.save();e(this.ctx);this.current=new B;Array.isArray(a)&&4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,b);this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var e=this.processingType3?this.commonObjs.get(a):this.objs.get(a);if(e){this.save();var d=this.ctx;d.scale(1/b,-1/c);d.drawImage(e,
0,0,e.width,e.height,0,-c,b,c);this.imageLayer&&(e=d.mozCurrentTransformInverse,d=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:d[0],top:d[1],width:b/e[0],height:c/e[3]}));this.restore()}else(0,h.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,c=a.width,e=a.height,f=this.current.fillColor,k=this.current.patternFill,m=this.processingType3;m&&void 0===m.compiled&&(m.compiled=1E3>=c&&1E3>=e?n({data:a.data,width:c,height:e}):null);m&&
m.compiled?m.compiled(b):(b=this.cachedCanvases.getCanvas("maskCanvas",c,e),m=b.context,m.save(),d(m,a),m.globalCompositeOperation="source-in",m.fillStyle=k?f.getPattern(m,this):f,m.fillRect(0,0,c,e),m.restore(),this.paintInlineImageXObject(b.canvas))},paintImageMaskXObjectRepeat:function(a,b,c,e){var f=a.width,k=a.height,m=this.current.fillColor,g=this.current.patternFill,u=this.cachedCanvases.getCanvas("maskCanvas",f,k),r=u.context;r.save();d(r,a);r.globalCompositeOperation="source-in";r.fillStyle=
g?m.getPattern(r,this):m;r.fillRect(0,0,f,k);r.restore();a=this.ctx;m=0;for(g=e.length;m<g;m+=2)a.save(),a.transform(b,0,0,c,e[m],e[m+1]),a.scale(1,-1),a.drawImage(u.canvas,0,0,f,k,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,c=this.current.fillColor,e=this.current.patternFill,f=0,k=a.length;f<k;f++){var m=a[f],g=m.width,u=m.height,r=this.cachedCanvases.getCanvas("maskCanvas",g,u),h=r.context;h.save();d(h,m);h.globalCompositeOperation="source-in";h.fillStyle=e?
c.getPattern(h,this):c;h.fillRect(0,0,g,u);h.restore();b.save();b.transform.apply(b,m.transform);b.scale(1,-1);b.drawImage(r.canvas,0,0,g,u,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.processingType3?this.commonObjs.get(a):this.objs.get(a))?this.paintInlineImageXObject(a):(0,h.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,e){if(a=this.processingType3?this.commonObjs.get(a):this.objs.get(a)){for(var d=a.width,f=a.height,k=[],m=0,g=e.length;m<g;m+=
2)k.push({transform:[b,0,0,c,e[m],e[m+1]],x:0,y:0,w:d,h:f});this.paintInlineImageXObjectGroup(a,k)}else(0,h.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var b=a.width,e=a.height,d=this.ctx;this.save();d.scale(1/b,-1/e);var f=d.mozCurrentTransformInverse,k=f[0],m=f[1];k=Math.max(Math.sqrt(k*k+m*m),1);m=f[2];var g=f[3];m=Math.max(Math.sqrt(m*m+g*g),1);if("function"===typeof HTMLElement&&a instanceof HTMLElement||!a.data)g=a;else{var u=this.cachedCanvases.getCanvas("inlineImage",
b,e);var r=u.context;c(r,a);g=u.canvas}for(var h=b,l=e,t="prescale1";2<k&&1<h||2<m&&1<l;){var w=h,y=l;2<k&&1<h&&(w=Math.ceil(h/2),k/=h/w);2<m&&1<l&&(y=Math.ceil(l/2),m/=l/y);u=this.cachedCanvases.getCanvas(t,w,y);r=u.context;r.clearRect(0,0,w,y);r.drawImage(g,0,0,h,l,0,0,w,y);g=u.canvas;h=w;l=y;t="prescale1"===t?"prescale2":"prescale1"}d.drawImage(g,0,0,h,l,0,-e,b,e);this.imageLayer&&(d=this.getCanvasPosition(0,-e),this.imageLayer.appendImage({imgData:a,left:d[0],top:d[1],width:b/f[0],height:e/f[3]}));
this.restore()},paintInlineImageXObjectGroup:function(a,b){var e=this.ctx,d=a.width,f=a.height,k=this.cachedCanvases.getCanvas("inlineImage",d,f);c(k.context,a);for(var m=0,g=b.length;m<g;m++){var u=b[m];e.save();e.transform.apply(e,u.transform);e.scale(1,-1);e.drawImage(k.canvas,u.x,u.y,u.w,u.h,0,-1,1,1);this.imageLayer&&(u=this.getCanvasPosition(u.x,u.y),this.imageLayer.appendImage({imgData:a,left:u[0],top:u[1],width:d,height:f}));e.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,
0,1,1)},paintXObject:function(){(0,h.warn)("Unsupported 'paintXObject' command.")},markPoint:function(a){},markPointProps:function(a,b){},beginMarkedContent:function(a){},beginMarkedContentProps:function(a,b){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===m?a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(a){null===this._cachedGetSinglePixelWidth&&
(a=this.ctx.mozCurrentTransformInverse,this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])));return this._cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var u in h.OPS)a.prototype[h.OPS[u]]=a.prototype[u];return a}();d.CanvasGraphics=c},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.getShadingPatternFromIR=function(a){var c=n[a[0]];if(!c)throw Error("Unknown IR type: ".concat(a[0]));
return c.fromIR(a)};d.TilingPattern=void 0;var l=a(1),n={RadialAxial:{fromIR:function(a){var c=a[1],d=a[2],h=a[3],l=a[4],n=a[5],A=a[6];return{type:"Pattern",getPattern:function(a){var e;"axial"===c?e=a.createLinearGradient(h[0],h[1],l[0],l[1]):"radial"===c&&(e=a.createRadialGradient(h[0],h[1],n,l[0],l[1],A));a=0;for(var b=d.length;a<b;++a){var f=d[a];e.addColorStop(f[0],f[1])}return e}}}}},h=function(){function a(a,c,d,h,l,n,t,e){var b=c.coords,f=c.colors,k=a.data;a=4*a.width;if(b[d+1]>b[h+1]){var g=
d;d=h;h=g;g=n;n=t;t=g}b[h+1]>b[l+1]&&(g=h,h=l,l=g,g=t,t=e,e=g);b[d+1]>b[h+1]&&(g=d,d=h,h=g,g=n,n=t,t=g);g=(b[d]+c.offsetX)*c.scaleX;d=(b[d+1]+c.offsetY)*c.scaleY;var p=(b[h]+c.offsetX)*c.scaleX;h=(b[h+1]+c.offsetY)*c.scaleY;var r=(b[l]+c.offsetX)*c.scaleX;c=(b[l+1]+c.offsetY)*c.scaleY;if(!(d>=c)){l=f[n];b=f[n+1];n=f[n+2];var m=f[t],u=f[t+1];t=f[t+2];var w=f[e],q=f[e+1];e=f[e+2];f=Math.round(c);for(var A,J,C,v,z,x,B,L,I,O=Math.round(d);O<=f;O++){O<h?(I=O<d?0:d===h?1:(d-O)/(d-h),A=g-(g-p)*I,J=l-(l-
m)*I,C=b-(b-u)*I,v=n-(n-t)*I):(I=O>c?1:h===c?0:(h-O)/(h-c),A=p-(p-r)*I,J=m-(m-w)*I,C=u-(u-q)*I,v=t-(t-e)*I);I=O<d?0:O>c?1:(d-O)/(d-c);z=g-(g-r)*I;x=l-(l-w)*I;B=b-(b-q)*I;L=n-(n-e)*I;I=Math.round(Math.min(A,z));for(var K=Math.round(Math.max(A,z)),U=a*O+4*I,V=I;V<=K;V++)I=(A-V)/(A-z),I=0>I?0:1<I?1:I,k[U++]=J-(J-x)*I|0,k[U++]=C-(C-B)*I|0,k[U++]=v-(v-L)*I|0,k[U++]=255}}}return function(c,d,h,l,n,A,t,e){var b=Math.floor(c[0]),f=Math.floor(c[1]),k=Math.ceil(c[2])-b;c=Math.ceil(c[3])-f;var g=Math.min(Math.ceil(Math.abs(k*
d[0]*1.1)),3E3);d=Math.min(Math.ceil(Math.abs(c*d[1]*1.1)),3E3);k/=g;c/=d;h={coords:h,colors:l,offsetX:-b,offsetY:-f,scaleX:1/k,scaleY:1/c};l=g+4;var p=d+4;if(e.isEnabled)n=e.drawFigures({width:g,height:d,backgroundColor:A,figures:n,context:h}),t=t.getCanvas("mesh",l,p,!1),t.context.drawImage(n,2,2);else{t=t.getCanvas("mesh",l,p,!1);e=t.context;d=e.createImageData(g,d);if(A)for(p=d.data,g=0,l=p.length;g<l;g+=4)p[g]=A[0],p[g+1]=A[1],p[g+2]=A[2],p[g+3]=255;for(g=0;g<n.length;g++){A=d;var r=n[g];l=h;
p=r.coords;var m=r.colors;switch(r.type){case "lattice":var u=r.verticesPerRow;var w=Math.floor(p.length/u)-1,q=u-1;for(r=0;r<w;r++)for(var v=r*u,J=0;J<q;J++,v++)a(A,l,p[v],p[v+1],p[v+u],m[v],m[v+1],m[v+u]),a(A,l,p[v+u+1],p[v+1],p[v+u],m[v+u+1],m[v+1],m[v+u]);break;case "triangles":r=0;for(u=p.length;r<u;r+=3)a(A,l,p[r],p[r+1],p[r+2],m[r],m[r+1],m[r+2]);break;default:throw Error("illegal figure");}}e.putImageData(d,2,2)}n=t.canvas;return{canvas:n,offsetX:b-2*k,offsetY:f-2*c,scaleX:k,scaleY:c}}}();
n.Mesh={fromIR:function(a){var c=a[2],d=a[3],n=a[4],z=a[5],p=a[6],A=a[8];return{type:"Pattern",getPattern:function(a,e,b){if(b)var f=l.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(f=l.Util.singularValueDecompose2dScale(e.baseTransform),p){var k=l.Util.singularValueDecompose2dScale(p);f=[f[0]*k[0],f[1]*k[1]]}f=h(z,f,c,d,n,b?null:A,e.cachedCanvases,e.webGLContext);b||(a.setTransform.apply(a,e.baseTransform),p&&a.transform.apply(a,p));a.translate(f.offsetX,f.offsetY);a.scale(f.scaleX,
f.scaleY);return a.createPattern(f.canvas,"no-repeat")}}}};n.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};c=function(){function a(a,c,d,h,l){this.operatorList=a[2];this.matrix=a[3]||[1,0,0,1,0,0];this.bbox=a[4];this.xstep=a[5];this.ystep=a[6];this.paintType=a[7];this.tilingType=a[8];this.color=c;this.canvasGraphicsFactory=h;this.baseTransform=l;this.type="Pattern";this.ctx=d}a.prototype={createPatternCanvas:function(a){var c=this.operatorList,d=this.bbox,
h=this.xstep,n=this.ystep,A=this.paintType,t=this.tilingType,e=this.color,b=this.canvasGraphicsFactory;(0,l.info)("TilingType: "+t);t=d[0];var f=d[1],k=d[2],y=d[3],v=l.Util.singularValueDecompose2dScale(this.matrix),r=l.Util.singularValueDecompose2dScale(this.baseTransform);v=[v[0]*r[0],v[1]*r[1]];h=this.getSizeAndScale(h,this.ctx.canvas.width,v[0]);n=this.getSizeAndScale(n,this.ctx.canvas.height,v[1]);v=a.cachedCanvases.getCanvas("pattern",h.size,n.size,!0);b=b.createCanvasGraphics(v.context);b.groupLevel=
a.groupLevel;this.setFillAndStrokeStyleToContext(b,A,e);b.transform(h.scale,0,0,n.scale,0,0);b.transform(1,0,0,1,-t,-f);this.clipBbox(b,d,t,f,k,y);b.executeOperatorList(c);this.ctx.transform(1,0,0,1,t,f);this.ctx.scale(1/h.scale,1/n.scale);return v.canvas},getSizeAndScale:function(a,c,d){a=Math.abs(a);c=Math.max(3E3,c);var g=Math.ceil(a*d);g>=c?g=c:d=g/a;return{scale:d,size:g}},clipBbox:function(a,c,d,h,l,n){Array.isArray(c)&&4===c.length&&(a.ctx.rect(d,h,l-d,n-h),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,
c,d){var g=a.ctx;a=a.current;switch(c){case 1:c=this.ctx;g.fillStyle=c.fillStyle;g.strokeStyle=c.strokeStyle;a.fillColor=c.fillStyle;a.strokeColor=c.strokeStyle;break;case 2:c=l.Util.makeCssRgb(d[0],d[1],d[2]);g.fillStyle=c;g.strokeStyle=c;a.fillColor=c;a.strokeColor=c;break;default:throw new l.FormatError("Unsupported paint type: ".concat(c));}},getPattern:function(a,c){a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);c=this.createPatternCanvas(c);return a.createPattern(c,
"repeat")}};return a}();d.TilingPattern=c},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.GlobalWorkerOptions=void 0;c=Object.create(null);d.GlobalWorkerOptions=c;c.workerPort=void 0===c.workerPort?null:c.workerPort;c.workerSrc=void 0===c.workerSrc?"":c.workerSrc},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":typeof a};return l(a)}function n(a,b,c,d,g,h,r){try{var e=a[h](r),f=e.value}catch(w){c(w);return}e.done?b(f):Promise.resolve(f).then(d,g)}function h(a){return function(){var b=this,c=arguments;return new Promise(function(e,d){function f(a){n(m,e,d,f,k,"next",a)}function k(a){n(m,e,d,f,k,"throw",a)}var m=a.apply(b,c);f(void 0)})}}function x(a,b){return v.apply(this,arguments)}function v(){v=h(A["default"].mark(function k(a,c){var b,d=arguments;return A["default"].wrap(function(f){for(;;)switch(f.prev=
f.next){case 0:b=2<d.length&&void 0!==d[2]?d[2]:null;if(a){f.next=3;break}return f.abrupt("return",void 0);case 3:return f.abrupt("return",a.apply(b,c));case 4:case "end":return f.stop()}},k)}));return v.apply(this,arguments)}function g(a){if("object"!==l(a))return a;switch(a.name){case "AbortException":return new t.AbortException(a.message);case "MissingPDFException":return new t.MissingPDFException(a.message);case "UnexpectedResponseException":return new t.UnexpectedResponseException(a.message,
a.status);default:return new t.UnknownErrorException(a.message,a.details)}}function B(a,b,c){b?a.resolve():a.reject(c)}function z(a){return Promise.resolve(a)["catch"](function(){})}function p(a,b,c){var e=this;this.sourceName=a;this.targetName=b;this.comObj=c;this.streamId=this.callbackId=1;this.postMessageTransfers=!0;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var d=this.callbacksCapabilities=Object.create(null),f=this.actionHandler=Object.create(null);this._onComObjOnMessage=
function(a){var b=a.data;if(b.targetName===e.sourceName)if(b.stream)e._processStreamMessage(b);else if(b.isReply)if(a=b.callbackId,b.callbackId in d){var k=d[a];delete d[a];"error"in b?k.reject(g(b.error)):k.resolve(b.data)}else throw Error("Cannot resolve callback ".concat(a));else if(b.action in f){var h=f[b.action];if(b.callbackId){var r=e.sourceName,l=b.sourceName;Promise.resolve().then(function(){return h[0].call(h[1],b.data)}).then(function(a){c.postMessage({sourceName:r,targetName:l,isReply:!0,
callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:r,targetName:l,isReply:!0,callbackId:b.callbackId,error:!(a instanceof Error)||a instanceof t.AbortException||a instanceof t.MissingPDFException||a instanceof t.UnexpectedResponseException||a instanceof t.UnknownErrorException?a:new t.UnknownErrorException(a.message,a.toString())})})}else b.streamId?e._createStreamSink(b):h[0].call(h[1],b.data)}else throw Error("Unknown action from worker: ".concat(b.action));};c.addEventListener("message",
this._onComObjOnMessage)}Object.defineProperty(d,"__esModule",{value:!0});d.MessageHandler=p;var A=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),t=a(1);p.prototype={on:function(a,b,c){var e=this.actionHandler;if(e[a])throw Error('There is already an actionName called "'.concat(a,'"'));e[a]=[b,c]},send:function(a,b,c){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},c)},sendWithPromise:function(a,b,c){var e=this.callbackId++;a={sourceName:this.sourceName,
targetName:this.targetName,action:a,data:b,callbackId:e};b=(0,t.createPromiseCapability)();this.callbacksCapabilities[e]=b;try{this.postMessage(a,c)}catch(y){b.reject(y)}return b.promise},sendWithStream:function(a,b,c,d){var e=this,f=this.streamId++,k=this.sourceName,m=this.targetName;return new t.ReadableStream({start:function(c){var d=(0,t.createPromiseCapability)();e.streamControllers[f]={controller:c,startCall:d,isClosed:!1};e.postMessage({sourceName:k,targetName:m,action:a,streamId:f,data:b,
desiredSize:c.desiredSize});return d.promise},pull:function(a){var b=(0,t.createPromiseCapability)();e.streamControllers[f].pullCall=b;e.postMessage({sourceName:k,targetName:m,stream:"pull",streamId:f,desiredSize:a.desiredSize});return b.promise},cancel:function(a){var b=(0,t.createPromiseCapability)();e.streamControllers[f].cancelCall=b;e.streamControllers[f].isClosed=!0;e.postMessage({sourceName:k,targetName:m,stream:"cancel",reason:a,streamId:f});return b.promise}},c)},_createStreamSink:function(a){var b=
this,c=this,e=this.actionHandler[a.action],d=a.streamId,g=a.desiredSize,h=this.sourceName,m=a.sourceName,u=function(a){b.postMessage({sourceName:h,targetName:m,stream:a.stream,streamId:d,chunk:a.chunk,success:a.success,reason:a.reason},a.transfers)};g={enqueue:function(a){var b=2<arguments.length?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;0<c&&0>=this.desiredSize&&(this.sinkCapability=(0,t.createPromiseCapability)(),
this.ready=this.sinkCapability.promise);u({stream:"enqueue",chunk:a,transfers:b})}},close:function(){this.isCancelled||(this.isCancelled=!0,u({stream:"close"}),delete c.streamSinks[d])},error:function(a){this.isCancelled||(this.isCancelled=!0,u({stream:"error",reason:a}))},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:g,ready:null};g.sinkCapability.resolve();g.ready=g.sinkCapability.promise;this.streamSinks[d]=g;x(e[0],[a.data,g],e[1]).then(function(){u({stream:"start_complete",
success:!0})},function(a){u({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var b=this,c=this.sourceName,d=a.sourceName,e=a.streamId,h=function(a){b.comObj.postMessage({sourceName:c,targetName:d,stream:a.stream,success:a.success,streamId:e,reason:a.reason})},r=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&z(a.promise)})).then(function(){delete b.streamControllers[a.streamId]})};
switch(a.stream){case "start_complete":B(this.streamControllers[a.streamId].startCall,a.success,g(a.reason));break;case "pull_complete":B(this.streamControllers[a.streamId].pullCall,a.success,g(a.reason));break;case "pull":if(!this.streamSinks[a.streamId]){h({stream:"pull_complete",success:!0});break}0>=this.streamSinks[a.streamId].desiredSize&&0<a.desiredSize&&this.streamSinks[a.streamId].sinkCapability.resolve();this.streamSinks[a.streamId].desiredSize=a.desiredSize;x(this.streamSinks[a.streamId].onPull).then(function(){h({stream:"pull_complete",
success:!0})},function(a){h({stream:"pull_complete",success:!1,reason:a})});break;case "enqueue":(0,t.assert)(this.streamControllers[a.streamId],"enqueue should have stream controller");this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case "close":(0,t.assert)(this.streamControllers[a.streamId],"close should have stream controller");if(this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0;this.streamControllers[a.streamId].controller.close();
r();break;case "error":(0,t.assert)(this.streamControllers[a.streamId],"error should have stream controller");this.streamControllers[a.streamId].controller.error(g(a.reason));r();break;case "cancel_complete":B(this.streamControllers[a.streamId].cancelCall,a.success,g(a.reason));r();break;case "cancel":if(!this.streamSinks[a.streamId])break;x(this.streamSinks[a.streamId].onCancel,[g(a.reason)]).then(function(){h({stream:"cancel_complete",success:!0})},function(a){h({stream:"cancel_complete",success:!1,
reason:a})});this.streamSinks[a.streamId].sinkCapability.reject(g(a.reason));this.streamSinks[a.streamId].isCancelled=!0;delete this.streamSinks[a.streamId];break;default:throw Error("Unexpected stream case");}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(c,d,a){function l(a,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||
!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}function n(a,c,d){c&&l(a.prototype,c);d&&l(a,d);return a}Object.defineProperty(d,"__esModule",{value:!0});d.Metadata=void 0;var h=a(1),x=a(159);c=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(0,h.assert)("string"===typeof c,"Metadata: input is not a string");c=this._repair(c);c=(new x.SimpleXMLParser).parseFromString(c);this._metadata=Object.create(null);
c&&this._parse(c)}n(a,[{key:"_repair",value:function(a){return a.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(a,c){a=c.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+1*d)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,b){switch(b){case "amp":return"&";case "apos":return"'";case "gt":return">";case "lt":return"<";case "quot":return'"'}throw Error("_repair: ".concat(b," isn't defined."));});c="";for(var d=0,g=a.length;d<g;d+=2){var h=256*a.charCodeAt(d)+
a.charCodeAt(d+1);c=32<=h&&127>h&&60!==h&&62!==h&&38!==h?c+String.fromCharCode(h):c+("&#x"+(65536+h).toString(16).substring(1)+";")}return">"+c})}},{key:"_parse",value:function(a){a=a.documentElement;if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var c=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===c&&a.hasChildNodes()){a=a.childNodes;c=0;for(var d=a.length;c<d;c++){var g=a[c];if("rdf:description"===g.nodeName.toLowerCase())for(var h=
0,l=g.childNodes.length;h<l;h++)if("#text"!==g.childNodes[h].nodeName.toLowerCase()){var e=g.childNodes[h],b=e.nodeName.toLowerCase();this._metadata[b]=e.textContent.trim()}}}}},{key:"get",value:function(a){a=this._metadata[a];return"undefined"!==typeof a?a:null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!==typeof this._metadata[a]}}]);return a}();d.Metadata=c},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}function n(a,c,b){n="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=h(a),null!==a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value};return n(a,c,b||a)}function h(a){h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||
Object.getPrototypeOf(a)};return h(a)}function x(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}});c&&v(a,c)}function v(a,c){v=Object.setPrototypeOf||function(a,c){a.__proto__=c;return a};return v(a,c)}function g(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function B(a,c){for(var b=0;b<c.length;b++){var d=
c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function z(a,c,b){c&&B(a.prototype,c);b&&B(a,b);return a}function p(a,c){a=a[c];return" "===a||"\n"===a||"\r"===a||"\t"===a}Object.defineProperty(d,"__esModule",{value:!0});d.SimpleXMLParser=void 0;c=function(){function a(){g(this,a)}z(a,[{key:"_resolveEntities",value:function(a){var b=this;return a.replace(/&([^;]+);/g,function(a,c){if("#x"===c.substring(0,2))return String.fromCharCode(parseInt(c.substring(2),
16));if("#"===c.substring(0,1))return String.fromCharCode(parseInt(c.substring(1),10));switch(c){case "lt":return"<";case "gt":return">";case "amp":return"&";case "quot":return'"'}return b.onResolveEntity(c)})}},{key:"_parseContent",value:function(a,b){function c(){for(;d<a.length&&p(a,d);)++d}for(var d=b,e,g=[];d<a.length&&!p(a,d)&&">"!==a[d]&&"/"!==a[d];)++d;e=a.substring(b,d);for(c();d<a.length&&">"!==a[d]&&"/"!==a[d]&&"?"!==a[d];){c();for(var h="",m="";d<a.length&&!p(a,d)&&"="!==a[d];)h+=a[d],
++d;c();if("="!==a[d])return null;++d;c();m=a[d];if('"'!==m&&"'"!==m)return null;var u=a.indexOf(m,++d);if(0>u)return null;m=a.substring(d,u);g.push({name:h,value:this._resolveEntities(m)});d=u+1;c()}return{name:e,attributes:g,parsed:d-b}}},{key:"_parseProcessingInstruction",value:function(a,b){for(var c=b,d;c<a.length&&!p(a,c)&&">"!==a[c]&&"/"!==a[c];)++c;for(d=a.substring(b,c);c<a.length&&p(a,c);)++c;for(var e=c;c<a.length&&("?"!==a[c]||">"!==a[c+1]);)++c;a=a.substring(e,c);return{name:d,value:a,
parsed:c-b}}},{key:"parseXml",value:function(a){for(var b=0;b<a.length;){var c=b;if("<"===a[b])switch(++c,a[c]){case "/":++c;b=a.indexOf(">",c);if(0>b){this.onError(-9);return}this.onEndElement(a.substring(c,b));c=b+1;break;case "?":++c;b=this._parseProcessingInstruction(a,c);if("?>"!==a.substring(c+b.parsed,c+b.parsed+2)){this.onError(-3);return}this.onPi(b.name,b.value);c+=b.parsed+2;break;case "!":if("--"===a.substring(c+1,c+3)){b=a.indexOf("--\x3e",c+3);if(0>b){this.onError(-5);return}this.onComment(a.substring(c+
3,b));c=b+3}else if("[CDATA["===a.substring(c+1,c+8)){b=a.indexOf("]]\x3e",c+8);if(0>b){this.onError(-2);return}this.onCdata(a.substring(c+8,b));c=b+3}else if("DOCTYPE"===a.substring(c+1,c+8)){var d=a.indexOf("[",c+8),e=!1;b=a.indexOf(">",c+8);if(0>b){this.onError(-4);return}if(0<d&&b>d){b=a.indexOf("]>",c+8);if(0>b){this.onError(-4);return}e=!0}c=a.substring(c+8,b+(e?1:0));this.onDoctype(c);c=b+(e?2:1)}else{this.onError(-6);return}break;default:b=this._parseContent(a,c);if(null===b){this.onError(-6);
return}e=!1;if("/>"===a.substring(c+b.parsed,c+b.parsed+2))e=!0;else if(">"!==a.substring(c+b.parsed,c+b.parsed+1)){this.onError(-9);return}this.onBeginElement(b.name,b.attributes,e);c+=b.parsed+(e?2:1)}else{for(;c<a.length&&"<"!==a[c];)c++;b=a.substring(b,c);this.onText(this._resolveEntities(b))}b=c}}},{key:"onResolveEntity",value:function(a){return"&".concat(a,";")}},{key:"onPi",value:function(a,b){}},{key:"onComment",value:function(a){}},{key:"onCdata",value:function(a){}},{key:"onDoctype",value:function(a){}},
{key:"onText",value:function(a){}},{key:"onBeginElement",value:function(a,b,c){}},{key:"onEndElement",value:function(a){}},{key:"onError",value:function(a){}}]);return a}();var A=function(){function a(c,b){g(this,a);this.nodeName=c;this.nodeValue=b;Object.defineProperty(this,"parentNode",{value:null,writable:!0})}z(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",
get:function(){var a=this.parentNode.childNodes;if(a){var b=a.indexOf(this);if(-1!==b)return a[b+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(a){return a.textContent}).join(""):this.nodeValue||""}}]);return a}();c=function(a){function c(){g(this,c);var a=h(c).call(this);if(!a||"object"!==l(a)&&"function"!==typeof a){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=this}a._currentFragment=null;a._stack=
null;a._errorCode=0;return a}x(c,a);z(c,[{key:"parseFromString",value:function(a){this._currentFragment=[];this._stack=[];this._errorCode=0;this.parseXml(a);if(0===this._errorCode){a=this._currentFragment;var b=Array.isArray(a)?a:void 0;if(!b){b=[];var c=!0,d=!1,e=void 0;try{var g=a[Symbol.iterator]();for(var m;!(c=(m=g.next()).done)&&(b.push(m.value),1!==b.length);c=!0);}catch(u){d=!0,e=u}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(d)throw e;}}}if(!(g=b))throw new TypeError("Invalid attempt to destructure non-iterable instance");
if(g=g[0])return{documentElement:g}}}},{key:"onResolveEntity",value:function(a){switch(a){case "apos":return"'"}return n(h(c.prototype),"onResolveEntity",this).call(this,a)}},{key:"onText",value:function(a){a:{var b=0;for(var c=a.length;b<c;b++)if(!p(a,b)){b=!1;break a}b=!0}b||(a=new A("#text",a),this._currentFragment.push(a))}},{key:"onCdata",value:function(a){a=new A("#text",a);this._currentFragment.push(a)}},{key:"onBeginElement",value:function(a,c,d){a=new A(a);a.childNodes=[];this._currentFragment.push(a);
d||(this._stack.push(this._currentFragment),this._currentFragment=a.childNodes)}},{key:"onEndElement",value:function(a){this._currentFragment=this._stack.pop()||[];if(a=this._currentFragment[this._currentFragment.length-1])for(var b=0,c=a.childNodes.length;b<c;b++)a.childNodes[b].parentNode=a}},{key:"onError",value:function(a){this._errorCode=a}}]);return c}(c);d.SimpleXMLParser=c},function(c,d,a){function l(a,c,d,b,f,k,g){try{var e=a[k](g),h=e.value}catch(m){d(m);return}e.done?c(h):Promise.resolve(h).then(b,
f)}function n(a){return function(){var c=this,d=arguments;return new Promise(function(b,e){function f(a){l(h,b,e,f,g,"next",a)}function g(a){l(h,b,e,f,g,"throw",a)}var h=a.apply(c,d);f(void 0)})}}function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function x(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}function v(a,c,d){c&&x(a.prototype,c);d&&x(a,
d);return a}Object.defineProperty(d,"__esModule",{value:!0});d.PDFDataTransportStream=void 0;var g=function(a){return a&&a.__esModule?a:{default:a}}(a(148)),B=a(1);c=function(){function a(c,d){var b=this;h(this,a);(0,B.assert)(d);this._queuedChunks=[];this._progressiveDone=c.progressiveDone||!1;var e=c.initialData;e&&0<e.length&&(e=(new Uint8Array(e)).buffer,this._queuedChunks.push(e));this._pdfDataRangeTransport=d;this._isStreamingSupported=!c.disableStream;this._isRangeSupported=!c.disableRange;
this._contentLength=c.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(a,c){b._onReceiveData({begin:a,chunk:c})});this._pdfDataRangeTransport.addProgressListener(function(a,c){b._onProgress({loaded:a,total:c})});this._pdfDataRangeTransport.addProgressiveReadListener(function(a){b._onReceiveData({chunk:a})});this._pdfDataRangeTransport.addProgressiveDoneListener(function(){b._onProgressiveDone()});this._pdfDataRangeTransport.transportReady()}
v(a,[{key:"_onReceiveData",value:function(a){var c=(new Uint8Array(a.chunk)).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{var b=this._rangeReaders.some(function(b){if(b._begin!==a.begin)return!1;b._enqueue(c);return!0});(0,B.assert)(b)}}},{key:"_onProgress",value:function(a){if(void 0===a.total){var c=this._rangeReaders[0];if(c&&c.onProgress)c.onProgress({loaded:a.loaded})}else if((c=this._fullRequestReader)&&c.onProgress)c.onProgress({loaded:a.loaded,
total:a.total})}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone();this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(a){a=this._rangeReaders.indexOf(a);0<=a&&this._rangeReaders.splice(a,1)}},{key:"getFullReader",value:function(){(0,B.assert)(!this._fullRequestReader);var a=this._queuedChunks;this._queuedChunks=null;return new z(this,a,this._progressiveDone)}},{key:"getRangeReader",value:function(a,c){if(c<=this._progressiveDataLength)return null;
var b=new p(this,a,c);this._pdfDataRangeTransport.requestDataRange(a,c);this._rangeReaders.push(b);return b}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeReaders.slice(0).forEach(function(c){c.cancel(a)});this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return a}();d.PDFDataTransportStream=c;var z=function(){function a(c,d){var b=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;h(this,a);this._stream=c;this._done=b||!1;this._filename=null;this._queuedChunks=d||[];this._loaded=0;b=!0;var e=!1,k=void 0;try{for(var g=this._queuedChunks[Symbol.iterator](),l;!(b=(l=g.next()).done);b=!0)this._loaded+=l.value.byteLength}catch(r){e=!0,k=r}finally{try{if(!b&&null!=g["return"])g["return"]()}finally{if(e)throw k;}}this._requests=[];this._headersReady=Promise.resolve();c._fullRequestReader=this;this.onProgress=null}v(a,[{key:"_enqueue",
value:function(a){this._done||(0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a),this._loaded+=a.byteLength)}},{key:"read",value:function(){var a=n(g["default"].mark(function b(){var a,c;return g["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(0<this._queuedChunks.length)){b.next=3;break}a=this._queuedChunks.shift();return b.abrupt("return",{value:a,done:!1});case 3:if(!this._done){b.next=5;break}return b.abrupt("return",{value:void 0,
done:!0});case 5:return c=(0,B.createPromiseCapability)(),this._requests.push(c),b.abrupt("return",c.promise);case 8:case "end":return b.stop()}},b,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},
{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]);return a}(),p=function(){function a(c,d,b){h(this,a);this._stream=c;this._begin=d;this._end=b;this._queuedChunk=null;this._requests=[];this._done=!1;this.onProgress=null}v(a,[{key:"_enqueue",value:function(a){this._done||(0===this._requests.length?this._queuedChunk=
a:(this._requests.shift().resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:function(){var a=n(g["default"].mark(function b(){var a,c;return g["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!this._queuedChunk){b.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return b.abrupt("return",{value:a,done:!1});case 4:if(!this._done){b.next=
6;break}return b.abrupt("return",{value:void 0,done:!0});case 6:return c=(0,B.createPromiseCapability)(),this._requests.push(c),b.abrupt("return",c.promise);case 9:case "end":return b.stop()}},b,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]);return a}()},
function(c,d,a){function l(a,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}function n(a,c,d){c&&l(a.prototype,c);d&&l(a,d);return a}Object.defineProperty(d,"__esModule",{value:!0});d.WebGLContext=void 0;var h=a(1);c=function(){function a(c){c=c.enable;c=void 0===c?!1:c;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._enabled=!0===c}n(a,[{key:"composeSMask",
value:function(a){return x.composeSMask(a.layer,a.mask,a.properties)}},{key:"drawFigures",value:function(a){return x.drawFigures(a.width,a.height,a.backgroundColor,a.figures,a.context)}},{key:"clear",value:function(){x.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;a&&(a=x.tryInitGL());return(0,h.shadow)(this,"isEnabled",a)}}]);return a}();d.WebGLContext=c;var x=function(){function a(a,c,d){d=a.createShader(d);a.shaderSource(d,c);a.compileShader(d);if(!a.getShaderParameter(d,a.COMPILE_STATUS))throw a=
a.getShaderInfoLog(d),Error("Error during shader compilation: "+a);return d}function c(a,c){for(var b=a.createProgram(),d=0,e=c.length;d<e;++d)a.attachShader(b,c[d]);a.linkProgram(b);if(!a.getProgramParameter(b,a.LINK_STATUS))throw a=a.getProgramInfoLog(b),Error("Error during program linking: "+a);return b}function d(a,c,d){a.activeTexture(d);d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,
a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,c);return d}function h(){l||(n=document.createElement("canvas"),l=n.getContext("webgl",{premultipliedalpha:!1}))}var l,n,t=null,e=null;return{tryInitGL:function(){try{return h(),!!l}catch(b){}return!1},composeSMask:function(b,e,k){var f=b.width,g=b.height;if(!t){h();var r=n;n=null;var m=l;l=null;var u=a(m,
"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
m.VERTEX_SHADER),w=a(m,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
m.FRAGMENT_SHADER),q=c(m,[u,w]);m.useProgram(q);u={};u.gl=m;u.canvas=r;u.resolutionLocation=m.getUniformLocation(q,"u_resolution");u.positionLocation=m.getAttribLocation(q,"a_position");u.backdropLocation=m.getUniformLocation(q,"u_backdrop");u.subtypeLocation=m.getUniformLocation(q,"u_subtype");r=m.getAttribLocation(q,"a_texCoord");w=m.getUniformLocation(q,"u_image");q=m.getUniformLocation(q,"u_mask");var p=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,p);m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),m.STATIC_DRAW);m.enableVertexAttribArray(r);m.vertexAttribPointer(r,2,m.FLOAT,!1,0,0);m.uniform1i(w,0);m.uniform1i(q,1);t=u}m=t;u=m.canvas;r=m.gl;u.width=f;u.height=g;r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight);r.uniform2f(m.resolutionLocation,f,g);k.backdrop?r.uniform4f(m.resolutionLocation,k.backdrop[0],k.backdrop[1],k.backdrop[2],1):r.uniform4f(m.resolutionLocation,0,0,0,0);r.uniform1i(m.subtypeLocation,"Luminosity"===k.subtype?1:0);b=d(r,b,r.TEXTURE0);e=
d(r,e,r.TEXTURE1);k=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,k);r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,f,0,0,g,0,g,f,0,f,g]),r.STATIC_DRAW);r.enableVertexAttribArray(m.positionLocation);r.vertexAttribPointer(m.positionLocation,2,r.FLOAT,!1,0,0);r.clearColor(0,0,0,0);r.enable(r.BLEND);r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);r.clear(r.COLOR_BUFFER_BIT);r.drawArrays(r.TRIANGLES,0,6);r.flush();r.deleteTexture(b);r.deleteTexture(e);r.deleteBuffer(k);return u},drawFigures:function(b,d,k,
g,t){if(!e){h();var f=n;n=null;var m=l;l=null;var u=a(m,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
m.VERTEX_SHADER),w=a(m,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",m.FRAGMENT_SHADER);u=c(m,[u,
w]);m.useProgram(u);w={};w.gl=m;w.canvas=f;w.resolutionLocation=m.getUniformLocation(u,"u_resolution");w.scaleLocation=m.getUniformLocation(u,"u_scale");w.offsetLocation=m.getUniformLocation(u,"u_offset");w.positionLocation=m.getAttribLocation(u,"a_position");w.colorLocation=m.getAttribLocation(u,"a_color");e=w}f=e;m=f.canvas;u=f.gl;m.width=b;m.height=d;u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight);u.uniform2f(f.resolutionLocation,b,d);b=0;var q;var y=0;for(q=g.length;y<q;y++)switch(g[y].type){case "lattice":var p=
g[y].coords.length/g[y].verticesPerRow|0;b+=(p-1)*(g[y].verticesPerRow-1)*6;break;case "triangles":b+=g[y].coords.length}w=new Float32Array(2*b);d=new Uint8Array(3*b);var C=t.coords,A=t.colors,H=0,v=0;y=0;for(q=g.length;y<q;y++){p=g[y];var x=p.coords,z=p.colors;switch(p.type){case "lattice":var D=p.verticesPerRow;p=x.length/D|0;for(var B=1;B<p;B++)for(var K=B*D+1,U=1;U<D;U++,K++)w[H]=C[x[K-D-1]],w[H+1]=C[x[K-D-1]+1],w[H+2]=C[x[K-D]],w[H+3]=C[x[K-D]+1],w[H+4]=C[x[K-1]],w[H+5]=C[x[K-1]+1],d[v]=A[z[K-
D-1]],d[v+1]=A[z[K-D-1]+1],d[v+2]=A[z[K-D-1]+2],d[v+3]=A[z[K-D]],d[v+4]=A[z[K-D]+1],d[v+5]=A[z[K-D]+2],d[v+6]=A[z[K-1]],d[v+7]=A[z[K-1]+1],d[v+8]=A[z[K-1]+2],w[H+6]=w[H+2],w[H+7]=w[H+3],w[H+8]=w[H+4],w[H+9]=w[H+5],w[H+10]=C[x[K]],w[H+11]=C[x[K]+1],d[v+9]=d[v+3],d[v+10]=d[v+4],d[v+11]=d[v+5],d[v+12]=d[v+6],d[v+13]=d[v+7],d[v+14]=d[v+8],d[v+15]=A[z[K]],d[v+16]=A[z[K]+1],d[v+17]=A[z[K]+2],H+=12,v+=18;break;case "triangles":for(p=0,D=x.length;p<D;p++)w[H]=C[x[p]],w[H+1]=C[x[p]+1],d[v]=A[z[p]],d[v+1]=
A[z[p]+1],d[v+2]=A[z[p]+2],H+=2,v+=3}}k?u.clearColor(k[0]/255,k[1]/255,k[2]/255,1):u.clearColor(0,0,0,0);u.clear(u.COLOR_BUFFER_BIT);k=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,k);u.bufferData(u.ARRAY_BUFFER,w,u.STATIC_DRAW);u.enableVertexAttribArray(f.positionLocation);u.vertexAttribPointer(f.positionLocation,2,u.FLOAT,!1,0,0);g=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,g);u.bufferData(u.ARRAY_BUFFER,d,u.STATIC_DRAW);u.enableVertexAttribArray(f.colorLocation);u.vertexAttribPointer(f.colorLocation,
3,u.UNSIGNED_BYTE,!1,0,0);u.uniform2f(f.scaleLocation,t.scaleX,t.scaleY);u.uniform2f(f.offsetLocation,t.offsetX,t.offsetY);u.drawArrays(u.TRIANGLES,0,b);u.flush();u.deleteBuffer(k);u.deleteBuffer(g);return m},cleanup:function(){t&&t.canvas&&(t.canvas.width=0,t.canvas.height=0);e&&e.canvas&&(e.canvas.width=0,e.canvas.height=0);e=t=null}}}()},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.renderTextLayer=void 0;var l=a(1),n=function(a){return a&&a.__esModule?a:{"default":a}}(a(3));
c=function(){function a(a){if(!a._canceled){var c=a._textDivs,d=a._capability,b=c.length;if(!(1E5<b||a._textContentStream))for(var f=0;f<b;f++)a._layoutText(c[f]);a._renderingDone=!0;d.resolve()}}function c(a){var c=a._bounds,e=a._viewport;e=d(e.width,e.height,c);for(var b=0;b<e.length;b++){var f=c[b].div,k=a._textDivProperties.get(f);if(0===k.angle)k.paddingLeft=c[b].left-e[b].left,k.paddingTop=c[b].top-e[b].top,k.paddingRight=e[b].right-c[b].right,k.paddingBottom=e[b].bottom-c[b].bottom;else{var g=
e[b],h=c[b],r=h.m,m=r[0],u=r[1];h=[[0,0],[0,h.size[1]],[h.size[0],0],h.size];var n=new Float64Array(64);h.forEach(function(a,b){a=l.Util.applyTransform(a,r);n[b+0]=m&&(g.left-a[0])/m;n[b+4]=u&&(g.top-a[1])/u;n[b+8]=m&&(g.right-a[0])/m;n[b+12]=u&&(g.bottom-a[1])/u;n[b+16]=u&&(g.left-a[0])/-u;n[b+20]=m&&(g.top-a[1])/m;n[b+24]=u&&(g.right-a[0])/-u;n[b+28]=m&&(g.bottom-a[1])/m;n[b+32]=m&&(g.left-a[0])/-m;n[b+36]=u&&(g.top-a[1])/-u;n[b+40]=m&&(g.right-a[0])/-m;n[b+44]=u&&(g.bottom-a[1])/-u;n[b+48]=u&&
(g.left-a[0])/u;n[b+52]=m&&(g.top-a[1])/-m;n[b+56]=u&&(g.right-a[0])/u;n[b+60]=m&&(g.bottom-a[1])/-m});h=function(a,b,c){for(var d=0,e=0;e<c;e++){var f=a[b++];0<f&&(d=d?Math.min(f,d):f)}return d};var q=1+Math.min(Math.abs(m),Math.abs(u));k.paddingLeft=h(n,32,16)/q;k.paddingTop=h(n,48,16)/q;k.paddingRight=h(n,0,16)/q;k.paddingBottom=h(n,16,16)/q}a._textDivProperties.set(f,k)}}function d(a,c,d){var b=d.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});
g(a,b);var e=Array(d.length);b.forEach(function(a){e[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}});d.map(function(c,d){var f=e[d],k=b[d];k.x1=c.top;k.y1=a-f.right;k.x2=c.bottom;k.y2=a-f.left;k.index=d;k.x1New=void 0;k.x2New=void 0});g(c,b);b.forEach(function(a){var b=a.index;e[b].top=a.x1New;e[b].bottom=a.x2New});return e}function g(a,c){c.sort(function(a,c){return a.x1-c.x1||a.index-c.index});var d=[{start:-Infinity,end:Infinity,boundary:{x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,
x1New:0,x2New:0}}];c.forEach(function(a){for(var b=0;b<d.length&&d[b].end<=a.y1;)b++;for(var c=d.length-1;0<=c&&d[c].start>=a.y2;)c--;var e,g=-Infinity;for(e=b;e<=c;e++){var h=d[e];var m=h.boundary;var u=m.x2>a.x1?m.index>a.index?m.x1New:a.x1:void 0===m.x2New?(m.x2+a.x1)/2:m.x2New;u>g&&(g=u)}a.x1New=g;for(e=b;e<=c;e++)h=d[e],m=h.boundary,void 0===m.x2New?m.x2>a.x1?m.index>a.index&&(m.x2New=m.x2):m.x2New=g:m.x2New>g&&(m.x2New=Math.max(g,m.x2));u=[];var l=null;for(e=b;e<=c;e++)h=d[e],m=h.boundary,m=
m.x2>a.x2?m:a,l===m?u[u.length-1].end=h.end:(u.push({start:h.start,end:h.end,boundary:m}),l=m);d[b].start<a.y1&&(u[0].start=a.y1,u.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary}));a.y2<d[c].end&&(u[u.length-1].end=a.y2,u.push({start:a.y2,end:d[c].end,boundary:d[c].boundary}));for(e=b;e<=c;e++)if(h=d[e],m=h.boundary,void 0===m.x2New){h=!1;for(a=b-1;!h&&0<=a&&d[a].start>=m.y1;a--)h=d[a].boundary===m;for(a=c+1;!h&&a<d.length&&d[a].end<=m.y2;a++)h=d[a].boundary===m;for(a=0;!h&&a<u.length;a++)h=
u[a].boundary===m;h||(m.x2New=g)}Array.prototype.splice.apply(d,[b,c-b+1].concat(u))});d.forEach(function(b){b=b.boundary;void 0===b.x2New&&(b.x2New=Math.max(a,b.x2))})}function B(a){var c=this,d=a.textContentStream,b=a.container,f=a.viewport,g=a.textDivs,h=a.textContentItemsStr,p=a.enhanceTextSelection;this._textContent=a.textContent;this._textContentStream=d;this._container=b;this._viewport=f;this._textDivs=g||[];this._textContentItemsStr=h||[];this._enhanceTextSelection=!!p;this._fontInspectorEnabled=
!(!n["default"].FontInspector||!n["default"].FontInspector.enabled);this._layoutTextCtx=this._layoutTextLastFontFamily=this._layoutTextLastFontSize=this._reader=null;this._textDivProperties=new WeakMap;this._canceled=this._renderingDone=!1;this._capability=(0,l.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise["finally"](function(){c._layoutTextCtx&&(c._layoutTextCtx.canvas.width=0,c._layoutTextCtx.canvas.height=0,c._layoutTextCtx=null)})}var z=/\S/,p=["left: ",
0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];B.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0;this._reader&&(this._reader.cancel(new l.AbortException("TextLayer task cancelled.")),this._reader=null);null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject(Error("TextLayer task cancelled."))},_processItems:function(a,c){for(var d=0,b=a.length;d<b;d++){this._textContentItemsStr.push(a[d].str);
var f=void 0,g=a[d];var h=c;var n=document.createElement("span"),r={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};this._textDivs.push(n);if(z.test(g.str)){var m=l.Util.transform(this._viewport.transform,g.transform);var u=Math.atan2(m[1],m[0]);var w=h[g.fontName];w.vertical&&(u+=Math.PI/2);var q=Math.sqrt(m[2]*m[2]+m[3]*m[3]),t=q;w.ascent?t*=w.ascent:w.descent&&(t*=1+w.descent);0===u?(h=m[4],m=m[5]-t):(h=
m[4]+t*Math.sin(u),m=m[5]-t*Math.cos(u));p[1]=h;p[3]=m;p[5]=q;p[7]=w.fontFamily;r.style=p.join("");n.setAttribute("style",r.style);n.textContent=g.str;this._fontInspectorEnabled&&(n.dataset.fontName=g.fontName);0!==u&&(r.angle=180/Math.PI*u);1<g.str.length&&(r.canvasWidth=w.vertical?g.height*this._viewport.scale:g.width*this._viewport.scale);this._textDivProperties.set(n,r);this._textContentStream&&this._layoutText(n);this._enhanceTextSelection&&(r=1,t=0,0!==u&&(r=Math.cos(u),t=Math.sin(u)),g=(w.vertical?
g.height:g.width)*this._viewport.scale,0!==u?(f=[r,t,-t,r,h,m],u=l.Util.getAxialAlignedBoundingBox([0,0,g,q],f)):u=[h,m,h+g,m+q],this._bounds.push({left:u[0],top:u[1],right:u[2],bottom:u[3],div:n,size:[g,q],m:f}))}else r.isWhitespace=!0,this._textDivProperties.set(n,r)}},_layoutText:function(a){var c=this._container,d=this._textDivProperties.get(a);if(!d.isWhitespace){var b=a.style.fontSize,f=a.style.fontFamily;if(b!==this._layoutTextLastFontSize||f!==this._layoutTextLastFontFamily)this._layoutTextCtx.font=
b+" "+f,this._layoutTextLastFontSize=b,this._layoutTextLastFontFamily=f;b=this._layoutTextCtx.measureText(a.textContent).width;f="";0!==d.canvasWidth&&0<b&&(d.scale=d.canvasWidth/b,f="scaleX(".concat(d.scale,")"));0!==d.angle&&(f="rotate(".concat(d.angle,"deg) ").concat(f));0<f.length&&(d.originalTransform=f,a.style.transform=f);this._textDivProperties.set(a,d);c.appendChild(a)}},_render:function(c){var d=this,e=(0,l.createPromiseCapability)(),b=Object.create(null),f=document.createElement("canvas");
f.mozOpaque=!0;this._layoutTextCtx=f.getContext("2d",{alpha:!1});if(this._textContent)this._processItems(this._textContent.items,this._textContent.styles),e.resolve();else if(this._textContentStream)this._reader=this._textContentStream.getReader(),function y(){d._reader.read().then(function(a){var c=a.value;a.done?e.resolve():(Object.assign(b,c.styles),d._processItems(c.items,b),y())},e.reject)}();else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');e.promise.then(function(){b=
null;c?d._renderTimer=setTimeout(function(){a(d);d._renderTimer=null},c):a(d)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(c(this),this._bounds=null);for(var d=0,e=this._textDivs.length;d<e;d++){var b=this._textDivs[d],f=this._textDivProperties.get(b);if(!f.isWhitespace)if(a){var g="",h="";1!==f.scale&&(g="scaleX("+f.scale+")");0!==f.angle&&(g="rotate("+f.angle+"deg) "+g);0!==f.paddingLeft&&(h+=" padding-left: "+f.paddingLeft/
f.scale+"px;",g+=" translateX("+-f.paddingLeft/f.scale+"px)");0!==f.paddingTop&&(h+=" padding-top: "+f.paddingTop+"px;",g+=" translateY("+-f.paddingTop+"px)");0!==f.paddingRight&&(h+=" padding-right: "+f.paddingRight/f.scale+"px;");0!==f.paddingBottom&&(h+=" padding-bottom: "+f.paddingBottom+"px;");""!==h&&b.setAttribute("style",f.style+h);""!==g&&(b.style.transform=g)}else b.style.padding=0,b.style.transform=f.originalTransform||""}}}};return function(a){var c=new B({textContent:a.textContent,textContentStream:a.textContentStream,
container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});c._render(a.timeout);return c}}();d.renderTextLayer=c},function(c,d,a){function l(a,b,c){l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=v(a),null!==a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value};return l(a,b,c||a)}function n(a){n="function"===
typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return n(a)}function h(a,b){return!b||"object"!==n(b)&&"function"!==typeof b?x(a):b}function x(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function v(a){v=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};
return v(a)}function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&B(a,b)}function B(a,b){B=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return B(a,b)}function z(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function p(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function A(a,b,c){b&&p(a.prototype,b);c&&p(a,c);return a}Object.defineProperty(d,"__esModule",{value:!0});d.AnnotationLayer=void 0;var t=a(151),e=a(1),b=function(){function a(){z(this,a)}A(a,null,[{key:"create",value:function(a){switch(a.data.annotationType){case e.AnnotationType.LINK:return new k(a);case e.AnnotationType.TEXT:return new y(a);case e.AnnotationType.WIDGET:switch(a.data.fieldType){case "Tx":return new r(a);
case "Btn":return a.data.radioButton?new u(a):a.data.checkBox?new m(a):new w(a);case "Ch":return new q(a)}return new D(a);case e.AnnotationType.POPUP:return new F(a);case e.AnnotationType.FREETEXT:return new C(a);case e.AnnotationType.LINE:return new P(a);case e.AnnotationType.SQUARE:return new H(a);case e.AnnotationType.CIRCLE:return new N(a);case e.AnnotationType.POLYLINE:return new M(a);case e.AnnotationType.CARET:return new I(a);case e.AnnotationType.INK:return new O(a);case e.AnnotationType.POLYGON:return new L(a);
case e.AnnotationType.HIGHLIGHT:return new K(a);case e.AnnotationType.UNDERLINE:return new U(a);case e.AnnotationType.SQUIGGLY:return new V(a);case e.AnnotationType.STRIKEOUT:return new Q(a);case e.AnnotationType.STAMP:return new Y(a);case e.AnnotationType.FILEATTACHMENT:return new Z(a);default:return new f(a)}}}]);return a}(),f=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;z(this,a);this.isRenderable=
c;this.data=b.data;this.layer=b.layer;this.page=b.page;this.viewport=b.viewport;this.linkService=b.linkService;this.downloadManager=b.downloadManager;this.imageResourcesPath=b.imageResourcesPath;this.renderInteractiveForms=b.renderInteractiveForms;this.svgFactory=b.svgFactory;c&&(this.container=this._createContainer(d))}A(a,[{key:"_createContainer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=this.data,c=this.page,d=this.viewport,f=document.createElement("section"),
m=b.rect[2]-b.rect[0],g=b.rect[3]-b.rect[1];f.setAttribute("data-annotation-id",b.id);c=e.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);f.style.transform="matrix("+d.transform.join(",")+")";f.style.transformOrigin=-c[0]+"px "+-c[1]+"px";if(!a&&0<b.borderStyle.width){f.style.borderWidth=b.borderStyle.width+"px";b.borderStyle.style!==e.AnnotationBorderStyleType.UNDERLINE&&(m-=2*b.borderStyle.width,g-=2*b.borderStyle.width);a=b.borderStyle.horizontalCornerRadius;
d=b.borderStyle.verticalCornerRadius;if(0<a||0<d)f.style.borderRadius=a+"px / "+d+"px";switch(b.borderStyle.style){case e.AnnotationBorderStyleType.SOLID:f.style.borderStyle="solid";break;case e.AnnotationBorderStyleType.DASHED:f.style.borderStyle="dashed";break;case e.AnnotationBorderStyleType.BEVELED:(0,e.warn)("Unimplemented border style: beveled");break;case e.AnnotationBorderStyleType.INSET:(0,e.warn)("Unimplemented border style: inset");break;case e.AnnotationBorderStyleType.UNDERLINE:f.style.borderBottomStyle=
"solid"}b.color?f.style.borderColor=e.Util.makeCssRgb(b.color[0]|0,b.color[1]|0,b.color[2]|0):f.style.borderWidth=0}f.style.left=c[0]+"px";f.style.top=c[1]+"px";f.style.width=m+"px";f.style.height=g+"px";return f}},{key:"_createPopup",value:function(a,b,c){b||(b=document.createElement("div"),b.style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));b=(new J({container:a,trigger:b,color:c.color,title:c.title,modificationDate:c.modificationDate,contents:c.contents,hideWrapper:!0})).render();
b.style.left=a.style.width;a.appendChild(b)}},{key:"render",value:function(){(0,e.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return a}(),k=function(a){function b(a){z(this,b);var c=!!(a.data.url||a.data.dest||a.data.action);return h(this,v(b).call(this,a,c))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=this.data,b=this.linkService,c=document.createElement("a");(0,t.addLinkAttributes)(c,{url:a.url,target:a.newWindow?t.LinkTarget.BLANK:
b.externalLinkTarget,rel:b.externalLinkRel});a.url||(a.action?this._bindNamedAction(c,a.action):this._bindLink(c,a.dest));this.container.appendChild(c);return this.container}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b);a.onclick=function(){b&&c.linkService.navigateTo(b);return!1};b&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){c.linkService.executeNamedAction(b);
return!1};a.className="internalLink"}}]);return b}(f),y=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId=
"text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}}]);return b}(f),D=function(a){function b(){z(this,b);return h(this,v(b).apply(this,arguments))}g(b,a);A(b,[{key:"render",value:function(){return this.container}}]);return b}(f),r=function(a){function b(a){z(this,b);var c=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return h(this,
v(b).call(this,a,c))}g(b,a);A(b,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";if(this.renderInteractiveForms){if(this.data.multiLine){var b=document.createElement("textarea");b.textContent=this.data.fieldValue}else b=document.createElement("input"),b.type="text",b.setAttribute("value",this.data.fieldValue);b.disabled=this.data.readOnly;null!==this.data.maxLen&&(b.maxLength=this.data.maxLen);if(this.data.comb){var c=(this.data.rect[2]-
this.data.rect[0])/this.data.maxLen;b.classList.add("comb");b.style.letterSpacing="calc("+c+"px - 1ch)"}}else b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell",c=null,this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(c=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(b,c);null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]);this.container.appendChild(b);
return this.container}},{key:"_setTextStyle",value:function(a,b){a=a.style;a.fontSize=this.data.fontSize+"px";a.direction=0>this.data.fontDirection?"rtl":"ltr";b&&(a.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal",a.fontStyle=b.italic?"italic":"normal",a.fontFamily=(b.loadedName?'"'+b.loadedName+'", ':"")+(b.fallbackName||"Helvetica, sans-serif"))}}]);return b}(D),m=function(a){function b(a){z(this,b);return h(this,v(b).call(this,a,a.renderInteractiveForms))}g(b,a);A(b,[{key:"render",
value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="checkbox";this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return b}(D),u=function(a){function b(a){z(this,b);return h(this,v(b).call(this,a,a.renderInteractiveForms))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";
var a=document.createElement("input");a.disabled=this.data.readOnly;a.type="radio";a.name=this.data.fieldName;this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0);this.container.appendChild(a);return this.container}}]);return b}(D),w=function(a){function b(){z(this,b);return h(this,v(b).apply(this,arguments))}g(b,a);A(b,[{key:"render",value:function(){var a=l(v(b.prototype),"render",this).call(this);a.className="buttonWidgetAnnotation pushButton";return a}}]);return b}(k),q=
function(a){function b(a){z(this,b);return h(this,v(b).call(this,a,a.renderInteractiveForms))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var b=0,c=this.data.options.length;b<c;b++){var d=this.data.options[b],e=document.createElement("option");e.textContent=d.displayValue;e.value=d.exportValue;
this.data.fieldValue.includes(d.displayValue)&&e.setAttribute("selected",!0);a.appendChild(e)}this.container.appendChild(a);return this.container}}]);return b}(D),F=function(a){function b(a){z(this,b);var c=!(!a.data.title&&!a.data.contents);return h(this,v(b).call(this,a,c))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="popupAnnotation";if("Line Square Circle PolyLine Polygon Ink".split(" ").includes(this.data.parentType))return this.container;var a=this.layer.querySelector('[data-annotation-id="'+
this.data.parentId+'"]');if(!a)return this.container;var b=new J({container:this.container,trigger:a,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),c=parseFloat(a.style.left),d=parseFloat(a.style.width);this.container.style.transformOrigin=-(c+d)+"px -"+a.style.top;this.container.style.left=c+d+"px";this.container.appendChild(b.render());return this.container}}]);return b}(f),J=function(){function a(b){z(this,a);this.container=
b.container;this.trigger=b.trigger;this.color=b.color;this.title=b.title;this.modificationDate=b.modificationDate;this.contents=b.contents;this.hideWrapper=b.hideWrapper||!1;this.pinned=!1}A(a,[{key:"render",value:function(){var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?a:this.container;this.hideElement.setAttribute("hidden",!0);var b=document.createElement("div");b.className="popup";var c=this.color;c&&(b.style.backgroundColor=e.Util.makeCssRgb(.7*
(255-c[0])+c[0]|0,.7*(255-c[1])+c[1]|0,.7*(255-c[2])+c[2]|0));c=document.createElement("h1");c.textContent=this.title;b.appendChild(c);if(c=t.PDFDateString.toDateObject(this.modificationDate)){var d=document.createElement("span");d.textContent="{{date}}, {{time}}";d.dataset.l10nId="annotation_date_string";d.dataset.l10nArgs=JSON.stringify({date:c.toLocaleDateString(),time:c.toLocaleTimeString()});b.appendChild(d)}c=this._formatContents(this.contents);b.appendChild(c);this.trigger.addEventListener("click",
this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));b.addEventListener("click",this._hide.bind(this,!0));a.appendChild(b);return a}},{key:"_formatContents",value:function(a){var b=document.createElement("p");a=a.split(/(?:\r\n?|\n)/);for(var c=0,d=a.length;c<d;++c)b.appendChild(document.createTextNode(a[c])),c<d-1&&b.appendChild(document.createElement("br"));return b}},{key:"_toggle",value:function(){this.pinned?
this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)this.pinned=!1;this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),--this.container.style.zIndex)}}]);return a}(),
C=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="freeTextAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),P=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}g(b,a);A(b,[{key:"render",value:function(){this.container.className=
"lineAnnotation";var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=this.svgFactory.createElement("svg:line");c.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]);c.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]);c.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]);c.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]);c.setAttribute("stroke-width",a.borderStyle.width);c.setAttribute("stroke","transparent");b.appendChild(c);this.container.append(b);this._createPopup(this.container,
c,a);return this.container}}]);return b}(f),H=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect");f.setAttribute("x",e/2);f.setAttribute("y",e/2);f.setAttribute("width",b-e);f.setAttribute("height",
c-e);f.setAttribute("stroke-width",e);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");d.appendChild(f);this.container.append(d);this._createPopup(this.container,f,a);return this.container}}]);return b}(f),N=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],
d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");f.setAttribute("cx",b/2);f.setAttribute("cy",c/2);f.setAttribute("rx",b/2-e/2);f.setAttribute("ry",c/2-e/2);f.setAttribute("stroke-width",e);f.setAttribute("stroke","transparent");f.setAttribute("fill","none");d.appendChild(f);this.container.append(d);this._createPopup(this.container,f,a);return this.container}}]);return b}(f),M=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||
a.data.contents);a=h(this,v(b).call(this,a,c,!0));a.containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}g(b,a);A(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=a.vertices,d=[],e=0,f=c.length;e<f;e++)d.push(c[e].x-a.rect[0]+","+(a.rect[3]-c[e].y));d=d.join(" ");c=a.borderStyle.width;e=this.svgFactory.createElement(this.svgElementName);e.setAttribute("points",
d);e.setAttribute("stroke-width",c);e.setAttribute("stroke","transparent");e.setAttribute("fill","none");b.appendChild(e);this.container.append(b);this._createPopup(this.container,e,a);return this.container}}]);return b}(f),L=function(a){function b(a){z(this,b);a=h(this,v(b).call(this,a));a.containerClassName="polygonAnnotation";a.svgElementName="svg:polygon";return a}g(b,a);return b}(M),I=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,
a,c,!0))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="caretAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),O=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);a=h(this,v(b).call(this,a,c,!0));a.containerClassName="inkAnnotation";a.svgElementName="svg:polyline";return a}g(b,a);A(b,[{key:"render",value:function(){this.container.className=this.containerClassName;
for(var a=this.data,b=this.svgFactory.create(a.rect[2]-a.rect[0],a.rect[3]-a.rect[1]),c=a.inkLists,d=0,e=c.length;d<e;d++){for(var f=c[d],m=[],g=0,k=f.length;g<k;g++)m.push(f[g].x-a.rect[0]+","+(a.rect[3]-f[g].y));m=m.join(" ");f=a.borderStyle.width;g=this.svgFactory.createElement(this.svgElementName);g.setAttribute("points",m);g.setAttribute("stroke-width",f);g.setAttribute("stroke","transparent");g.setAttribute("fill","none");this._createPopup(this.container,g,a);b.appendChild(g)}this.container.append(b);
return this.container}}]);return b}(f),K=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),U=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}
g(b,a);A(b,[{key:"render",value:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),V=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);
return b}(f),Q=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}g(b,a);A(b,[{key:"render",value:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),Y=function(a){function b(a){z(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return h(this,v(b).call(this,a,c,!0))}g(b,a);A(b,[{key:"render",
value:function(){this.container.className="stampAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}}]);return b}(f),Z=function(a){function b(a){z(this,b);a=h(this,v(b).call(this,a,!0));var c=a.data.file,d=c.filename;c=c.content;a.filename=(0,t.getFilenameFromUrl)(d);a.content=c;a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:x(a),id:(0,e.stringToPDFString)(d),filename:d,content:c});return a}g(b,a);A(b,[{key:"render",
value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,
this.filename,""):(0,e.warn)("Download cannot be started due to unavailable download manager")}}]);return b}(f);c=function(){function a(){z(this,a)}A(a,null,[{key:"render",value:function(a){for(var c=0,d=a.annotations.length;c<d;c++){var e=a.annotations[c];e&&(e=b.create({data:e,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new t.DOMSVGFactory}),
e.isRenderable&&a.div.appendChild(e.render()))}}},{key:"update",value:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var d=a.div.querySelector('[data-annotation-id="'+a.annotations[b].id+'"]');d&&(d.style.transform="matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]);return a}();d.AnnotationLayer=c},function(c,d,a){function l(a){if(Array.isArray(a)){var b=0;for(var c=Array(a.length);b<a.length;b++)c[b]=a[b];b=c}else b=void 0;b||(b=Symbol.iterator in Object(a)||
"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0);if(!(a=b))throw new TypeError("Invalid attempt to spread non-iterable instance");return a}function n(a,b){var c=Array.isArray(a)?a:void 0;if(!c){c=[];var d=!0,e=!1,f=void 0;try{for(var m=a[Symbol.iterator](),g;!(d=(g=m.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(P){e=!0,f=P}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(e)throw f;}}}if(!(a=c))throw new TypeError("Invalid attempt to destructure non-iterable instance");
return a}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function x(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function v(a,b,c){b&&x(a.prototype,b);c&&x(a,c);return a}Object.defineProperty(d,"__esModule",{value:!0});d.SVGGraphics=void 0;var g=a(1),B=a(151),z=function(a){return a&&a.__esModule?a:{"default":a}}(a(4));d.SVGGraphics=function(){throw Error("Not implemented: SVGGraphics");
};var p=function(a){if(Number.isInteger(a))return a.toString();a=a.toFixed(10);var b=a.length-1;if("0"!==a[b])return a;do b--;while("0"===a[b]);return a.substring(0,"."===a[b]?b:b+1)},A=function(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale(".concat(p(a[0])," ").concat(p(a[3]),")");if(a[0]===a[3]&&a[1]===-a[2])return"rotate(".concat(p(180*Math.acos(a[0])/Math.PI),")")}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate(".concat(p(a[4])," ").concat(p(a[5]),
")");return"matrix(".concat(p(a[0])," ").concat(p(a[1])," ").concat(p(a[2])," ").concat(p(a[3])," ").concat(p(a[4])," ")+"".concat(p(a[5]),")")},t=["butt","round","square"],e=["miter","round","bevel"],b=function(){function a(a,b,d,e){var f=e,g=b.length;d[f]=g>>24&255;d[f+1]=g>>16&255;d[f+2]=g>>8&255;d[f+3]=g&255;f+=4;d[f]=a.charCodeAt(0)&255;d[f+1]=a.charCodeAt(1)&255;d[f+2]=a.charCodeAt(2)&255;d[f+3]=a.charCodeAt(3)&255;f+=4;d.set(b,f);f+=b.length;a=-1;for(e+=4;e<f;e++)a=a>>>8^c[(a^d[e])&255];e=
a^-1;d[f]=e>>24&255;d[f+1]=e>>16&255;d[f+2]=e>>8&255;d[f+3]=e&255}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),c=new Int32Array(256),d=0;256>d;d++){for(var e=d,f=0;8>f;f++)e=e&1?3988292384^e>>1&2147483647:e>>1&2147483647;c[d]=e}return function(c,d,e){var f=void 0===c.kind?g.ImageKind.GRAYSCALE_1BPP:c.kind,m=c.width,k=c.height,h=c.data;switch(f){case g.ImageKind.GRAYSCALE_1BPP:var u=0;var l=1;var q=m+7>>3;break;case g.ImageKind.RGB_24BPP:u=2;l=8;q=3*m;break;case g.ImageKind.RGBA_32BPP:u=6;
l=8;q=4*m;break;default:throw Error("invalid format");}c=new Uint8Array((1+q)*k);for(var n=0,r=0,w=0;w<k;++w)c[n++]=0,c.set(h.subarray(r,r+q),n),r+=q,n+=q;if(f===g.ImageKind.GRAYSCALE_1BPP&&e)for(e=n=0;e<k;e++)for(n++,f=0;f<q;f++)c[n++]^=255;m=new Uint8Array([m>>24&255,m>>16&255,m>>8&255,m&255,k>>24&255,k>>16&255,k>>8&255,k&255,l,u,0,0,0]);a:{if((0,z["default"])())try{var p=8<=parseInt(process.versions.node)?c:new Buffer(c);var t=require("zlib").deflateSync(p,{level:9});var C=t instanceof Uint8Array?
t:new Uint8Array(t);break a}catch(R){(0,g.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+R)}t=c.length;C=new Uint8Array(2+t+5*Math.ceil(t/65535)+4);p=0;C[p++]=120;C[p++]=156;for(k=0;65535<t;)C[p++]=0,C[p++]=255,C[p++]=255,C[p++]=0,C[p++]=0,C.set(c.subarray(k,k+65535),p),p+=65535,k+=65535,t-=65535;C[p++]=1;C[p++]=t&255;C[p++]=t>>8&255;C[p++]=~t&255;C[p++]=(~t&65535)>>8&255;C.set(c.subarray(k),p);p+=c.length-k;t=1;for(l=k=0;l<c.length;++l)t=(t+(c[l]&255))%65521,k=(k+t)%65521;
c=k<<16|t;C[p++]=c>>24&255;C[p++]=c>>16&255;C[p++]=c>>8&255;C[p++]=c&255}c=new Uint8Array(b.length+36+m.length+C.length);p=0;c.set(b,p);p+=b.length;a("IHDR",m,c,p);p+=12+m.length;a("IDATA",C,c,p);p+=12+C.length;a("IEND",new Uint8Array(0),c,p);return(0,g.createObjectURL)(c,"image/png",d)}}(),f=function(){function a(){h(this,a);this.fontSizeScale=1;this.fontWeight="normal";this.fontSize=0;this.textMatrix=g.IDENTITY_MATRIX;this.fontMatrix=g.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=
g.TextRenderingMode.FILL;this.textMatrixScale=1;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=0;this.textHScale=1;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.clipGroup=this.activeClipUrl=null;this.maskId=""}v(a,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(a,
b){this.x=a;this.y=b}}]);return a}(),k=0,y=0,D=0;d.SVGGraphics=function(){function a(b,c,d){h(this,a);this.svgFactory=new B.DOMSVGFactory;this.current=new f;this.transformMatrix=g.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=b;this.objs=c;this.pendingClip=null;this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!d;this._operatorIdMapping=[];for(var e in g.OPS)this._operatorIdMapping[g.OPS[e]]=e}v(a,[{key:"save",
value:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=this.pendingClip=null}},{key:"group",value:function(a){this.save();this.executeOpTree(a);this.restore()}},{key:"loadDependencies",value:function(a){var b=this,c=a.fnArray;a=a.argsArray;for(var d=0,e=c.length;d<e;d++)if(c[d]===g.OPS.dependency){var f=
!0,m=!1,k=void 0;try{for(var h=function(){var a=n.value,c=a.startsWith("g_")?b.commonObjs:b.objs,d=new Promise(function(b){c.get(a,b)});b.current.dependencies.push(d)},l=a[d][Symbol.iterator](),n;!(f=(n=l.next()).done);f=!0)h()}catch(L){m=!0,k=L}finally{try{if(!f&&null!=l["return"])l["return"]()}finally{if(m)throw k;}}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(a,b,c,d,e,f){this.transformMatrix=g.Util.transform(this.transformMatrix,[a,b,c,d,e,f]);this.tgrp=null}},
{key:"getSVG",value:function(a,b){var c=this;this.viewport=b;var d=this._initialize(b);return this.loadDependencies(a).then(function(){c.transformMatrix=g.IDENTITY_MATRIX;c.executeOpTree(c.convertOpList(a));return d})}},{key:"convertOpList",value:function(a){var b=this._operatorIdMapping,c=a.argsArray,d=a.fnArray;a=[];for(var e=0,f=d.length;e<f;e++){var g=d[e];a.push({fnId:g,fn:b[g],args:c[e]})}b=[];c=[];d=!0;e=!1;f=void 0;try{for(var m=a[Symbol.iterator](),k;!(d=(k=m.next()).done);d=!0){var h=k.value;
"save"===h.fn?(b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-1].items):"restore"===h.fn?b=c.pop():b.push(h)}}catch(M){e=!0,f=M}finally{try{if(!d&&null!=m["return"])m["return"]()}finally{if(e)throw f;}}return b}},{key:"executeOpTree",value:function(a){var b=!0,c=!1,d=void 0;try{for(var e=a[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var m=f.value,k=m.fn,h=m.args;switch(m.fnId|0){case g.OPS.beginText:this.beginText();break;case g.OPS.dependency:break;case g.OPS.setLeading:this.setLeading(h);
break;case g.OPS.setLeadingMoveText:this.setLeadingMoveText(h[0],h[1]);break;case g.OPS.setFont:this.setFont(h);break;case g.OPS.showText:this.showText(h[0]);break;case g.OPS.showSpacedText:this.showText(h[0]);break;case g.OPS.endText:this.endText();break;case g.OPS.moveText:this.moveText(h[0],h[1]);break;case g.OPS.setCharSpacing:this.setCharSpacing(h[0]);break;case g.OPS.setWordSpacing:this.setWordSpacing(h[0]);break;case g.OPS.setHScale:this.setHScale(h[0]);break;case g.OPS.setTextMatrix:this.setTextMatrix(h[0],
h[1],h[2],h[3],h[4],h[5]);break;case g.OPS.setTextRise:this.setTextRise(h[0]);break;case g.OPS.setTextRenderingMode:this.setTextRenderingMode(h[0]);break;case g.OPS.setLineWidth:this.setLineWidth(h[0]);break;case g.OPS.setLineJoin:this.setLineJoin(h[0]);break;case g.OPS.setLineCap:this.setLineCap(h[0]);break;case g.OPS.setMiterLimit:this.setMiterLimit(h[0]);break;case g.OPS.setFillRGBColor:this.setFillRGBColor(h[0],h[1],h[2]);break;case g.OPS.setStrokeRGBColor:this.setStrokeRGBColor(h[0],h[1],h[2]);
break;case g.OPS.setStrokeColorN:this.setStrokeColorN(h);break;case g.OPS.setFillColorN:this.setFillColorN(h);break;case g.OPS.shadingFill:this.shadingFill(h[0]);break;case g.OPS.setDash:this.setDash(h[0],h[1]);break;case g.OPS.setRenderingIntent:this.setRenderingIntent(h[0]);break;case g.OPS.setFlatness:this.setFlatness(h[0]);break;case g.OPS.setGState:this.setGState(h[0]);break;case g.OPS.fill:this.fill();break;case g.OPS.eoFill:this.eoFill();break;case g.OPS.stroke:this.stroke();break;case g.OPS.fillStroke:this.fillStroke();
break;case g.OPS.eoFillStroke:this.eoFillStroke();break;case g.OPS.clip:this.clip("nonzero");break;case g.OPS.eoClip:this.clip("evenodd");break;case g.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case g.OPS.paintJpegXObject:this.paintJpegXObject(h[0],h[1],h[2]);break;case g.OPS.paintImageXObject:this.paintImageXObject(h[0]);break;case g.OPS.paintInlineImageXObject:this.paintInlineImageXObject(h[0]);break;case g.OPS.paintImageMaskXObject:this.paintImageMaskXObject(h[0]);break;
case g.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(h[0],h[1]);break;case g.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.OPS.closePath:this.closePath();break;case g.OPS.closeStroke:this.closeStroke();break;case g.OPS.closeFillStroke:this.closeFillStroke();break;case g.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case g.OPS.nextLine:this.nextLine();break;case g.OPS.transform:this.transform(h[0],h[1],h[2],h[3],h[4],h[5]);break;case g.OPS.constructPath:this.constructPath(h[0],
h[1]);break;case g.OPS.endPath:this.endPath();break;case 92:this.group(m.items);break;default:(0,g.warn)("Unimplemented operator ".concat(k))}}}catch(N){c=!0,d=N}finally{try{if(!b&&null!=e["return"])e["return"]()}finally{if(c)throw d;}}}},{key:"setWordSpacing",value:function(a){this.current.wordSpacing=a}},{key:"setCharSpacing",value:function(a){this.current.charSpacing=a}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(a,b,c,d,e,f){var g=
this.current;g.textMatrix=g.lineMatrix=[a,b,c,d,e,f];g.textMatrixScale=Math.sqrt(a*a+b*b);g.x=g.lineX=0;g.y=g.lineY=0;g.xcoords=[];g.tspan=this.svgFactory.createElement("svg:tspan");g.tspan.setAttributeNS(null,"font-family",g.fontFamily);g.tspan.setAttributeNS(null,"font-size","".concat(p(g.fontSize),"px"));g.tspan.setAttributeNS(null,"y",p(-g.y));g.txtElement=this.svgFactory.createElement("svg:text");g.txtElement.appendChild(g.tspan)}},{key:"beginText",value:function(){var a=this.current;a.x=a.lineX=
0;a.y=a.lineY=0;a.textMatrix=g.IDENTITY_MATRIX;a.lineMatrix=g.IDENTITY_MATRIX;a.textMatrixScale=1;a.tspan=this.svgFactory.createElement("svg:tspan");a.txtElement=this.svgFactory.createElement("svg:text");a.txtgrp=this.svgFactory.createElement("svg:g");a.xcoords=[]}},{key:"moveText",value:function(a,b){var c=this.current;c.x=c.lineX+=a;c.y=c.lineY+=b;c.xcoords=[];c.tspan=this.svgFactory.createElement("svg:tspan");c.tspan.setAttributeNS(null,"font-family",c.fontFamily);c.tspan.setAttributeNS(null,"font-size",
"".concat(p(c.fontSize),"px"));c.tspan.setAttributeNS(null,"y",p(-c.y))}},{key:"showText",value:function(a){var b=this.current,c=b.font,d=b.fontSize;if(0!==d){var e=b.charSpacing,f=b.wordSpacing,h=b.fontDirection,k=b.textHScale*h,m=c.vertical,l=d*b.fontMatrix[0],n=0,r=!0,t=!1,y=void 0;try{for(var v=a[Symbol.iterator](),x;!(r=(x=v.next()).done);r=!0){var z=x.value;if(null===z)n+=h*f;else if((0,g.isNum)(z))n+=-z*d*.001;else{var B=z.fontChar,D=z.width*l+((z.isSpace?f:0)+e)*h;if(z.isInFont||c.missingFile)b.xcoords.push(b.x+
n*k),b.tspan.textContent+=B;n+=D}}}catch(Z){t=!0,y=Z}finally{try{if(!r&&null!=v["return"])v["return"]()}finally{if(t)throw y;}}m?b.y-=n*k:b.x+=n*k;b.tspan.setAttributeNS(null,"x",b.xcoords.map(p).join(" "));b.tspan.setAttributeNS(null,"y",p(-b.y));b.tspan.setAttributeNS(null,"font-family",b.fontFamily);b.tspan.setAttributeNS(null,"font-size","".concat(p(b.fontSize),"px"));"normal"!==b.fontStyle&&b.tspan.setAttributeNS(null,"font-style",b.fontStyle);"normal"!==b.fontWeight&&b.tspan.setAttributeNS(null,
"font-weight",b.fontWeight);a=b.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;a===g.TextRenderingMode.FILL||a===g.TextRenderingMode.FILL_STROKE?("#000000"!==b.fillColor&&b.tspan.setAttributeNS(null,"fill",b.fillColor),1>b.fillAlpha&&b.tspan.setAttributeNS(null,"fill-opacity",b.fillAlpha)):b.textRenderingMode===g.TextRenderingMode.ADD_TO_PATH?b.tspan.setAttributeNS(null,"fill","transparent"):b.tspan.setAttributeNS(null,"fill","none");a!==g.TextRenderingMode.STROKE&&a!==g.TextRenderingMode.FILL_STROKE||
this._setStrokeAttributes(b.tspan,1/(b.textMatrixScale||1));a=b.textMatrix;0!==b.textRise&&(a=a.slice(),a[5]+=b.textRise);b.txtElement.setAttributeNS(null,"transform","".concat(A(a)," scale(1, -1)"));b.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");b.txtElement.appendChild(b.tspan);b.txtgrp.appendChild(b.txtElement);this._ensureTransformGroup().appendChild(b.txtElement)}}},{key:"setLeadingMoveText",value:function(a,b){this.setLeading(-b);this.moveText(a,b)}},
{key:"addFontStyle",value:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=(0,g.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(a.loadedName,'";')+" src: url(".concat(b,"); }\n")}},{key:"setFont",value:function(a){var b=this.current,c=this.commonObjs.get(a[0]);a=a[1];b.font=c;this.embedFonts&&c.data&&
!this.embeddedFonts[c.loadedName]&&(this.addFontStyle(c),this.embeddedFonts[c.loadedName]=c);b.fontMatrix=c.fontMatrix?c.fontMatrix:g.FONT_IDENTITY_MATRIX;var d=c.black?c.bold?"bolder":"bold":c.bold?"bold":"normal",e=c.italic?"italic":"normal";0>a?(a=-a,b.fontDirection=-1):b.fontDirection=1;b.fontSize=a;b.fontFamily=c.loadedName;b.fontWeight=d;b.fontStyle=e;b.tspan=this.svgFactory.createElement("svg:tspan");b.tspan.setAttributeNS(null,"y",p(-b.y));b.xcoords=[]}},{key:"endText",value:function(){var a=
this.current;a.textRenderingMode&g.TextRenderingMode.ADD_TO_PATH_FLAG&&a.txtElement&&a.txtElement.hasChildNodes()&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(a){0<a&&(this.current.lineWidth=a)}},{key:"setLineCap",value:function(a){this.current.lineCap=t[a]}},{key:"setLineJoin",value:function(a){this.current.lineJoin=e[a]}},{key:"setMiterLimit",value:function(a){this.current.miterLimit=a}},{key:"setStrokeAlpha",value:function(a){this.current.strokeAlpha=
a}},{key:"setStrokeRGBColor",value:function(a,b,c){this.current.strokeColor=g.Util.makeCssRgb(a,b,c)}},{key:"setFillAlpha",value:function(a){this.current.fillAlpha=a}},{key:"setFillRGBColor",value:function(a,b,c){this.current.fillColor=g.Util.makeCssRgb(a,b,c);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]}},{key:"setStrokeColorN",value:function(a){this.current.strokeColor=this._makeColorN_Pattern(a)}},{key:"setFillColorN",value:function(a){this.current.fillColor=
this._makeColorN_Pattern(a)}},{key:"shadingFill",value:function(a){var b=this.viewport.width,c=this.viewport.height,d=g.Util.inverseTransform(this.transformMatrix),e=g.Util.applyTransform([0,0],d),f=g.Util.applyTransform([0,c],d),h=g.Util.applyTransform([b,0],d),k=g.Util.applyTransform([b,c],d);b=Math.min(e[0],f[0],h[0],k[0]);c=Math.min(e[1],f[1],h[1],k[1]);d=Math.max(e[0],f[0],h[0],k[0]);e=Math.max(e[1],f[1],h[1],k[1]);f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",b);f.setAttributeNS(null,
"y",c);f.setAttributeNS(null,"width",d-b);f.setAttributeNS(null,"height",e-c);f.setAttributeNS(null,"fill",this._makeShadingPattern(a));this._ensureTransformGroup().appendChild(f)}},{key:"_makeColorN_Pattern",value:function(a){return"TilingPattern"===a[0]?this._makeTilingPattern(a):this._makeShadingPattern(a)}},{key:"_makeTilingPattern",value:function(a){var b=a[1],c=a[2],d=a[3]||g.IDENTITY_MATRIX,e=n(a[4],4),f=e[0],h=e[1],k=e[2],m=e[3],r=a[5],p=a[6];e=a[7];a="shading".concat(D++);f=g.Util.applyTransform([f,
h],d);h=n(f,2);f=h[0];h=h[1];k=g.Util.applyTransform([k,m],d);m=n(k,2);k=m[0];m=m[1];var t=g.Util.singularValueDecompose2dScale(d);t=n(t,2);r*=t[0];t=p*t[1];p=this.svgFactory.createElement("svg:pattern");p.setAttributeNS(null,"id",a);p.setAttributeNS(null,"patternUnits","userSpaceOnUse");p.setAttributeNS(null,"width",r);p.setAttributeNS(null,"height",t);p.setAttributeNS(null,"x","".concat(f));p.setAttributeNS(null,"y","".concat(h));r=this.svg;t=this.transformMatrix;var y=this.current.fillColor,v=
this.current.strokeColor;this.svg=f=this.svgFactory.create(k-f,m-h);this.transformMatrix=d;2===e&&(b=g.Util.makeCssRgb.apply(g.Util,l(b)),this.current.fillColor=b,this.current.strokeColor=b);this.executeOpTree(this.convertOpList(c));this.svg=r;this.transformMatrix=t;this.current.fillColor=y;this.current.strokeColor=v;p.appendChild(f.childNodes[0]);this.defs.appendChild(p);return"url(#".concat(a,")")}},{key:"_makeShadingPattern",value:function(a){switch(a[0]){case "RadialAxial":var b="shading".concat(D++),
c=a[2];switch(a[1]){case "axial":var d=a[3],e=a[4];a=this.svgFactory.createElement("svg:linearGradient");a.setAttributeNS(null,"id",b);a.setAttributeNS(null,"gradientUnits","userSpaceOnUse");a.setAttributeNS(null,"x1",d[0]);a.setAttributeNS(null,"y1",d[1]);a.setAttributeNS(null,"x2",e[0]);a.setAttributeNS(null,"y2",e[1]);break;case "radial":d=a[3];e=a[4];var f=a[5],h=a[6];a=this.svgFactory.createElement("svg:radialGradient");a.setAttributeNS(null,"id",b);a.setAttributeNS(null,"gradientUnits","userSpaceOnUse");
a.setAttributeNS(null,"cx",e[0]);a.setAttributeNS(null,"cy",e[1]);a.setAttributeNS(null,"r",h);a.setAttributeNS(null,"fx",d[0]);a.setAttributeNS(null,"fy",d[1]);a.setAttributeNS(null,"fr",f);break;default:throw Error("Unknown RadialAxial type: ".concat(a[1]));}d=!0;e=!1;f=void 0;try{for(var k=c[Symbol.iterator](),m;!(d=(m=k.next()).done);d=!0){var l=m.value,n=this.svgFactory.createElement("svg:stop");n.setAttributeNS(null,"offset",l[0]);n.setAttributeNS(null,"stop-color",l[1]);a.appendChild(n)}}catch(L){e=
!0,f=L}finally{try{if(!d&&null!=k["return"])k["return"]()}finally{if(e)throw f;}}this.defs.appendChild(a);return"url(#".concat(b,")");case "Mesh":return(0,g.warn)("Unimplemented pattern Mesh"),null;case "Dummy":return"hotpink";default:throw Error("Unknown IR type: ".concat(a[0]));}}},{key:"setDash",value:function(a,b){this.current.dashArray=a;this.current.dashPhase=b}},{key:"constructPath",value:function(a,b){var c=this.current,d=c.x,e=c.y,f=[],h=0,k=!0,m=!1,l=void 0;try{for(var n=a[Symbol.iterator](),
r;!(k=(r=n.next()).done);k=!0)switch(r.value|0){case g.OPS.rectangle:d=b[h++];e=b[h++];var u=b[h++],t=b[h++],y=d+u,v=e+t;f.push("M",p(d),p(e),"L",p(y),p(e),"L",p(y),p(v),"L",p(d),p(v),"Z");break;case g.OPS.moveTo:d=b[h++];e=b[h++];f.push("M",p(d),p(e));break;case g.OPS.lineTo:d=b[h++];e=b[h++];f.push("L",p(d),p(e));break;case g.OPS.curveTo:d=b[h+4];e=b[h+5];f.push("C",p(b[h]),p(b[h+1]),p(b[h+2]),p(b[h+3]),p(d),p(e));h+=6;break;case g.OPS.curveTo2:d=b[h+2];e=b[h+3];f.push("C",p(d),p(e),p(b[h]),p(b[h+
1]),p(b[h+2]),p(b[h+3]));h+=4;break;case g.OPS.curveTo3:d=b[h+2];e=b[h+3];f.push("C",p(b[h]),p(b[h+1]),p(d),p(e),p(d),p(e));h+=4;break;case g.OPS.closePath:f.push("Z")}}catch(V){m=!0,l=V}finally{try{if(!k&&null!=n["return"])n["return"]()}finally{if(m)throw l;}}f=f.join(" ");c.path&&0<a.length&&a[0]!==g.OPS.rectangle&&a[0]!==g.OPS.moveTo?f=c.path.getAttributeNS(null,"d")+f:(c.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(c.path));c.path.setAttributeNS(null,
"d",f);c.path.setAttributeNS(null,"fill","none");c.element=c.path;c.setCurrentPoint(d,e)}},{key:"endPath",value:function(){var a=this.current;a.path=null;if(this.pendingClip)if(a.element){var b="clippath".concat(k++),c=this.svgFactory.createElement("svg:clipPath");c.setAttributeNS(null,"id",b);c.setAttributeNS(null,"transform",A(this.transformMatrix));var d=a.element.cloneNode(!0);"evenodd"===this.pendingClip?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero");
this.pendingClip=null;c.appendChild(d);this.defs.appendChild(c);a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),c.setAttributeNS(null,"clip-path",a.activeClipUrl));a.activeClipUrl="url(#".concat(b,")");this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(a){this.pendingClip=a}},{key:"closePath",value:function(){var a=this.current;if(a.path){var b="".concat(a.path.getAttributeNS(null,"d"),"Z");a.path.setAttributeNS(null,"d",b)}}},{key:"setLeading",
value:function(a){this.current.leading=-a}},{key:"setTextRise",value:function(a){this.current.textRise=a}},{key:"setTextRenderingMode",value:function(a){this.current.textRenderingMode=a}},{key:"setHScale",value:function(a){this.current.textHScale=a/100}},{key:"setRenderingIntent",value:function(a){}},{key:"setFlatness",value:function(a){}},{key:"setGState",value:function(a){var b=!0,c=!1,d=void 0;try{for(var e=a[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var h=n(f.value,2),k=h[0],m=h[1];switch(k){case "LW":this.setLineWidth(m);
break;case "LC":this.setLineCap(m);break;case "LJ":this.setLineJoin(m);break;case "ML":this.setMiterLimit(m);break;case "D":this.setDash(m[0],m[1]);break;case "RI":this.setRenderingIntent(m);break;case "FL":this.setFlatness(m);break;case "Font":this.setFont(m);break;case "CA":this.setStrokeAlpha(m);break;case "ca":this.setFillAlpha(m);break;default:(0,g.warn)("Unimplemented graphic state operator ".concat(k))}}}catch(N){c=!0,d=N}finally{try{if(!b&&null!=e["return"])e["return"]()}finally{if(c)throw d;
}}}},{key:"fill",value:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var a=this.current;a.element&&(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,c=this.current,d=c.dashArray;1!==b&&0<d.length&&
(d=d.map(function(a){return b*a}));a.setAttributeNS(null,"stroke",c.strokeColor);a.setAttributeNS(null,"stroke-opacity",c.strokeAlpha);a.setAttributeNS(null,"stroke-miterlimit",p(c.miterLimit));a.setAttributeNS(null,"stroke-linecap",c.lineCap);a.setAttributeNS(null,"stroke-linejoin",c.lineJoin);a.setAttributeNS(null,"stroke-width",p(b*c.lineWidth)+"px");a.setAttributeNS(null,"stroke-dasharray",d.map(p).join(" "));a.setAttributeNS(null,"stroke-dashoffset",p(b*c.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&
this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fill()}},{key:"fillStroke",value:function(){this.stroke();this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath();this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath();this.eoFillStroke()}},
{key:"paintSolidColorImageMask",value:function(){var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0");a.setAttributeNS(null,"y","0");a.setAttributeNS(null,"width","1px");a.setAttributeNS(null,"height","1px");a.setAttributeNS(null,"fill",this.current.fillColor);this._ensureTransformGroup().appendChild(a)}},{key:"paintJpegXObject",value:function(a,b,c){a=this.objs.get(a);var d=this.svgFactory.createElement("svg:image");d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",
a.src);d.setAttributeNS(null,"width",p(b));d.setAttributeNS(null,"height",p(c));d.setAttributeNS(null,"x","0");d.setAttributeNS(null,"y",p(-c));d.setAttributeNS(null,"transform","scale(".concat(p(1/b)," ").concat(p(-1/c),")"));this._ensureTransformGroup().appendChild(d)}},{key:"paintImageXObject",value:function(a){var b=this.objs.get(a);b?this.paintInlineImageXObject(b):(0,g.warn)("Dependent image with object ID ".concat(a," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(a,c){var d=
a.width,e=a.height;a=b(a,this.forceDataSchema,!!c);var f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y","0");f.setAttributeNS(null,"width",p(d));f.setAttributeNS(null,"height",p(e));this.current.element=f;this.clip("nonzero");f=this.svgFactory.createElement("svg:image");f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y",p(-e));f.setAttributeNS(null,"width",p(d)+"px");f.setAttributeNS(null,
"height",p(e)+"px");f.setAttributeNS(null,"transform","scale(".concat(p(1/d)," ").concat(p(-1/e),")"));c?c.appendChild(f):this._ensureTransformGroup().appendChild(f)}},{key:"paintImageMaskXObject",value:function(a){var b=this.current,c=a.width,d=a.height,e=b.fillColor;b.maskId="mask".concat(y++);var f=this.svgFactory.createElement("svg:mask");f.setAttributeNS(null,"id",b.maskId);var g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0");g.setAttributeNS(null,"y","0");g.setAttributeNS(null,
"width",p(c));g.setAttributeNS(null,"height",p(d));g.setAttributeNS(null,"fill",e);g.setAttributeNS(null,"mask","url(#".concat(b.maskId,")"));this.defs.appendChild(f);this._ensureTransformGroup().appendChild(g);this.paintInlineImageXObject(a,f)}},{key:"paintFormXObjectBegin",value:function(a,b){Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);if(b){a=b[2]-b[0];var c=b[3]-b[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",b[0]);d.setAttributeNS(null,
"y",b[1]);d.setAttributeNS(null,"width",p(a));d.setAttributeNS(null,"height",p(c));this.current.element=d;this.clip("nonzero");this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(a){var b=this.svgFactory.create(a.width,a.height),c=this.svgFactory.createElement("svg:defs");b.appendChild(c);this.defs=c;c=this.svgFactory.createElement("svg:g");c.setAttributeNS(null,"transform",A(a.transform));b.appendChild(c);this.svg=c;return b}},{key:"_ensureClipGroup",
value:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(a);this.current.clipGroup=a}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp));
return this.tgrp}}]);return a}()},function(c,d,a){function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}function n(a,b){if(b&&("object"===l(b)||"function"===typeof b))return b;if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function h(a){h=Object.setPrototypeOf?
Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return h(a)}function x(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&v(a,b)}function v(a,b){v=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return v(a,b)}function g(a,b,c,d,e,f,g){try{var h=a[f](g),k=h.value}catch(K){c(K);return}h.done?b(k):
Promise.resolve(k).then(d,e)}function B(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){g(k,d,e,f,h,"next",a)}function h(a){g(k,d,e,f,h,"throw",a)}var k=a.apply(b,c);f(void 0)})}}function z(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function p(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function A(a,b,c){b&&
p(a.prototype,b);c&&p(a,c);return a}function t(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(d,"__esModule",{value:!0});d.PDFNodeStream=void 0;var e=function(a){return a&&a.__esModule?a:{"default":a}}(a(148)),b=a(1),f=a(166),k=require("fs"),y=require("http"),D=require("https"),r=require("url"),m=/^file:\/\/\/[a-zA-Z]:\//;c=function(){function a(b){z(this,a);this.source=b;var c=b.url;var d=r.parse(c);"file:"===d.protocol||
d.host?c=d:/^[a-z]:[/\\]/i.test(c)?c=r.parse("file:///".concat(c)):(d.host||(d.protocol="file:"),c=d);this.url=c;this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol;this.isFsUrl="file:"===this.url.protocol;this.httpHeaders=this.isHttp&&b.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}A(a,[{key:"getFullReader",value:function(){(0,b.assert)(!this._fullRequestReader);return this._fullRequestReader=this.isFsUrl?new q(this):new u(this)}},{key:"getRangeReader",
value:function(a,b){if(b<=this._progressiveDataLength)return null;a=this.isFsUrl?new F(this,a,b):new w(this,a,b);this._rangeRequestReaders.push(a);return a}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return a}();d.PDFNodeStream=c;d=function(){function a(c){z(this,
a);this._url=c.url;this._done=!1;this.onProgress=this._storedError=null;c=c.source;this._contentLength=c.length;this._loaded=0;this._filename=null;this._disableRange=c.disableRange||!1;this._rangeChunkSize=c.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._isStreamingSupported=!c.disableStream;this._isRangeSupported=!c.disableRange;this._readableStream=null;this._readCapability=(0,b.createPromiseCapability)();this._headersCapability=(0,b.createPromiseCapability)()}
A(a,[{key:"read",value:function(){var a=B(e["default"].mark(function H(){var a,c;return e["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this._readCapability.promise;case 2:if(!this._done){d.next=4;break}return d.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){d.next=6;break}throw this._storedError;case 6:a=this._readableStream.read();if(null!==a){d.next=10;break}this._readCapability=(0,b.createPromiseCapability)();return d.abrupt("return",this.read());
case 10:this._loaded+=a.length;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});c=(new Uint8Array(a)).buffer;return d.abrupt("return",{value:c,done:!1});case 14:case "end":return d.stop()}},H,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",
value:function(a){var c=this;this._readableStream=a;a.on("readable",function(){c._readCapability.resolve()});a.on("end",function(){a.destroy();c._done=!0;c._readCapability.resolve()});a.on("error",function(a){c._error(a)});!this._isStreamingSupported&&this._isRangeSupported&&this._error(new b.AbortException("streaming is disabled"));this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},
{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}();c=function(){function a(c){z(this,a);this._url=c.url;this._done=!1;this.onProgress=this._storedError=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,b.createPromiseCapability)();this._isStreamingSupported=!c.source.disableStream}A(a,[{key:"read",value:function(){var a=
B(e["default"].mark(function H(){var a,c;return e["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this._readCapability.promise;case 2:if(!this._done){d.next=4;break}return d.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){d.next=6;break}throw this._storedError;case 6:a=this._readableStream.read();if(null!==a){d.next=10;break}this._readCapability=(0,b.createPromiseCapability)();return d.abrupt("return",this.read());case 10:this._loaded+=a.length;
if(this.onProgress)this.onProgress({loaded:this._loaded});c=(new Uint8Array(a)).buffer;return d.abrupt("return",{value:c,done:!1});case 14:case "end":return d.stop()}},H,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}},{key:"_error",value:function(a){this._storedError=a;this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a;a.on("readable",
function(){b._readCapability.resolve()});a.on("end",function(){a.destroy();b._done=!0;b._readCapability.resolve()});a.on("error",function(a){b._error(a)});this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}();var u=function(a){function c(a){z(this,c);var d=n(this,h(c).call(this,a));var e=function(c){if(404===c.statusCode)c=new b.MissingPDFException('Missing PDF "'.concat(d._url,'".')),d._storedError=
c,d._headersCapability.reject(c);else{d._headersCapability.resolve();d._setReadableStream(c);c=function(a){return d._readableStream.headers[a.toLowerCase()]};var e=(0,f.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:a.isHttp,rangeChunkSize:d._rangeChunkSize,disableRange:d._disableRange}),g=e.suggestedLength;d._isRangeSupported=e.allowRangeRequests;d._contentLength=g||d._contentLength;d._filename=(0,f.extractFilenameFromHeader)(c)}};d._request=null;d._request="http:"===d._url.protocol?
y.request(t(d._url,a.httpHeaders),e):D.request(t(d._url,a.httpHeaders),e);d._request.on("error",function(a){d._storedError=a;d._headersCapability.reject(a)});d._request.end();return d}x(c,a);return c}(d),w=function(a){function c(a,d,e){z(this,c);var f=n(this,h(c).call(this,a));f._httpHeaders={};for(var g in a.httpHeaders){var k=a.httpHeaders[g];"undefined"!==typeof k&&(f._httpHeaders[g]=k)}f._httpHeaders.Range="bytes=".concat(d,"-").concat(e-1);a=function(a){404===a.statusCode?(a=new b.MissingPDFException('Missing PDF "'.concat(f._url,
'".')),f._storedError=a):f._setReadableStream(a)};f._request=null;f._request="http:"===f._url.protocol?y.request(t(f._url,f._httpHeaders),a):D.request(t(f._url,f._httpHeaders),a);f._request.on("error",function(a){f._storedError=a});f._request.end();return f}x(c,a);return c}(c),q=function(a){function c(a){z(this,c);var d=n(this,h(c).call(this,a));var e=decodeURIComponent(d._url.path);m.test(d._url.href)&&(e=e.replace(/^\//,""));k.lstat(e,function(a,c){a?("ENOENT"===a.code&&(a=new b.MissingPDFException('Missing PDF "'.concat(e,
'".'))),d._storedError=a,d._headersCapability.reject(a)):(d._contentLength=c.size,d._setReadableStream(k.createReadStream(e)),d._headersCapability.resolve())});return d}x(c,a);return c}(d),F=function(a){function b(a,c,d){z(this,b);a=n(this,h(b).call(this,a));var e=decodeURIComponent(a._url.path);m.test(a._url.href)&&(e=e.replace(/^\//,""));a._setReadableStream(k.createReadStream(e,{start:c,end:d-1}));return a}x(b,a);return b}(c)},function(c,d,a){Object.defineProperty(d,"__esModule",{value:!0});d.createResponseStatusError=
function(a,c){return 404===a||0===a&&/^file:/.test(c)?new l.MissingPDFException('Missing PDF "'+c+'".'):new l.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+c+'".',a)};d.extractFilenameFromHeader=function(a){if(a=a("Content-Disposition"))if(a=(0,n.getFilenameFromContentDispositionHeader)(a),/\.pdf$/i.test(a))return a;return null};d.validateRangeRequestCapabilities=function(a){var c=a.getResponseHeader,d=a.isHttp,g=a.rangeChunkSize;a=a.disableRange;(0,l.assert)(0<
g,"Range chunk size must be larger than zero");var h={allowRangeRequests:!1,suggestedLength:void 0},n=parseInt(c("Content-Length"),10);if(!Number.isInteger(n))return h;h.suggestedLength=n;if(n<=2*g||a||!d||"bytes"!==c("Accept-Ranges")||"identity"!==(c("Content-Encoding")||"identity"))return h;h.allowRangeRequests=!0;return h};d.validateResponseStatus=function(a){return 200===a||206===a};var l=a(1),n=a(167)},function(c,d,a){function l(a,c){var d=Array.isArray(a)?a:void 0;if(!d){d=[];var h=!0,g=!1,
l=void 0;try{for(var n=a[Symbol.iterator](),p;!(h=(p=n.next()).done)&&(d.push(p.value),!c||d.length!==c);h=!0);}catch(A){g=!0,l=A}finally{try{if(!h&&null!=n["return"])n["return"]()}finally{if(g)throw l;}}}if(!(a=d))throw new TypeError("Invalid attempt to destructure non-iterable instance");return a}Object.defineProperty(d,"__esModule",{value:!0});d.getFilenameFromContentDispositionHeader=function(a){function c(a,c){return new RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',
c)}function d(a,c){if(a){if(!/^[\x00-\xFF]+$/.test(c))return c;try{var b=new TextDecoder(a,{fatal:!0}),d=Array.from(c,function(a){return a.charCodeAt(0)&255});c=b.decode(new Uint8Array(d));p=!1}catch(k){if(/^utf-?8$/i.test(a))try{c=decodeURIComponent(escape(c)),p=!1}catch(y){}}}return c}function n(a){p&&/[\x80-\xff]/.test(a)&&(a=d("utf-8",a),p&&(a=d("iso-8859-1",a)));return a}function g(a){if(a.startsWith('"')){a=a.slice(1).split('\\"');for(var c=0;c<a.length;++c){var b=a[c].indexOf('"');-1!==b&&
(a[c]=a[c].slice(0,b),a.length=c+1);a[c]=a[c].replace(/\\(.)/g,"$1")}a=a.join('"')}return a}function B(a){var c=a.indexOf("'");if(-1===c)return a;var b=a.slice(0,c);a=a.slice(c+1).replace(/^[^']*'/,"");return d(b,a)}function z(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,b,c,g){if("q"===c||"Q"===c)return g=g.replace(/_/g," "),g=g.replace(/=([0-9a-fA-F]{2})/g,function(a,b){return String.fromCharCode(parseInt(b,
16))}),d(b,g);try{g=atob(g)}catch(y){}return d(b,g)})}var p=!0,A=c("filename\\*","i").exec(a);return A?(A=A[1],a=g(A),a=unescape(a),a=B(a),a=z(a),n(a)):(A=function(a){for(var d=[],b,f=c("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(b=f.exec(a));){var h=l(b,4);b=h[1];var n=h[2];h=h[3];b=parseInt(b,10);if(b in d){if(0===b)break}else d[b]=[n,h]}a=[];for(b=0;b<d.length&&b in d;++b)f=l(d[b],2),n=f[0],h=f[1],h=g(h),n&&(h=unescape(h),0===b&&(h=B(h))),a.push(h);return a.join("")}(a))?(a=z(A),n(a)):(A=c("filename",
"i").exec(a))?(A=A[1],a=g(A),a=z(a),n(a)):""}},function(c,d,a){function l(a,b,c,d,g,h,l){try{var e=a[h](l),f=e.value}catch(w){c(w);return}e.done?b(f):Promise.resolve(f).then(d,g)}function n(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){l(h,d,e,f,g,"next",a)}function g(a){l(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function x(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function v(a,b,c){b&&x(a.prototype,b);c&&x(a,c);return a}Object.defineProperty(d,"__esModule",{value:!0});d.PDFNetworkStream=void 0;var g=function(a){return a&&a.__esModule?a:{default:a}}(a(148)),B=a(1),z=a(166),p=function(){function a(b,c){h(this,a);this.url=b;c=c||{};this.httpHeaders=(this.isHttp=/^https?:/i.test(b))&&c.httpHeaders||{};this.withCredentials=c.withCredentials||!1;this.getXhr=
c.getXhr||function(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null)}v(a,[{key:"requestRange",value:function(a,c,d){a={begin:a,end:c};for(var b in d)a[b]=d[b];return this.request(a)}},{key:"requestFull",value:function(a){return this.request(a)}},{key:"request",value:function(a){var b=this.getXhr(),c=this.currXhrId++,d=this.pendingRequests[c]={xhr:b};b.open("GET",this.url);b.withCredentials=this.withCredentials;for(var e in this.httpHeaders){var g=this.httpHeaders[e];
"undefined"!==typeof g&&b.setRequestHeader(e,g)}this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range","bytes=".concat(a.begin,"-").concat(a.end-1)),d.expectedStatus=206):d.expectedStatus=200;b.responseType="arraybuffer";a.onError&&(b.onerror=function(c){a.onError(b.status)});b.onreadystatechange=this.onStateChange.bind(this,c);b.onprogress=this.onProgress.bind(this,c);d.onHeadersReceived=a.onHeadersReceived;d.onDone=a.onDone;d.onError=a.onError;d.onProgress=a.onProgress;b.send(null);return c}},
{key:"onProgress",value:function(a,c){if((a=this.pendingRequests[a])&&a.onProgress)a.onProgress(c)}},{key:"onStateChange",value:function(a,c){if(c=this.pendingRequests[a]){var b=c.xhr;2<=b.readyState&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived);if(4===b.readyState&&a in this.pendingRequests)if(delete this.pendingRequests[a],0===b.status&&this.isHttp){if(c.onError)c.onError(b.status)}else{var d=b.status||200;if(200===d&&206===c.expectedStatus||d===c.expectedStatus)if(a=
b.response,a="string"!==typeof a?a:(0,B.stringToBytes)(a).buffer,206===d)b=b.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(b),c.onDone({begin:parseInt(b[1],10),chunk:a});else if(a)c.onDone({begin:0,chunk:a});else{if(c.onError)c.onError(b.status)}else if(c.onError)c.onError(b.status)}}}},{key:"hasPendingRequests",value:function(){for(var a in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(a){return this.pendingRequests[a].xhr}},{key:"isPendingRequest",
value:function(a){return a in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var a in this.pendingRequests)this.abortRequest(a|0)}},{key:"abortRequest",value:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a];b.abort()}}]);return a}();c=function(){function a(b){h(this,a);this._source=b;this._manager=new p(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials});this._rangeChunkSize=b.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=
[]}v(a,[{key:"_onRangeRequestReaderClosed",value:function(a){a=this._rangeRequestReaders.indexOf(a);0<=a&&this._rangeRequestReaders.splice(a,1)}},{key:"getFullReader",value:function(){(0,B.assert)(!this._fullRequestReader);return this._fullRequestReader=new A(this._manager,this._source)}},{key:"getRangeReader",value:function(a,c){a=new t(this._manager,a,c);a.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(a);return a}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&
this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}}]);return a}();d.PDFNetworkStream=c;var A=function(){function a(b,c){h(this,a);this._manager=b;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url;this._fullRequestId=b.requestFull(d);this._headersReceivedCapability=(0,B.createPromiseCapability)();this._disableRange=c.disableRange||
!1;this._contentLength=c.length;this._rangeChunkSize=c.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);this._isRangeSupported=this._isStreamingSupported=!1;this._cachedChunks=[];this._requests=[];this._done=!1;this._storedError=void 0;this.onProgress=this._filename=null}v(a,[{key:"_onHeadersReceived",value:function(){var a=this._fullRequestId,c=this._manager.getRequestXhr(a),d=function(a){return c.getResponseHeader(a)},e=(0,z.validateRangeRequestCapabilities)({getResponseHeader:d,
isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),g=e.suggestedLength;e.allowRangeRequests&&(this._isRangeSupported=!0);this._contentLength=g||this._contentLength;this._filename=(0,z.extractFilenameFromHeader)(d);this._isRangeSupported&&this._manager.abortRequest(a);this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(a){a&&(0<this._requests.length?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk));
this._done=!0;0<this._cachedChunks.length||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(a){var b=this._url,c=(0,z.createResponseStatusError)(a,b);this._storedError=c;this._headersReceivedCapability.reject(c);this._requests.forEach(function(a){a.reject(c)});this._requests=[];this._cachedChunks=[]}},{key:"_onProgress",value:function(a){if(this.onProgress)this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}},
{key:"read",value:function(){var a=n(g["default"].mark(function k(){var a,b;return g["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this._storedError){c.next=2;break}throw this._storedError;case 2:if(!(0<this._cachedChunks.length)){c.next=5;break}a=this._cachedChunks.shift();return c.abrupt("return",{value:a,done:!1});case 5:if(!this._done){c.next=7;break}return c.abrupt("return",{value:void 0,done:!0});case 7:return b=(0,B.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",
b.promise);case 10:case "end":return c.stop()}},k,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._done=!0;this._headersReceivedCapability.reject(a);this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId);this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",
get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]);return a}(),t=function(){function a(b,c,d){h(this,a);this._manager=b;var e={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=b.requestRange(c,d,e);this._requests=[];this._queuedChunk=null;
this._done=!1;this.onClosed=this.onProgress=null}v(a,[{key:"_close",value:function(){if(this.onClosed)this.onClosed(this)}},{key:"_onDone",value:function(a){a=a.chunk;0<this._requests.length?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunk=a;this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._close()}},{key:"_onProgress",value:function(a){if(!this.isStreamingSupported&&this.onProgress)this.onProgress({loaded:a.loaded})}},
{key:"read",value:function(){var a=n(g["default"].mark(function k(){var a,b;return g["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null===this._queuedChunk){c.next=4;break}a=this._queuedChunk;this._queuedChunk=null;return c.abrupt("return",{value:a,done:!1});case 4:if(!this._done){c.next=6;break}return c.abrupt("return",{value:void 0,done:!0});case 6:return b=(0,B.createPromiseCapability)(),this._requests.push(b),c.abrupt("return",b.promise);case 9:case "end":return c.stop()}},
k,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._done=!0;this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})});this._requests=[];this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId);this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]);return a}()},function(c,d,a){function l(a,b,c,d,g,h,l){try{var e=a[h](l),f=e.value}catch(w){c(w);return}e.done?b(f):Promise.resolve(f).then(d,
g)}function n(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){l(h,d,e,f,g,"next",a)}function g(a){l(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function x(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function v(a,b,c){b&&x(a.prototype,b);c&&x(a,
c);return a}function g(a,b,c){return{method:"GET",headers:a,signal:c&&c.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}Object.defineProperty(d,"__esModule",{value:!0});d.PDFFetchStream=void 0;var B=function(a){return a&&a.__esModule?a:{default:a}}(a(148)),z=a(1),p=a(166);c=function(){function a(b){h(this,a);this.source=b;this.httpHeaders=(this.isHttp=/^https?:/i.test(b.url))&&b.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}v(a,[{key:"getFullReader",
value:function(){(0,z.assert)(!this._fullRequestReader);return this._fullRequestReader=new A(this)}},{key:"getRangeReader",value:function(a,c){if(c<=this._progressiveDataLength)return null;a=new t(this,a,c);this._rangeRequestReaders.push(a);return a}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);this._rangeRequestReaders.slice(0).forEach(function(b){b.cancel(a)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?
this._fullRequestReader._loaded:0}}]);return a}();d.PDFFetchStream=c;var A=function(){function a(b){var c=this;h(this,a);this._stream=b;this._reader=null;this._loaded=0;this._filename=null;b=b.source;this._withCredentials=b.withCredentials||!1;this._contentLength=b.length;this._headersCapability=(0,z.createPromiseCapability)();this._disableRange=b.disableRange||!1;this._rangeChunkSize=b.rangeChunkSize;this._rangeChunkSize||this._disableRange||(this._disableRange=!0);"undefined"!==typeof AbortController&&
(this._abortController=new AbortController);this._isStreamingSupported=!b.disableStream;this._isRangeSupported=!b.disableRange;this._headers=new Headers;for(var d in this._stream.httpHeaders){var e=this._stream.httpHeaders[d];"undefined"!==typeof e&&this._headers.append(d,e)}var l=b.url;fetch(l,g(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,p.validateResponseStatus)(a.status))throw(0,p.createResponseStatusError)(a.status,l);c._reader=a.body.getReader();c._headersCapability.resolve();
var b=function(b){return a.headers.get(b)},d=(0,p.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:c._stream.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),e=d.suggestedLength;c._isRangeSupported=d.allowRangeRequests;c._contentLength=e||c._contentLength;c._filename=(0,p.extractFilenameFromHeader)(b);!c._isStreamingSupported&&c._isRangeSupported&&c.cancel(new z.AbortException("Streaming is disabled."))})["catch"](this._headersCapability.reject);this.onProgress=
null}v(a,[{key:"read",value:function(){var a=n(B["default"].mark(function k(){var a,b,c,d;return B["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:a=e.sent;b=a.value;c=a.done;if(!c){e.next=9;break}return e.abrupt("return",{value:b,done:c});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded,total:this._contentLength});d=(new Uint8Array(b)).buffer;
return e.abrupt("return",{value:d,done:!1});case 13:case "end":return e.stop()}},k,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},
{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}(),t=function(){function a(b,c,d){var e=this;h(this,a);this._stream=b;this._reader=null;this._loaded=0;b=b.source;this._withCredentials=b.withCredentials||!1;this._readCapability=(0,z.createPromiseCapability)();this._isStreamingSupported=!b.disableStream;"undefined"!==typeof AbortController&&(this._abortController=new AbortController);this._headers=new Headers;for(var f in this._stream.httpHeaders){var k=this._stream.httpHeaders[f];
"undefined"!==typeof k&&this._headers.append(f,k)}this._headers.append("Range","bytes=".concat(c,"-").concat(d-1));var l=b.url;fetch(l,g(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!(0,p.validateResponseStatus)(a.status))throw(0,p.createResponseStatusError)(a.status,l);e._readCapability.resolve();e._reader=a.body.getReader()});this.onProgress=null}v(a,[{key:"read",value:function(){var a=n(B["default"].mark(function k(){var a,b,c,d;return B["default"].wrap(function(e){for(;;)switch(e.prev=
e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:a=e.sent;b=a.value;c=a.done;if(!c){e.next=9;break}return e.abrupt("return",{value:b,done:c});case 9:this._loaded+=b.byteLength;if(this.onProgress)this.onProgress({loaded:this._loaded});d=(new Uint8Array(b)).buffer;return e.abrupt("return",{value:d,done:!1});case 13:case "end":return e.stop()}},k,this)}));return function(){return a.apply(this,arguments)}}()},{key:"cancel",value:function(a){this._reader&&
this._reader.cancel(a);this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]);return a}()}])});
