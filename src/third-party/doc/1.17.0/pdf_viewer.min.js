(function(q,b){"object"===typeof exports&&"object"===typeof module?module.exports=b():"function"===typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],b):"object"===typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=b():q["pdfjs-dist/web/pdf_viewer"]=q.pdfjsDistWebPdfViewer=b()})(this,function(){return function(q){function b(r){if(k[r])return k[r].exports;var m=k[r]={i:r,l:!1,exports:{}};q[r].call(m.exports,m,m.exports,b);m.l=!0;return m.exports}var k={};b.m=q;b.c=k;b.d=function(k,m,
p){b.o(k,m)||Object.defineProperty(k,m,{configurable:!1,enumerable:!0,get:p})};b.n=function(k){var m=k&&k.__esModule?function(){return k["default"]}:function(){return k};b.d(m,"a",m);return m};b.o=function(b,k){return Object.prototype.hasOwnProperty.call(b,k)};b.p="";return b(b.s=9)}([function(q,b,k){b="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");q.exports=b},function(q,b,k){function r(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function");
}function m(c,a){return a?c.replace(/\{\{\s*(\w+)\s*\}\}/g,function(c,d){return d in a?a[d]:"{{"+d+"}}"}):c}function p(c,a){var d=0,n=c.length-1;if(0===c.length||!a(c[n]))return c.length;if(a(c[d]))return d;for(;d<n;){var h=d+n>>1;a(c[h])?n=h:d=h+1}return d}Object.defineProperty(b,"__esModule",{value:!0});b.waitOnEventOrTimeout=b.WaitOnType=b.localized=b.animationStarted=b.normalizeWheelEventDelta=b.binarySearchFirstItem=b.watchScroll=b.scrollIntoView=b.getOutputScale=b.approximateFraction=b.roundToDivide=
b.getVisibleElements=b.parseQueryString=b.noContextMenuHandler=b.getPDFFileNameFromURL=b.ProgressBar=b.EventBus=b.NullL10n=b.mozL10n=b.RendererType=b.PresentationModeState=b.cloneObj=b.isValidRotation=b.VERTICAL_PADDING=b.SCROLLBAR_PADDING=b.MAX_AUTO_SCALE=b.UNKNOWN_SCALE=b.MAX_SCALE=b.MIN_SCALE=b.DEFAULT_SCALE=b.DEFAULT_SCALE_VALUE=b.CSS_UNITS=void 0;var l=function(){function c(c,a){for(var d=0;d<a.length;d++){var h=a[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);
Object.defineProperty(c,h.key,h)}}return function(a,d,h){d&&c(a.prototype,d);h&&c(a,h);return a}}(),g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e=k(0);q=96/72;e.PDFJS.disableFullscreen=void 0===e.PDFJS.disableFullscreen?!1:e.PDFJS.disableFullscreen;e.PDFJS.useOnlyCssZoom=void 0===e.PDFJS.useOnlyCssZoom?!1:e.PDFJS.useOnlyCssZoom;e.PDFJS.maxCanvasPixels=
void 0===e.PDFJS.maxCanvasPixels?16777216:e.PDFJS.maxCanvasPixels;e.PDFJS.disableHistory=void 0===e.PDFJS.disableHistory?!1:e.PDFJS.disableHistory;e.PDFJS.disableTextLayer=void 0===e.PDFJS.disableTextLayer?!1:e.PDFJS.disableTextLayer;e.PDFJS.ignoreCurrentPositionOnZoom=void 0===e.PDFJS.ignoreCurrentPositionOnZoom?!1:e.PDFJS.ignoreCurrentPositionOnZoom;e.PDFJS.locale=void 0===e.PDFJS.locale&&"undefined"!==typeof navigator?navigator.language:e.PDFJS.locale;var a={EVENT:"event",TIMEOUT:"timeout"};k=
new Promise(function(c){window.requestAnimationFrame(c)});var d=Promise.resolve(),c=function(){function c(){r(this,c);this._listeners=Object.create(null)}l(c,[{key:"on",value:function(c,a){var d=this._listeners[c];d||(d=[],this._listeners[c]=d);d.push(a)}},{key:"off",value:function(c,a){c=this._listeners[c];var d=void 0;!c||0>(d=c.indexOf(a))||c.splice(d,1)}},{key:"dispatch",value:function(c){var a=this._listeners[c];if(a&&0!==a.length){var d=Array.prototype.slice.call(arguments,1);a.slice(0).forEach(function(c){c.apply(null,
d)})}}}]);return c}(),f=function(){function c(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},h=d.height,f=d.width,d=d.units;r(this,c);this.visible=!0;this.div=document.querySelector(a+" .progress");this.bar=this.div.parentNode;this.height=h||100;this.width=f||100;this.units=d||"%";this.div.style.height=this.height+this.units;this.percent=0}l(c,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):
(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)}},{key:"setWidth",value:function(c){c&&(c=c.parentNode.offsetWidth-c.offsetWidth,0<c&&this.bar.setAttribute("style","width: calc(100% - "+c+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),
this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(c){this._indeterminate=isNaN(c);this._percent=Math.min(Math.max(c,0),100);this._updateBar()}}]);return c}();b.CSS_UNITS=q;b.DEFAULT_SCALE_VALUE="auto";b.DEFAULT_SCALE=1;b.MIN_SCALE=.25;b.MAX_SCALE=10;b.UNKNOWN_SCALE=0;b.MAX_AUTO_SCALE=1.25;b.SCROLLBAR_PADDING=40;b.VERTICAL_PADDING=5;b.isValidRotation=function(c){return Number.isInteger(c)&&0===c%90};b.cloneObj=function(c){var a=Object.create(null),
d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a};b.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};b.RendererType={CANVAS:"canvas",SVG:"svg"};b.mozL10n=void 0;b.NullL10n={getDirection:function(){return Promise.resolve("ltr")},get:function(c,a,d){return Promise.resolve(m(d,a))},translate:function(c){return Promise.resolve()}};b.EventBus=c;b.ProgressBar=f;b.getPDFFileNameFromURL=function(c){for(var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
"document.pdf",d=0,h=c.length;d<h&&""===c[d].trim();)d++;if("data:"===c.substr(d,5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),a;d=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;h=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(c);if(h=d.exec(h[1])||d.exec(h[2])||d.exec(h[3]))if(h=h[0],-1!==h.indexOf("%"))try{h=d.exec(decodeURIComponent(h))[0]}catch(u){}return h||a};b.noContextMenuHandler=function(c){c.preventDefault()};b.parseQueryString=
function(c){c=c.split("&");for(var a=Object.create(null),d=0,h=c.length;d<h;++d){var f=c[d].split("="),e=f[0].toLowerCase(),f=1<f.length?f[1]:null;a[decodeURIComponent(e)]=decodeURIComponent(f)}return a};b.getVisibleElements=function(c,a){function d(c){c=c.div;return c.offsetTop+c.clientTop+c.clientHeight>f}for(var h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=c.scrollTop,x=f+c.clientHeight,e=c.scrollLeft,t=e+c.clientWidth,g=[],b=void 0,l=void 0,k=void 0,v=void 0,m=v=l=void 0,l=void 0,
q=0===a.length?0:p(a,d),r=a.length;q<r;q++){b=a[q];l=b.div;k=l.offsetTop+l.clientTop;v=l.clientHeight;if(k>x)break;m=l.offsetLeft+l.clientLeft;l=l.clientWidth;m+l<e||m>t||(l=Math.max(0,f-k)+Math.max(0,k+v-x),v=100*(v-l)/v|0,g.push({id:b.id,x:m,y:k,view:b,percent:v}))}x=g[0];e=g[g.length-1];h&&g.sort(function(c,a){var d=c.percent-a.percent;return.001<Math.abs(d)?-d:c.id-a.id});return{first:x,last:e,views:g}};b.roundToDivide=function(c,a){var d=c%a;return 0===d?c:Math.round(c-d+a)};b.approximateFraction=
function(c){if(Math.floor(c)===c)return[c,1];var a=1/c;if(8<a)return[1,8];if(Math.floor(a)===a)return[1,a];for(var a=1<c?a:c,d=0,f=1,h=1,e=1;;){var g=d+h,t=f+e;if(8<t)break;a<=g/t?(h=g,e=t):(d=g,f=t)}return a-d/f<h/e-a?a===c?[d,f]:[f,d]:a===c?[h,e]:[e,h]};b.getOutputScale=function(c){c=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1);return{sx:c,sy:c,scaled:1!==c}};b.scrollIntoView=
function(c,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,f=c.offsetParent;if(f){for(var h=c.offsetTop+c.clientTop,e=c.offsetLeft+c.clientLeft;f.clientHeight===f.scrollHeight||d&&"hidden"===getComputedStyle(f).overflow;)if(f.dataset._scaleY&&(h/=f.dataset._scaleY,e/=f.dataset._scaleX),h+=f.offsetTop,e+=f.offsetLeft,f=f.offsetParent,!f)return;a&&(void 0!==a.top&&(h+=a.top),void 0!==a.left&&(e+=a.left,f.scrollLeft=e));f.scrollTop=h}else console.error("offsetParent is not set -- cannot scroll")};
b.watchScroll=function(c,a){var d=function(d){h||(h=window.requestAnimationFrame(function(){h=null;var d=c.scrollTop,n=f.lastY;d!==n&&(f.down=d>n);f.lastY=d;a(f)}))},f={down:!0,lastY:c.scrollTop,_eventHandler:d},h=null;c.addEventListener("scroll",d,!0);return f};b.binarySearchFirstItem=p;b.normalizeWheelEventDelta=function(c){var a=Math.sqrt(c.deltaX*c.deltaX+c.deltaY*c.deltaY),d=Math.atan2(c.deltaY,c.deltaX);-.25*Math.PI<d&&d<.75*Math.PI&&(a=-a);0===c.deltaMode?a/=900:1===c.deltaMode&&(a/=30);return a};
b.animationStarted=k;b.localized=d;b.WaitOnType=a;b.waitOnEventOrTimeout=function(d){function f(a){h instanceof c?h.off(n,w):h.removeEventListener(n,w);t&&clearTimeout(t);b.resolve(a)}var h=d.target,n=d.name;d=d.delay;d=void 0===d?0:d;if(!("object"===("undefined"===typeof h?"undefined":g(h))&&n&&"string"===typeof n&&Number.isInteger(d)&&0<=d))return Promise.reject(Error("waitOnEventOrTimeout - invalid paramaters."));var b=(0,e.createPromiseCapability)(),w=f.bind(null,a.EVENT);if(h instanceof c)h.on(n,
w);else h.addEventListener(n,w);var l=f.bind(null,a.TIMEOUT),t=setTimeout(l,d);return b.promise}},function(q,b,k){function r(b){b.on("documentload",function(){var b=document.createEvent("CustomEvent");b.initCustomEvent("documentload",!0,!0,{});window.dispatchEvent(b)});b.on("pagerendered",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagerendered",!0,!0,{pageNumber:b.pageNumber,cssTransform:b.cssTransform});b.source.div.dispatchEvent(e)});b.on("textlayerrendered",function(b){var e=
document.createEvent("CustomEvent");e.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:b.pageNumber});b.source.textLayerDiv.dispatchEvent(e)});b.on("pagechange",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("pagechange",!0,!0,window,0);e.pageNumber=b.pageNumber;b.source.container.dispatchEvent(e)});b.on("pagesinit",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagesinit",!0,!0,null);b.source.container.dispatchEvent(e)});b.on("pagesloaded",function(b){var e=
document.createEvent("CustomEvent");e.initCustomEvent("pagesloaded",!0,!0,{pagesCount:b.pagesCount});b.source.container.dispatchEvent(e)});b.on("scalechange",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("scalechange",!0,!0,window,0);e.scale=b.scale;e.presetValue=b.presetValue;b.source.container.dispatchEvent(e)});b.on("updateviewarea",function(b){var e=document.createEvent("UIEvents");e.initUIEvent("updateviewarea",!0,!0,window,0);e.location=b.location;b.source.container.dispatchEvent(e)});
b.on("find",function(b){if(b.source!==window){var e=document.createEvent("CustomEvent");e.initCustomEvent("find"+b.type,!0,!0,{query:b.query,phraseSearch:b.phraseSearch,caseSensitive:b.caseSensitive,highlightAll:b.highlightAll,findPrevious:b.findPrevious});window.dispatchEvent(e)}});b.on("attachmentsloaded",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:b.attachmentsCount});b.source.container.dispatchEvent(e)});b.on("sidebarviewchanged",
function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("sidebarviewchanged",!0,!0,{view:b.view});b.source.outerContainer.dispatchEvent(e)});b.on("pagemode",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagemode",!0,!0,{mode:b.mode});b.source.pdfViewer.container.dispatchEvent(e)});b.on("namedaction",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("namedaction",!0,!0,{action:b.action});b.source.pdfViewer.container.dispatchEvent(e)});
b.on("presentationmodechanged",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("presentationmodechanged",!0,!0,{active:b.active,switchInProgress:b.switchInProgress});window.dispatchEvent(e)});b.on("outlineloaded",function(b){var e=document.createEvent("CustomEvent");e.initCustomEvent("outlineloaded",!0,!0,{outlineCount:b.outlineCount});b.source.container.dispatchEvent(e)})}Object.defineProperty(b,"__esModule",{value:!0});b.getGlobalEventBus=b.attachDOMEventsToEventBus=void 0;
var m=k(1),p=null;b.attachDOMEventsToEventBus=r;b.getGlobalEventBus=function(){if(p)return p;p=new m.EventBus;r(p);return p}},function(q,b,k){function r(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function");}function m(a){if(!(a instanceof Array))return!1;var d=a.length,c=!0;if(2>d)return!1;var f=a[0];if(!("object"===("undefined"===typeof f?"undefined":p(f))&&Number.isInteger(f.num)&&Number.isInteger(f.gen)||Number.isInteger(f)&&0<=f))return!1;f=a[1];if("object"!==("undefined"===
typeof f?"undefined":p(f))||"string"!==typeof f.name)return!1;switch(f.name){case "XYZ":if(5!==d)return!1;break;case "Fit":case "FitB":return 2===d;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==d)return!1;break;case "FitR":if(6!==d)return!1;c=!1;break;default:return!1}for(f=2;f<d;f++){var h=a[f];if(!("number"===typeof h||c&&null===h))return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.SimpleLinkService=b.PDFLinkService=void 0;var p="function"===typeof Symbol&&"symbol"===
typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l=function(){function a(a,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,h.key,h)}}return function(d,c,f){c&&a(d.prototype,c);f&&a(d,f);return d}}(),g=k(2),e=k(1);q=function(){function a(){var d=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{}).eventBus;r(this,a);this.eventBus=d||(0,g.getGlobalEventBus)();this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}l(a,[{key:"setDocument",value:function(a,c){this.baseUrl=c;this.pdfDocument=a;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(a){this.pdfViewer=a}},{key:"setHistory",value:function(a){this.pdfHistory=a}},{key:"navigateTo",value:function(a){var c=this,d=function x(d){var f=d.namedDest,b=d.explicitDest,e=b[0];d=void 0;if(e instanceof
Object){if(d=c._cachedPageNumber(e),null===d){c.pdfDocument.getPageIndex(e).then(function(a){c.cachePageRef(a+1,e);x({namedDest:f,explicitDest:b})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+e+'" is not '+('a valid page reference, for dest="'+a+'".'))});return}}else if(Number.isInteger(e))d=e+1;else{console.error('PDFLinkService.navigateTo: "'+e+'" is not '+('a valid destination reference, for dest="'+a+'".'));return}!d||1>d||d>c.pagesCount?console.error('PDFLinkService.navigateTo: "'+
d+'" is not '+('a valid page number, for dest="'+a+'".')):(c.pdfHistory&&(c.pdfHistory.pushCurrentPosition(),c.pdfHistory.push({namedDest:f,explicitDest:b,pageNumber:d})),c.pdfViewer.scrollPageIntoView({pageNumber:d,destArray:b}))};(new Promise(function(d,f){"string"===typeof a?c.pdfDocument.getDestination(a).then(function(c){d({namedDest:a,explicitDest:c})}):d({namedDest:"",explicitDest:a})})).then(function(c){c.explicitDest instanceof Array?d(c):console.error('PDFLinkService.navigateTo: "'+c.explicitDest+
'" is'+(' not a valid destination array, for dest="'+a+'".'))})}},{key:"getDestinationHash",value:function(a){return"string"===typeof a?this.getAnchorUrl("#"+escape(a)):a instanceof Array?(a=JSON.stringify(a),this.getAnchorUrl("#"+escape(a))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(a){return(this.baseUrl||"")+a}},{key:"setHash",value:function(a){var c=void 0,d=void 0;if(0<=a.indexOf("="))if(a=(0,e.parseQueryString)(a),"search"in a&&this.eventBus.dispatch("findfromurlhash",{source:this,
query:a.search.replace(/"/g,""),phraseSearch:"true"===a.phrase}),"nameddest"in a)this.navigateTo(a.nameddest);else{"page"in a&&(c=a.page|0||1);if("zoom"in a){var h=a.zoom.split(","),b=h[0],g=parseFloat(b);-1===b.indexOf("Fit")?d=[null,{name:"XYZ"},1<h.length?h[1]|0:null,2<h.length?h[2]|0:null,g?g/100:b]:"Fit"===b||"FitB"===b?d=[null,{name:b}]:"FitH"===b||"FitBH"===b||"FitV"===b||"FitBV"===b?d=[null,{name:b},1<h.length?h[1]|0:null]:"FitR"===b?5!==h.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):
d=[null,{name:b},h[1]|0,h[2]|0,h[3]|0,h[4]|0]:console.error('PDFLinkService.setHash: "'+b+'" is not a valid zoom value.')}d?this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:d,allowNegativeOffset:!0}):c&&(this.page=c);"pagemode"in a&&this.eventBus.dispatch("pagemode",{source:this,mode:a.pagemode})}else{d=unescape(a);try{d=JSON.parse(d),d instanceof Array||(d=d.toString())}catch(n){}"string"===typeof d||m(d)?this.navigateTo(d):console.error('PDFLinkService.setHash: "'+unescape(a)+
'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(a){switch(a){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:a})}},{key:"onFileAttachmentAnnotation",value:function(a){this.eventBus.dispatch("fileattachmentannotation",
{source:this,id:a.id,filename:a.filename,content:a.content})}},{key:"cachePageRef",value:function(a,c){this._pagesRefCache[c.num+" "+c.gen+" R"]=a}},{key:"_cachedPageNumber",value:function(a){a=a.num+" "+a.gen+" R";return this._pagesRefCache&&this._pagesRefCache[a]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(a){this.pdfViewer.currentPageNumber=a}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},
set:function(a){this.pdfViewer.pagesRotation=a}}]);return a}();k=function(){function a(){r(this,a)}l(a,[{key:"navigateTo",value:function(a){}},{key:"getDestinationHash",value:function(a){return"#"}},{key:"getAnchorUrl",value:function(a){return"#"}},{key:"setHash",value:function(a){}},{key:"executeNamedAction",value:function(a){}},{key:"onFileAttachmentAnnotation",value:function(a){}},{key:"cachePageRef",value:function(a,c){}},{key:"page",get:function(){return 0},set:function(a){}},{key:"rotation",
get:function(){return 0},set:function(a){}}]);return a}();b.PDFLinkService=q;b.SimpleLinkService=k},function(q,b,k){function r(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultAnnotationLayerFactory=b.AnnotationLayerBuilder=void 0;var m=function(){function a(a,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,h.key,
h)}}return function(d,c,f){c&&a(d.prototype,c);f&&a(d,f);return d}}(),p=k(0),l=k(1),g=k(3),e=function(){function a(d){var c=d.pageDiv,f=d.pdfPage,h=d.linkService,b=d.downloadManager,e=d.renderInteractiveForms,e=void 0===e?!1:e;d=d.l10n;d=void 0===d?l.NullL10n:d;r(this,a);this.pageDiv=c;this.pdfPage=f;this.linkService=h;this.downloadManager=b;this.renderInteractiveForms=e;this.l10n=d;this.div=null;this._cancelled=!1}m(a,[{key:"render",value:function(a){var c=this;this.pdfPage.getAnnotations({intent:1<
arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(d){if(!c._cancelled){var f={viewport:a.clone({dontFlip:!0}),div:c.div,annotations:d,page:c.pdfPage,renderInteractiveForms:c.renderInteractiveForms,linkService:c.linkService,downloadManager:c.downloadManager};c.div?p.AnnotationLayer.update(f):0!==d.length&&(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),f.div=c.div,p.AnnotationLayer.render(f),c.l10n.translate(c.div))}})}},
{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return a}();q=function(){function a(){r(this,a)}m(a,[{key:"createAnnotationLayerBuilder",value:function(a,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.NullL10n;return new e({pageDiv:a,pdfPage:c,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:new g.SimpleLinkService,l10n:d})}}]);return a}();b.AnnotationLayerBuilder=
e;b.DefaultAnnotationLayerFactory=q},function(q,b,k){function r(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(b,"__esModule",{value:!0});b.DefaultTextLayerFactory=b.TextLayerBuilder=void 0;var m=function(){function b(a,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),p=k(2),
l=k(0),g=function(){function b(a){var d=a.textLayerDiv,c=a.eventBus,f=a.pageIndex,h=a.viewport,e=a.findController,e=void 0===e?null:e;a=a.enhanceTextSelection;a=void 0===a?!1:a;r(this,b);this.textLayerDiv=d;this.eventBus=c||(0,p.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=f;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=h;this.textDivs=[];this.findController=e;this.textLayerRenderTask=null;this.enhanceTextSelection=
a;this._bindMouse()}m(b,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var a=document.createElement("div");a.className="endOfContent";this.textLayerDiv.appendChild(a)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var a=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel();
this.textDivs=[];var c=document.createDocumentFragment();this.textLayerRenderTask=(0,l.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:c,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:d,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){a.textLayerDiv.appendChild(c);a._finishRendering();a.updateMatches()},function(a){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&
(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(a){this.cancel();this.textContentStream=a}},{key:"setTextContent",value:function(a){this.cancel();this.textContent=a}},{key:"convertMatches",value:function(a,d){var c=0,f=0,b=this.textContentItemsStr,e=b.length-1,g=null===this.findController?0:this.findController.state.query.length,n=[];if(!a)return n;for(var u=0,w=a.length;u<w;u++){for(var l=a[u];c!==e&&l>=f+b[c].length;)f+=b[c].length,
c++;c===b.length&&console.error("Could not find a matching mapping");for(var t={begin:{divIdx:c,offset:l-f}},l=d?l+d[u]:l+g;c!==e&&l>f+b[c].length;)f+=b[c].length,c++;t.end={divIdx:c,offset:l-f};n.push(t)}return n}},{key:"renderMatches",value:function(a){function d(a,d){var f=a.divIdx;b[f].textContent="";c(f,0,a.offset,d)}function c(a,c,d,h){var n=b[a];a=f[a].substring(c,d);a=document.createTextNode(a);h?(c=document.createElement("span"),c.className=h,c.appendChild(a),n.appendChild(c)):n.appendChild(a)}
if(0!==a.length){var f=this.textContentItemsStr,b=this.textDivs,e=null,g=this.pageIdx,n=null===this.findController?!1:g===this.findController.selected.pageIdx,u=null===this.findController?-1:this.findController.selected.matchIdx,w=u,l=w+1;if(null===this.findController?0:this.findController.state.highlightAll)w=0,l=a.length;else if(!n)return;for(;w<l;w++){var t=a[w],y=t.begin,t=t.end,z=n&&w===u?" selected":"";this.findController&&this.findController.updateMatchPosition(g,w,b,y.divIdx);e&&y.divIdx===
e.divIdx?c(e.divIdx,e.offset,y.offset):(null!==e&&c(e.divIdx,e.offset,void 0),d(y));if(y.divIdx===t.divIdx)c(y.divIdx,y.offset,t.offset,"highlight"+z);else{c(y.divIdx,y.offset,void 0,"highlight begin"+z);e=y.divIdx+1;for(y=t.divIdx;e<y;e++)b[e].className="highlight middle"+z;d(t,"highlight end"+z)}e=t}e&&c(e.divIdx,e.offset,void 0)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var a=this.matches,d=this.textDivs,c=this.textContentItemsStr,f=-1,b=0,e=a.length;b<e;b++){for(var g=
a[b],f=Math.max(f,g.begin.divIdx),n=g.end.divIdx;f<=n;f++){var u=d[f];u.textContent=c[f];u.className=""}f=g.end.divIdx+1}null!==this.findController&&this.findController.active&&(d=a=void 0,null!==this.findController&&(a=this.findController.pageMatches[this.pageIdx]||null,d=this.findController.pageMatchesLength?this.findController.pageMatchesLength[this.pageIdx]||null:null),this.matches=this.convertMatches(a,d),this.renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var a=this,d=this.textLayerDiv,
c=null;d.addEventListener("mousedown",function(f){if(a.enhanceTextSelection&&a.textLayerRenderTask)a.textLayerRenderTask.expandTextDivs(!0),c&&(clearTimeout(c),c=null);else{var b=d.querySelector(".endOfContent");if(b){var e=f.target!==d;if(e=e&&"none"!==window.getComputedStyle(b).getPropertyValue("-moz-user-select"))e=d.getBoundingClientRect(),b.style.top=(100*Math.max(0,(f.pageY-e.top)/e.height)).toFixed(2)+"%";b.classList.add("active")}}});d.addEventListener("mouseup",function(){if(a.enhanceTextSelection&&
a.textLayerRenderTask)c=setTimeout(function(){a.textLayerRenderTask&&a.textLayerRenderTask.expandTextDivs(!1);c=null},300);else{var f=d.querySelector(".endOfContent");f&&(f.style.top="",f.classList.remove("active"))}})}}]);return b}();q=function(){function b(){r(this,b)}m(b,[{key:"createTextLayerBuilder",value:function(a,d,c){return new g({textLayerDiv:a,pageIndex:d,viewport:c,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return b}();b.TextLayerBuilder=g;b.DefaultTextLayerFactory=
q},function(q,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.PDFPageView=void 0;var r=function(){function b(a,d){for(var c=0;c<d.length;c++){var f=d[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),m=k(1),p=k(0),l=k(2),g=k(7);q=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=a.container,c=a.defaultViewport;
this.id=a.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=a.scale||m.DEFAULT_SCALE;this.viewport=c;this.pdfPageRotate=c.rotation;this.hasRestrictedScaling=!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=a.renderInteractiveForms||!1;this.eventBus=a.eventBus||(0,l.getGlobalEventBus)();this.renderingQueue=a.renderingQueue;this.textLayerFactory=a.textLayerFactory;this.annotationLayerFactory=a.annotationLayerFactory;this.renderer=
a.renderer||m.RendererType.CANVAS;this.l10n=a.l10n||m.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=g.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;d.appendChild(a)}
r(b,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport(this.scale*m.CSS_UNITS,(this.rotation+this.pdfPageRotate)%360);this.stats=a.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var d=this.zoomLayer.firstChild;this.paintedViewportMap.delete(d);d.width=0;d.height=
0;a&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering(d);var c=this.div;c.style.width=Math.floor(this.viewport.width)+"px";c.style.height=Math.floor(this.viewport.height)+"px";for(var b=c.childNodes,a=a&&this.zoomLayer||null,d=d&&this.annotationLayer&&this.annotationLayer.div||null,h=b.length-1;0<=h;h--){var e=b[h];a!==e&&d!==
e&&c.removeChild(e)}c.removeAttribute("data-loaded");d?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null);a||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";c.appendChild(this.loadingIconDiv)}},
{key:"update",value:function(a,d){this.scale=a||this.scale;"undefined"!==typeof d&&(this.rotation=d);this.viewport=this.viewport.clone({scale:this.scale*m.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{a=!1;this.canvas&&0<p.PDFJS.maxCanvasPixels&&(d=this.outputScale,(Math.floor(this.viewport.width)*d.sx|0)*(Math.floor(this.viewport.height)*d.sy|0)>p.PDFJS.maxCanvasPixels&&
(a=!0));if(this.canvas){if(p.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&a){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:!1;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.renderingState=g.RenderingStates.INITIAL;this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null);!a&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=this.viewport.width,b=this.viewport.height,h=this.div;a.style.width=a.parentNode.style.width=h.style.width=Math.floor(c)+
"px";a.style.height=a.parentNode.style.height=h.style.height=Math.floor(b)+"px";var h=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,e=Math.abs(h),g=1,n=1;if(90===e||270===e)g=b/c,n=c/b;p.CustomStyle.setProp("transform",a,"rotate("+h+"deg) scale("+g+","+n+")");if(this.textLayer){e=this.textLayer.viewport;b=Math.abs(this.viewport.rotation-e.rotation);h=c/e.width;if(90===b||270===b)h=c/e.height;c=this.textLayer.textLayerDiv;g=e=void 0;switch(b){case 0:e=g=0;break;case 90:e=0;g="-"+c.style.height;
break;case 180:e="-"+c.style.width;g="-"+c.style.height;break;case 270:e="-"+c.style.width;g=0;break;default:console.error("Bad rotation value.")}p.CustomStyle.setProp("transform",c,"rotate("+b+"deg) scale("+h+", "+h+") translate("+e+", "+g+")");p.CustomStyle.setProp("transformOrigin",c,"0% 0%")}d&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(a,d){return this.viewport.convertToPdfPoint(a,d)}},{key:"draw",value:function(){var a=this;
this.renderingState!==g.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=g.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=g.RenderingStates.RUNNING;var d=this.pdfPage,c=this.div,b=document.createElement("div");b.style.width=c.style.width;b.style.height=c.style.height;b.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?c.insertBefore(b,this.annotationLayer.div):
c.appendChild(b);var e=null;if(this.textLayerFactory){var l=document.createElement("div");l.className="textLayer";l.style.width=b.style.width;l.style.height=b.style.height;this.annotationLayer&&this.annotationLayer.div?c.insertBefore(l,this.annotationLayer.div):c.appendChild(l);e=this.textLayerFactory.createTextLayerBuilder(l,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=e;l=null;this.renderingQueue&&(l=function(c){a.renderingQueue.isHighestPriority(a)?c():(a.renderingState=g.RenderingStates.PAUSED,
a.resume=function(){a.renderingState=g.RenderingStates.RUNNING;c()})});var A=function(b){n===a.paintTask&&(a.paintTask=null);if(b instanceof p.RenderingCancelledException)return a.error=null,Promise.resolve(void 0);a.renderingState=g.RenderingStates.FINISHED;a.loadingIconDiv&&(c.removeChild(a.loadingIconDiv),delete a.loadingIconDiv);a._resetZoomLayer(!0);a.error=b;a.stats=d.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:!1});return b?
Promise.reject(b):Promise.resolve(void 0)},n=this.renderer===m.RendererType.SVG?this.paintOnSvg(b):this.paintOnCanvas(b);n.onRenderContinue=l;this.paintTask=n;b=n.promise.then(function(){return A(null).then(function(){if(e){var a=d.streamTextContent({normalizeWhitespace:!0});e.setTextContentStream(a);e.render()}})},function(a){return A(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(c,d,this.renderInteractiveForms,
this.l10n)),this.annotationLayer.render(this.viewport,"display"));c.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return b}},{key:"paintOnCanvas",value:function(a){var d=(0,p.createPromiseCapability)(),c={promise:d.promise,onRenderContinue:function(a){a()},cancel:function(){k.cancel()}},b=this.viewport,e=document.createElement("canvas");e.id=this.renderingId;e.setAttribute("hidden","hidden");var g=!0,l=function(){g&&(e.removeAttribute("hidden"),g=!1)};a.appendChild(e);this.canvas=
e;e.mozOpaque=!0;a=e.getContext("2d",{alpha:!1});var n=(0,m.getOutputScale)(a);this.outputScale=n;if(p.PDFJS.useOnlyCssZoom){var u=b.clone({scale:m.CSS_UNITS});n.sx*=u.width/b.width;n.sy*=u.height/b.height;n.scaled=!0}0<p.PDFJS.maxCanvasPixels&&(u=Math.sqrt(p.PDFJS.maxCanvasPixels/(b.width*b.height)),n.sx>u||n.sy>u?(n.sx=u,n.sy=u,this.hasRestrictedScaling=n.scaled=!0):this.hasRestrictedScaling=!1);var u=(0,m.approximateFraction)(n.sx),w=(0,m.approximateFraction)(n.sy);e.width=(0,m.roundToDivide)(b.width*
n.sx,u[0]);e.height=(0,m.roundToDivide)(b.height*n.sy,w[0]);e.style.width=(0,m.roundToDivide)(b.width,u[1])+"px";e.style.height=(0,m.roundToDivide)(b.height,w[1])+"px";this.paintedViewportMap.set(e,b);var k=this.pdfPage.render({canvasContext:a,transform:n.scaled?[n.sx,0,0,n.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms});k.onContinue=function(a){l();if(c.onRenderContinue)c.onRenderContinue(a);else a()};k.promise.then(function(){l();d.resolve(void 0)},function(a){l();
d.reject(a)});return c}},{key:"paintOnSvg",value:function(a){var d=this,c=!1,b=function(){if(c)throw new p.RenderingCancelledException("Rendering cancelled, page "+d.id,"svg");},e=this.pdfPage,l=this.viewport.clone({scale:m.CSS_UNITS});return{promise:e.getOperatorList().then(function(c){b();return(new p.SVGGraphics(e.commonObjs,e.objs)).getSVG(c,l).then(function(c){b();d.svg=c;d.paintedViewportMap.set(c,l);c.style.width=a.style.width;c.style.height=a.style.height;d.renderingState=g.RenderingStates.FINISHED;
a.appendChild(c)})}),onRenderContinue:function(a){a()},cancel:function(){c=!0}}}},{key:"setPageLabel",value:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return b}();b.PDFPageView=q},function(q,b,k){Object.defineProperty(b,"__esModule",{value:!0});var r=
function(){function b(b,g){for(var e=0;e<g.length;e++){var a=g[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(l,g,e){g&&b(l.prototype,g);e&&b(l,e);return l}}(),m={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};q=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=
this.printing=!1}r(b,[{key:"setViewer",value:function(b){this.pdfViewer=b}},{key:"setThumbnailViewer",value:function(b){this.pdfThumbnailViewer=b}},{key:"isHighestPriority",value:function(b){return this.highestPriorityPage===b.renderingId}},{key:"renderHighestPriority",value:function(b){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);this.pdfViewer.forceRendering(b)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||
!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))}},{key:"getHighestPriority",value:function(b,g,e){var a=b.views,d=a.length;if(0===d)return!1;for(var c=0;c<d;++c){var f=a[c].view;if(!this.isViewFinished(f))return f}b=e?b.last.id:b.first.id-2;return g[b]&&!this.isViewFinished(g[b])?g[b]:null}},{key:"isViewFinished",value:function(b){return b.renderingState===m.FINISHED}},{key:"renderView",value:function(b){var g=this;switch(b.renderingState){case m.FINISHED:return!1;case m.PAUSED:this.highestPriorityPage=
b.renderingId;b.resume();break;case m.RUNNING:this.highestPriorityPage=b.renderingId;break;case m.INITIAL:this.highestPriorityPage=b.renderingId;var e=function(){g.renderHighestPriority()};b.draw().then(e,e)}return!0}}]);return b}();b.RenderingStates=m;b.PDFRenderingQueue=q},function(q,b,k){function r(a){var c=[];this.push=function(d){var b=c.indexOf(d);0<=b&&c.splice(b,1);c.push(d);c.length>a&&c.shift().destroy()};this.resize=function(d){for(a=d;c.length>a;)c.shift().destroy()}}function m(a){return a.width<=
a.height}Object.defineProperty(b,"__esModule",{value:!0});b.BaseViewer=void 0;var p=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}(),l=k(0),g=k(1),e=k(7),a=k(4),d=k(2),c=k(6),f=k(3),h=k(5),x=/iphone|ipad|ipod|android|blackberry|bb10|mini|windowssce|palm/i.test(navigator.userAgent)?5:10;q=function(){function b(a){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");if(this.constructor===b)throw Error("Cannot initialize BaseViewer.");this._name=this.constructor.name;this.container=a.container;this.viewer=a.viewer||a.container.firstElementChild;this.eventBus=a.eventBus||(0,d.getGlobalEventBus)();this.linkService=a.linkService||new f.SimpleLinkService;this.downloadManager=a.downloadManager||null;this.removePageBorders=a.removePageBorders||!1;this.enhanceTextSelection=a.enhanceTextSelection||!1;this.renderInteractiveForms=
a.renderInteractiveForms||!1;this.enablePrintAutoRotate=a.enablePrintAutoRotate||!1;this.renderer=a.renderer||g.RendererType.CANVAS;this.l10n=a.l10n||g.NullL10n;(this.defaultRenderingQueue=!a.renderingQueue)?(this.renderingQueue=new e.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=a.renderingQueue;this.scroll=(0,g.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=g.PresentationModeState.UNKNOWN;this._resetView();this.removePageBorders&&
this.viewer.classList.add("removePageBorders")}p(b,[{key:"getPageView",value:function(a){return this._pages[a]}},{key:"_setCurrentPageNumber",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)c&&this._resetCurrentPageView();else if(0<a&&a<=this.pagesCount){var d={source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]};this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",d);this.eventBus.dispatch("pagechange",
d);c&&this._resetCurrentPageView()}else console.error(this._name+'._setCurrentPageNumber: "'+a+'" is out of bounds.')}},{key:"setDocument",value:function(a){var d=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=a){var b=a.numPages,e=(0,l.createPromiseCapability)();this.pagesPromise=e.promise;e.promise.then(function(){d._pageViewsReady=!0;d.eventBus.dispatch("pagesloaded",{source:d,pagesCount:b})});var f=!1,h=(0,l.createPromiseCapability)();this.onePageRendered=
h.promise;var n=function(a){a.onBeforeDraw=function(){d._buffer.push(a)};a.onAfterDraw=function(){f||(f=!0,h.resolve())}},k=a.getPage(1);this.firstPagePromise=k;k.then(function(f){var v=d.currentScale;f=f.getViewport(v*g.CSS_UNITS);for(var t=1;t<=b;++t){var w=null;l.PDFJS.disableTextLayer||(w=d);w=new c.PDFPageView({container:d._setDocumentViewerElement,eventBus:d.eventBus,id:t,scale:v,defaultViewport:f.clone(),renderingQueue:d.renderingQueue,textLayerFactory:w,annotationLayerFactory:d,enhanceTextSelection:d.enhanceTextSelection,
renderInteractiveForms:d.renderInteractiveForms,renderer:d.renderer,l10n:d.l10n});n(w);d._pages.push(w)}h.promise.then(function(){if(l.PDFJS.disableAutoFetch)e.resolve();else for(var c=b,f=function(b){a.getPage(b).then(function(a){var f=d._pages[b-1];f.pdfPage||f.setPdfPage(a);d.linkService.cachePageRef(b,a.ref);0===--c&&e.resolve()},function(a){console.error("Unable to get page "+b+" to initialize viewer",a);0===--c&&e.resolve()})},h=1;h<=b;++h)f(h)});d.eventBus.dispatch("pagesinit",{source:d});
d.defaultRenderingQueue&&d.update();d.findController&&d.findController.resolveFirstPage()}).catch(function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",value:function(a){if(this.pdfDocument){a?a instanceof Array&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error(this._name+".setPageLabels: Invalid page labels.")):this._pageLabels=null;a=0;for(var c=this._pages.length;a<c;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},
{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=g.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new r(x);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(a){throw Error("Not implemented: _scrollIntoView");}},{key:"_setScaleDispatchEvent",value:function(a,
c){var d={source:this,scale:a,presetValue:2<arguments.length&&void 0!==arguments[2]&&arguments[2]?c:void 0};this.eventBus.dispatch("scalechanging",d);this.eventBus.dispatch("scalechange",d)}},{key:"_setScaleUpdatePages",value:function(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=c.toString();var e;e=this._currentScale;e=a===e?!0:1E-15>Math.abs(a-e)?!0:!1;if(e)b&&this._setScaleDispatchEvent(a,
c,!0);else{e=0;for(var f=this._pages.length;e<f;e++)this._pages[e].update(a);this._currentScale=a;d||(d=this._currentPageNumber,e=void 0,!this._location||l.PDFJS.ignoreCurrentPositionOnZoom||this.isInPresentationMode||this.isChangingPresentationMode||(d=this._location.pageNumber,e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:d,destArray:e,allowNegativeOffset:!0}));this._setScaleDispatchEvent(a,c,b);this.defaultRenderingQueue&&this.update()}}},
{key:"_setScale",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=parseFloat(a);if(0<d)this._setScaleUpdatePages(d,a,c,!1);else if(d=this._pages[this._currentPageNumber-1]){var b=(this.container.clientWidth-(this.isInPresentationMode||this.removePageBorders?0:g.SCROLLBAR_PADDING))/d.width*d.scale,e=(this.container.clientHeight-(this.isInPresentationMode||this.removePageBorders?0:g.VERTICAL_PADDING))/d.height*d.scale;switch(a){case "page-actual":d=1;break;case "page-width":d=
b;break;case "page-height":d=e;break;case "page-fit":d=Math.min(b,e);break;case "auto":d=Math.min(g.MAX_AUTO_SCALE,d.width>d.height?Math.min(e,b):b);break;default:console.error(this._name+'._setScale: "'+a+'" is an unknown zoom value.');return}this._setScaleUpdatePages(d,a,c,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",
value:function(a){if(this.pdfDocument){var c=a.pageNumber||0,d=a.destArray||null;a=a.allowNegativeOffset||!1;if(this.isInPresentationMode||!d)this._setCurrentPageNumber(c,!0);else{var b=this._pages[c-1];if(b){var e=0,f=0,h=0,n=0,l,v;v=0===b.rotation%180?!1:!0;l=(v?b.height:b.width)/b.scale/g.CSS_UNITS;v=(v?b.width:b.height)/b.scale/g.CSS_UNITS;switch(d[1].name){case "XYZ":e=d[2];f=d[3];l=d[4];e=null!==e?e:0;f=null!==f?f:v;break;case "Fit":case "FitB":l="page-fit";break;case "FitH":case "FitBH":f=
d[2];l="page-width";null===f&&this._location&&(e=this._location.left,f=this._location.top);break;case "FitV":case "FitBV":e=d[2];h=l;n=v;l="page-height";break;case "FitR":e=d[2];f=d[3];h=d[4]-e;n=d[5]-f;v=this.removePageBorders?0:g.VERTICAL_PADDING;l=(this.container.clientWidth-(this.removePageBorders?0:g.SCROLLBAR_PADDING))/h/g.CSS_UNITS;v=(this.container.clientHeight-v)/n/g.CSS_UNITS;l=Math.min(Math.abs(l),Math.abs(v));break;default:console.error(this._name+'.scrollPageIntoView: "'+d[1].name+'" is not a valid destination type.');
return}l&&l!==this._currentScale?this.currentScaleValue=l:this._currentScale===g.UNKNOWN_SCALE&&(this.currentScaleValue=g.DEFAULT_SCALE_VALUE);"page-fit"!==l||d[4]?(e=[b.viewport.convertToViewportPoint(e,f),b.viewport.convertToViewportPoint(e+h,f+n)],d=Math.min(e[0][0],e[1][0]),e=Math.min(e[0][1],e[1][1]),a||(d=Math.max(d,0),e=Math.max(e,0)),this._scrollIntoView({pageDiv:b.div,pageSpot:{left:d,top:e},pageNumber:c})):this._scrollIntoView({pageDiv:b.div,pageNumber:c})}else console.error(this._name+
'.scrollPageIntoView: Invalid "pageNumber" parameter.')}}}},{key:"_resizeBuffer",value:function(a){this._buffer.resize(Math.max(x,2*a+1))}},{key:"_updateLocation",value:function(a){var c=this._currentScale,d=this._currentScaleValue,c=parseFloat(d)===c?Math.round(1E4*c)/100:d,d=a.id,b;b="#page="+d+("&zoom="+c);var e=this.container,e=this._pages[d-1].getPagePoint(e.scrollLeft-a.x,e.scrollTop-a.y);a=Math.round(e[0]);e=Math.round(e[1]);this._location={pageNumber:d,scale:c,top:e,left:a,rotation:this._pagesRotation,
pdfOpenParams:b+(","+a+","+e)}}},{key:"update",value:function(){throw Error("Not implemented: update");}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){throw Error("Not implemented: _getVisiblePages");}},{key:"cleanup",value:function(){for(var a=0,c=this._pages.length;a<c;a++)this._pages[a]&&this._pages[a].renderingState!==e.RenderingStates.FINISHED&&this._pages[a].reset()}},
{key:"_cancelRendering",value:function(){for(var a=0,c=this._pages.length;a<c;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var c=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var d=a.id;if(this._pagesRequests[d])return this._pagesRequests[d];var b=this.pdfDocument.getPage(d).then(function(b){a.pdfPage||a.setPdfPage(b);c._pagesRequests[d]=null;return b}).catch(function(a){console.error("Unable to get page for page view",a);c._pagesRequests[d]=
null});return this._pagesRequests[d]=b}},{key:"forceRendering",value:function(a){var c=this;a=a||this._getVisiblePages();var d=this.renderingQueue.getHighestPriority(a,this._pages,this.scroll.down);return d?(this._ensurePdfPageLoaded(d).then(function(){c.renderingQueue.renderView(d)}),!0):!1}},{key:"getPageTextContent",value:function(a){return this.pdfDocument.getPage(a+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(a,c,d){var b=
3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new h.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:c,viewport:d,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:b})}},{key:"createAnnotationLayerBuilder",value:function(c,d){return new a.AnnotationLayerBuilder({pageDiv:c,pdfPage:d,renderInteractiveForms:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,linkService:this.linkService,downloadManager:this.downloadManager,
l10n:3<arguments.length&&void 0!==arguments[3]?arguments[3]:g.NullL10n})}},{key:"setFindController",value:function(a){this.findController=a}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport(1);return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var c=m(a[0]);return a.map(function(a){return c===m(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"pagesCount",get:function(){return this._pages.length}},
{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if(!Number.isInteger(a))throw Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(a,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){var c=a|0;this._pageLabels&&(a=this._pageLabels.indexOf(a),0<=a&&(c=a+1));this.currentPageNumber=c}},{key:"currentScale",
get:function(){return this._currentScale!==g.UNKNOWN_SCALE?this._currentScale:g.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!(0,g.isValidRotation)(a))throw Error("Invalid pages rotation angle.");if(this.pdfDocument&&
this._pagesRotation!==a){this._pagesRotation=a;for(var c=this._currentPageNumber,d=0,b=this._pages.length;d<b;d++){var e=this._pages[d];e.update(e.scale,a)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:a,pageNumber:c});this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw Error("Not implemented: _setDocumentViewerElement");}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===
g.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===g.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],c=1,d=this._pages.length;c<d;++c){var b=this._pages[c];if(b.width!==a.width||b.height!==a.height)return!1}return!0}}]);return b}();b.BaseViewer=
q},function(q,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.PDFJS=void 0;q=k(4);var r=k(5),m=k(1),p=k(3),l=k(10),g=k(11),e=k(13),a=k(14),d=k(0),c=d&&d.__esModule?d:{default:d},d=k(6),f=k(15);k=k(16);c=c.default.PDFJS;c.PDFViewer=k.PDFViewer;c.PDFSinglePageViewer=f.PDFSinglePageViewer;c.PDFPageView=d.PDFPageView;c.PDFLinkService=p.PDFLinkService;c.SimpleLinkService=p.SimpleLinkService;c.TextLayerBuilder=r.TextLayerBuilder;c.DefaultTextLayerFactory=r.DefaultTextLayerFactory;c.AnnotationLayerBuilder=
q.AnnotationLayerBuilder;c.DefaultAnnotationLayerFactory=q.DefaultAnnotationLayerFactory;c.PDFHistory=a.PDFHistory;c.PDFFindController=e.PDFFindController;c.EventBus=m.EventBus;c.DownloadManager=l.DownloadManager;c.ProgressBar=m.ProgressBar;c.GenericL10n=g.GenericL10n;c.NullL10n=m.NullL10n;b.PDFJS=c},function(q,b,k){function r(b,g){var e=document.createElement("a");e.click?(e.href=b,e.target="_parent","download"in e&&(e.download=g),(document.body||document.documentElement).appendChild(e),e.click(),
e.parentNode.removeChild(e)):(window.top===window&&b.split("#")[0]===window.location.href.split("#")[0]&&(g=-1===b.indexOf("?")?"?":"&",b=b.replace(/#|$/,g+"$&")),window.open(b,"_parent"))}Object.defineProperty(b,"__esModule",{value:!0});b.DownloadManager=void 0;var m=function(){function b(b,e){for(var a=0;a<e.length;a++){var d=e[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(g,e,a){e&&b(g.prototype,e);a&&b(g,a);return g}}(),
p=k(0);q=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");}m(b,[{key:"downloadUrl",value:function(b,e){(0,p.createValidAbsoluteUrl)(b,"http://example.com")&&r(b+"#pdfjs.action=download",e)}},{key:"downloadData",value:function(b,e,a){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([b],{type:a}),e);b=(0,p.createObjectURL)(b,a,p.PDFJS.disableCreateObjectURL);r(b,e)}},{key:"download",value:function(b,e,a){navigator.msSaveBlob?navigator.msSaveBlob(b,
a)||this.downloadUrl(e,a):p.PDFJS.disableCreateObjectURL?this.downloadUrl(e,a):(b=URL.createObjectURL(b),r(b,a))}}]);return b}();b.DownloadManager=q},function(q,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.GenericL10n=void 0;var r=function(){function b(b,g){for(var e=0;e<g.length;e++){var a=g[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(l,g,e){g&&b(l.prototype,g);e&&b(l,e);return l}}();k(12);var m=document.webL10n;
q=function(){function b(l){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._lang=l;this._ready=new Promise(function(b,e){m.setLanguage(l,function(){b(m)})})}r(b,[{key:"getDirection",value:function(){return this._ready.then(function(b){return b.getDirection()})}},{key:"get",value:function(b,g,e){return this._ready.then(function(a){return a.get(b,g,e)})}},{key:"translate",value:function(b){return this._ready.then(function(g){return g.translate(b)})}}]);return b}();
b.GenericL10n=q},function(q,b,k){document.webL10n=function(b,k,q){function l(){var a=k.querySelector('script[type="application/l10n"]');return a?JSON.parse(a.innerHTML):null}function g(a){var c=k.createEvent("Event");c.initEvent("localized",!0,!1);c.language=a;k.dispatchEvent(c)}function e(a,c,d){c=c||function(a){};d=d||function(){};var b=new XMLHttpRequest;b.open("GET",a,!0);b.overrideMimeType&&b.overrideMimeType("text/plain; charset=utf-8");b.onreadystatechange=function(){4==b.readyState&&(200==
b.status||0===b.status?c(b.responseText):d())};b.onerror=d;b.ontimeout=d;try{b.send(null)}catch(B){d()}}function a(a,c,d,b){function f(a,d){function b(a,d,b){function e(){for(;;){if(!t.length){b();break}var a=t.shift();if(!k.test(a)){if(d){if(p=l.exec(a)){z=p[1].toLowerCase();y="*"!==z&&z!==c&&z!==x;continue}else if(y)continue;if(p=m.exec(a)){f(h+p[1],e);break}}var g=a.match(n);g&&3==g.length&&(a=g[1],g=g[2],g=0>g.lastIndexOf("\\")?g:g.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,
"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"),v[a]=g)}}}var t=a.replace(g,"").split(/[\r\n]+/),z="*",x=c.split("-",1)[0],y=!1,p="";e()}function f(a,c){e(a,function(a){b(a,!1,c)},function(){console.warn(a+" not found.");c()})}var v={},g=/^\s*|\s*$/,k=/^\s*#|^\s*$/,l=/^\s*\[(.*)\]\s*$/,m=/^\s*@import\s+url\((.*)\)\s*$/i,n=/^([^=\s]*)\s*=\s*(.+)$/;b(a,!0,function(){d(v)})}var h=a.replace(/[^\/]*$/,"")||"./";e(a,function(a){n+=
a;f(a,function(a){for(var c in a){var b,e;e=c.lastIndexOf(".");0<e?(b=c.substring(0,e),e=c.substr(e+1)):(b=c,e="textContent");m[b]||(m[b]={});m[b][e]=a[c]}d&&d()})},b)}function d(c,d){function b(c){var d=c.href;this.load=function(c,b){a(d,c,b,function(){console.warn(d+" not found.");console.warn('"'+c+'" resource not found');u="";b()})}}c&&(c=c.toLowerCase());d=d||function(){};m={};u=n="";u=c;var e=k.querySelectorAll('link[type="application/l10n"]'),f=e.length;if(0===f){if((e=l())&&e.locales&&e.default_locale){console.log("using the embedded JSON directory, early way out");
m=e.locales[c];if(!m){var h=e.default_locale.toLowerCase(),t;for(t in e.locales)if(t=t.toLowerCase(),t===c){m=e.locales[c];break}else t===h&&(m=e.locales[h])}d()}else console.log("no resource to load, early way out");g(c);r="complete"}else{t=null;var x=0;t=function(){x++;x>=f&&(d(),g(c),r="complete")};for(h=0;h<f;h++)(new b(e[h])).load(c,t)}}function c(a){function c(a,c){return-1!==c.indexOf(a)}function d(a,c,d){return c<=a&&a<=d}var b={0:function(a){return"other"},1:function(a){return d(a%100,3,
10)?"few":0===a?"zero":d(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return d(a,0,1)?"one":"other"},5:function(a){return d(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return d(a,3,6)?"few":d(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===
a||1!=a&&d(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return d(a%10,2,9)&&!d(a%100,11,19)?"few":1!=a%10||d(a%100,11,19)?"other":"one"},11:function(a){return d(a%10,2,4)&&!d(a%100,12,14)?"few":0===a%10||d(a%10,5,9)||d(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return d(a,2,4)?"few":1==a?"one":"other"},13:function(a){return d(a%10,2,4)&&!d(a%100,12,14)?"few":1!=a&&d(a%10,0,1)||d(a%10,5,9)||d(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return d(a%100,3,
4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||d(a%100,2,10)?"few":d(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":d(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return d(a,2,10)?"few":d(a,0,1)?"one":"other"},20:function(a){return!d(a%10,3,4)&&9!=a%10||d(a%100,10,19)||d(a%100,70,79)||d(a%100,90,
99)?0===a%1E6&&0!==a?"many":2!=a%10||c(a%100,[12,72,92])?1!=a%10||c(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return d(a,0,1)||d(a,11,99)?"one":"other"},23:function(a){return d(a%10,1,2)||0===a%20?"one":"other"},24:function(a){return d(a,3,10)||d(a,13,19)?"few":c(a,[2,12])?"two":c(a,[1,11])?"one":"other"}},e={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,
da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,
ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return e in b?b[e]:(console.warn("plural form unknown for ["+a+"]"),function(){return"other"})}function f(a,c,d){var b=m[a];if(!b){console.warn("#"+a+" is undefined.");if(!d)return null;
b=d}d={};for(var e in b){var f=b[e];var g=void 0,k=c,l=a,n=e,t=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(f);if(t&&t.length){var x=t[1],t=t[2];k&&t in k?g=k[t]:t in m&&(g=m[t]);x in p&&(f=(0,p[x])(f,g,l,n))}f=h(f,c,a);d[e]=f}return d}function h(a,c,d){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,b){if(c&&b in c)return c[b];if(b in m)return m[b];console.log("argument {{"+b+"}} for #"+d+" is undefined.");return a})}function x(a){var c,d;if(a){c=a.getAttribute("data-l10n-id");var b=a.getAttribute("data-l10n-args");
d={};if(b)try{d=JSON.parse(b)}catch(C){console.warn("could not parse arguments for #"+c)}}else d=c=void 0;if(c)if(d=f(c,d)){if(d.textContent){if(a.children)c=a.children.length;else if("undefined"!==typeof a.childElementCount)c=a.childElementCount;else for(b=c=0;b<a.childNodes.length;b++)c+=1===a.nodeType?1:0;if(0===c)a.textContent=d.textContent;else{c=a.childNodes;for(var b=!1,e=0,h=c.length;e<h;e++)3===c[e].nodeType&&/\S/.test(c[e].nodeValue)&&(b?c[e].nodeValue="":(c[e].nodeValue=d.textContent,b=
!0));b||(c=k.createTextNode(d.textContent),a.insertBefore(c,a.firstChild))}delete d.textContent}for(var g in d)a[g]=d[g]}else console.warn("#"+c+" is undefined.")}var m={},n="",u="",p={},r="loading";p.plural=function(a,d,b,e){d=parseFloat(d);if(isNaN(d)||"textContent"!=e)return a;p._pluralRules||(p._pluralRules=c(u));var f="["+p._pluralRules(d)+"]";0===d&&b+"[zero]"in m?a=m[b+"[zero]"][e]:1==d&&b+"[one]"in m?a=m[b+"[one]"][e]:2==d&&b+"[two]"in m?a=m[b+"[two]"][e]:b+f in m?a=m[b+f][e]:b+"[other]"in
m&&(a=m[b+"[other]"][e]);return a};return{get:function(a,c,d){var b=a.lastIndexOf("."),e="textContent";0<b&&(e=a.substr(b+1),a=a.substring(0,b));var h;d&&(h={},h[e]=d);return(c=f(a,c,h))&&e in c?c[e]:"{{"+a+"}}"},getData:function(){return m},getText:function(){return n},getLanguage:function(){return u},setLanguage:function(a,c){d(a,function(){c&&c()})},getDirection:function(){var a=u.split("-",1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(a)?"rtl":"ltr"},translate:function(a){for(var c=(a=a||
k.documentElement)?a.querySelectorAll("*[data-l10n-id]"):[],d=c.length,b=0;b<d;b++)x(c[b]);x(a)},getReadyState:function(){return r},ready:function(a){a&&("complete"==r||"interactive"==r?b.setTimeout(function(){a()}):k.addEventListener&&k.addEventListener("localized",function z(){k.removeEventListener("localized",z);a()}))}}}(window,document)},function(q,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.PDFFindController=b.FindState=void 0;var r=function(){function b(a,d){for(var c=0;c<d.length;c++){var b=
d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(a,d,c){d&&b(a.prototype,d);c&&b(a,c);return a}}(),m=k(0),p=k(1),l={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},g={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"};q=function(){function b(a){a=a.pdfViewer;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.pdfViewer=a;this.onUpdateState=this.onUpdateResultsCount=null;this.reset();a=Object.keys(g).join("");this.normalizationRegex=new RegExp("["+a+"]","g")}r(b,[{key:"reset",value:function(){var a=this;this.startedTextExtraction=!1;this.extractTextPromises=[];this.pendingFindMatches=Object.create(null);this.active=!1;this.pageContents=[];this.pageMatches=[];this.pageMatchesLength=null;this.matchCount=0;this.selected={pageIdx:-1,matchIdx:-1};this.offset={pageIdx:null,matchIdx:null};this.state=this.resumePageIdx=
this.pagesToSearch=null;this.dirtyMatch=!1;this.findTimeout=null;this._firstPagePromise=new Promise(function(d){a.resolveFirstPage=d})}},{key:"normalize",value:function(a){return a.replace(this.normalizationRegex,function(a){return g[a]})}},{key:"_prepareMatches",value:function(a,d,c){function b(a,c){var d=a[c],b=a[c+1];if(c<a.length-1&&d.match===b.match)return d.skipped=!0;for(--c;0<=c;c--)if(b=a[c],!b.skipped){if(b.match+b.matchLength<d.match)break;if(b.match+b.matchLength>=d.match+d.matchLength)return d.skipped=
!0}return!1}a.sort(function(a,c){return a.match===c.match?a.matchLength-c.matchLength:a.match-c.match});for(var e=0,g=a.length;e<g;e++)b(a,e)||(d.push(a[e].match),c.push(a[e].matchLength))}},{key:"calcFindPhraseMatch",value:function(a,d,c){for(var b=[],e=a.length,g=-e;;){g=c.indexOf(a,g+e);if(-1===g)break;b.push(g)}this.pageMatches[d]=b}},{key:"calcFindWordMatch",value:function(a,d,c){var b=[];a=a.match(/\S+/g);for(var e=0,g=a.length;e<g;e++)for(var k=a[e],l=k.length,m=-l;;){m=c.indexOf(k,m+l);if(-1===
m)break;b.push({match:m,matchLength:l,skipped:!1})}this.pageMatchesLength||(this.pageMatchesLength=[]);this.pageMatchesLength[d]=[];this.pageMatches[d]=[];this._prepareMatches(b,this.pageMatches[d],this.pageMatchesLength[d])}},{key:"calcFindMatch",value:function(a){var d=this.normalize(this.pageContents[a]),c=this.normalize(this.state.query),b=this.state.phraseSearch;0!==c.length&&(this.state.caseSensitive||(d=d.toLowerCase(),c=c.toLowerCase()),b?this.calcFindPhraseMatch(c,a,d):this.calcFindWordMatch(c,
a,d),this.updatePage(a),this.resumePageIdx===a&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[a].length&&(this.matchCount+=this.pageMatches[a].length,this.updateUIResultsCount()))}},{key:"extractText",value:function(){var a=this;if(!this.startedTextExtraction){this.startedTextExtraction=!0;this.pageContents.length=0;for(var d=Promise.resolve(),c=function(c,b){var e=(0,m.createPromiseCapability)();a.extractTextPromises[c]=e.promise;d=d.then(function(){return a.pdfViewer.getPageTextContent(c).then(function(d){d=
d.items;for(var b=[],f=0,h=d.length;f<h;f++)b.push(d[f].str);a.pageContents[c]=b.join("");e.resolve(c)},function(d){console.error("Unable to get page "+(c+1)+" text content",d);a.pageContents[c]="";e.resolve(c)})})},b=0,e=this.pdfViewer.pagesCount;b<e;b++)c(b,e)}}},{key:"executeCommand",value:function(a,d){var c=this;if(null===this.state||"findagain"!==a)this.dirtyMatch=!0;this.state=d;this.updateUIState(l.PENDING);this._firstPagePromise.then(function(){c.extractText();clearTimeout(c.findTimeout);
"find"===a?c.findTimeout=setTimeout(c.nextMatch.bind(c),250):c.nextMatch()})}},{key:"updatePage",value:function(a){this.selected.pageIdx===a&&(this.pdfViewer.currentPageNumber=a+1);a=this.pdfViewer.getPageView(a);a.textLayer&&a.textLayer.updateMatches()}},{key:"nextMatch",value:function(){var a=this,d=this.state.findPrevious,c=this.pdfViewer.currentPageNumber-1,b=this.pdfViewer.pagesCount;this.active=!0;if(this.dirtyMatch)for(this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=
c,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[],this.matchCount=0,this.pageMatchesLength=null,c=0;c<b;c++)this.updatePage(c),c in this.pendingFindMatches||(this.pendingFindMatches[c]=!0,this.extractTextPromises[c].then(function(c){delete a.pendingFindMatches[c];a.calcFindMatch(c)}));if(""===this.state.query)this.updateUIState(l.FOUND);else if(!this.resumePageIdx){c=this.offset;this.pagesToSearch=b;if(null!==c.matchIdx){b=this.pageMatches[c.pageIdx].length;
if(!d&&c.matchIdx+1<b||d&&0<c.matchIdx){this.hadMatch=!0;c.matchIdx=d?c.matchIdx-1:c.matchIdx+1;this.updateMatch(!0);return}this.advanceOffsetPage(d)}this.nextPageMatch()}}},{key:"matchesReady",value:function(a){var d=this.offset;a=a.length;var c=this.state.findPrevious;if(a)return this.hadMatch=!0,d.matchIdx=c?a-1:0,this.updateMatch(!0),!0;this.advanceOffsetPage(c);return d.wrapped&&(d.matchIdx=null,0>this.pagesToSearch)?(this.updateMatch(!1),!0):!1}},{key:"updateMatchPosition",value:function(a,
d,c,b){this.selected.matchIdx===d&&this.selected.pageIdx===a&&(0,p.scrollIntoView)(c[b],{top:-50,left:-400},!0)}},{key:"nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");var a;do{var b=this.offset.pageIdx;a=this.pageMatches[b];if(!a){this.resumePageIdx=b;break}}while(!this.matchesReady(a))}},{key:"advanceOffsetPage",value:function(a){var b=this.offset,c=this.extractTextPromises.length;b.pageIdx=a?b.pageIdx-1:b.pageIdx+1;b.matchIdx=null;
this.pagesToSearch--;if(b.pageIdx>=c||0>b.pageIdx)b.pageIdx=a?c-1:0,b.wrapped=!0}},{key:"updateMatch",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,b=l.NOT_FOUND,c=this.offset.wrapped;this.offset.wrapped=!1;a&&(a=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,b=c?l.WRAPPED:l.FOUND,-1!==a&&a!==this.selected.pageIdx&&this.updatePage(a));this.updateUIState(b,this.state.findPrevious);-1!==this.selected.pageIdx&&
this.updatePage(this.selected.pageIdx)}},{key:"updateUIResultsCount",value:function(){if(this.onUpdateResultsCount)this.onUpdateResultsCount(this.matchCount)}},{key:"updateUIState",value:function(a,b){if(this.onUpdateState)this.onUpdateState(a,b,this.matchCount)}}]);return b}();b.FindState=l;b.PDFFindController=q},function(q,b,k){function r(a){var c=unescape(document.location.hash).substring(1),b=(0,e.parseQueryString)(c).page|0;Number.isInteger(b)&&0<b&&b<=a.pagesCount||(b=null);return{hash:c,page:b,
rotation:a.rotation}}function m(a,c){return"string"!==typeof a||"string"!==typeof c?!1:a===c||(0,e.parseQueryString)(a).nameddest===c?!0:!1}function p(a,c){function b(a,c){if(("undefined"===typeof a?"undefined":l(a))!==("undefined"===typeof c?"undefined":l(c))||a instanceof Array||c instanceof Array)return!1;if(null!==a&&"object"===("undefined"===typeof a?"undefined":l(a))&&null!==c){if(Object.keys(a).length!==Object.keys(c).length)return!1;for(var d in a)if(!b(a[d],c[d]))return!1;return!0}return a===
c||Number.isNaN(a)&&Number.isNaN(c)}if(!(a instanceof Array&&c instanceof Array)||a.length!==c.length)return!1;for(var d=0,e=a.length;d<e;d++)if(!b(a[d],c[d]))return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0});b.isDestArraysEqual=b.isDestHashesEqual=b.PDFHistory=void 0;var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,
b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),e=k(1),a=k(2);q=function(){function b(c){var d=this,e=c.linkService;c=c.eventBus;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.linkService=e;this.eventBus=c||(0,a.getGlobalEventBus)();this.initialized=!1;this.initialRotation=this.initialBookmark=
null;this._boundEvents=Object.create(null);this._isPagesLoaded=this._isViewerInPresentationMode=!1;this.eventBus.on("presentationmodechanged",function(a){d._isViewerInPresentationMode=a.active||a.switchInProgress});this.eventBus.on("pagesloaded",function(a){d._isPagesLoaded=!!a.pagesCount})}g(b,[{key:"initialize",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(a&&"string"===typeof a){var b=this.initialized&&this.fingerprint!==a;this.fingerprint=a;this.initialized||
this._bindEvents();var d=window.history.state;this.initialized=!0;this.initialRotation=this.initialBookmark=null;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=document.location.hash;this._uid=this._maxUid=this._numPositionUpdates=0;this._position=this._destination=null;if(!this._isValidState(d)||c){var e=r(this.linkService),d=e.hash,g=e.page,e=e.rotation;!d||b||c?this._pushOrReplaceState(null,!0):this._pushOrReplaceState({hash:d,page:g,rotation:e},!0)}else c=d.destination,
this._updateInternalState(c,d.uid,!0),void 0!==c.rotation&&(this.initialRotation=c.rotation),c.dest?(this.initialBookmark=JSON.stringify(c.dest),this._destination.page=null):c.hash?this.initialBookmark=c.hash:c.page&&(this.initialBookmark="page="+c.page)}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"push",value:function(a){var c=this,b=a.namedDest,d=a.explicitDest;a=a.pageNumber;if(this.initialized)if((!b||"string"===typeof b)&&d instanceof Array&&
Number.isInteger(a)&&0<a&&a<=this.linkService.pagesCount){if(b=b||JSON.stringify(d)){var e=!1;if(this._destination&&(m(this._destination.hash,b)||p(this._destination.dest,d))){if(this._destination.page)return;e=!0}if(!this._popStateInProgress||e)this._pushOrReplaceState({dest:d,hash:b,page:a,rotation:this.linkService.rotation},e),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){c._popStateInProgress=!1}))}}else console.error("PDFHistory.push: Invalid parameters.")}},
{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&0<a.uid&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var a=window.history.state;this._isValidState(a)&&a.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(a){var c=
(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)||!this._destination,b={fingerprint:this.fingerprint,uid:c?this._uid:this._uid+1,destination:a};this._updateInternalState(a,b.uid);c?window.history.replaceState(b,"",document.URL):(this._maxUid=this._uid,window.history.pushState(b,"",document.URL))}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var a=this._position;0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(a=(0,e.cloneObj)(this._position),a.temporary=
!0);if(!this._destination)this._pushOrReplaceState(a);else if(this._destination.temporary)this._pushOrReplaceState(a,!0);else if(!(this._destination.hash===a.hash||!this._destination.page&&50>=this._numPositionUpdates)){var b=!1;if(this._destination.page===a.first||this._destination.page===a.page){if(this._destination.dest||!this._destination.first)return;b=!0}this._pushOrReplaceState(a,b)}}}},{key:"_isValidState",value:function(a){return!a||a.fingerprint!==this.fingerprint||!Number.isInteger(a.uid)||
0>a.uid||null===a.destination||"object"!==l(a.destination)?!1:!0}},{key:"_updateInternalState",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);c&&a&&a.temporary&&delete a.temporary;this._destination=a;this._uid=b;this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(a){var c=this;a=a.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),
this._updateViewareaTimeout=null);this._position={hash:this._isViewerInPresentationMode?"page="+a.pageNumber:a.pdfOpenParams.substring(1),page:this.linkService.page,first:a.pageNumber,rotation:a.rotation};this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){c._popStateInProgress||c._tryPushCurrentPosition(!0);c._updateViewareaTimeout=null},1E3))}},{key:"_popState",value:function(a){var b=
this;a=a.state;var c=document.location.hash,d=this._currentHash!==c;this._currentHash=c;a?this._isValidState(a)&&(this._popStateInProgress=!0,d&&(this._blockHashChange++,(0,e.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1E3}).then(function(){b._blockHashChange--})),c=a.destination,this._updateInternalState(c,a.uid,!0),(0,e.isValidRotation)(c.rotation)&&(this.linkService.rotation=c.rotation),c.dest?this.linkService.navigateTo(c.dest):c.hash?this.linkService.setHash(c.hash):c.page&&
(this.linkService.page=c.page),Promise.resolve().then(function(){b._popStateInProgress=!1})):(this._uid++,a=r(this.linkService),this._pushOrReplaceState({hash:a.hash,page:a.page,rotation:a.rotation},!0))}},{key:"_bindEvents",value:function(){var a=this,b=this._boundEvents,d=this.eventBus;b.updateViewarea=this._updateViewarea.bind(this);b.popState=this._popState.bind(this);b.pageHide=function(b){a._destination||a._tryPushCurrentPosition()};d.on("updateviewarea",b.updateViewarea);window.addEventListener("popstate",
b.popState);window.addEventListener("pagehide",b.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}]);return b}();b.PDFHistory=q;b.isDestHashesEqual=m;b.isDestArraysEqual=p},function(q,b,k){function r(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function m(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});b.PDFSinglePageViewer=void 0;var p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),
l=function d(b,e,h){null===b&&(b=Function.prototype);var c=Object.getOwnPropertyDescriptor(b,e);if(void 0===c){if(b=Object.getPrototypeOf(b),null!==b)return d(b,e,h)}else{if("value"in c)return c.value;e=c.get;return void 0===e?void 0:e.call(h)}};q=k(8);var g=k(1),e=k(0);k=function(b){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d=r(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,b));d.eventBus.on("pagesinit",function(b){d._ensurePageViewVisible()});
return d}m(c,b);p(c,[{key:"_resetView",value:function(){l(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_resetView",this).call(this);this._previousPageNumber=1;this._shadowViewer=document.createDocumentFragment()}},{key:"_ensurePageViewVisible",value:function(){var b=this._pages[this._currentPageNumber-1],c=this._pages[this._previousPageNumber-1],d=this.viewer.childNodes;switch(d.length){case 0:this.viewer.appendChild(b.div);break;case 1:if(d[0]!==c.div)throw Error("_ensurePageViewVisible: Unexpected previously visible page.");
if(b===c)break;this._shadowViewer.appendChild(c.div);this.viewer.appendChild(b.div);this.container.scrollTop=0;break;default:throw Error("_ensurePageViewVisible: Only one page should be visible at a time.");}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown();l(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(b){var c=this,d=b.pageDiv,
e=b.pageSpot,e=void 0===e?null:e;b=b.pageNumber;(b=void 0===b?null:b)&&this._setCurrentPageNumber(b);var f=this._currentPageNumber>=this._previousPageNumber,k=this._location;this._ensurePageViewVisible();(0,g.scrollIntoView)(d,e);this._updateScrollDown=function(){c.scroll.down=f;delete c._updateScrollDown};setTimeout(function(){c._location===k&&(c._updateScrollDown&&c._updateScrollDown(),c.update())},0)}},{key:"_getVisiblePages",value:function(){if(!this.pagesCount)return{views:[]};var b=this._pages[this._currentPageNumber-
1],c=b.div,b={id:b.id,x:c.offsetLeft+c.clientLeft,y:c.offsetTop+c.clientTop,view:b};return{first:b,last:b,views:[b]}}},{key:"update",value:function(){var b=this._getVisiblePages(),c=b.views.length;0!==c&&(this._resizeBuffer(c),this.renderingQueue.renderHighestPriority(b),this._updateLocation(b.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location}))}},{key:"_setDocumentViewerElement",get:function(){return(0,e.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}}]);
return c}(q.BaseViewer);b.PDFSinglePageViewer=k},function(q,b,k){function r(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}Object.defineProperty(b,"__esModule",{value:!0});b.PDFViewer=void 0;var m=function(){function b(b,a){for(var d=0;d<a.length;d++){var c=
a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(e,a,d){a&&b(e.prototype,a);d&&b(e,d);return e}}(),p=k(1);q=k(8);var l=k(0);k=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var a=(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&
"function"!==typeof a?this:a}r(e,b);m(e,[{key:"_scrollIntoView",value:function(a){var b=a.pageDiv;a=a.pageSpot;a=void 0===a?null:a;(0,p.scrollIntoView)(b,a)}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,p.getVisibleElements)(this.container,this._pages,!0);var a=this._pages[this._currentPageNumber-1];return{first:a,last:a,views:[{id:a.id,view:a}]}}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views,c=b.length;if(0!==c){this._resizeBuffer(c);
this.renderingQueue.renderHighestPriority(a);for(var e=this._currentPageNumber,g=!1,k=0;k<c;++k){var l=b[k];if(100>l.percent)break;if(l.id===e){g=!0;break}}g||(e=b[0].id);this.isInPresentationMode||this._setCurrentPageNumber(e);this._updateLocation(a.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"_setDocumentViewerElement",get:function(){return(0,l.shadow)(this,"_setDocumentViewerElement",this.viewer)}}]);return e}(q.BaseViewer);b.PDFViewer=k}])});
