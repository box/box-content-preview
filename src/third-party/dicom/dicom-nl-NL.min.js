(function(){'use strict';var g,aa=aa||{},n=this;function q(a){return void 0!==a}function ba(){}function da(a){a.ga=function(){return a.Qe?a.Qe:a.Qe=new a}}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function fa(a){return"array"==ea(a)}function ga(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function ha(a){return"number"==typeof a}function ia(a){return"function"==ea(a)}function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ka(a){return a[la]||(a[la]=++ma)}var la="closure_uid_"+(1E9*Math.random()>>>0),ma=0;
function na(a,b,c){return a.call.apply(a.bind,arguments)}function oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function pa(a,b,c){pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:oa;return pa.apply(null,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function sa(a,b){var c=a.split("."),d=n;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&q(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}
function v(a,b){function c(){}c.prototype=b.prototype;a.A=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.ti=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};sa("box.dicom.core.Tag",{AdditionalPatientHistory:"001021B0",BitsAllocated:"00280100",BitsStored:"00280101",BluePaletteColorLookupTableData:"00281203",BluePaletteColorLookupTableDescriptor:"00281103",BodyPartExamined:"00180015",Columns:"00280011",CompensatorPixelSpacing:"300A00E9",GreenPaletteColorLookupTableData:"00281202",GreenPaletteColorLookupTableDescriptor:"00281102",FrameOfReferenceUID:"00200052",HighBit:"00280102",ImageOrientationPatient:"00200037",ImagePlanePixelSpacing:"30020011",ImagePositionPatient:"00200032",
ImagerPixelSpacing:"00181164",InstanceNumber:"00200013",InstitutionName:"00080080",Item:"FFFEE000",ItemDelimitationItem:"FFFEE00D",ModalitiesInStudy:"00080061",Modality:"00080060",NumberOfFrames:"00280008",OverlayColumns:"60000011",OverlayData:"60003000",OverlayRows:"60000010",PatientAge:"00101010",PatientBirthDate:"00100030",PatientName:"00100010",PatientID:"00100020",PatientSex:"00100040",PhotometricInterpretation:"00280004",PixelData:"7FE00010",PixelRepresentation:"00280103",PixelSpacing:"00280030",
PresentationPixelSpacing:"00700101",PrinterPixelSpacing:"20100376",ProtocolName:"00181030",RedPaletteColorLookupTableData:"00281201",RedPaletteColorLookupTableDescriptor:"00281101",ReferringPhysicianName:"00080090",RescaleIntercept:"00281052",RescaleSlope:"00281053",Rows:"00280010",SequenceDelimitationItem:"FFFEE0DD",SeriesDescription:"0008103E",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",SOPInstanceUID:"00080018",SpecificCharacterSet:"00080005",StudyDate:"00080020",StudyDescription:"00081030",
StudyInstanceUID:"0020000D",TransferSyntaxUID:"00020010",WindowCenter:"00281050",WindowCenterWidthExplanation:"00281055",WindowWidth:"00281051"});function w(a,b,c,d,e){this.b=a;this.g=b;this.a=!!c;this.c=d||null;this.h=e||null}w.prototype.clone=function(){return new w(this.b,this.g,this.a,this.c,this.h)};function ta(a,b){a.b=b.b;a.g=b.g;a.a=b.a;a.c=b.c;a.h=b.h};function va(a){this.a=a||{CT:[new w(40,350,!1,"Abdomen/Pelvis","CT"),new w(480,2500,!1,"Bone","CT"),new w(40,80,!1,"Brain","CT"),new w(40,4E3,!1,"Chest","CT"),new w(50,700,!1,"Kidney","CT"),new w(50,120,!1,"Liver","CT"),new w(-500,1500,!1,"Lung","CT"),new w(110,880,!1,"Myelogram","CT"),new w(20,350,!1,"Neck","CT"),new w(100,2E3,!1,"Sinus","CT"),new w(40,50,!1,"Stroke","CT"),new w(90,350,!1,"Subdural","CT")],MR:[new w(800,1200,!1,"Brain","MR"),new w(225,480,!1,"T1","MR"),new w(300,350,!1,"T2","MR"),
new w(170,800,!1,"Flair","MR"),new w(950,1900,!1,"PD","MR")]}}va.prototype.add=function(a){var b=a.h||"OT",c=this.a[b];c||(c=[],this.a[b]=c);c.push(a)};va.prototype.remove=function(a){var b=this.a[a.h||"OT"];if(b)for(var c=0;c<b.length;c++)if(a.c===b[c].c){b.splice(c,1);break}};function wa(a){for(var b={},c=xa(a.a),d=0;d<c.length;d++){var e=c[d];b[e]=[];for(var f=a.a[e],h=0;h<f.length;h++){var k=f[h];b[e].push({center:k.b,width:k.g,inverted:k.a,name:k.c,modality:k.h})}}return b};function ya(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ya);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}v(ya,Error);ya.prototype.name="CustomError";var za;function Aa(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Ba(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Ca(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}var Da=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Ea(a){return encodeURIComponent(String(a))}
function Fa(a){if(!Ga.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ha,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ia,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ja,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ka,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(La,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ma,"&#0;"));return a}var Ha=/&/g,Ia=/</g,Ja=/>/g,Ka=/"/g,La=/'/g,Ma=/\x00/g,Ga=/[\x00&<>"']/,Na=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};
function z(a,b){var c=q(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);return Na("0",Math.max(0,b-d))+c}function Oa(a,b){return a<b?-1:a>b?1:0}function Pa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function Qa(a){var b=u(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function Ra(a,b){b.unshift(a);ya.call(this,Ba.apply(null,b));b.shift()}v(Ra,ya);Ra.prototype.name="AssertionError";function Sa(a,b){throw new Ra("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var Ta=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(u(a))return u(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ua=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Va=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=u(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Wa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=u(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Xa=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)if(f in
e&&!b.call(c,e[f],f,a))return!1;return!0};function Ya(a){var b;a:{b=Za;for(var c=a.length,d=u(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:u(a)?a.charAt(b):a[b]}function $a(a,b){return 0<=Ta(a,b)}function ab(a,b){var c=Ta(a,b),d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d}function bb(a){return Array.prototype.concat.apply(Array.prototype,arguments)}
function cb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function db(a,b,c,d){Array.prototype.splice.apply(a,eb(arguments,1))}function eb(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};var fb=Math.sign||function(a){return 0<a?1:0>a?-1:a};function A(a,b){this.x=q(a)?a:0;this.y=q(b)?b:0}g=A.prototype;g.clone=function(){return new A(this.x,this.y)};g.toString=function(){return"("+this.x+", "+this.y+")"};function gb(a,b){return new A(a.x-b.x,a.y-b.y)}g.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};g.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};g.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function hb(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}g=hb.prototype;g.clone=function(){return new hb(this.top,this.right,this.bottom,this.left)};g.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};g.contains=function(a){return this&&a?a instanceof hb?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
g.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};g.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};g.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function ib(a,b){this.width=a;this.height=b}function jb(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}g=ib.prototype;g.clone=function(){return new ib(this.width,this.height)};g.toString=function(){return"("+this.width+" x "+this.height+")"};g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function kb(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}g=kb.prototype;g.clone=function(){return new kb(this.left,this.top,this.width,this.height)};g.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};g.contains=function(a){return a instanceof kb?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
g.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};g.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function lb(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function mb(a){var b=[];nb(new ob,a,b);return b.join("")}function ob(){}
function nb(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(fa(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),nb(a,d[f],c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");e="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],"function"!=typeof f&&(c.push(e),pb(d,c),c.push(":"),nb(a,f,c),e=","));c.push("}");return}}switch(typeof b){case "string":pb(b,c);break;case "number":c.push(isFinite(b)&&
!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var qb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},rb=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function pb(a,b){b.push('"',a.replace(rb,function(a){var b=qb[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),qb[a]=b);return b}),'"')};function sb(a){this.a=a}function ub(a,b,c){if(q(c)){a=a.a;c=mb(c);try{a.a.setItem(b,c)}catch(d){if(0==a.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}}else a.a.remove(b)}function vb(a,b){var c;try{var d=a.a.a.getItem(b);if(!u(d)&&null!==d)throw"Storage mechanism: Invalid value was encountered";c=d}catch(e){return}if(null!==c)try{return lb(c)}catch(e){throw"Storage: Invalid value was encountered";}}sb.prototype.remove=function(a){this.a.remove(a)};function wb(){return null};var xb="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""};function yb(){}yb.prototype.next=function(){throw xb;};yb.prototype.Xb=function(){return this};function zb(a){if(a instanceof yb)return a;if("function"==typeof a.Xb)return a.Xb(!1);if(ga(a)){var b=0,c=new yb;c.next=function(){for(;;){if(b>=a.length)throw xb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Ab(a,b){if(ga(a))try{Ua(a,b,void 0)}catch(c){if(c!==xb)throw c;}else{a=zb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==xb)throw c;}}}function Bb(a){if(ga(a))return cb(a);a=zb(a);var b=[];Ab(a,function(a){b.push(a)});return b};function Cb(){};function Db(){}v(Db,Cb);Db.prototype.clear=function(){var a=Bb(this.Xb(!0)),b=this;Ua(a,function(a){b.remove(a)})};function Eb(a){this.a=a}v(Eb,Db);Eb.prototype.remove=function(a){this.a.removeItem(a)};Eb.prototype.Xb=function(a){var b=0,c=this.a,d=new yb;d.next=function(){if(b>=c.length)throw xb;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!u(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};Eb.prototype.clear=function(){this.a.clear()};Eb.prototype.key=function(a){return this.a.key(a)};function Fb(){var a=null;try{a=window.localStorage||null}catch(b){}this.a=a}v(Fb,Eb);function Gb(){this.b=new Fb;this.a=new sb(this.b)}function Hb(a){return Ib(a,"overlaysVisible")}function Jb(a,b){ub(a.a,"overlaysVisible",b)}function Kb(a){return Ib(a,"localizersVisible")}function Lb(a){return Ib(a,"syncedSeries")}function Mb(a){return!!vb(a.a,"prefetchEnabled")}function Nb(a){(a=vb(a.a,"windowRects"))||(a={});return a}
function Ob(a){a=vb(a.a,"windowLevelPresets");var b=null;if(a)if(a)for(var b=new va({}),c=xa(a),d=0;d<c.length;d++)for(var e=a[c[d]],f=0;f<e.length;f++){var h;(h=(h=e[f])?new w(h.center,h.width,h.inverted,h.name,h.modality):null)&&b.add(h)}else b=null;return b||new va}function Pb(a){return Qb(a,"localizerColor","#26c281")}
function Rb(a,b){for(var c=Array(b.length),d=0;d<c.length;d++){var e=d,f=b[d],h={id:f.l,name:f.j,viewers:[]};f.c&&(h.modality=f.c);f.b&&(h.body_part=f.b);f.h&&(h.study_description=f.h);f.g&&(h.institution_name=f.g);for(var k=0;k<f.a.length;k++)h.viewers.push(Sb(f.a[k]));c[e]=h}ub(a.a,"hangingProtocols",mb(c))}function Tb(a){return Ub(a,"overlays","00100020 00080020 001021B0 00101010 00100040 00081030 0008103E 00080060".split(" "))}
function Qb(a,b,c){a=vb(a.a,b);return q(a)&&null!==a?a.toString():c}function Vb(a,b,c,d,e){a=vb(a.a,b);if(!q(a)||null===a)return c;u(a)&&(a=parseInt(a,10));if(!isFinite(a))return c;q(d)&&(a=Math.max(a,d));q(e)&&(a=Math.min(a,e));return a}function Ib(a,b){var c=vb(a.a,b);return q(c)&&null!==c?u(c)?"true"===c:!!c:!0}function Ub(a,b,c){a=vb(a.a,b);return q(a)&&null!==a?u(a)?JSON.parse(a):a:c};var Wb;a:{var Xb=n.navigator;if(Xb){var Yb=Xb.userAgent;if(Yb){Wb=Yb;break a}}Wb=""}function B(a){return-1!=Wb.indexOf(a)};function Zb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function $b(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function xa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ac(a,b){return null!==a&&b in a}function bc(){var a=cc,b;for(b in a)return!1;return!0}function dc(a,b){b in a&&delete a[b]}function ec(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function C(a,b,c){return null!==a&&b in a?a[b]:c}
function fc(a){var b={},c;for(c in a)b[a[c]]=c;return b}var gc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hc(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<gc.length;f++)c=gc[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function ic(a){var b=arguments.length;if(1==b&&fa(arguments[0]))return ic.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c}function jc(a){var b=arguments.length;if(1==b&&fa(arguments[0]))return jc.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function kc(){return B("Opera")||B("OPR")};function lc(){return B("iPhone")&&!B("iPod")&&!B("iPad")};var mc=kc(),D=B("Trident")||B("MSIE"),nc=B("Edge"),oc=nc||D,F=B("Gecko")&&!(-1!=Wb.toLowerCase().indexOf("webkit")&&!B("Edge"))&&!(B("Trident")||B("MSIE"))&&!B("Edge"),G=-1!=Wb.toLowerCase().indexOf("webkit")&&!B("Edge"),qc=B("Macintosh"),rc=B("Windows"),sc=B("Linux")||B("CrOS");function tc(){var a=Wb;if(F)return/rv\:([^\);]+)(\)|;)/.exec(a);if(nc)return/Edge\/([\d\.]+)/.exec(a);if(D)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(G)return/WebKit\/(\S+)/.exec(a)}
function uc(){var a=n.document;return a?a.documentMode:void 0}var vc=function(){if(mc&&n.opera){var a;var b=n.opera.version;try{a=b()}catch(c){a=b}return a}a="";(b=tc())&&(a=b?b[1]:"");return D&&(b=uc(),b>parseFloat(a))?String(b):a}(),wc={};
function xc(a){var b;if(!(b=wc[a])){b=0;for(var c=Da(String(vc)).split("."),d=Da(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"",l=/(\d*)(\D*)/g,p=/(\d*)(\D*)/g;do{var m=l.exec(h)||["","",""],r=p.exec(k)||["","",""];if(0==m[0].length&&0==r[0].length)break;b=Oa(0==m[1].length?0:parseInt(m[1],10),0==r[1].length?0:parseInt(r[1],10))||Oa(0==m[2].length,0==r[2].length)||Oa(m[2],r[2])}while(0==b)}b=wc[a]=0<=b}return b}
function yc(a){return Number(zc)>=a}var Ac=n.document,zc=Ac&&D?uc()||("CSS1Compat"==Ac.compatMode?parseInt(vc,10):5):void 0;var Bc=!D||yc(9),Cc=!F&&!D||D&&yc(9)||F&&xc("1.9.1"),Dc=D&&!xc("9");function Ec(){this.a=""}Ec.prototype.b=function(){return this.a};Ec.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Fc(a){var b=new Ec;b.a=a;return b}Fc("");function Gc(){this.a="";this.c=Hc}Gc.prototype.b=function(){return this.a};Gc.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Hc={};function Ic(){this.a="";this.c=Jc}Ic.prototype.b=function(){return this.a};Ic.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Kc(a){if(a instanceof Ic&&a.constructor===Ic&&a.c===Jc)return a.a;Sa("expected object of type SafeHtml, got '"+a+"'");return"type_error:SafeHtml"}var Jc={};function Lc(a){var b=new Ic;b.a=a;return b}Lc("<!DOCTYPE html>");var Mc=Lc("");Lc("<br>");function Nc(a){return a?new Oc(Pc(a)):za||(za=new Oc)}function Qc(a,b){return u(b)?a.getElementById(b):b}
function Rc(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)b==h.nodeName&&(d[e++]=h);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++)b=h.className,"function"==typeof b.split&&$a(b.split(/\s+/),c)&&(d[e++]=h);d.length=e;return d}return a}
function Sc(a,b){Zb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Tc.hasOwnProperty(d)?a.setAttribute(Tc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Tc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Uc(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new ib(a.clientWidth,a.clientHeight)}function Vc(a){return a.scrollingElement?a.scrollingElement:G||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Wc(a){return a?a.parentWindow||a.defaultView:window}function Xc(a,b,c){return Yc(document,arguments)}
function Yc(a,b){var c=b[0],d=b[1];if(!Bc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Fa(d.name),'"');if(d.type){c.push(' type="',Fa(d.type),'"');var e={};hc(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(u(d)?c.className=d:fa(d)?c.className=d.join(" "):Sc(c,d));2<b.length&&Zc(a,c,b,2);return c}
function Zc(a,b,c,d){function e(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ga(f)||ja(f)&&0<f.nodeType?e(f):Ua($c(f)?cb(f):f,e)}}function ad(a,b){Zc(Pc(a),a,arguments,1)}function bd(a){for(var b;b=a.firstChild;)a.removeChild(b)}function cd(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function dd(a){if(q(a.firstElementChild))a=a.firstElementChild;else for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a}
function ed(a){return ja(a)&&1==a.nodeType}function fd(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Pc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function gd(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else bd(a),a.appendChild(Pc(a).createTextNode(String(b)))}var hd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},id={IMG:" ",BR:"\n"};function jd(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}function kd(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}
function ld(a){a=a.tabIndex;return ha(a)&&0<=a&&32768>a}function md(a){if(Dc&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];nd(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Dc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function od(a){var b=[];nd(a,b,!1);return b.join("")}
function nd(a,b,c){if(!(a.nodeName in hd))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in id)b.push(id[a.nodeName]);else for(a=a.firstChild;a;)nd(a,b,c),a=a.nextSibling}function $c(a){if(a&&"number"==typeof a.length){if(ja(a))return"function"==typeof a.item||"string"==typeof a.item;if(ia(a))return"function"==typeof a.item}return!1}function Oc(a){this.a=a||n.document||document}g=Oc.prototype;g.m=function(a){return Qc(this.a,a)};
g.G=function(a,b,c){return Yc(this.a,arguments)};function pd(a){return"CSS1Compat"==a.a.compatMode}function qd(a){a=a.a;return a.parentWindow||a.defaultView}function rd(a){var b=a.a;a=Vc(b);b=b.parentWindow||b.defaultView;return D&&xc("10")&&b.pageYOffset!=a.scrollTop?new A(a.scrollLeft,a.scrollTop):new A(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}g.wg=function(a,b){a.appendChild(b)};g.sd=bd;g.xe=cd;
g.we=function(a){return Cc&&void 0!=a.children?a.children:Va(a.childNodes,function(a){return 1==a.nodeType})};g.ve=dd;g.contains=fd;g.jf=gd;function sd(){0!=td&&(ud[ka(this)]=this);this.Da=this.Da;this.Db=this.Db}var td=0,ud={};sd.prototype.Da=!1;sd.prototype.W=function(){if(!this.Da&&(this.Da=!0,this.M(),0!=td)){var a=ka(this);delete ud[a]}};function vd(a,b){a.Da?b.call(void 0):(a.Db||(a.Db=[]),a.Db.push(q(void 0)?pa(b,void 0):b))}sd.prototype.M=function(){if(this.Db)for(;this.Db.length;)this.Db.shift()()};function wd(a){a&&"function"==typeof a.W&&a.W()}
function xd(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ga(d)?xd.apply(null,d):wd(d)}};var yd=!D||yc(9),zd=!D||yc(9),Ad=D&&!xc("9");!G||xc("528");F&&xc("1.9b")||D&&xc("8")||mc&&xc("9.5")||G&&xc("528");F&&!xc("8")||D&&xc("9");function Bd(a,b){this.type=a;this.j=this.target=b;this.w=!1;this.hf=!0}Bd.prototype.h=function(){this.w=!0};Bd.prototype.b=function(){this.hf=!1};function Cd(a){Cd[" "](a);return a}Cd[" "]=ba;function Dd(a,b){try{return Cd(a[b]),!0}catch(c){}return!1};function Ed(a,b){Bd.call(this,a?a.type:"");this.K=this.j=this.target=null;this.keyCode=this.l=this.clientY=this.clientX=this.a=this.c=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.O=!1;this.g=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.j=b;var e=a.relatedTarget;e?F&&(Dd(e,"nodeName")||(e=null)):"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.K=e;null===d?(this.c=G||void 0!==
a.offsetX?a.offsetX:a.layerX,this.a=G||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY);this.l=a.button;this.keyCode=a.keyCode||0;this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.O=qc?a.metaKey:a.ctrlKey;this.state=a.state;this.g=a;a.defaultPrevented&&this.b()}}
v(Ed,Bd);var Fd=[1,4,2];function Gd(a){return(yd?0==a.g.button:"click"==a.type?!0:!!(a.g.button&Fd[0]))&&!(G&&qc&&a.ctrlKey)}Ed.prototype.h=function(){Ed.A.h.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};Ed.prototype.b=function(){Ed.A.b.call(this);var a=this.g;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ad)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Hd="closure_listenable_"+(1E6*Math.random()|0);function Id(a){return!(!a||!a[Hd])}var Jd=0;function Kd(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.pc=!!d;this.Kc=e;this.key=++Jd;this.Vb=this.oc=!1}function Ld(a){a.Vb=!0;a.listener=null;a.a=null;a.src=null;a.Kc=null};function Md(a){this.src=a;this.a={};this.b=0}Md.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var h=Nd(a,b,d,e);-1<h?(b=a[h],c||(b.oc=!1)):(b=new Kd(b,this.src,f,!!d,e),b.oc=c,a.push(b));return b};Md.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=Nd(e,b,c,d);return-1<b?(Ld(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};
function Od(a,b){var c=b.type;if(!(c in a.a))return!1;var d=ab(a.a[c],b);d&&(Ld(b),0==a.a[c].length&&(delete a.a[c],a.b--));return d}function Pd(a){var b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Ld(d[e]);delete a.a[c];a.b--}}function Qd(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=Nd(a,c,d,e));return-1<b?a[b]:null}function Nd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Vb&&f.listener==b&&f.pc==!!c&&f.Kc==d)return e}return-1};var Rd="closure_lm_"+(1E6*Math.random()|0),Sd={},Td=0;function H(a,b,c,d,e){if(fa(b)){for(var f=0;f<b.length;f++)H(a,b[f],c,d,e);return null}c=Ud(c);return Id(a)?a.J(b,c,d,e):Vd(a,b,c,!1,d,e)}
function Vd(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,k=Wd(a);k||(a[Rd]=k=new Md(a));c=k.add(b,c,d,e,f);if(c.a)return c;d=Xd();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(Yd(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Td++;return c}
function Xd(){var a=Zd,b=zd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function $d(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)$d(a,b[f],c,d,e);else c=Ud(c),Id(a)?a.Ra.add(String(b),c,!0,d,e):Vd(a,b,c,!0,d,e)}function ae(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)ae(a,b[f],c,d,e);else c=Ud(c),Id(a)?a.ca(b,c,d,e):a&&(a=Wd(a))&&(b=Qd(a,b,c,!!d,e))&&be(b)}
function be(a){if(ha(a)||!a||a.Vb)return!1;var b=a.src;if(Id(b))return Od(b.Ra,a);var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.pc):b.detachEvent&&b.detachEvent(Yd(c),d);Td--;(c=Wd(b))?(Od(c,a),0==c.b&&(c.src=null,b[Rd]=null)):Ld(a);return!0}function ce(a){if(a)if(Id(a))a.Ra&&Pd(a.Ra);else if(a=Wd(a)){var b=0,c;for(c in a.a)for(var d=a.a[c].concat(),e=0;e<d.length;++e)be(d[e])&&++b}}function Yd(a){return a in Sd?Sd[a]:Sd[a]="on"+a}
function de(a,b,c,d){var e=!0;if(a=Wd(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.pc==c&&!f.Vb&&(f=ee(f,d),e=e&&!1!==f)}return e}function ee(a,b){var c=a.listener,d=a.Kc||a.src;a.oc&&be(a);return c.call(d,b)}
function Zd(a,b){if(a.Vb)return!0;if(!zd){var c;if(!(c=b))a:{c=["window","event"];for(var d=n,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Ed(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.j;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.w&&0<=h;h--){c.j=e[h];var k=de(e[h],f,!0,c),d=d&&k}for(h=0;!c.w&&h<e.length;h++)c.j=e[h],k=de(e[h],
f,!1,c),d=d&&k}return d}return ee(a,new Ed(b,this))}function Wd(a){a=a[Rd];return a instanceof Md?a:null}var fe="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ud(a){if(ia(a))return a;a[fe]||(a[fe]=function(b){return a.handleEvent(b)});return a[fe]};function I(){sd.call(this);this.Ra=new Md(this);this.Jh=this;this.dd=null}v(I,sd);I.prototype[Hd]=!0;g=I.prototype;g.Ob=function(){return this.dd};g.Od=function(a){this.dd=a};g.removeEventListener=function(a,b,c,d){ae(this,a,b,c,d)};
function J(a,b){var c,d=a.Ob();if(d)for(c=[];d;d=d.Ob())c.push(d);var d=a.Jh,e=b,f=e.type||e;if(u(e))e=new Bd(e,d);else if(e instanceof Bd)e.target=e.target||d;else{var h=e,e=new Bd(f,d);hc(e,h)}var h=!0,k;if(c)for(var l=c.length-1;!e.w&&0<=l;l--)k=e.j=c[l],h=ge(k,f,!0,e)&&h;e.w||(k=e.j=d,h=ge(k,f,!0,e)&&h,e.w||(h=ge(k,f,!1,e)&&h));if(c)for(l=0;!e.w&&l<c.length;l++)k=e.j=c[l],h=ge(k,f,!1,e)&&h;return h}g.M=function(){I.A.M.call(this);this.Ra&&Pd(this.Ra);this.dd=null};
g.J=function(a,b,c,d){return this.Ra.add(String(a),b,!1,c,d)};g.ca=function(a,b,c,d){return this.Ra.remove(String(a),b,c,d)};function ge(a,b,c,d){b=a.Ra.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.Vb&&h.pc==c){var k=h.listener,l=h.Kc||h.src;h.oc&&Od(a.Ra,h);e=!1!==k.call(l,d)&&e}}return e&&0!=d.hf};function he(){I.call(this)}v(he,I);function ie(a,b){I.call(this);this.c=a||1;this.b=b||n;this.g=pa(this.j,this);this.h=ra()}v(ie,I);ie.prototype.enabled=!1;ie.prototype.a=null;ie.prototype.j=function(){if(this.enabled){var a=ra()-this.h;0<a&&a<.8*this.c?this.a=this.b.setTimeout(this.g,this.c-a):(this.a&&(this.b.clearTimeout(this.a),this.a=null),J(this,"tick"),this.enabled&&(this.a=this.b.setTimeout(this.g,this.c),this.h=ra()))}};function je(a){a.enabled=!0;a.a||(a.a=a.b.setTimeout(a.g,a.c),a.h=ra())}
function ke(a){a.enabled=!1;a.a&&(a.b.clearTimeout(a.a),a.a=null)}ie.prototype.M=function(){ie.A.M.call(this);ke(this);delete this.b};function le(a,b,c){if(ia(a))c&&(a=pa(a,c));else if(a&&"function"==typeof a.handleEvent)a=pa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:n.setTimeout(a,b||0)};function me(a){if(a.ya&&"function"==typeof a.ya)return a.ya();if(u(a))return a.split("");if(ga(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return $b(a)}
function ne(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(ga(a)||u(a))Ua(a,b,void 0);else{var c;if(a.Za&&"function"==typeof a.Za)c=a.Za();else if(a.ya&&"function"==typeof a.ya)c=void 0;else if(ga(a)||u(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=xa(a);for(var d=me(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function oe(a,b){this.b={};this.a=[];this.g=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.Sa(arguments[d],arguments[d+1])}else if(a){a instanceof oe?(c=a.Za(),d=a.ya()):(c=xa(a),d=$b(a));for(var e=0;e<c.length;e++)this.Sa(c[e],d[e])}}g=oe.prototype;g.ya=function(){pe(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};g.Za=function(){pe(this);return this.a.concat()};
g.clear=function(){this.b={};this.g=this.c=this.a.length=0};g.remove=function(a){return qe(this.b,a)?(delete this.b[a],this.c--,this.g++,this.a.length>2*this.c&&pe(this),!0):!1};function pe(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];qe(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],qe(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}function re(a,b){return qe(a.b,b)?a.b[b]:void 0}
g.Sa=function(a,b){qe(this.b,a)||(this.c++,this.a.push(a),this.g++);this.b[a]=b};g.forEach=function(a,b){for(var c=this.Za(),d=0;d<c.length;d++){var e=c[d];a.call(b,re(this,e),e,this)}};g.clone=function(){return new oe(this)};g.Xb=function(a){pe(this);var b=0,c=this.g,d=this,e=new yb;e.next=function(){if(c!=d.g)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw xb;var e=d.a[b++];return a?e:d.b[e]};return e};
function qe(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function se(a,b,c,d,e){this.reset(a,b,c,d,e)}se.prototype.a=null;var te=0;se.prototype.reset=function(a,b,c,d,e){"number"==typeof e||te++;d||ra();this.b=b;delete this.a};function ue(a){this.g=a;this.b=this.c=this.a=null}function ve(a,b){this.name=a;this.value=b}ve.prototype.toString=function(){return this.name};var we=new ve("SEVERE",1E3),xe=new ve("CONFIG",700),ye=new ve("FINE",500);function ze(a){if(a.c)return a.c;if(a.a)return ze(a.a);Sa("Root logger has no level set.");return null}
ue.prototype.log=function(a,b,c){if(a.value>=ze(this).value)for(ia(b)&&(b=b()),a=new se(a,String(b),this.g),c&&(a.a=c),c="log:"+a.b,n.console&&(n.console.timeStamp?n.console.timeStamp(c):n.console.markTimeline&&n.console.markTimeline(c)),n.msWriteProfilerMark&&n.msWriteProfilerMark(c),c=this;c;)c=c.a};ue.prototype.config=function(a,b){this.log(xe,a,b)};var Ae={},Be=null;
function Ce(a){Be||(Be=new ue(""),Ae[""]=Be,Be.c=xe);var b;if(!(b=Ae[a])){b=new ue(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Ce(a.substr(0,c));c.b||(c.b={});c.b[d]=b;b.a=c;Ae[a]=b}return b};function De(a,b){a&&a.log(ye,b,void 0)};function Ee(){}Ee.prototype.a=null;function Fe(a){var b;(b=a.a)||(b={},Ge(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var He;function Ie(){}v(Ie,Ee);function Je(a){return(a=Ge(a))?new ActiveXObject(a):new XMLHttpRequest}function Ge(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.b}He=new Ie;var Ke=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Le(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),f=null,h=null;0<=e?(f=c[d].substring(0,e),h=c[d].substring(e+1)):f=c[d];b(f,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}var Me=/#|$/;function Ne(a){I.call(this);this.ka=new oe;this.F=a||null;this.b=!1;this.C=this.a=null;this.c=this.V=this.H="";this.h=this.R=this.K=this.N=!1;this.w=0;this.O=null;this.l=Oe;this.B=this.g=!1}v(Ne,I);var Oe="",Pe=Ne.prototype,Qe=Ce("goog.net.XhrIo");Pe.Fa=Qe;var Re=/^https?$/i,Se=["POST","PUT"],Te=[];function Ue(a,b,c,d,e){var f=new Ne;Te.push(f);b&&f.J("complete",b);f.Ra.add("ready",f.qg,!0,void 0,void 0);Ve(f,a,c,d,e)}g=Ne.prototype;g.qg=function(){this.W();ab(Te,this)};
function Ve(a,b,c,d,e){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.H+"; newUri="+b);c=c?c.toUpperCase():"GET";a.H=b;a.c="";a.V=c;a.N=!1;a.b=!0;a.a=a.me();a.C=a.F?Fe(a.F):Fe(He);a.a.onreadystatechange=pa(a.bf,a);try{De(a.Fa,We(a,"Opening Xhr")),a.R=!0,a.a.open(c,String(b),!0),a.R=!1}catch(h){De(a.Fa,We(a,"Error opening Xhr: "+h.message));Xe(a,h);return}b=d||"";var f=a.ka.clone();e&&ne(e,function(a,b){f.Sa(b,a)});e=Ya(f.Za());d=n.FormData&&b instanceof n.FormData;
!$a(Se,c)||e||d||f.Sa("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.a.setRequestHeader(b,a)},a);a.l&&(a.a.responseType=a.l);ac(a.a,"withCredentials")&&(a.a.withCredentials=a.g);try{Ye(a),0<a.w&&(a.B=Ze(a.a),De(a.Fa,We(a,"Will abort after "+a.w+"ms if incomplete, xhr2 "+a.B)),a.B?(a.a.timeout=a.w,a.a.ontimeout=pa(a.mf,a)):a.O=le(a.mf,a.w,a)),De(a.Fa,We(a,"Sending request")),a.K=!0,a.a.send(b),a.K=!1}catch(h){De(a.Fa,We(a,"Send error: "+h.message)),Xe(a,
h)}}function Ze(a){return D&&xc(9)&&ha(a.timeout)&&q(a.ontimeout)}function Za(a){return"content-type"==a.toLowerCase()}g.me=function(){return this.F?Je(this.F):Je(He)};g.mf=function(){"undefined"!=typeof aa&&this.a&&(this.c="Timed out after "+this.w+"ms, aborting",De(this.Fa,We(this,this.c)),J(this,"timeout"),this.abort(8))};function Xe(a,b){a.b=!1;a.a&&(a.h=!0,a.a.abort(),a.h=!1);a.c=b;$e(a);af(a)}function $e(a){a.N||(a.N=!0,J(a,"complete"),J(a,"error"))}
g.abort=function(){this.a&&this.b&&(De(this.Fa,We(this,"Aborting")),this.b=!1,this.h=!0,this.a.abort(),this.h=!1,J(this,"complete"),J(this,"abort"),af(this))};g.M=function(){this.a&&(this.b&&(this.b=!1,this.h=!0,this.a.abort(),this.h=!1),af(this,!0));Ne.A.M.call(this)};g.bf=function(){this.Da||(this.R||this.K||this.h?bf(this):this.Wh())};g.Wh=function(){bf(this)};
function bf(a){if(a.b&&"undefined"!=typeof aa)if(a.C[1]&&4==cf(a)&&2==df(a))De(a.Fa,We(a,"Local request error detected and ignored"));else if(a.K&&4==cf(a))le(a.bf,0,a);else if(J(a,"readystatechange"),4==cf(a)){De(a.Fa,We(a,"Request complete"));a.b=!1;try{var b=df(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.H).match(Ke)[1]||null;if(!f&&n.self&&n.self.location)var h=n.self.location.protocol,
f=h.substr(0,h.length-1);e=!Re.test(f?f.toLowerCase():"")}d=e}if(d)J(a,"complete"),J(a,"success");else{var k;try{k=2<cf(a)?a.a.statusText:""}catch(l){De(a.Fa,"Can not get status: "+l.message),k=""}a.c=k+" ["+df(a)+"]";$e(a)}}finally{af(a)}}}function af(a,b){if(a.a){Ye(a);var c=a.a,d=a.C[0]?ba:null;a.a=null;a.C=null;b||J(a,"ready");try{c.onreadystatechange=d}catch(e){(c=a.Fa)&&c.log(we,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}
function Ye(a){a.a&&a.B&&(a.a.ontimeout=null);ha(a.O)&&(n.clearTimeout(a.O),a.O=null)}g.Ua=function(){return!!this.a};function cf(a){return a.a?a.a.readyState:0}function df(a){try{return 2<cf(a)?a.a.status:-1}catch(b){return-1}}function ef(a){try{return a.a?a.a.responseText:""}catch(b){return De(a.Fa,"Can not get responseText: "+b.message),""}}function ff(a){if(a.a)return lb(a.a.responseText)}
function gf(a){try{if(!a.a)return null;if("response"in a.a)return a.a.response;switch(a.l){case Oe:case "text":return a.a.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.a)return a.a.mozResponseArrayBuffer}var b=a.Fa;b&&b.log(we,"Response type "+a.l+" is not supported on this browser",void 0);return null}catch(c){return De(a.Fa,"Can not get response: "+c.message),null}}function hf(a){return u(a.c)?a.c:String(a.c)}function We(a,b){return b+" ["+a.V+" "+a.H+" "+df(a)+"]"};function jf(a){sd.call(this);this.b=a;this.a={}}v(jf,sd);var kf=[];jf.prototype.J=function(a,b,c,d){fa(b)||(b&&(kf[0]=b.toString()),b=kf);for(var e=0;e<b.length;e++){var f=H(a,b[e],c||this.handleEvent,d||!1,this.b||this);if(!f)break;this.a[f.key]=f}return this};
jf.prototype.ca=function(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)this.ca(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.b||this,c=Ud(c),d=!!d,b=Id(a)?Qd(a.Ra,String(b),c,d,e):a?(a=Wd(a))?Qd(a,b,c,d,e):null:null,b&&(be(b),delete this.a[b.key]);return this};function lf(a){Zb(a.a,function(a,c){this.a.hasOwnProperty(c)&&be(a)},a);a.a={}}jf.prototype.M=function(){jf.A.M.call(this);lf(this)};jf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function mf(a){I.call(this);this.a=a;this.b="https://api.box.com/2.0/";this.c="https://dl.boxcloud.com/api/2.0/internal_files/";this.g="https://upload.box.com/api/2.0/"}v(mf,he);g=mf.prototype;g.ke=function(a,b,c,d){b=b.split("/");1<b.length?nf(this,a,b,function(){}):nf(this,a,b,c,d)};function nf(a,b,c,d,e){var f=a.b+"folders";b={parent:{id:b},name:c[0]};a={Authorization:"Bearer "+a.a,"Content-Type":"application/json"};c=new Ne;d&&H(c,"success",d,!1,e);Ve(c,f,"POST",mb(b),a)}
g.Uc=function(a,b,c,d,e){var f=this.g+"files/content",h=null;c instanceof ArrayBuffer?h=new Blob([c]):h=c;c={Authorization:"Bearer "+this.a};var k={parent:{id:a},name:b};a=new FormData;a.append("attributes",mb(k));a.append("file",h,b);b=new Ne;d&&H(b,"success",d,!1,e);Ve(b,f,"POST",a,c)};g.le=function(){};g.je=function(){};g.of=function(){};g.nf=function(){};g.ie=function(){};g.ef=function(){};g.oe=function(){};
g.de=function(a){a=this.b+"files/"+Ea(a)+"/thumbnail.png";a+="?min_width="+Ea((160).toString());a+="&min_height="+Ea((160).toString());return a+="&access_token="+Ea(this.a)};g.wc=function(a,b,c,d){d=d||{};var e=this.c,e=e+Ea(a),e=e+"/versions/"+Ea(b),e=e+"/representations/",e=e+Ea(c),e=e+"/content/?access_token=",e=e+Ea(this.a);(a=C(d,"frameIndex",0))&&(e+="&frameIndex="+Ea(a));(d=C(d,"dimensions"))&&(e+="&dimensions="+Ea(d));return e};function of(a,b){this.g=this.w=this.h="";this.l=null;this.j=this.b="";this.c=!1;var c;a instanceof of?(this.c=q(b)?b:a.c,pf(this,a.h),this.w=a.w,this.g=a.g,qf(this,a.l),this.b=a.b,rf(this,a.a.clone()),this.j=a.j):a&&(c=String(a).match(Ke))?(this.c=!!b,pf(this,c[1]||"",!0),this.w=sf(c[2]||""),this.g=sf(c[3]||"",!0),qf(this,c[4]),this.b=sf(c[5]||"",!0),rf(this,c[6]||"",!0),this.j=sf(c[7]||"")):(this.c=!!b,this.a=new tf(null,0,this.c))}
of.prototype.toString=function(){var a=[],b=this.h;b&&a.push(uf(b,vf,!0),":");var c=this.g;if(c||"file"==b)a.push("//"),(b=this.w)&&a.push(uf(b,vf,!0),"@"),a.push(Ea(c).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.l,null!=c&&a.push(":",String(c));if(c=this.b)this.g&&"/"!=c.charAt(0)&&a.push("/"),a.push(uf(c,"/"==c.charAt(0)?wf:xf,!0));(c=this.a.toString())&&a.push("?",c);(c=this.j)&&a.push("#",uf(c,yf));return a.join("")};of.prototype.clone=function(){return new of(this)};
function pf(a,b,c){a.h=c?sf(b,!0):b;a.h&&(a.h=a.h.replace(/:$/,""))}function qf(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.l=b}else a.l=null}function rf(a,b,c){b instanceof tf?(a.a=b,zf(a.a,a.c)):(c||(b=uf(b,Af)),a.a=new tf(b,0,a.c))}function Bf(a,b,c){a=a.a;Cf(a);a.c=null;b=Df(a,b);Ef(a,b)&&(a.b=a.b-re(a.a,b).length);a.a.Sa(b,[c]);a.b=a.b+1}function K(a,b){var c=b?a.a.ya(b):[];return 0<c.length?String(c[0]):void 0}
function Ff(a,b){return a instanceof of?a.clone():new of(a,b)}function sf(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function uf(a,b,c){return u(a)?(a=encodeURI(a).replace(b,Gf),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Gf(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var vf=/[#\/\?@]/g,xf=/[\#\?:]/g,wf=/[\#\?]/g,Af=/[\#\?@]/g,yf=/#/g;function tf(a,b,c){this.b=this.a=null;this.c=a||null;this.g=!!c}
function Cf(a){a.a||(a.a=new oe,a.b=0,a.c&&Le(a.c,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=tf.prototype;g.add=function(a,b){Cf(this);this.c=null;a=Df(this,a);var c=re(this.a,a);c||this.a.Sa(a,c=[]);c.push(b);this.b=this.b+1;return this};g.remove=function(a){Cf(this);a=Df(this,a);return qe(this.a.b,a)?(this.c=null,this.b=this.b-re(this.a,a).length,this.a.remove(a)):!1};g.clear=function(){this.a=this.c=null;this.b=0};function Ef(a,b){Cf(a);b=Df(a,b);return qe(a.a.b,b)}
g.Za=function(){Cf(this);for(var a=this.a.ya(),b=this.a.Za(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.ya=function(a){Cf(this);var b=[];if(u(a))Ef(this,a)&&(b=bb(b,re(this.a,Df(this,a))));else{a=this.a.ya();for(var c=0;c<a.length;c++)b=bb(b,a[c])}return b};
g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.Za(),c=0;c<b.length;c++)for(var d=b[c],e=Ea(d),d=this.ya(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+Ea(d[f]));a.push(h)}return this.c=a.join("&")};g.clone=function(){var a=new tf;a.c=this.c;this.a&&(a.a=this.a.clone(),a.b=this.b);return a};function Df(a,b){var c=String(b);a.g&&(c=c.toLowerCase());return c}
function zf(a,b){b&&!a.g&&(Cf(a),a.c=null,a.a.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.c=null,this.a.Sa(Df(this,e),cb(a)),this.b=this.b+a.length))},a));a.g=b};function Hf(){I.call(this)}v(Hf,he);g=Hf.prototype;g.ke=function(a,b,c,d){var e=Box.config.requestToken;if(e){var f=new FormData;b=b.split("/");for(var h=0;h<b.length;h++)f.append("relative_folder_path[]",b[h]);f.append("parent_folder_id",a);f.append("last_modified_date",(new Date).toString());f.append("upload_type","html5");f.append("request_token",e);f.append("realtime_subscriber_id","");a=new Ne;c&&H(a,"success",c,!1,d);Ve(a,"/index.php?rm=box_create_subfolder_path","POST",f)}};
g.Uc=function(a,b,c,d,e){var f=Box.config.requestToken;if(f){var h=new FormData;h.append("request_token",f);h.append("folder_id",a);h.append("name",b);h.append("created_date","0");h.append("last_modified_date",(new Date).toString());h.append("upload_type","html5");h.append("realtime_subscriber_id","");f=new Ne;H(f,"success",function(f){var h=ff(f.target);if("success"!==h.status)console.log("Upload problem"),console.log(h);else{f=new of(h.url_options.html5_upload_url);Bf(f,"upload_session_id",h.upload_session_id);
Bf(f,"folder_id",a);Bf(f,"upload_type","html5");Bf(f,"last_modified_date",(new Date).toString());Bf(f,"realtime_subscriber_id","");Bf(f,"request_token",Box.config.requestToken);h=0;c instanceof ArrayBuffer?h=c.byteLength:c instanceof Blob&&(h=c.size);var h={"Content-Type":"application/octet-stream","X-File-Name":b,"X-File-Size":h},p=new Ne;p.g=!0;d&&H(p,"success",d,!1,e);Ve(p,f.toString(),"POST",c,h)}});d&&H(f,"error",d,!1,e);Ve(f,"/index.php?rm=box_start_upload","POST",h)}};
g.le=function(a,b,c,d){If("d_"+a,c,d)};g.je=function(a,b,c,d){If("f_"+a,c,d)};function If(a,b,c){var d=Box.config.requestToken;if(d){var e=new FormData;e.append("itemTypedId",a);e.append("request_token",d);a=new Ne;a.g=!0;b&&H(a,"success",b,!1,c);Ve(a,"/index.php?rm=box_share_item_by_typed_id","POST",e)}}g.of=function(a,b,c,d){Jf("d_"+a,b,c,d)};g.nf=function(a,b,c,d){Jf("f_"+a,b,c,d)};
function Jf(a,b,c,d){var e=Box.config.requestToken;if(e){var f=new FormData;f.append("itemTypedId",a);f.append("accessLevel",b);f.append("request_token",e);a=new Ne;a.g=!0;c&&H(a,"success",c,!1,d);Ve(a,"/index.php?rm=box_share_item_change_access_level","POST",f)}}
g.ie=function(a,b,c,d){var e=Box.config.requestToken;if(e){var f=null,f=u(b)?b:mb(b);b=new of("/index.php");Bf(b,"rm","box_annotations_create");a="request_token="+encodeURIComponent(e)+"&fileId="+encodeURIComponent(a)+"&location="+encodeURIComponent(f);e=new Ne;e.g=!0;c&&H(e,"success",c,!1,d);Ve(e,b.toString(),"POST",a,{"Content-Type":"application/x-www-form-urlencoded"})}};
g.ef=function(a,b,c){var d=new of("/index.php");Bf(d,"rm","box_annotations_get");Bf(d,"request_token",Box.config.requestToken);Bf(d,"fileId",a);a=new Ne;a.g=!0;b&&H(a,"success",b,!1,c);Ve(a,d.toString(),"GET")};
g.oe=function(a,b,c,d){var e=Box.config.requestToken;if(e){var f=new of("/index.php");Bf(f,"rm","box_annotations_delete");a="request_token="+encodeURIComponent(e)+"&fileId="+encodeURIComponent(a)+"&annotationId="+encodeURIComponent(b);b=new Ne;b.g=!0;c&&H(b,"success",c,!1,d);Ve(b,f.toString(),"POST",a,{"Content-Type":"application/x-www-form-urlencoded"})}};g.de=function(a,b){var c;c="/representation/file_version_"+Ea(b);return Kf(c+"/thumb_160.jpg",!0)};
g.wc=function(a,b,c,d){d=d||{};var e=C(d,"frameIndex",0),f=null,h=null;switch(c){case "dicom":f="dicom";h="dcm";break;case "png":f="image_2048",h="png"}if(b)return a="/representation/file_version_"+Ea(b),a+="/"+Ea(f),q(d.frameIndex)&&(a+="/"+(1+parseInt(e,10)).toString()),a+="."+Ea(h),Kf(a,!0);if("original"===c)return Kf("/index.php?rm=box_dicom_file_contents&fileId="+a);a="/index.php?rm=box_dicom_file_representation&fileId="+Ea(a);a+="&rep="+Ea(f);a+="&frame="+parseInt(e,10).toString();return Kf(a)};var Lf={"ISO_IR 100":"ISO-8859-1","ISO_IR 101":"ISO-8859-2","ISO_IR 109":"ISO-8859-3","ISO_IR 110":"ISO-8859-4","ISO_IR 144":"ISO-8859-5","ISO_IR 127":"ISO-8859-6","ISO_IR 126":"ISO-8859-7","ISO_IR 138":"ISO-8859-8","ISO_IR 148":"ISO-8859-9","ISO_IR 13":"SJIS","ISO_IR 166":"TIS-620","ISO 2022 IR 6":"US-ASCII","ISO 2022 IR 100":"ISO-8859-1","ISO 2022 IR 101":"ISO-8859-2","ISO 2022 IR 109":"ISO-8859-3","ISO 2022 IR 110":"ISO-8859-4","ISO 2022 IR 144":"ISO-8859-5","ISO 2022 IR 127":"ISO-8859-6","ISO 2022 IR 126":"ISO-8859-7",
"ISO 2022 IR 138":"ISO-8859-8","ISO 2022 IR 148":"ISO-8859-9","ISO 2022 IR 13":"SJIS","ISO 2022 IR 166":"TIS-620","ISO 2022 IR 87":"ISO-2022-JP","ISO 2022 IR 159":"EUC-JP","ISO 2022 IR 149":"ISO-2022-KR","ISO_IR 192":"UTF-8",GB18030:"GB18030"};sa("box.dicom.core.Charset.Lookup",Lf);function Mf(a){this.a=a}function Nf(a,b,c,d){for(var e=Array(d),f=0;f<d;f++)e[f]=a.Ub(b,c),b+=c;return e}function Of(a,b,c,d){a=a.a.subarray(b,b+c);if(1024<a.length)return"<binary>";d=(d=d||null)&&"TextDecoder"in window?(new TextDecoder(d)).decode(a):String.fromCharCode.apply(null,a);return d=d.replace(/\0/g,"")};function Pf(a){this.a=a}v(Pf,Mf);g=Pf.prototype;g.Ub=function(a,b){for(var c=0,d=a;d<a+b;++d)c=256*c+this.a[d];return c};g.qd=function(a,b){return a>>8-(b<<3)&255};g.rd=function(a,b){return 256*a+b};g.ff=function(a,b){for(var c=new Uint16Array(b),d=a,e=0;d<a+b;d+=2,e++)c[e]=this.rd(this.a[d],this.a[d+1]);return c};g.ge=function(a){for(var b=new Uint8Array(2*a.length),c=a.length,d=0,e=0;d<c;d++,e+=2)b[e]=this.qd(a[d],0),b[e+1]=this.qd(a[d],1);return b};
g.he=function(a){for(var b=new Uint16Array(a.length/2),c=a.length,d=0,e=0;d<c;d++,e+=2)b[d]=this.rd(a[e],a[e+1]);return b};function Qf(a,b,c,d,e,f){this.a=a;this.c=d;this.b=f}Qf.prototype.T=function(){return this.c};function Kf(a,b){var c=Ff(a),d=Ff(window.location),e=K(d,"sharedName");e&&Bf(c,b?"shared_name":"sharedName",e);(d=K(d,"vanityName"))&&Bf(c,b?"vanity_name":"vanityName",d);return c.toString()};function Rf(a){Bd.call(this,a);this.K=this.l=this.H=this.c=null}v(Rf,Bd);Rf.prototype.a=function(){return Sf(this).c};function Sf(a){var b=a;a instanceof Ed&&(b=b.g);return b};function Tf(a,b){this.a=a;this.c=b}function Uf(a){return a.a}function Vf(a){return a.c}function Wf(a){return a.a*a.c};function Xf(a,b){this.b=a;this.a=b};function Yf(a,b){var c={};if(!a)return c;for(var d=xa(a),e=0;e<d.length;e++){var f=d[e],h=b[f];h?c[h]=a[f]:c[f]=a[f]}return c}
var Zf={StudyInstanceUID:"0020000D",PatientName:"00100010",Modality:"00080060",InstitutionName:"00080080",StudyDescription:"00081030",StudyDate:"00080020",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",SeriesDescription:"0008103E",SOPInstanceUID:"00080018",InstanceNumber:"00200013",Columns:"00280011",Rows:"00280010",FrameOfReferenceUID:"00200052",PixelSpacing:"00280030",ImageOrientationPatient:"00200037",ImagePositionPatient:"00200032"},$f=fc(Zf);function ag(a,b,c){this.c=a;this.b=b;this.a=c};function bg(a,b){this.a=a;this.b=b}function cg(a){return new bg(a.x,a.y)}bg.prototype.v=function(){return this.a};bg.prototype.o=function(){return this.b};function dg(a,b,c){a.a=b;a.b=c}bg.prototype.toString=function(){return"("+this.v()+", "+this.o()+")"};bg.prototype.clone=function(){return new bg(this.a,this.b)};function eg(a){return{x:a.a,y:a.b}}function fg(a,b,c){b-=a.a;a=c-a.b;return Math.sqrt(b*b+a*a)};function gg(a,b,c){this.c=a;this.b=b;this.a=[];for(var d=0;d<a;d++){this.a[d]=[];for(var e=0;e<b;e++)this.a[d][e]=0}if(c)for(c=0;c<a&&c<b;c++)this.a[c][c]=1}g=gg.prototype;g.rows=function(){return this.c};function L(a,b,c){return a.a[b][c]}function M(a,b,c,d){a.a[b][c]=d}g.v=function(){return L(this,0,0)};g.o=function(){return L(this,1,0)};function hg(a){return L(a,2,0)}function ig(a,b){a.c=b.c;a.b=b.b;for(var c=0;c<a.c;c++)for(var d=0;d<a.b;d++)a.a[c][d]=b.a[c][d]}
g.clone=function(){var a=new gg(this.c,this.b);ig(a,this);return a};g.add=function(a){if(this.c!=a.c||this.b!=a.b)throw{name:"Matrix Error",message:"Matrix dimension mismatch."};for(var b=new gg(this.c,this.b),c=0;c<b.c;c++)for(var d=0;d<b.b;d++)b.a[c][d]=this.a[c][d]+a.a[c][d];return b};function jg(a,b){if(a.c!=b.c||a.b!=b.b)throw{name:"Matrix Error",message:"Matrix dimension mismatch."};for(var c=new gg(a.c,a.b),d=0;d<c.c;d++)for(var e=0;e<c.b;e++)c.a[d][e]=a.a[d][e]-b.a[d][e];return c}
function kg(a,b){if(null===b||void 0===b)throw{name:"Null Matrix Error",message:"Cannot multiply by a null matrix"};var c;if("number"===typeof b)c=lg(a,b);else{if(0>=b.b||0>=b.c)throw{name:"Matrix Error",message:"Invalid dimensions."};if(a.b!=b.c)throw{name:"Matrix Error",message:"Matrix dimension mismatch."};c=new gg(a.c,b.b);for(var d=0;d<c.c;d++)for(var e=0;e<c.b;e++)for(var f=0;f<a.b;f++)c.a[d][e]+=a.a[d][f]*b.a[f][e]}return c}
function lg(a,b){for(var c=new gg(a.c,a.b),d=0;d<a.c;d++)for(var e=0;e<a.b;e++)c.a[d][e]=a.a[d][e]*b;return c}function mg(a){for(var b=0,c=0;c<a.c;c++)for(var d=0;d<a.b;d++)var e=a.a[c][d],b=b+e*e;return Math.sqrt(b)}function ng(a){return lg(a,1/mg(a))}
function og(a,b){if(4!=a.c||4!=b.c||1!=a.b||1!=b.b)throw{name:"Matrix Error",message:"Invalid dimensions."};var c=new gg(4,1);c.a[0][0]=a.a[1][0]*b.a[2][0]-a.a[2][0]*b.a[1][0];c.a[1][0]=a.a[2][0]*b.a[0][0]-a.a[0][0]*b.a[2][0];c.a[2][0]=a.a[0][0]*b.a[1][0]-a.a[1][0]*b.a[0][0];return c}function pg(a,b){if(4!=a.c||4!=b.c||1!=a.b||1!=b.b)throw{name:"Matrix Error",message:"Invalid dimensions."};var c;c=0+a.a[0][0]*b.a[0][0];c+=a.a[1][0]*b.a[1][0];return c+=a.a[2][0]*b.a[2][0]}
function qg(a,b,c){M(a,0,2,L(a,0,2)+b);M(a,1,2,L(a,1,2)+c);return a}function rg(a){var b=L(a,0,0),c=L(a,0,1),d=L(a,1,0),e=L(a,1,1),f=L(a,0,2),h=L(a,1,2),k=b*e-c*d;if(1E-6>=Math.abs(k))throw{name:"Determinant Error",message:"Cannot calculate inverse of zero determinant matrix."};a=e/k;var l=-c/k,p=-d/k,m=b/k,c=(c*h-e*f)/k,b=(d*f-b*h)/k,d=new gg(3,3,!0);M(d,0,0,a);M(d,0,1,l);M(d,1,0,p);M(d,1,1,m);M(d,0,2,c);M(d,1,2,b);return d}function sg(a){return new bg(a.a[0][0],a.a[1][0])}
g.toString=function(){for(var a="",b=0;b<this.c;b++){for(var a=a+"[",c=0;c<this.b;c++)a+="["+this.a[b][c].toFixed(6)+"]";a+="]\n"}return a};function tg(a){I.call(this);this.b=a;this.c={};this.h={};this.C=this.g=this.R=this.V=this.H=this.B=this.O=this.w=this.K=null;this.N=this.F=!1;this.ka=this.j=this.l=this.a=null;this.aa=!1}v(tg,I);function ug(a){return a.c.fileVersionId}function vg(a){return wg(a,"dicomUrl")||a.b.a.h.wc(a.c.fileId,ug(a),"dicom",void 0)}function xg(a,b){var c=b||0,d={dimensions:"2048x2048",frameIndex:c};return wg(a,"imageUrl",c)||a.b.a.h.wc(a.c.fileId,ug(a),"png",d)}
function wg(a,b,c){b=a.c[b]||yg(a.b,b);if(!b)return null;var d=a.b;c=c||0;b=b.replace(/__STUDYUID__/g,zg(d.a)).replace(/__SERIESUID__/g,Ag(d)).replace(/__INSTANCEUID__/g,Bg(a)).replace(/__FRAME__/g,c.toString());return Kf(b,!0)}function Bg(a){return Cg(a,"00080018")}function Dg(a){return Eg(a,"00200013")}function Fg(a){if(!a.K){var b=Eg(a,"00280010"),c=Eg(a,"00280011");b&&c&&(a.K=new Tf(c,b))}return a.K}
function Gg(a){if(a.w)return a.w;for(var b="00280030 00181164 30020011 300A00E9 00700101 20100376".split(" "),c=0;c<b.length;c++){var d=b[c];if(Hg(a,d)){var e=Ig(a,d,0);if(e&&(d=Ig(a,d,1))){a.w=new Xf(e,d);break}}}return a.w}function Jg(a){return Kg(a)?a.a.da:null}function Lg(a,b,c){Kg(a)?Mg(a,"dicomload"):Ng(b,vg(a),a.ea,a,c,void 0,a.ub)}tg.prototype.ub=function(a){this.l=Sf(a).K;Mg(this,"dicomprogress")};
tg.prototype.ea=function(a){this.a=Sf(a).l;this.l=null;if(this.a){var b=this.a;a=Og(b,"00281053")||1;var c=Og(b,"00281052")||0,d=b.a("00280101")||12,e=b.m("00281050"),b=b.m("00281051"),f=[];if(e&&b)for(var h=0;h<e.T().length;++h)f.push(new w(parseFloat(e.T()[h]),parseFloat(b.T()[h]),!1,"Preset "+(h+1).toString()));this.g=new Pg(f,a,c,d);this.C=Qg(this.a);a=!1;(c=this.a.b("00280004"))&&"MONOCHROME1"===Da(c)&&(a=!0);this.F=a;this.N=Rg(this.a);a=this.g;c=a.h;d=a.g;for(e=0;e<a.c;e++)a.b[e]=e*c+d;this.b.Z.sort(Sg);
Mg(this,"dicomload")}};function Mg(a,b){var c=new Rf(b),d=vg(a);Sf(c).c=d;Sf(c).H=a;Sf(c).l=a.a;Sf(c).K=a.l;J(a,c)}function Tg(a,b){return Kg(a)?a.g.T(Jg(a)[b]):Number.NaN}tg.prototype.m=function(a){return this.a?this.a.m(a):null};function Hg(a,b){var c;ac(a.h,b)||a.a&&Ug(a.a,b)?c=!0:(c=a.b,ac(c.b,b)?c=!0:(c=c.a,c=c.b?ac(c.b,b):!1));return c}function Cg(a,b){return ac(a.h,b)?C(a.h,b):a.a&&Ug(a.a,b)?a.a.b(b):Vg(a.b,b)}
function Eg(a,b){return ac(a.h,b)?parseInt(Cg(a,b),10):a.a&&Ug(a.a,b)?a.a.a(b,void 0):Wg(a.b,b)}function Ig(a,b,c){ac(a.h,b)?b=q(c)?a.h[b][c]:parseFloat(Cg(a,b)):a.a&&Ug(a.a,b)?b=Og(a.a,b,c):(a=a.b,ac(a.b,b)?b=parseFloat(Vg(a,b)):(a=a.a,b=a.b?parseFloat(Xg(a,b)):0));return b}tg.prototype.T=function(a,b,c){if(!Kg(this))return Number.NaN;var d=Fg(this);a=Math.floor(a);if(0>a||a>=d.a)return 0;b=Math.floor(b);return 0>b||b>=d.c?0:Tg(this,a+b*d.a+(c||0)*Wf(d))};
function Yg(a){if(!Kg(a))return null;var b=a.a;if(!b||!b.da)return null;for(var b=0*Wf(Fg(a)),c=1*Wf(Fg(a))-b,d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,f=0;f<c;f++){var h=Tg(a,b+f);isFinite(h)&&(d=Math.min(d,h),e=Math.max(e,h))}return new w(Math.round((d+e)/2),Math.max(1,Math.ceil(e-d)),!1)}function Kg(a){return!(!a.a||!a.a.da)}function Zg(a){a.O||(a.O=$g(a,"00200032",0));return a.O}function ah(a){a.B||(a.B=$g(a,"00200037",0));return a.B}
function bh(a){a.H||(a.H=$g(a,"00200037",3));return a.H}function $g(a,b,c){for(var d=new gg(4,1),e=0;3>e;e++)M(d,e,0,Ig(a,b,c+e)||0);for(e=3;4>e;e++)M(d,e,0,1);return d}
function ch(a,b){if(!b)return null;var c=Zg(a);if(!c)return null;var d=ah(a);if(!d)return null;var e=bh(a);if(!e)return null;d=c.add(d);e=c.add(e);if(!c||!d||!e)return null;e=ng(og(jg(d,c),jg(e,c)));if(!e)return null;c=-pg(e,jg(b,c));if(isNaN(c)||0===c)return null;d=pg(e,e);if(isNaN(d)||0===d)return null;c=b.add(kg(e,c/d));return mg(jg(b,c))}function Sg(a,b){return Dg(a)<Dg(b)?-1:Dg(a)>Dg(b)?1:0};function dh(a){this.a=a}v(dh,Mf);g=dh.prototype;g.Ub=function(a,b){for(var c=0,d=a+b;d>a;d--)c=256*c+this.a[d-1];return c};g.qd=function(a,b){return a>>(b<<3)&255};g.rd=function(a,b){return a+256*b};g.ff=function(a,b){var c=this.a;return new Uint16Array(c.buffer,c.byteOffset+a,b/2)};g.ge=function(a){return new Uint8Array(a.buffer,a.byteOffset,2*a.length)};g.he=function(a){return new Uint16Array(a.buffer,a.byteOffset,a.length/2)};function Pg(a,b,c,d){this.a=a;eh(this)&&this.a[0].clone();this.h=b;this.g=c;this.c=Math.floor(Math.pow(2,d));this.b=Array(this.c)}Pg.prototype.ya=function(){return this.b};Pg.prototype.T=function(a){return this.b[a]};function eh(a){return!!(a.a&&0<a.a.length)};var fh={"0000":{"0000":"UL","0001":"UL","0002":"UI","0003":"UI","0010":"CS","0100":"US","0110":"US","0120":"US","0200":"AE","0300":"AE","0400":"AE","0600":"AE","0700":"US","0800":"US","0850":"US","0860":"US","0900":"US","0901":"AT","0902":"LO","0903":"US",1E3:"UI",1001:"UI",1002:"US",1005:"AT",1008:"US",1020:"US",1021:"US",1022:"US",1023:"US",1030:"AE",1031:"US",4E3:"AT",4010:"AT",5010:"SH",5020:"SH",5110:"AT",5120:"AT",5130:"CS",5140:"CS",5150:"CS",5160:"CS",5170:"IS",5180:"CS",5190:"CS","51A0":"CS",
"51B0":"US"},"0002":{"0000":"UL","0001":"OB","0002":"UI","0003":"UI","0010":"UI","0012":"UI","0013":"SH","0016":"AE","0100":"UI","0102":"OB"},"0004":{1130:"CS",1141:"CS",1142:"CS",1200:"UL",1202:"UL",1212:"US",1220:"SQ",1400:"UL",1410:"US",1420:"UL",1430:"CS",1432:"UI",1500:"CS",1504:"UL",1510:"UI",1511:"UI",1512:"UI","151A":"UI",1600:"UL"},"0008":{"0001":"UL","0005":"CS","0006":"SQ","0008":"CS","0010":"SH","0012":"DA","0013":"TM","0014":"UI","0016":"UI","0018":"UI","001A":"UI","001B":"UI","0020":"DA",
"0021":"DA","0022":"DA","0023":"DA","0024":"DA","0025":"DA","002A":"DT","0030":"TM","0031":"TM","0032":"TM","0033":"TM","0034":"TM","0035":"TM","0040":"US","0041":"LO","0042":"CS","0050":"SH","0051":"SQ","0052":"CS","0054":"AE","0056":"CS","0058":"UI","0060":"CS","0061":"CS","0062":"UI","0064":"CS","0068":"CS","0070":"LO","0080":"LO","0081":"ST","0082":"SQ","0090":"PN","0092":"ST","0094":"SH","0096":"SQ","0100":"SH","0102":"SH","0103":"SH","0104":"LO","0105":"CS","0106":"DT","0107":"DT","010B":"CS",
"010C":"UI","010D":"UI","010F":"CS","0110":"SQ","0112":"LO","0114":"ST","0115":"ST","0116":"ST","0117":"UI","0201":"SH",1E3:"AE",1010:"SH",1030:"LO",1032:"SQ","103E":"LO","103F":"SQ",1040:"LO",1048:"PN",1049:"SQ",1050:"PN",1052:"SQ",1060:"PN",1062:"SQ",1070:"PN",1072:"SQ",1080:"LO",1084:"SQ",1090:"LO",1100:"SQ",1110:"SQ",1111:"SQ",1115:"SQ",1120:"SQ",1125:"SQ",1130:"SQ",1134:"SQ","113A":"SQ",1140:"SQ",1145:"SQ","114A":"SQ","114B":"SQ",1150:"UI",1155:"UI","115A":"UI",1160:"IS",1161:"UL",1162:"UL",
1163:"FD",1164:"SQ",1167:"UI",1195:"UI",1197:"US",1198:"SQ",1199:"SQ",1200:"SQ",1250:"SQ",2110:"CS",2111:"ST",2112:"SQ",2120:"SH",2122:"IS",2124:"IS",2127:"SH",2128:"IS",2129:"IS","212A":"IS",2130:"DS",2132:"LO",2133:"SQ",2134:"FD",2135:"SQ",2142:"IS",2143:"IS",2144:"IS",2200:"CS",2204:"CS",2208:"CS",2218:"SQ",2220:"SQ",2228:"SQ",2229:"SQ",2230:"SQ",2240:"SQ",2242:"SQ",2244:"SQ",2246:"SQ",2251:"SQ",2253:"SQ",2255:"SQ",2256:"ST",2257:"SQ",2258:"ST",2259:"SQ","225A":"SQ","225C":"SQ",3001:"SQ",3010:"UI",
4E3:"LT",9007:"CS",9092:"SQ",9121:"SQ",9123:"UI",9124:"SQ",9154:"SQ",9205:"CS",9206:"CS",9207:"CS",9208:"CS",9209:"CS",9215:"SQ",9237:"SQ",9410:"SQ",9458:"SQ",9459:"FL",9460:"CS"},"0010":{"0010":"PN","0020":"LO","0021":"LO","0022":"CS","0024":"SQ","0030":"DA","0032":"TM","0040":"CS","0050":"SQ","0101":"SQ","0102":"SQ",1E3:"LO",1001:"PN",1002:"SQ",1005:"PN",1010:"AS",1020:"DS",1021:"SQ",1030:"DS",1040:"LO",1050:"LO",1060:"PN",1080:"LO",1081:"LO",1090:"LO",2E3:"LO",2110:"LO",2150:"LO",2152:"LO",2154:"SH",
2160:"SH",2180:"SH","21A0":"CS","21B0":"LT","21C0":"US","21D0":"DA","21F0":"LO",2201:"LO",2202:"SQ",2203:"CS",2210:"CS",2292:"LO",2293:"SQ",2294:"SQ",2295:"LO",2296:"SQ",2297:"PN",2298:"CS",2299:"LO",4E3:"LT",9431:"FL"},"0012":{"0010":"LO","0020":"LO","0021":"LO","0030":"LO","0031":"LO","0040":"LO","0042":"LO","0050":"LO","0051":"ST","0060":"LO","0062":"CS","0063":"LO","0064":"SQ","0071":"LO","0072":"LO","0081":"LO","0082":"LO","0083":"SQ","0084":"CS","0085":"CS"},"0014":{"0023":"ST","0024":"ST",
"0025":"ST","0028":"ST","0030":"DS","0032":"DS","0034":"DS","0042":"ST","0044":"ST","0045":"ST","0046":"LT","0050":"CS","0052":"CS","0054":"DS","0056":"DS",1010:"ST",1020:"DA",1040:"ST",2002:"SQ",2004:"IS",2006:"PN",2008:"IS",2012:"SQ",2014:"IS",2016:"SH",2018:"ST","201A":"CS","201C":"CS","201E":"SQ",2030:"SQ",2032:"SH",2202:"IS",2204:"SQ",2206:"ST",2208:"CS","220A":"IS","220C":"CS","220E":"CS",2210:"OB",2220:"SQ",2222:"ST",2224:"IS",2226:"IS",2228:"CS","222A":"DS","222C":"DS",3011:"DS",3012:"DS",
3020:"SQ",3022:"DS",3024:"DS",3026:"DS",3028:"DS",3040:"SQ",3050:"OB",3060:"SQ",3070:"OB",3071:"DS",3072:"DS",3073:"DS",3074:"LO",3075:"DS",3076:"DA",3077:"TM",3080:"OB",3099:"LT",4002:"SQ",4004:"CS",4006:"LT",4008:"SQ","400A":"CS","400C":"LT","400E":"SQ","400F":"LT",4010:"SQ",4011:"SQ",4012:"US",4013:"CS",4014:"DS",4015:"DS",4016:"DS",4017:"DS",4018:"DS",4019:"DS","401A":"DS","401B":"DS","401C":"DS",4020:"SQ",4022:"DS",4024:"DS",4026:"CS",4028:"DS",4030:"SQ",4031:"DS",4032:"CS",4033:"IS",4034:"DS",
4035:"SQ",4036:"CS",4038:"DS","403A":"DS","403C":"DS",4040:"SQ",4050:"SQ",4051:"SQ",4052:"DS",4054:"ST",4056:"ST",4057:"DS",4058:"DS",4059:"DS","405A":"DS","405C":"ST",4060:"SQ",4062:"DS",4064:"DS",4070:"SQ",4072:"ST",4074:"SH",4076:"DA",4078:"DA","407A":"DA","407C":"TM","407E":"DA",5002:"IS",5004:"IS"},"0018":{"0010":"LO","0012":"SQ","0014":"SQ","0015":"CS","0020":"CS","0021":"CS","0022":"CS","0023":"CS","0024":"SH","0025":"CS","0026":"SQ","0027":"TM","0028":"DS","0029":"SQ","002A":"SQ","0030":"LO",
"0031":"LO","0032":"DS","0033":"DS","0034":"LO","0035":"TM","0036":"SQ","0037":"CS","0038":"CS","0039":"CS","003A":"ST","0040":"IS","0042":"CS","0050":"DS","0060":"DS","0070":"IS","0071":"CS","0072":"DS","0073":"CS","0074":"IS","0075":"IS","0080":"DS","0081":"DS","0082":"DS","0083":"DS","0084":"DS","0085":"SH","0086":"IS","0087":"DS","0088":"DS","0089":"IS","0090":"DS","0091":"IS","0093":"DS","0094":"DS","0095":"DS",1E3:"LO",1002:"UI",1003:"LO",1004:"LO",1005:"LO",1006:"LO",1007:"LO",1008:"LO",1010:"LO",
1011:"LO",1012:"DA",1014:"TM",1016:"LO",1017:"LO",1018:"LO",1019:"LO","101A":"LO","101B":"LO",1020:"LO",1022:"SH",1023:"LO",1030:"LO",1040:"LO",1041:"DS",1042:"TM",1043:"TM",1044:"DS",1045:"IS",1046:"DS",1047:"DS",1048:"CS",1049:"DS",1050:"DS",1060:"DS",1061:"LO",1062:"IS",1063:"DS",1064:"LO",1065:"DS",1066:"DS",1067:"DS",1068:"DS",1069:"DS","106A":"CS","106C":"US","106E":"UL",1070:"LO",1071:"DS",1072:"TM",1073:"TM",1074:"DS",1075:"DS",1076:"DS",1077:"DS",1078:"DT",1079:"DT",1080:"CS",1081:"IS",1082:"IS",
1083:"IS",1084:"IS",1085:"LO",1086:"IS",1088:"IS",1090:"IS",1094:"IS",1100:"DS",1110:"DS",1111:"DS",1114:"DS",1120:"DS",1121:"DS",1130:"DS",1131:"DS",1134:"CS",1135:"DS",1136:"DS",1137:"DS",1138:"DS","113A":"CS",1140:"CS",1141:"DS",1142:"DS",1143:"DS",1144:"DS",1145:"DS",1146:"DS",1147:"CS",1149:"IS",1150:"IS",1151:"IS",1152:"IS",1153:"IS",1154:"DS",1155:"CS",1156:"CS","115A":"CS","115E":"DS",1160:"SH",1161:"LO",1162:"DS",1164:"DS",1166:"CS",1170:"IS",1180:"SH",1181:"CS",1182:"IS",1183:"DS",1184:"DS",
1190:"DS",1191:"CS","11A0":"DS","11A2":"DS",1200:"DA",1201:"TM",1210:"SH",1240:"IS",1242:"IS",1243:"IS",1244:"US",1250:"SH",1251:"SH",1260:"SH",1261:"LO",1300:"DS",1301:"CS",1302:"IS",1310:"US",1312:"CS",1314:"DS",1315:"CS",1316:"DS",1318:"DS",1400:"LO",1401:"LO",1402:"CS",1403:"CS",1404:"US",1405:"IS",1411:"DS",1412:"DS",1413:"DS",1450:"DS",1460:"DS",1470:"DS",1480:"DS",1490:"CS",1491:"CS",1495:"IS",1500:"CS",1508:"CS",1510:"DS",1511:"DS",1520:"DS",1521:"DS",1530:"DS",1531:"DS",1600:"CS",1602:"IS",
1604:"IS",1606:"IS",1608:"IS",1610:"IS",1612:"IS",1620:"IS",1622:"US",1623:"US",1624:"US",1700:"CS",1702:"IS",1704:"IS",1706:"IS",1708:"IS",1710:"IS",1712:"IS",1720:"IS",1800:"CS",1801:"SH",1802:"CS",1803:"LO",2001:"IS",2002:"SH",2003:"DS",2004:"DS",2005:"DS",2006:"SH",2010:"DS",2020:"CS",2030:"DS",3100:"CS",3101:"DS",3102:"DS",3103:"IS",3104:"IS",3105:"IS",4E3:"LT",5E3:"SH",5010:"LO",5012:"DS",5020:"LO",5021:"LO",5022:"DS",5024:"DS",5026:"DS",5027:"DS",5028:"DS",5029:"DS",5030:"DS",5040:"DS",5050:"IS",
5100:"CS",5101:"CS",5104:"SQ",5210:"DS",5212:"DS",6E3:"DS",6011:"SQ",6012:"US",6014:"US",6016:"UL",6018:"UL","601A":"UL","601C":"UL","601E":"UL",6020:"SL",6022:"SL",6024:"US",6026:"US",6028:"FD","602A":"FD","602C":"FD","602E":"FD",6030:"UL",6031:"CS",6032:"UL",6034:"FD",6036:"FD",6038:"UL",6039:"SL","603A":"UL","603B":"SL","603C":"UL","603D":"SL","603E":"UL","603F":"SL",6040:"UL",6041:"SL",6042:"UL",6043:"SL",6044:"US",6046:"UL",6048:"UL","604A":"UL","604C":"US","604E":"US",6050:"UL",6052:"UL",6054:"FD",
6056:"UL",6058:"UL","605A":"FL",6060:"FL",7E3:"CS",7001:"DS",7004:"CS",7005:"CS",7006:"LT",7008:"LT","700A":"SH","700C":"DA","700E":"TM",7010:"IS",7011:"IS",7012:"DS",7014:"DS",7016:"DS","701A":"DS",7020:"DS",7022:"DS",7024:"CS",7026:"DS",7028:"DS","702A":"LO","702B":"LO",7030:"DS",7032:"DS",7034:"CS",7036:"FL",7038:"FL",7040:"LT",7041:"LT",7042:"DS",7044:"DS",7046:"IS",7048:"DS","704C":"DS",7050:"CS",7052:"DS",7054:"DS",7056:"FL",7058:"FL",7060:"CS",7062:"LT",7064:"CS",7065:"DS",8150:"DS",8151:"DS",
9004:"CS",9005:"SH",9006:"SQ",9008:"CS",9009:"CS",9010:"CS",9011:"CS",9012:"CS",9014:"CS",9015:"CS",9016:"CS",9017:"CS",9018:"CS",9019:"FD",9020:"CS",9021:"CS",9022:"CS",9024:"CS",9025:"CS",9026:"CS",9027:"CS",9028:"CS",9029:"CS",9030:"FD",9032:"CS",9033:"CS",9034:"CS",9035:"FD",9036:"CS",9037:"CS",9041:"LO",9042:"SQ",9043:"CS",9044:"CS",9045:"SQ",9046:"LO",9047:"SH",9048:"CS",9049:"SQ",9050:"LO",9051:"CS",9052:"FD",9053:"FD",9054:"CS",9058:"US",9059:"CS",9060:"CS",9061:"FD",9062:"CS",9063:"FD",9064:"CS",
9065:"CS",9066:"US",9067:"CS",9069:"FD",9070:"FD",9073:"FD",9074:"DT",9075:"CS",9076:"SQ",9077:"CS",9078:"CS",9079:"FD",9080:"ST",9081:"CS",9082:"FD",9083:"SQ",9084:"SQ",9085:"CS",9087:"FD",9089:"FD",9090:"FD",9091:"FD",9092:"SQ",9093:"US",9094:"CS",9095:"UL",9096:"FD",9098:"FD",9100:"CS",9101:"CS",9103:"SQ",9104:"FD",9105:"FD",9106:"FD",9107:"SQ",9112:"SQ",9114:"SQ",9115:"SQ",9117:"SQ",9118:"SQ",9119:"SQ",9125:"SQ",9126:"SQ",9127:"UL",9147:"CS",9151:"DT",9152:"SQ",9155:"FD",9159:"UL",9166:"CS",9168:"FD",
9169:"CS",9170:"CS",9171:"CS",9172:"CS",9173:"CS",9174:"CS",9175:"LO",9176:"SQ",9177:"CS",9178:"CS",9179:"CS",9180:"CS",9181:"FD",9182:"FD",9183:"CS",9184:"FD",9185:"ST",9186:"SH",9195:"FD",9196:"FD",9197:"SQ",9198:"CS",9199:"CS",9200:"CS",9214:"CS",9217:"FD",9218:"FD",9219:"SS",9220:"FD",9226:"SQ",9227:"SQ",9231:"US",9232:"US",9234:"UL",9236:"CS",9239:"SQ",9240:"US",9241:"US",9250:"CS",9251:"SQ",9252:"LO",9253:"US",9254:"FD",9255:"FD",9256:"FD",9257:"CS",9258:"UL",9259:"CS","925A":"FD","925B":"LO",
"925C":"CS","925D":"SQ","925E":"LO","925F":"UL",9260:"SQ",9295:"FD",9296:"FD",9301:"SQ",9302:"CS",9303:"FD",9304:"SQ",9305:"FD",9306:"FD",9307:"FD",9308:"SQ",9309:"FD",9310:"FD",9311:"FD",9312:"SQ",9313:"FD",9314:"SQ",9315:"CS",9316:"CS",9317:"FD",9318:"FD",9319:"FD",9320:"SH",9321:"SQ",9322:"FD",9323:"CS",9324:"FD",9325:"SQ",9326:"SQ",9327:"FD",9328:"FD",9329:"SQ",9330:"FD",9332:"FD",9333:"CS",9334:"CS",9335:"FD",9337:"US",9338:"SQ",9340:"SQ",9341:"SQ",9342:"CS",9343:"CS",9344:"CS",9345:"FD",9346:"SQ",
9351:"FL",9352:"FL",9353:"FL",9360:"SQ",9401:"SQ",9402:"FL",9403:"FL",9404:"FL",9405:"SQ",9406:"SQ",9407:"SQ",9410:"CS",9412:"SQ",9417:"SQ",9420:"CS",9423:"LO",9424:"LT",9425:"CS",9426:"FL",9427:"CS",9428:"FL",9429:"FL",9430:"FL",9432:"SQ",9433:"LO",9434:"SQ",9435:"CS",9436:"SS",9437:"SS",9438:"SS",9439:"SS",9440:"SS",9441:"US",9442:"SS",9447:"FL",9449:"FL",9451:"SQ",9452:"FL",9455:"SQ",9456:"SQ",9457:"CS",9461:"FL",9462:"SQ",9463:"FL",9464:"FL",9465:"FL",9466:"FL",9467:"FL",9468:"FL",9469:"FL",9470:"FL",
9471:"FL",9472:"SQ",9473:"FL",9474:"CS",9476:"SQ",9477:"SQ",9504:"SQ",9506:"SQ",9507:"SQ",9508:"FL",9509:"FL",9510:"FL",9511:"FL",9514:"FL",9515:"FL",9516:"DT",9517:"DT",9524:"LO",9525:"LO",9526:"LO",9527:"CS",9528:"LO",9530:"SQ",9531:"LO",9538:"SQ",9601:"SQ",9602:"FD",9603:"FD",9604:"FD",9605:"FD",9606:"FD",9607:"FD",9701:"DT",9715:"FD",9716:"FD",9717:"FD",9718:"FD",9719:"FD",9720:"FD",9721:"FD",9722:"FD",9723:"FD",9724:"FD",9725:"CS",9726:"FD",9727:"FD",9729:"US",9732:"SQ",9733:"SQ",9734:"SQ",9735:"SQ",
9736:"SQ",9737:"SQ",9738:"CS",9739:"US",9740:"US",9749:"SQ",9751:"SQ",9755:"CS",9756:"CS",9758:"CS",9759:"CS",9760:"CS",9761:"CS",9762:"CS",9763:"CS",9764:"CS",9765:"CS",9766:"CS",9767:"CS",9768:"CS",9769:"CS",9770:"CS",9771:"SQ",9772:"SQ",9801:"FD",9803:"SQ",9804:"DT",9805:"FD",9806:"SQ",9807:"SQ",9808:"CS",9809:"SQ","980B":"CS","980C":"CS","980D":"SQ","980E":"SQ","980F":"SQ",A001:"SQ",A002:"DT",A003:"ST"},"0020":{"000D":"UI","000E":"UI","0010":"SH","0011":"IS","0012":"IS","0013":"IS","0014":"IS",
"0015":"IS","0016":"IS","0017":"IS","0018":"IS","0019":"IS","0020":"CS","0022":"IS","0024":"IS","0026":"IS","0030":"DS","0032":"DS","0035":"DS","0037":"DS","0050":"DS","0052":"UI","0060":"CS","0062":"CS","0070":"LO","0080":"CS","00AA":"IS","0100":"IS","0105":"IS","0110":"DS","0200":"UI","0242":"UI",1E3:"IS",1001:"IS",1002:"IS",1003:"IS",1004:"IS",1005:"IS",1020:"LO",1040:"LO",1041:"DS",1070:"IS",1200:"IS",1202:"IS",1204:"IS",1206:"IS",1208:"IS",1209:"IS",3100:"CS",3401:"CS",3402:"CS",3403:"DA",3404:"LO",
3405:"TM",3406:"LO",4E3:"LT",5E3:"AT",5002:"LO",9056:"SH",9057:"UL",9071:"SQ",9072:"CS",9111:"SQ",9113:"SQ",9116:"SQ",9128:"UL",9153:"FD",9154:"FL",9155:"FL",9156:"US",9157:"UL",9158:"LT",9161:"UI",9162:"US",9163:"US",9164:"UI",9165:"AT",9167:"AT",9213:"LO",9221:"SQ",9222:"SQ",9228:"UL",9238:"LO",9241:"FL",9245:"FL",9246:"FL",9247:"CS",9248:"FL",9249:"CS",9250:"CS",9251:"FD",9252:"FD",9253:"SQ",9254:"FD",9255:"FD",9256:"FD",9257:"FD",9301:"FD",9302:"FD",9307:"CS",9308:"FD",9309:"FD","930A":"FD","930C":"CS",
"930D":"FD","930E":"SQ","930F":"SQ",9310:"SQ",9311:"CS",9312:"UI",9313:"UI",9421:"LO",9450:"SQ",9453:"LO",9518:"US",9529:"SQ",9536:"US"},"0022":{"0001":"US","0002":"US","0003":"US","0004":"US","0005":"CS","0006":"SQ","0007":"FL","0008":"FL","0009":"FL","000A":"FL","000B":"FL","000C":"FL","000D":"CS","000E":"FL","0010":"FL","0011":"FL","0012":"FL","0013":"FL","0014":"FL","0015":"SQ","0016":"SQ","0017":"SQ","0018":"SQ","0019":"SQ","001A":"SQ","001B":"SQ","001C":"SQ","001D":"SQ","001E":"FL","0020":"SQ",
"0021":"SQ","0022":"SQ","0030":"FL","0031":"SQ","0032":"FL","0035":"FL","0036":"FL","0037":"FL","0038":"FL","0039":"CS","0041":"FL","0042":"SQ","0048":"FL","0049":"FL","004E":"DS","0055":"FL","0056":"FL","0057":"FL","0058":"SQ",1007:"SQ",1008:"SQ",1010:"CS",1019:"FL",1024:"SQ",1025:"SQ",1028:"SQ",1029:"LO",1033:"FL",1035:"SQ",1037:"FL",1039:"CS",1040:"SQ",1044:"SQ",1050:"SQ",1053:"FL",1054:"FL",1059:"FL",1065:"LO",1066:"LO",1090:"SQ",1092:"SQ",1093:"LO",1094:"LO",1096:"SQ",1100:"SQ",1101:"SQ",1103:"SQ",
1121:"FL",1122:"FL",1125:"SQ",1130:"FL",1131:"FL",1132:"SQ",1133:"SQ",1135:"SQ",1140:"CS",1150:"SQ",1153:"SQ",1155:"FL",1159:"LO",1210:"SQ",1211:"SQ",1212:"SQ",1220:"SQ",1225:"SQ",1230:"SQ",1250:"SQ",1255:"SQ",1257:"SQ",1260:"SQ",1262:"SQ",1273:"LO",1300:"SQ",1310:"SQ",1330:"SQ"},"0024":{"0010":"FL","0011":"FL","0012":"CS","0016":"SQ","0018":"FL","0020":"FL","0021":"SQ","0024":"SQ","0025":"FL","0028":"FL","0032":"SQ","0033":"SQ","0034":"SQ","0035":"US","0036":"US","0037":"CS","0038":"US","0039":"CS",
"0040":"CS","0042":"US","0044":"LT","0045":"CS","0046":"FL","0048":"US","0050":"US","0051":"CS","0052":"CS","0053":"CS","0054":"FL","0055":"CS","0056":"US","0057":"CS","0058":"SQ","0059":"CS","0060":"US","0061":"CS","0062":"CS","0063":"CS","0064":"SQ","0065":"SQ","0066":"FL","0067":"SQ","0068":"FL","0069":"LO","0070":"FL","0071":"FL","0072":"CS","0073":"FL","0074":"CS","0075":"FL","0076":"CS","0077":"FL","0078":"CS","0079":"FL","0080":"CS","0081":"FL","0083":"SQ","0085":"SQ","0086":"CS","0087":"FL",
"0088":"FL","0089":"SQ","0090":"FL","0091":"FL","0092":"FL","0093":"CS","0094":"FL","0095":"CS","0096":"FL","0097":"SQ","0098":"FL","0100":"FL","0102":"CS","0103":"FL","0104":"FL","0105":"FL","0106":"CS","0107":"FL","0108":"FL","0110":"SQ","0112":"SQ","0113":"CS","0114":"SQ","0115":"SQ","0117":"CS","0118":"FL","0120":"CS","0122":"SQ","0124":"CS","0126":"FL","0202":"LO","0306":"LO","0307":"LO","0308":"LO","0309":"LO","0317":"SQ","0320":"SQ","0325":"SQ","0338":"CS","0341":"FL","0344":"SQ"},"0028":{"0002":"US",
"0003":"US","0004":"CS","0005":"US","0006":"US","0008":"IS","0009":"AT","000A":"AT","0010":"US","0011":"US","0012":"US","0014":"US","0030":"DS","0031":"DS","0032":"DS","0034":"IS","0040":"CS","0050":"LO","0051":"CS","005F":"LO","0060":"CS","0061":"SH","0062":"LO","0063":"SH","0065":"CS","0066":"AT","0068":"US","0069":"US","0070":"US","0071":"US","0080":"US","0081":"US","0082":"US","0090":"CS","0091":"US","0092":"US","0093":"US","0094":"US","0100":"US","0101":"US","0102":"US","0103":"US","0104":"US",
"0105":"US","0106":"US","0107":"US","0108":"US","0109":"US","0110":"US","0111":"US","0120":"US","0121":"US","0200":"US","0300":"CS","0301":"CS","0302":"CS","0303":"CS","0400":"US","0401":"US","0402":"LO","0403":"AT","0404":"AT","0700":"LO","0701":"CS","0702":"AT","0710":"US","0720":"US","0721":"AT","0722":"US","0730":"US","0740":"US","0800":"CS","0802":"US","0803":"AT","0804":"US","0808":"AT","0A02":"CS","0A04":"LO",1040:"CS",1041:"SS",1050:"DS",1051:"DS",1052:"DS",1053:"DS",1054:"LO",1055:"LO",1056:"CS",
1080:"CS",1090:"CS",1100:"US",1101:"US",1102:"US",1103:"US",1104:"US",1111:"US",1112:"US",1113:"US",1199:"UI",1200:"OW",1201:"OW",1202:"OW",1203:"OW",1204:"OW",1211:"OW",1212:"OW",1213:"OW",1214:"UI",1221:"OW",1222:"OW",1223:"OW",1300:"CS",1350:"CS",1351:"ST",1352:"SQ","135A":"CS",1401:"SQ",1402:"CS",1403:"US",1404:"SQ",1405:"CS",1406:"FD",1407:"US",1408:"OW","140B":"SQ","140C":"SQ","140D":"CS","140E":"CS","140F":"CS",1410:"CS",2E3:"OB",2110:"CS",2112:"DS",2114:"CS",3E3:"SQ",3002:"US",3003:"LO",3004:"LO",
3006:"US",3010:"SQ",3110:"SQ",4E3:"LT",5E3:"SQ",6010:"US",6020:"US",6022:"LO",6023:"CS",6030:"US",6040:"US",6100:"SQ",6101:"CS",6102:"US",6110:"US",6112:"US",6114:"FL",6120:"SS",6190:"ST","7FE0":"UT",9001:"UL",9002:"UL",9003:"CS",9099:"US",9108:"CS",9110:"SQ",9132:"SQ",9145:"SQ",9235:"CS",9411:"FL",9415:"SQ",9416:"US",9422:"SQ",9443:"SQ",9444:"CS",9445:"FL",9446:"CS",9454:"CS",9474:"CS",9478:"FL",9501:"SQ",9502:"SQ",9503:"SS",9505:"SQ",9506:"US",9507:"US",9520:"DS",9537:"CS"},"0032":{"000A":"CS",
"000C":"CS","0012":"LO","0032":"DA","0033":"TM","0034":"DA","0035":"TM",1E3:"DA",1001:"TM",1010:"DA",1011:"TM",1020:"LO",1021:"AE",1030:"LO",1031:"SQ",1032:"PN",1033:"LO",1034:"SQ",1040:"DA",1041:"TM",1050:"DA",1051:"TM",1055:"CS",1060:"LO",1064:"SQ",1070:"LO",4E3:"LT"},"0038":{"0004":"SQ","0008":"CS","0010":"LO","0011":"LO","0014":"SQ","0016":"LO","001A":"DA","001B":"TM","001C":"DA","001D":"TM","001E":"LO","0020":"DA","0021":"TM","0030":"DA","0032":"TM","0040":"LO","0044":"SQ","0050":"LO","0060":"LO",
"0061":"LO","0062":"LO","0064":"SQ","0100":"SQ","0300":"LO","0400":"LO","0500":"LO","0502":"SQ",4E3:"LT"},"003A":{"0004":"CS","0005":"US","0010":"UL","001A":"DS","0020":"SH","0200":"SQ","0202":"IS","0203":"SH","0205":"CS","0208":"SQ","0209":"SQ","020A":"SQ","020C":"LO","0210":"DS","0211":"SQ","0212":"DS","0213":"DS","0214":"DS","0215":"DS","0218":"DS","021A":"US","0220":"DS","0221":"DS","0222":"DS","0223":"DS","0230":"FL","0231":"US","0240":"SQ","0241":"US","0242":"SQ","0244":"US","0245":"FL","0246":"CS",
"0247":"FL","0248":"FL","0300":"SQ","0301":"IS","0302":"CS"},"0040":{"0001":"AE","0002":"DA","0003":"TM","0004":"DA","0005":"TM","0006":"PN","0007":"LO","0008":"SQ","0009":"SH","000A":"SQ","000B":"SQ","0010":"SH","0011":"SH","0012":"LO","0020":"CS","0026":"SQ","0027":"SQ","0031":"UT","0032":"UT","0033":"CS","0035":"CS","0036":"SQ","0039":"SQ","003A":"SQ","0100":"SQ","0220":"SQ","0241":"AE","0242":"SH","0243":"SH","0244":"DA","0245":"TM","0250":"DA","0251":"TM","0252":"CS","0253":"SH","0254":"LO",
"0255":"LO","0260":"SQ","0261":"CS","0270":"SQ","0275":"SQ","0280":"ST","0281":"SQ","0293":"SQ","0294":"DS","0295":"SQ","0296":"SQ","0300":"US","0301":"US","0302":"US","0303":"US","0306":"DS","0307":"DS","030E":"SQ","0310":"ST","0312":"DS","0314":"DS","0316":"DS","0318":"CS","0320":"SQ","0321":"SQ","0324":"SQ","0330":"SQ","0340":"SQ","0400":"LT","0440":"SQ","0441":"SQ","0500":"SQ","050A":"LO","0512":"LO","0513":"SQ","0515":"SQ","0518":"SQ","051A":"LO","0520":"SQ","0550":"SQ","0551":"LO","0552":"SQ",
"0553":"ST","0554":"UI","0555":"SQ","0556":"ST","0560":"SQ","0562":"SQ","059A":"SQ","0600":"LO","0602":"UT","0610":"SQ","0612":"SQ","0620":"SQ","06FA":"LO","071A":"SQ","072A":"DS","073A":"DS","074A":"DS","08D8":"SQ","08DA":"SQ","08EA":"SQ","09F8":"SQ",1001:"SH",1002:"LO",1003:"SH",1004:"LO",1005:"LO",1006:"SH",1007:"SH",1008:"LO",1009:"SH","100A":"SQ",1010:"PN",1011:"SQ",1012:"SQ",1060:"LO",1101:"SQ",1102:"ST",1103:"LO",1400:"LT",2001:"LO",2004:"DA",2005:"TM",2006:"SH",2007:"SH",2008:"PN",2009:"SH",
2010:"SH",2016:"LO",2017:"LO",2400:"LT",3001:"LO",4001:"CS",4002:"CS",4003:"CS",4004:"SQ",4005:"DT",4006:"CS",4007:"SQ",4009:"SQ",4010:"DT",4011:"DT",4015:"SQ",4016:"SQ",4018:"SQ",4019:"SQ",4020:"CS",4021:"SQ",4022:"SQ",4023:"UI",4025:"SQ",4026:"SQ",4027:"SQ",4028:"SQ",4029:"SQ",4030:"SQ",4031:"SQ",4032:"SQ",4033:"SQ",4034:"SQ",4035:"SQ",4036:"LO",4037:"PN",4040:"CS",4041:"CS",4050:"DT",4051:"DT",4052:"DT",8302:"DS",9094:"SQ",9096:"SQ",9098:"SQ",9210:"SH",9211:"US",9212:"FD",9216:"US",9224:"FD",9225:"FD",
A007:"CS",A010:"CS",A020:"SQ",A021:"UI",A022:"UI",A023:"DA",A024:"TM",A026:"SQ",A027:"LO",A028:"SQ",A030:"DT",A032:"DT",A040:"CS",A043:"SQ",A047:"LO",A050:"CS",A057:"CS",A060:"LO",A066:"SQ",A067:"PN",A068:"SQ",A070:"SQ",A073:"SQ",A074:"OB",A075:"PN",A076:"SQ",A078:"SQ",A07A:"SQ",A07C:"SQ",A080:"CS",A082:"DT",A084:"CS",A085:"SQ",A088:"SQ",A089:"OB",A090:"SQ",A0B0:"US",A110:"DA",A112:"TM",A120:"DT",A121:"DA",A122:"TM",A123:"PN",A124:"UI",A125:"CS",A130:"CS",A132:"UL",A136:"US",A138:"DS",A13A:"DT",A160:"UT",
A167:"SQ",A168:"SQ",A16A:"ST",A170:"SQ",A171:"UI",A172:"UI",A173:"CS",A174:"CS",A180:"US",A192:"DA",A193:"TM",A194:"CS",A195:"SQ",A224:"ST",A290:"CS",A296:"SQ",A297:"ST",A29A:"SL",A300:"SQ",A301:"SQ",A307:"PN",A30A:"DS",A313:"SQ",A33A:"ST",A340:"SQ",A352:"PN",A353:"ST",A354:"LO",A358:"SQ",A360:"SQ",A370:"SQ",A372:"SQ",A375:"SQ",A380:"SQ",A385:"SQ",A390:"SQ",A402:"UI",A403:"CS",A404:"SQ",A491:"CS",A492:"LO",A493:"CS",A494:"CS",A496:"CS",A504:"SQ",A525:"SQ",A600:"CS",A601:"CS",A603:"CS",A730:"SQ",A731:"SQ",
A732:"SQ",A744:"SQ",A992:"ST",B020:"SQ",DB00:"CS",DB06:"DT",DB07:"DT",DB0B:"CS",DB0C:"UI",DB0D:"UI",DB73:"UL",E001:"ST",E004:"DT",E006:"SQ",E008:"SQ",E010:"UT",E011:"UI",E020:"CS",E021:"SQ",E022:"SQ",E023:"SQ",E024:"SQ",E030:"UI",E031:"UI"},"0042":{"0010":"ST","0011":"OB","0012":"LO","0013":"SQ","0014":"LO"},"0044":{"0001":"ST","0002":"CS","0003":"LT","0004":"DT","0007":"SQ","0008":"LO","0009":"LT","000A":"LO","000B":"DT","0010":"DT","0011":"LO","0012":"LO","0013":"SQ","0019":"SQ"},"0046":{"0012":"LO",
"0014":"SQ","0015":"SQ","0016":"SQ","0018":"SQ","0028":"SQ","0030":"FD","0032":"CS","0034":"FD","0036":"CS","0038":"CS","0040":"FD","0042":"FD","0044":"FD","0046":"FD","0050":"SQ","0052":"SQ","0060":"FD","0062":"FD","0063":"FD","0064":"FD","0070":"SQ","0071":"SQ","0074":"SQ","0075":"FD","0076":"FD","0077":"FD","0080":"SQ","0092":"CS","0094":"CS","0095":"CS","0097":"SQ","0098":"SQ","0100":"SQ","0101":"SQ","0102":"SQ","0104":"FD","0106":"FD","0121":"SQ","0122":"SQ","0123":"SQ","0124":"SQ","0125":"CS",
"0135":"SS","0137":"FD","0139":"LO","0145":"SQ","0146":"FD","0147":"FD"},"0048":{"0001":"FL","0002":"FL","0003":"FL","0006":"UL","0007":"UL","0008":"SQ","0010":"CS","0011":"CS","0012":"CS","0013":"US","0014":"FL","0015":"US","0100":"SQ","0102":"DS","0105":"SQ","0106":"SH","0107":"ST","0108":"SQ","0110":"SQ","0111":"DS","0112":"DS","0113":"DS","0120":"SQ","0200":"SQ","0201":"US","0202":"US","0207":"SQ","021A":"SQ","021E":"SL","021F":"SL","0301":"CS"},"0050":{"0004":"CS","0010":"SQ","0012":"SQ","0013":"FD",
"0014":"DS","0015":"FD","0016":"DS","0017":"CS","0018":"DS","0019":"DS","001A":"CS","001B":"LO","001C":"FD","001D":"FD","001E":"LO","0020":"LO"},"0052":{"0001":"FL","0002":"FD","0003":"FD","0004":"FD","0006":"CS","0007":"FD","0008":"FD","0009":"FD","0011":"FD","0012":"US","0013":"FD","0014":"FD","0016":"SQ","0025":"SQ","0026":"CS","0027":"SQ","0028":"FD","0029":"SQ","0030":"SS","0031":"CS","0033":"FD","0034":"FD","0036":"US","0038":"US","0039":"CS","003A":"CS"},"0054":{"0011":"US","0012":"SQ","0013":"SQ",
"0014":"DS","0015":"DS","0016":"SQ","0017":"IS","0018":"SH","0020":"US","0021":"US","0022":"SQ","0030":"US","0031":"US","0032":"SQ","0033":"US","0036":"IS","0038":"IS","0039":"CS","0050":"US","0051":"US","0052":"SQ","0053":"US","0060":"US","0061":"US","0062":"SQ","0063":"SQ","0070":"US","0071":"US","0072":"SQ","0073":"DS","0080":"US","0081":"US","0090":"US","0100":"US","0101":"US","0200":"DS","0202":"CS","0210":"IS","0211":"US","0220":"SQ","0222":"SQ","0300":"SQ","0302":"SQ","0304":"SQ","0306":"SQ",
"0308":"US","0400":"SH","0410":"SQ","0412":"SQ","0414":"SQ","0500":"CS",1E3:"CS",1001:"CS",1002:"CS",1004:"CS",1006:"CS",1100:"CS",1101:"LO",1102:"CS",1103:"LO",1104:"LO",1105:"LO",1200:"DS",1201:"IS",1202:"IS",1203:"DS",1210:"DS",1220:"CS",1300:"DS",1310:"IS",1311:"IS",1320:"DS",1321:"DS",1322:"DS",1323:"DS",1324:"DS",1330:"US",1400:"CS",1401:"CS"},"0060":{3E3:"SQ",3002:"US",3004:"US",3006:"US",3008:"US",3010:"LO",3020:"UL"},"0062":{"0001":"CS","0002":"SQ","0003":"SQ","0004":"US","0005":"LO","0006":"ST",
"0008":"CS","0009":"LO","000A":"SQ","000B":"US","000C":"US","000D":"US","000E":"US","000F":"SQ","0010":"CS"},"0064":{"0002":"SQ","0003":"UI","0005":"SQ","0007":"UL","0008":"FD","0009":"OF","000F":"SQ","0010":"SQ"},"0066":{"0001":"UL","0002":"SQ","0003":"UL","0004":"LT","0009":"CS","000A":"FL","000B":"LO","000C":"FL","000D":"CS","000E":"CS","0010":"CS","0011":"SQ","0012":"SQ","0013":"SQ","0015":"UL","0016":"OF","0017":"FL","0018":"FL","0019":"FL","001A":"FL","001B":"FL","001C":"FL","001E":"UL","001F":"US",
"0020":"FL","0021":"OF","0023":"OW","0024":"OW","0025":"OW","0026":"SQ","0027":"SQ","0028":"SQ","0029":"OW","002A":"UL","002B":"SQ","002C":"UL","002D":"SQ","002E":"SQ","002F":"SQ","0030":"SQ","0031":"LO","0032":"LT","0034":"SQ","0035":"SQ","0036":"LO"},"0068":{6210:"LO",6221:"LO",6222:"SQ",6223:"CS",6224:"SQ",6225:"SQ",6226:"DT",6230:"SQ",6260:"SQ",6265:"SQ",6270:"DT",6280:"ST","62A0":"SQ","62A5":"FD","62C0":"SQ","62D0":"US","62D5":"LO","62E0":"SQ","62F0":"FD","62F2":"FD",6300:"OB",6310:"US",6320:"SQ",
6330:"US",6340:"LO",6345:"ST",6346:"FD",6347:"FD",6350:"US",6360:"SQ",6380:"LO",6390:"FD","63A0":"SQ","63A4":"SQ","63A8":"SQ","63AC":"SQ","63B0":"SQ","63C0":"US","63D0":"LO","63E0":"SQ","63F0":"US",6400:"SQ",6410:"US",6420:"CS",6430:"SQ",6440:"US",6450:"FD",6460:"FD",6470:"SQ",6490:"FD","64A0":"FD","64C0":"FD","64D0":"FD","64F0":"FD",6500:"SQ",6510:"SQ",6520:"SQ",6530:"US",6540:"LO",6545:"SQ",6550:"SQ",6560:"FD",6590:"FD","65A0":"SQ","65B0":"FD","65D0":"FD","65E0":"SQ","65F0":"FD",6610:"FD",6620:"FD"},
"0070":{"0001":"SQ","0002":"CS","0003":"CS","0004":"CS","0005":"CS","0006":"ST","0008":"SQ","0009":"SQ","0010":"FL","0011":"FL","0012":"CS","0014":"FL","0015":"CS","0020":"US","0021":"US","0022":"FL","0023":"CS","0024":"CS","0040":"IS","0041":"CS","0042":"US","0050":"US","0051":"US","0052":"SL","0053":"SL","005A":"SQ","0060":"SQ","0062":"IS","0066":"US","0067":"US","0068":"LO","0080":"CS","0081":"LO","0082":"DA","0083":"TM","0084":"PN","0086":"SQ","0087":"SQ","0100":"CS","0101":"DS","0102":"IS","0103":"FL",
"0207":"LO","0208":"ST","0209":"SQ","0226":"UL","0227":"LO","0228":"CS","0229":"LO","0230":"FD","0231":"SQ","0232":"SQ","0233":"SQ","0234":"SQ","0241":"US","0242":"CS","0243":"CS","0244":"CS","0245":"FL","0246":"FL","0247":"US","0248":"CS","0249":"CS","0250":"CS","0251":"US","0252":"US","0253":"FL","0254":"CS","0255":"UL","0256":"OB","0257":"CS","0258":"FL","0261":"FL","0262":"FL","0273":"FL","0274":"CS","0278":"CS","0279":"CS","0282":"CS","0284":"FL","0285":"FL","0287":"SQ","0288":"FL","0289":"SH",
"0294":"CS","0295":"UL","0306":"CS","0308":"SQ","0309":"SQ","030A":"SQ","030C":"CS","030D":"SQ","030F":"ST","0310":"SH","0311":"SQ","0312":"FD","0314":"SQ","0318":"SQ","031A":"UI","031C":"SQ","031E":"SQ","0401":"US","0402":"SQ","0403":"FL","0404":"SQ","0405":"CS"},"0072":{"0002":"SH","0004":"LO","0006":"CS","0008":"LO","000A":"DT","000C":"SQ","000E":"SQ","0010":"LO","0012":"SQ","0014":"US","0020":"SQ","0022":"SQ","0024":"CS","0026":"AT","0028":"US","0030":"SQ","0032":"US","0034":"CS","0038":"US",
"003A":"CS","003C":"SS","003E":"SQ","0040":"LO","0050":"CS","0052":"AT","0054":"LO","0056":"LO","0060":"AT","0062":"CS","0064":"IS","0066":"LO","0068":"LT","006A":"PN","006C":"SH","006E":"ST","0070":"UT","0072":"DS","0074":"FD","0076":"FL","0078":"UL","007A":"US","007C":"SL","007E":"SS","0080":"SQ","0100":"US","0102":"SQ","0104":"US","0106":"US","0108":"FD","010A":"US","010C":"US","010E":"US","0200":"SQ","0202":"US","0203":"LO","0204":"US","0206":"LO","0208":"CS","0210":"SQ","0212":"US","0214":"SQ",
"0216":"US","0218":"US","0300":"SQ","0302":"US","0304":"CS","0306":"US","0308":"US","0310":"CS","0312":"CS","0314":"US","0316":"CS","0318":"US","0320":"US","0330":"FD","0400":"SQ","0402":"CS","0404":"CS","0406":"CS","0420":"US","0421":"US","0422":"SQ","0424":"SQ","0427":"SQ","0430":"SQ","0432":"US","0434":"CS","0500":"CS","0510":"CS","0512":"FD","0514":"FD","0516":"CS","0520":"CS","0600":"SQ","0602":"CS","0604":"CS","0700":"CS","0702":"CS","0704":"CS","0705":"SQ","0706":"CS","0710":"CS","0712":"CS",
"0714":"CS","0716":"CS","0717":"CS","0718":"CS"},"0074":{"0120":"FD","0121":"FD",1E3:"CS",1002:"SQ",1004:"DS",1006:"ST",1008:"SQ","100A":"ST","100C":"LO","100E":"SQ",1020:"SQ",1022:"CS",1024:"IS",1026:"FD",1027:"FD",1028:"FD","102A":"FD","102B":"FD","102C":"FD","102D":"FD",1030:"SQ",1032:"CS",1034:"CS",1036:"CS",1038:"DS","103A":"DS",1040:"SQ",1042:"SQ",1044:"SQ",1046:"SQ",1048:"SQ","104A":"SQ","104C":"SQ","104E":"SQ",1050:"SQ",1052:"AT",1054:"UL",1056:"LO",1057:"IS",1200:"CS",1202:"LO",1204:"LO",
1210:"SQ",1212:"SQ",1216:"SQ",1220:"SQ",1222:"LO",1224:"SQ",1230:"LO",1234:"AE",1236:"AE",1238:"LT",1242:"CS",1244:"CS",1246:"CS",1324:"UL",1338:"FD","133A":"FD"},"0076":{"0001":"LO","0003":"LO","0006":"LO","0008":"SQ","000A":"CS","000C":"SQ","000E":"SQ","0010":"SQ","0020":"SQ","0030":"LO","0032":"SQ","0034":"CS","0036":"CS","0038":"CS","0040":"SQ","0055":"US","0060":"SQ","0070":"US","0080":"US","0090":"US","00A0":"US","00B0":"US","00C0":"US"},"0078":{"0001":"LO","0010":"ST","0020":"LO","0024":"LO",
"0026":"SQ","0028":"SQ","002A":"SQ","002E":"US","0050":"FD","0060":"FD","0070":"SQ","0090":"FD","00A0":"FD","00B0":"SQ","00B2":"LO","00B4":"SQ","00B6":"US","00B8":"US"},"0088":{"0130":"SH","0140":"UI","0200":"SQ","0904":"LO","0906":"ST","0910":"LO","0912":"LO"},"0100":{"0410":"CS","0420":"DT","0424":"LT","0426":"LO"},"0400":{"0005":"US","0010":"UI","0015":"CS","0020":"AT","0100":"UI","0105":"DT","0110":"CS","0115":"OB","0120":"OB","0305":"CS","0310":"OB","0401":"SQ","0402":"SQ","0403":"SQ","0404":"OB",
"0500":"SQ","0510":"UI","0520":"OB","0550":"SQ","0561":"SQ","0562":"DT","0563":"LO","0564":"LO","0565":"CS"},1E3:{"0000":"UL","0001":"US","0002":"US","0003":"US","0004":"US","0005":"US"},1010:{"0000":"UL"},2E3:{"0010":"IS","001E":"SQ","0020":"CS","0030":"CS","0040":"CS","0050":"LO","0060":"IS","0061":"IS","0062":"CS","0063":"CS","0065":"CS","0067":"CS","0069":"CS","006A":"CS","00A0":"US","00A1":"US","00A2":"SQ","00A4":"SQ","00A8":"SQ","0500":"SQ","0510":"SQ"},2010:{"0010":"ST","0030":"CS","0040":"CS",
"0050":"CS","0052":"CS","0054":"CS","0060":"CS","0080":"CS","00A6":"CS","00A7":"CS","00A8":"CS","00A9":"CS","0100":"CS","0110":"CS","0120":"US","0130":"US","0140":"CS","0150":"ST","0152":"LT","0154":"IS","015E":"US","0160":"US","0376":"DS","0500":"SQ","0510":"SQ","0520":"SQ"},2020:{"0010":"US","0020":"CS","0030":"DS","0040":"CS","0050":"CS","00A0":"CS","00A2":"CS","0110":"SQ","0111":"SQ","0130":"SQ","0140":"SQ"},2030:{"0010":"US","0020":"LO"},2040:{"0010":"SQ","0011":"US","0020":"SQ","0060":"CS",
"0070":"CS","0072":"CS","0074":"US","0080":"CS","0082":"CS","0090":"CS","0100":"CS","0500":"SQ"},2050:{"0010":"SQ","0020":"CS","0500":"SQ"},2100:{"0010":"SH","0020":"CS","0030":"CS","0040":"DA","0050":"TM","0070":"AE","0140":"AE","0160":"SH","0170":"IS","0500":"SQ"},2110:{"0010":"CS","0020":"CS","0030":"LO","0099":"SH"},2120:{"0010":"CS","0050":"SQ","0070":"SQ"},2130:{"0010":"SQ","0015":"SQ","0030":"SQ","0040":"SQ","0050":"SQ","0060":"SQ","0080":"SQ","00A0":"SQ","00C0":"SQ"},2200:{"0001":"CS","0002":"UT",
"0003":"CS","0004":"LT","0005":"LT","0006":"CS","0007":"CS","0008":"CS","0009":"CS","000A":"CS","000B":"US","000C":"LO","000D":"SQ","000E":"AT","000F":"CS","0020":"CS"},3002:{"0002":"SH","0003":"LO","0004":"ST","000A":"CS","000C":"CS","000D":"DS","000E":"DS","0010":"DS","0011":"DS","0012":"DS","0020":"SH","0022":"DS","0024":"DS","0026":"DS","0028":"DS","0029":"IS","0030":"SQ","0032":"DS","0034":"DS","0040":"SQ","0041":"CS","0042":"DS","0050":"SQ","0051":"CS","0052":"SH"},3004:{"0001":"CS","0002":"CS",
"0004":"CS","0006":"LO","0008":"DS","000A":"CS","000C":"DS","000E":"DS","0010":"SQ","0012":"DS","0014":"CS","0040":"DS","0042":"DS","0050":"SQ","0052":"DS","0054":"CS","0056":"IS","0058":"DS","0060":"SQ","0062":"CS","0070":"DS","0072":"DS","0074":"DS"},3006:{"0002":"SH","0004":"LO","0006":"ST","0008":"DA","0009":"TM","0010":"SQ","0012":"SQ","0014":"SQ","0016":"SQ","0020":"SQ","0022":"IS","0024":"UI","0026":"LO","0028":"ST","002A":"IS","002C":"DS","0030":"SQ","0033":"CS","0036":"CS","0038":"LO","0039":"SQ",
"0040":"SQ","0042":"CS","0044":"DS","0045":"DS","0046":"IS","0048":"IS","0049":"IS","0050":"DS","0080":"SQ","0082":"IS","0084":"IS","0085":"SH","0086":"SQ","0088":"ST","00A0":"SQ","00A4":"CS","00A6":"PN","00B0":"SQ","00B2":"CS","00B4":"DS","00B6":"SQ","00B7":"US","00B8":"FL","00C0":"SQ","00C2":"UI","00C4":"CS","00C6":"DS","00C8":"LO"},3008:{"0010":"SQ","0012":"ST","0014":"CS","0016":"DS","0020":"SQ","0021":"SQ","0022":"IS","0024":"DA","0025":"TM","002A":"CS","002B":"SH","002C":"CS","0030":"SQ","0032":"DS",
"0033":"DS","0036":"DS","0037":"DS","003A":"DS","003B":"DS","0040":"SQ","0041":"SQ","0042":"DS","0044":"DS","0045":"FL","0046":"FL","0047":"FL","0048":"DS","0050":"SQ","0052":"DS","0054":"DA","0056":"DA","005A":"IS","0060":"SQ","0061":"AT","0062":"AT","0063":"IS","0064":"IS","0065":"AT","0066":"ST","0068":"SQ","006A":"FL","0070":"SQ","0072":"IS","0074":"ST","0076":"DS","0078":"DS","007A":"DS","0080":"SQ","0082":"IS","0090":"SQ","0092":"IS","00A0":"SQ","00B0":"SQ","00C0":"SQ","00D0":"SQ","00E0":"SQ",
"00F0":"SQ","00F2":"SQ","00F4":"SQ","00F6":"SQ","0100":"SQ","0105":"LO","0110":"SQ","0116":"CS","0120":"SQ","0122":"IS","0130":"SQ","0132":"DS","0134":"DS","0136":"IS","0138":"IS","013A":"DS","013C":"DS","0140":"SQ","0142":"IS","0150":"SQ","0152":"IS","0160":"SQ","0162":"DA","0164":"TM","0166":"DA","0168":"TM","0200":"CS","0202":"ST","0220":"SQ","0223":"IS","0224":"CS","0230":"CS","0240":"SQ","0250":"DA","0251":"TM"},"300A":{"0002":"SH","0003":"LO","0004":"ST","0006":"DA","0007":"TM","0009":"LO",
"000A":"CS","000B":"LO","000C":"CS","000E":"ST","0010":"SQ","0012":"IS","0013":"UI","0014":"CS","0015":"CS","0016":"LO","0018":"DS","001A":"DS","0020":"CS","0021":"DS","0022":"DS","0023":"DS","0025":"DS","0026":"DS","0027":"DS","0028":"DS","002A":"DS","002B":"DS","002C":"DS","002D":"DS","0040":"SQ","0042":"IS","0043":"SH","0044":"DS","0046":"DS","0048":"SQ","004A":"DS","004B":"FL","004C":"DS","004E":"DS","004F":"FL","0050":"FL","0051":"DS","0052":"DS","0053":"DS","0055":"CS","0070":"SQ","0071":"IS",
"0072":"LO","0078":"IS","0079":"IS","007A":"IS","007B":"LT","0080":"IS","0082":"DS","0084":"DS","0086":"DS","0088":"FL","0089":"FL","008A":"FL","00A0":"IS","00A2":"DS","00A4":"DS","00B0":"SQ","00B2":"SH","00B3":"CS","00B4":"DS","00B6":"SQ","00B8":"CS","00BA":"DS","00BB":"FL","00BC":"IS","00BE":"DS","00C0":"IS","00C2":"LO","00C3":"ST","00C4":"CS","00C6":"CS","00C7":"CS","00C8":"IS","00CA":"SQ","00CC":"LO","00CE":"CS","00D0":"IS","00D1":"SQ","00D2":"IS","00D3":"CS","00D4":"SH","00D5":"IS","00D6":"DS",
"00D7":"FL","00D8":"DS","00D9":"FL","00DA":"DS","00DB":"FL","00DC":"SH","00DD":"ST","00E0":"IS","00E1":"SH","00E2":"DS","00E3":"SQ","00E4":"IS","00E5":"SH","00E6":"DS","00E7":"IS","00E8":"IS","00E9":"DS","00EA":"DS","00EB":"DS","00EC":"DS","00ED":"IS","00EE":"CS","00F0":"IS","00F2":"DS","00F3":"FL","00F4":"SQ","00F5":"SH","00F6":"DS","00F7":"FL","00F8":"CS","00F9":"LO","00FA":"CS","00FB":"CS","00FC":"IS","00FE":"LO","0100":"DS","0102":"DS","0104":"IS","0106":"DS","0107":"SQ","0108":"SH","0109":"CS",
"010A":"LO","010C":"DS","010E":"DS","0110":"IS","0111":"SQ","0112":"IS","0114":"DS","0115":"DS","0116":"SQ","0118":"CS","011A":"SQ","011C":"DS","011E":"DS","011F":"CS","0120":"DS","0121":"CS","0122":"DS","0123":"CS","0124":"DS","0125":"DS","0126":"CS","0128":"DS","0129":"DS","012A":"DS","012C":"DS","012E":"DS","0130":"DS","0134":"DS","0140":"FL","0142":"CS","0144":"FL","0146":"CS","0148":"FL","014A":"FL","014C":"CS","014E":"FL","0180":"SQ","0182":"IS","0183":"LO","0184":"LO","0190":"SQ","0192":"CS",
"0194":"SH","0196":"ST","0198":"SH","0199":"FL","019A":"FL","01A0":"SQ","01A2":"CS","01A4":"SH","01A6":"ST","01A8":"SH","01B0":"CS","01B2":"ST","01B4":"SQ","01B6":"CS","01B8":"SH","01BA":"ST","01BC":"DS","01D0":"ST","01D2":"DS","01D4":"DS","01D6":"DS","0200":"CS","0202":"CS","0206":"SQ","0210":"SQ","0212":"IS","0214":"CS","0216":"LO","0218":"DS","021A":"DS","0222":"DS","0224":"DS","0226":"LO","0228":"DS","0229":"CS","022A":"DS","022B":"DS","022C":"DA","022E":"TM","0230":"SQ","0232":"CS","0234":"IS",
"0236":"LO","0238":"LO","0240":"IS","0242":"SH","0244":"LO","0250":"DS","0260":"SQ","0262":"IS","0263":"SH","0264":"CS","0266":"LO","026A":"DS","026C":"DS","0280":"SQ","0282":"IS","0284":"DS","0286":"DS","0288":"CS","028A":"IS","028C":"DS","0290":"IS","0291":"SH","0292":"CS","0294":"LO","0296":"DS","0298":"LO","029C":"DS","029E":"DS","02A0":"DS","02A2":"IS","02A4":"DS","02B0":"SQ","02B2":"IS","02B3":"SH","02B4":"LO","02B8":"DS","02BA":"DS","02C8":"DS","02D0":"SQ","02D2":"DS","02D4":"DS","02D6":"DS",
"02E0":"CS","02E1":"CS","02E2":"DS","02E3":"FL","02E4":"FL","02E5":"FL","02E6":"FL","02E7":"FL","02E8":"FL","02EA":"SQ","02EB":"LT","0302":"IS","0304":"IS","0306":"SS","0308":"CS","030A":"FL","030C":"SQ","030D":"FL","030F":"SH","0312":"IS","0314":"SQ","0316":"IS","0318":"SH","0320":"CS","0322":"LO","0330":"IS","0332":"SQ","0334":"IS","0336":"SH","0338":"CS","033A":"LO","033C":"FL","0340":"IS","0342":"SQ","0344":"IS","0346":"SH","0348":"CS","034A":"LO","034C":"SH","0350":"CS","0352":"SH","0354":"LO",
"0356":"FL","0358":"FL","035A":"FL","0360":"SQ","0362":"LO","0364":"FL","0366":"FL","0370":"SQ","0372":"LO","0374":"FL","0380":"SQ","0382":"FL","0384":"FL","0386":"FL","0388":"FL","038A":"FL","0390":"SH","0392":"IS","0394":"FL","0396":"FL","0398":"FL","039A":"IS","03A0":"SQ","03A2":"SQ","03A4":"SQ","03A6":"SQ","03A8":"SQ","03AA":"SQ","03AC":"SQ","0401":"SQ","0402":"ST","0410":"SQ","0412":"FL","0420":"SQ","0421":"SH","0422":"ST","0423":"CS","0424":"IS","0431":"SQ","0432":"CS","0433":"FL","0434":"FL",
"0435":"FL","0436":"FL"},"300C":{"0002":"SQ","0004":"SQ","0006":"IS","0007":"IS","0008":"DS","0009":"DS","000A":"SQ","000C":"IS","000E":"IS","0020":"SQ","0022":"IS","0040":"SQ","0042":"SQ","0050":"SQ","0051":"IS","0055":"SQ","0060":"SQ","006A":"IS","0080":"SQ","00A0":"IS","00B0":"SQ","00C0":"IS","00D0":"IS","00E0":"IS","00F0":"IS","00F2":"SQ","00F4":"IS","00F6":"IS","0100":"IS","0102":"IS","0104":"IS"},"300E":{"0002":"CS","0004":"DA","0005":"TM","0008":"PN"},4E3:{"0010":"LT",4E3:"LT"},4008:{"0040":"SH",
"0042":"LO","0050":"SQ","00FF":"CS","0100":"DA","0101":"TM","0102":"PN","0103":"LO","0108":"DA","0109":"TM","010A":"PN","010B":"ST","010C":"PN","0111":"SQ","0112":"DA","0113":"TM","0114":"PN","0115":"LT","0117":"SQ","0118":"SQ","0119":"PN","011A":"LO","0200":"SH","0202":"LO","0210":"CS","0212":"CS","0300":"ST",4E3:"ST"},4010:{"0001":"CS","0002":"CS","0004":"SQ",1001:"SQ",1004:"FL",1005:"FL",1006:"OB",1007:"SH",1008:"CS",1009:"CS","100A":"SQ",1010:"US",1011:"SQ",1012:"CS",1013:"LT",1014:"CS",1015:"CS",
1016:"FL",1017:"FL",1018:"FL",1019:"FL","101A":"SH","101B":"FL","101C":"FL","101D":"FL","101E":"SH","101F":"SH",1020:"CS",1021:"CS",1023:"FL",1024:"CS",1025:"DT",1026:"DT",1027:"CS",1028:"CS",1029:"LO","102A":"SH","102B":"DT",1031:"CS",1033:"US",1034:"US",1037:"SQ",1038:"SQ",1039:"CS","103A":"CS",1041:"DT",1042:"CS",1043:"FL",1044:"CS",1045:"SQ",1046:"CS",1047:"SQ",1048:"CS",1051:"LO",1052:"SH",1053:"LO",1054:"SH",1055:"SH",1056:"CS",1058:"SH",1059:"CS",1060:"FL",1061:"FL",1062:"FL",1064:"SQ",1067:"CS",
1068:"LT",1069:"FL","106C":"OB"},"4FFE":{"0001":"SQ"},5E3:{"0005":"US","0010":"US","0020":"CS","0022":"LO","0030":"SH","0040":"SH","0103":"US","0104":"US","0105":"US","0106":"SH","0110":"US","0112":"US","0114":"US",1001:"CS",2E3:"US",2002:"US",2004:"US",2006:"UL",2008:"UL","200A":"UL","200C":"OW","200E":"LT",2500:"LO",2600:"SQ",2610:"US",3E3:"OW"},5200:{9229:"SQ",9230:"SQ"},5400:{"0100":"SQ","0110":"OB","0112":"OB",1004:"US",1006:"CS","100A":"OB",1010:"OB"},5600:{"0010":"OF","0020":"OF"},6E3:{"0010":"US",
"0011":"US","0012":"US","0015":"IS","0022":"LO","0040":"CS","0045":"LO","0050":"SS","0051":"US","0052":"US","0060":"CS","0061":"SH","0062":"SH","0063":"CS","0066":"AT","0068":"US","0069":"US","0100":"US","0102":"US","0110":"CS","0200":"US","0800":"CS","0802":"US","0803":"AT","0804":"US",1001:"CS",1100:"US",1101:"US",1102:"US",1103:"US",1200:"US",1201:"US",1202:"US",1203:"US",1301:"IS",1302:"DS",1303:"DS",1500:"LO",3E3:"OB",4E3:"LT"},"7F00":{"0010":"OW","0011":"US","0020":"OW","0030":"OW","0040":"OW"},
"7FE0":{"0010":"OW","0020":"OW","0030":"OW","0040":"OW"},FFFA:{FFFA:"SQ"},FFFC:{FFFC:"OB"},FFFE:{E000:"UN",E00D:"UN",E0DD:"UN"}};function gh(a,b,c){this.c=b||{};this.da=c||null;this.g=null;a&&hh(this,a)}sa("box.dicom.core.DicomObjectData",gh);function Ug(a,b){return a.c?a.c.hasOwnProperty(b):!1}gh.prototype.m=function(a){return this.c?this.c[a]:null};gh.prototype.b=function(a){return Ug(this,a)?this.c[a].T()[0]:null};gh.prototype.getString=gh.prototype.b;gh.prototype.a=function(a,b){if(!Ug(this,a))return null;var c=b||0;return parseInt(this.c[a].T()[c],10)};gh.prototype.getInt=gh.prototype.a;
function Og(a,b,c){if(!Ug(a,b))return null;c=c||0;return parseFloat(a.c[b].T()[c])}function ih(a){return a.da?a.da instanceof Uint16Array?2*a.da.length:a.da instanceof Uint8Array?a.da.length:0:0}function jh(a,b){a.c[b.a]=b;if("00080005"===b.a){var c=b.T();a.g=c&&0!==c.length?Lf[c[0]]:null}}function kh(a,b){var c=a.Ub(b,2).toString(16).toUpperCase();return Na("0",4-c.length)+c}
function lh(a,b,c,d){var e;e=kh(b,c);var f=kh(b,c+2);e=e+f;var h=e.substr(0,4),k=e.substr(4,4),f="UN",l=0,p=0,m=0;"FFFE"===h||d?(fh[h]&&fh[h][k]&&(f=fh[h][k][0]),l=b.Ub(c+4,4),m=4):(f=Of(b,c+4,2),p=2,"OB"===f||"OF"===f||"SQ"===f||"OW"===f||"UN"===f||"UT"===f?(l=b.Ub(c+4+p+2,4),m=6):(l=b.Ub(c+4+p,2),m=2));4294967295===l&&(l=0);d=4+p+m+l;c=c+4+p+m;p=null;"US"===f||"SS"===f||"XS"===f?p=Nf(b,c,2,l/2):"UL"===f?p=Nf(b,c,4,l/4):"OX"===f||"OW"===f?p=b.ff(c,l):"OB"===f||"UN"===f?p=b.a.subarray(c,c+l):(p=Of(b,
c,l,a.g),p=p.split("\\"));return new Qf(e,0,0,p,0,d)}
function hh(a,b,c){var d=!1,e="1.2.840.10008.1.2",f=new dh(b),h=new dh(b),k=128;if("DICM"!==Of(f,k,4))throw Error("Not a DICOM file");for(var k=k+4,l=lh(a,f,k,!1),p=parseInt(l.T(),10),k=k+l.b,p=k+p;k<p;)l=lh(a,f,k,!1),"00020010"===l.a&&(e=l.T()[0],e=e.replace(/[\u200B-\u200D\uFEFF]/g,""),"1.2.840.10008.1.2"===e?d=!0:"1.2.840.10008.1.2.2"===e&&(h=new Pf(b))),jh(a,l),k+=l.b;f=h;b=b.length;for(var l=!1,k=0,m=!1;p<b;){var r=lh(a,f,p,d);if(q(c)&&c===r.a&&0===k)break;"FFFEE000"===r.a?(k++,m=!1):"FFFEE00D"===
r.a?(k--,m=!0):"FFFEE0DD"===r.a?m||k--:m=!1;if(l)if("FFFEE000"===r.a){if(0!==r.T().length){var t=a,x;x=a.da;var y=r.T();if(x){if(y){var E=x.length+y.length,ca=null;y instanceof Uint8Array?ca=new Uint8Array(E):ca=new Uint16Array(E);ca.set(x,0);ca.set(y,x.length);x=ca}}else x=y;t.da=x}}else if("FFFEE0DD"===r.a)l=!1;else throw Error("Unexpected tag in encapsulated pixel data: "+r.a);"7FE00010"===r.a?0!==r.T().length?a.da=r.T():l=!0:0===k&&jh(a,r);p+=r.b}if("7FE00010"!==c){c=e;"1.2.840.10008.1.2.1.99"===
c&&mh("Deflated Explicit VR",c);(c.match(/1.2.840.10008.1.2.4.5/)||c.match(/1.2.840.10008.1.2.4.6/)||c.match(/1.2.840.10008.1.2.4.7/)||c.match(/1.2.840.10008.1.2.4.8/))&&mh("JPEG",c);c.match(/1.2.840.10008.1.2.4.9/)&&mh("JPEG 2000",c);"1.2.840.10008.1.2.4.100"===c&&mh("MPEG2",c);"1.2.840.10008.1.2.4.5"===c&&mh("RLE",c);c=a.a("00280100");a.da instanceof Uint16Array&&8>=c?a.da=h.ge(a.da):a.da instanceof Uint8Array&&8<c&&(a.da=h.he(a.da));if(Ug(a,"60000010")&&Ug(a,"60000011")&&Ug(a,"60003000"))for(a.a("00280010"),
h=a.a("00280011"),c=a.a("60000010"),e=a.a("60000011"),f=a.m("60003000").T(),b=f instanceof Uint8Array?8:16,d=(1<<a.a("00280102"))-1,k=l=0;k<c;k++)for(p=0;p<e;p++)f[Math.floor(l/b)]>>>l%b&1&&(a.da[k*h+p]=d),l++;if(Ug(a,"00280103")&&0!==a.a("00280103"))for(h=2<<(a.a("00280101")||12)-2,c=Og(a,"00281053")||1,c=[(Og(a,"00281052")||0)-h*c],jh(a,new Qf("00281052",0,0,c,0,0)),c=0;c<a.da.length;c++)a.da[c]=a.da[c]>=h?a.da[c]-h:a.da[c]+h}}
function Rg(a){var b=!1;if(a=a.b("00280004"))if(a=Da(a),"RGB"===a||"PALETTE COLOR"===a)b=!0;return b}function Qg(a){var b=a.b("00280004");return b&&"PALETTE COLOR"===Da(b)?new ag(nh(a.m("00281101"),a.m("00281201")),nh(a.m("00281102"),a.m("00281202")),nh(a.m("00281103"),a.m("00281203"))):null}function nh(a,b){a.T();a.T();for(var c=a.T()[2]-8,d=[],e=0;e<b.T().length;e++){var f=b.T()[e]>>>c;d.push(f)}return d}function mh(a,b){throw Error("Unsupported DICOM transfer syntax ("+a+"): "+b);};function oh(a){this.h=a;this.g={};this.b=this.a=null;this.c=0;this.clear()}oh.prototype.clear=function(){ph(this,0);this.g={};this.b=this.a=null;this.c=0};oh.prototype.size=function(){return this.c};function qh(a,b,c){if(null==b)throw Error("key");if(null==c)throw Error("value");var d=new rh(b,c);a.g.hasOwnProperty(b)||(a.c+=ih(c));ph(a);a.g[b]=d;sh(a,d)}
function ph(a,b){q(b)||(b=a.h);for(;a.c>b&&a.b;){var c=a.b,d=c.value;a.c-=ih(d);delete a.g[a.b.key];th(a,a.b);d.c=null;delete d.c;d.da=null;delete d.da;c.value=null;delete c.value;c.next=null;delete c.next;c.a=null;delete c.a}}function sh(a,b){null==a.a?(a.a=b,a.b=b):(a.a.a=b,b.next=a.a,a.a=b)}function th(a,b){a.a===b&&a.b===b?(a.a=null,a.b=null):a.a===b?(a.a=a.a.next,a.a.a=null):a.b===b?(a.b=a.b.a,a.b.next=null):(b.a.next=b.next,b.next.a=b.a);b.next=null;b.a=null}
function rh(a,b){this.key=a;this.value=b;this.a=this.next=null};function uh(a){I.call(this);this.a=a;this.c={};this.b={};this.Z=[];this.g=0}v(uh,I);function Ag(a){return Vg(a,"0020000E")}function Vg(a,b){return ac(a.b,b)?C(a.b,b):Xg(a.a,b)}function Wg(a,b){var c;ac(a.b,b)?c=parseInt(Vg(a,b),10):(c=a.a,c=c.b?parseInt(Xg(c,b),10):0);return c}function vh(a,b){var c={},d;for(d in a)c[d]=a[d];c.Z=[a.Z[b]];return c}function yg(a,b){return a.c[b]||a.a.g[b]}
function wh(a){for(var b=Array(a.length),c=0;c<a.length;c++){for(var d=c,e=a[c],f=e.c,h=Yf(e.b,$f),e=e.Z,k=Array(e.length),l=0;l<e.length;l++){var p=l,m=e[l],r={};r["00080018"]=Bg(m);r["00200013"]=Dg(m);r["00200052"]=Cg(m,"00200052");var t=Fg(m);t&&(r["00280011"]=t.a,r["00280010"]=t.c);(t=Gg(m))&&(r["00280030"]=[t.b,t.a]);var x=m,t=ah(x),x=bh(x);if(t&&x){for(var y=Array(6),E=0;3>E;E++)y[E]=L(t,E,0),y[E+3]=L(x,E,0);t=y}else t=null;t&&(r["00200037"]=t);if(t=Zg(m)){x=Array(t.c*t.b);for(E=y=0;E<t.c;E++)for(var ca=
0;ca<t.b;ca++)x[y++]=t.a[E][ca];r["00200032"]=x}k[p]={meta:m.c,dicomMetadata:Yf(r,$f)}}b[d]={meta:f,dicomMetadata:h,objects:k}}return b};function xh(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,l,p,m,r){if("%"==p)return"%";var t=c.shift();if("undefined"==typeof t)throw Error("[goog.string.format] Not enough arguments");arguments[0]=t;return yh[p].apply(null,arguments)})}
var yh={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Na(" ",Number(c)-a.length):Na(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=Number(c)-d.length-f.length;return d=0<=b.indexOf("-",0)?f+d+Na(" ",a):
f+Na(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,e,f,h,k){return yh.f(parseInt(a,10),b,c,d,0,f,h,k)}};yh.i=yh.d;yh.u=yh.d;function zh(a){this.h=this.g=this.c=this.b=this.a="";a?(this.clear(),a&&(a=a.split(/\^/),null!=a&&(0<a.length&&(this.a=Ah(a[0])),1<a.length&&(this.b=Ah(a[1])),2<a.length&&(this.c=Ah(a[2])),3<a.length&&(this.g=Ah(a[3])),4<a.length&&(this.h=Ah(a[4]))))):this.clear()}zh.prototype.clear=function(){this.a=Ah(null);this.b=Ah(null);this.c=Ah(null);this.g=Ah(null);this.h=Ah(null)};function Bh(a){a=xh("%s %s %s %s %s",a.g,a.b,a.c,a.a,a.h);a=a.replace(/[\s\n\r]+/g," ");return a=Da(a)}
function Ah(a){if(!a)return"";a=a.replace(/[\^\%\~]+/g,"");a=Da(a);return a=a.replace(/[\s\n\r]+/g," ")};var Ch;
Ch={uf:["BC","AD"],tf:["Before Christ","Anno Domini"],wf:"JFMAMJJASOND".split(""),Cf:"JFMAMJJASOND".split(""),vf:"January February March April May June July August September October November December".split(" "),Bf:"January February March April May June July August September October November December".split(" "),yf:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ef:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),If:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Gf:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Af:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Ff:"Sun Mon Tue Wed Thu Fri Sat".split(" "),a:"SMTWTFS".split(""),Df:"SMTWTFS".split(""),zf:["Q1","Q2","Q3","Q4"],xf:["1st quarter","2nd quarter","3rd quarter","4th quarter"],qf:["AM","PM"],Vd:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Zd:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],rf:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],Wd:6,b:[5,6],Xd:5};var Dh=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,Eh=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,Fh=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/;function Gh(a,b,c,d,e,f){u(a)?(this.j=a==Hh?b:0,this.g=a==Ih?b:0,this.a=a==Jh?b:0,this.b=a==Kh?b:0,this.c=a==Lh?b:0,this.h=a==Mh?b:0):(this.j=a||0,this.g=b||0,this.a=c||0,this.b=d||0,this.c=e||0,this.h=f||0)}Gh.prototype.clone=function(){return new Gh(this.j,this.g,this.a,this.b,this.c,this.h)};
var Hh="y",Ih="m",Jh="d",Kh="h",Lh="n",Mh="s";Gh.prototype.add=function(a){this.j+=a.j;this.g+=a.g;this.a+=a.a;this.b+=a.b;this.c+=a.c;this.h+=a.h};function Nh(a,b,c){ha(a)?(this.a=Oh(a,b||0,c||1),Ph(this,c||1)):ja(a)?(this.a=Oh(a.getFullYear(),a.getMonth(),a.getDate()),Ph(this,a.getDate())):(this.a=new Date(ra()),a=this.a.getDate(),this.a.setHours(0),this.a.setMinutes(0),this.a.setSeconds(0),this.a.setMilliseconds(0),Ph(this,a))}
function Oh(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}g=Nh.prototype;g.sc=Ch.Wd;g.tc=Ch.Xd;g.clone=function(){var a=new Nh(this.a);a.sc=this.sc;a.tc=this.tc;return a};g.getFullYear=function(){return this.a.getFullYear()};g.getMonth=function(){return this.a.getMonth()};g.getDate=function(){return this.a.getDate()};g.getTime=function(){return this.a.getTime()};g.getDay=function(){return this.a.getDay()};g.getUTCFullYear=function(){return this.a.getUTCFullYear()};
g.getUTCMonth=function(){return this.a.getUTCMonth()};g.getUTCDate=function(){return this.a.getUTCDate()};g.getUTCHours=function(){return this.a.getUTCHours()};g.getUTCMinutes=function(){return this.a.getUTCMinutes()};g.getTimezoneOffset=function(){return this.a.getTimezoneOffset()};function Qh(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+z(c,2)+":"+z(b,2)}return a}
g.add=function(a){if(a.j||a.g){var b=this.getMonth()+a.g+12*a.j,c=this.getFullYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.a.setDate(1);this.a.setFullYear(c);this.a.setMonth(b);this.a.setDate(d)}a.a&&(a=new Date((new Date(this.getFullYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.a),this.a.setDate(1),this.a.setFullYear(a.getFullYear()),
this.a.setMonth(a.getMonth()),this.a.setDate(a.getDate()),Ph(this,a.getDate()))};g.yc=function(a,b){return[this.getFullYear(),z(this.getMonth()+1,2),z(this.getDate(),2)].join(a?"-":"")+(b?Qh(this):"")};g.toString=function(){return this.yc()};function Ph(a,b){a.getDate()!=b&&a.a.setUTCHours(a.a.getUTCHours()+(a.getDate()<b?1:-1))}g.valueOf=function(){return this.a.valueOf()};function Rh(a,b,c,d,e,f,h){this.a=ha(a)?new Date(a,b||0,c||1,d||0,e||0,f||0,h||0):new Date(a&&a.getTime?a.getTime():ra())}
v(Rh,Nh);g=Rh.prototype;g.getHours=function(){return this.a.getHours()};g.getMinutes=function(){return this.a.getMinutes()};g.getSeconds=function(){return this.a.getSeconds()};g.getUTCHours=function(){return this.a.getUTCHours()};g.getUTCMinutes=function(){return this.a.getUTCMinutes()};g.add=function(a){Nh.prototype.add.call(this,a);a.b&&this.a.setUTCHours(this.a.getUTCHours()+a.b);a.c&&this.a.setUTCMinutes(this.a.getUTCMinutes()+a.c);a.h&&this.a.setUTCSeconds(this.a.getUTCSeconds()+a.h)};
g.yc=function(a,b){var c=Nh.prototype.yc.call(this,a);return a?c+" "+z(this.getHours(),2)+":"+z(this.getMinutes(),2)+":"+z(this.getSeconds(),2)+(b?Qh(this):""):c+"T"+z(this.getHours(),2)+z(this.getMinutes(),2)+z(this.getSeconds(),2)+(b?Qh(this):"")};g.toString=function(){return this.yc()};g.clone=function(){var a=new Rh(this.a);a.sc=this.sc;a.tc=this.tc;return a};function Sh(a){I.call(this);this.h=a;this.g={};this.b={};this.a=[];this.c=[];this.w=this.l=this.j=null}v(Sh,I);
function Th(a,b){var c=new Sh(a);c.g=b.meta||{};c.b=Yf(b.dicomMetadata,Zf);if(b.series)for(var d=0;d<b.series.length;d++){var e=b.series[d],f=new uh(c);f.c=e.meta||{};f.b=Yf(e.dicomMetadata,Zf);if(e.objects){for(var h=0;h<e.objects.length;h++){var k=e.objects[h],l=new tg(f);l.c=k.meta||{};l.h=Yf(k.dicomMetadata,Zf);f.Z.push(l)}f.Z.sort(Sg)}c.a.push(f)}if(b.annotations){e=Array(b.annotations.length);for(d=0;d<b.annotations.length;d++)e[d]=Uh(b.annotations[d]);c.c=e}return c}
function zg(a){return Xg(a,"0020000D")}function Vh(a){return a.g.fileId}function Wh(a){return a.g.folderId}function Xh(a){var b=0;if(a.a)for(var c=0;c<a.a.length;c++)b+=a.a[c].Z.length;return b}function Yh(a){var b=0;if(a.a)for(var c=0;c<a.a.length;c++){for(var d=a.a[c],e=0,f=0;f<d.Z.length;f++)d.Z[f].aa&&e++;b+=e}return b}function Zh(a){!a.j&&a.b&&ac(a.b,"00100010")&&(a.j=new zh(Xg(a,"00100010")));return a.j}
function $h(a){if(!a.w){var b=Xg(a,"00080020"),c;if(b){c=new Rh(2E3);var b=Da(b),b=b.split(-1==b.indexOf("T")?" ":"T"),d;var e=b[0].match(Dh);if(e){var f=Number(e[2]),h=Number(e[3]),k=Number(e[4]);d=Number(e[5]);var l=Number(e[6])||1;c.a.setFullYear(Number(e[1]));k?(c.a.setDate(1),c.a.setMonth(0),c.add(new Gh(Jh,k-1))):d?(c.a.setMonth(0),c.a.setDate(1),e=c.getDay()||7,c.add(new Gh(Jh,(4>=e?1-e:8-e)+(Number(l)+7*(Number(d)-1))-1))):(f&&(c.a.setDate(1),c.a.setMonth(f-1)),h&&c.a.setDate(h));d=!0}else d=
!1;d&&!(d=2>b.length)&&(b=b[1],d=b.match(Fh),l=0,d&&("Z"!=d[0]&&(l=60*Number(d[2])+Number(d[3]),l*="-"==d[1]?1:-1),l-=c.getTimezoneOffset(),b=b.substr(0,b.length-d[0].length)),(d=b.match(Eh))?(c.a.setHours(Number(d[1])),c.a.setMinutes(Number(d[2])||0),c.a.setSeconds(Number(d[3])||0),c.a.setMilliseconds(d[4]?1E3*Number(d[4]):0),0!=l&&c.a.setTime(c.getTime()+6E4*l),d=!0):d=!1);c=d?c:null}else c=null;a.w=c}return a.w}function ai(a){return Xg(a,"00080060")}function Xg(a,b){return a.b?C(a.b,b):null};function bi(a,b,c){I.call(this);this.b=a;this.Tb=b;this.Pe=!!c}v(bi,I);bi.prototype.a=function(){return this.b};function ci(a){this.b=a;this.a=Array(a);this.clear()}ci.prototype.clear=function(){for(var a=0;a<this.b;a++)this.a[a]=[]};function di(a,b){ei(a,b.Tb);a.a[b.Tb].push(b)}function ei(a,b){if(0>b||b>=a.b)throw{name:"Out of Range Exception",message:"The priority is out of range ("+b+")."};};function fi(a){Ne.call(this,a);this.l="blob";this.j=null}v(fi,Ne);fi.prototype.me=function(){var a=Je(He);a.overrideMimeType&&a.overrideMimeType("application/x-gzip");var b=this;a.onprogress=function(a){var d=new Rf("dicomprogress");Sf(d).c=b.j.a();Sf(d).K=a.loaded;J(b.j,d)};return a};function gi(a,b,c,d,e,f){this.key=a;this.c=b;this.a=c;this.b=d;this.length=e;this.g=f}function hi(a){return{key:a.key,elements:a.c,buffer:a.a,byteOffset:a.b,length:a.length,isuint8:a.g}}function ii(a){return a?new gi(a.key,a.elements,a.buffer,a.byteOffset,a.length,a.isuint8):null};function ji(a,b,c){b=c||8;this.h=new oh(1048576*(a||100));this.c={};this.b=new ci(5);this.g=[];this.a=0;this.j=!1;this.l=[];this.w=b;if(this.j)for(a=0;a<this.w;a++)b=new Worker(ki),H(b,"message",this.Ch,!1,this),c=new ArrayBuffer(1),b.postMessage(c,[c]),c.byteLength&&(console.log("Transferables are not supported in browser."),this.j=!1),this.l.push(b);console.log("WebWorker: "+this.j)}var li=null;function mi(a){var b=li;!b&&a&&(li=b=new ji);return b}
var ni=document.getElementsByTagName("script"),ki=ni[ni.length-1].src.replace(".min.js","-worker.min.js");
function Ng(a,b,c,d,e,f,h){e=q(e)?e:2;var k;k=a.h;if(null==b)throw Error("key");var l=k.g[b],p=null;null!=l&&(p=l.value,th(k,l),sh(k,l));if(k=p)e=new bi(b,e),H(e,"dicomload",c,!1,d),a=new Rf("dicomload"),Sf(a).c=b,Sf(a).l=k,J(e,a);else{k=q(f)?f:!1;f=C(a.c,b);if(!f)f=new bi(b,e,k),a.c[b]=f,di(a.b,f);else if(e<f.Tb){f.Pe=k;b=a.b;k=f;ei(b,e);for(var l=b.a[k.Tb],p=!1,m=0;m<l.length;m++)if(l[m].a()===k.a()){l.splice(m,1);p=!0;break}p&&(k.Tb=e,di(b,k))}e=f;h&&H(e,"dicomprogress",h,!1,d);H(e,"dicomload",
c,!1,d);oi(a)}}function oi(a){if(!(8<=a.a)){var b;a:{b=a.b;for(var c=0;c<b.b;c++){var d=b.a[c];if(0<d.length){b=d.shift();break a}}b=null}if(null!=b){a.a++;c=null;0<a.g.length?c=a.g.shift():(c=new fi,H(c,"success",a.Gh,!1,a),H(c,["timeout","error","abort"],a.Eh,!1,a),H(c,"complete",a.Dh,!1,a),H(c,"ready",a.Fh,!1,a));c.j=b;try{Ve(c,b.a())}catch(e){b.Tb=0,di(a.b,b),c.j=null,a.a--,oi(a)}}}}g=ji.prototype;g.Gh=function(a){var b=a.target;a=b.j;a.Pe?pi(this,a,null):(b=gf(b),qi(this,a,b))};
function qi(a,b,c){if(c){var d=new FileReader;d.onerror=function(a){console.log("reader error: "+a.target.error.code)};d.onload=function(c){var d=c.target.result;c=b.a();a.j?(c=hi(new gi(c,null,d,0,0,!1)),d=a.l.shift(),d.postMessage(c,[c.buffer]),a.l.push(d)):(d=new Uint8Array(d),d=new gh(d,null,null),qh(a.h,c,d),pi(a,b,d))};d.readAsArrayBuffer(c)}else console.log("FATAL: response blob is null")}
g.Eh=function(a){var b=a.target;console.log("ERROR: error in XHR");console.log("e.type = "+a.type);console.log("xhr.status = "+df(b))};g.Dh=function(){};g.Fh=function(a){a=a.target;a.j=null;this.g.push(a);this.a--;oi(this)};g.Ch=function(a){var b=ii(a.g.data);if(b)if(a=b.key){var c=null;b.g?c=new Uint8Array(b.a,b.b,b.length):c=new Uint16Array(b.a,b.b,b.length);b=new gh(void 0,b.c,c);qh(this.h,a,b);pi(this,C(this.c,a),b)}else console.log("DicomWorkerMessage did not have a key");else console.log("DicomWorkerMessage could not be parsed")};
function pi(a,b,c){dc(a.c,b.a());a=new Rf("dicomload");Sf(a).c=b.a();Sf(a).l=c;J(b,a)};function ri(a,b,c){this.b=a||null;this.a=q(b)?b:null;this.c=q(c)?c:null}function si(a){return{referenceUid:a.b,objectUid:a.a,frame:a.c}};function ti(a){this.h=this.j=this.g=this.K=null;this.w=!1;if(a)if(a instanceof ti)this.K=a.K,this.g=a.g,this.j=a.j,this.h=a.h;else if(a instanceof ri)this.g=a;else{var b=a.view;this.g=new ri(b.referenceUid,b.objectUid,b.frame);this.j=a.fontSize;this.h=a.color}}ti.prototype.Pa=function(){return this.K};ti.prototype.clone=function(){return null};ti.prototype.xa=function(a){var b=this.h||"#71c181";a.font="normal "+(this.j||"11pt")+" sans-serif";a.fillStyle=b;a.strokeStyle=b};
function ui(a,b){var c;if(!b||a.w)c=!1;else{c=a.g;var d=vi(b),e=wi(b);c=null!==c.b&&c.b!==d||null!==c.a&&c.a!==e||null!==c.c&&c.c!==xi(b)?!1:!0}return c}ti.prototype.sb=function(){return!1};function yi(a,b,c,d,e){var f=d/2*.5522848,h=e/2*.5522848,k=b+d,l=c+e;d=b+d/2;e=c+e/2;a.beginPath();a.moveTo(b,e);a.bezierCurveTo(b,e-h,d-f,c,d,c);a.bezierCurveTo(d+f,c,k,e-h,k,e);a.bezierCurveTo(k,e+h,d+f,l,d,l);a.bezierCurveTo(d-f,l,b,e+h,b,e);a.closePath();a.stroke()}
function zi(a,b){var c=a.strokeStyle;a.strokeStyle="black";a.translate(1,1);Ai(a,b);a.translate(-1,-1);a.strokeStyle=c;Ai(a,b)}function Ai(a,b){for(var c=0;c<b.length;c++)a.beginPath(),a.moveTo(b[c].a.v(),b[c].a.o()),a.lineTo(b[c].b.v(),b[c].b.o()),a.stroke()}function Bi(a,b,c){var d=a.strokeStyle;b=Math.floor(b)+.5;c=Math.floor(c)+.5;a.lineWidth=1;a.strokeStyle="black";a.strokeRect(b-1,c-1,4,4);a.strokeStyle=d;a.strokeRect(b-2,c-2,4,4)};function Ci(a,b){this.a=a;this.b=b}function Di(a){return new Ci(cg(a.start),cg(a.end))}function Ei(a,b,c){var d=a.a.v(),e=a.a.o(),f=a.b.v(),h=a.b.o();if(d===f&&e===h)return fg(a.a,b,c);var k=f-d,l=h-e,p=((b-d)*k+(c-e)*l)/(k*k+l*l),m=0;a=0;0>p?(m=d,a=e):1<p?(m=f,a=h):(m=d+p*k,a=e+p*l);b-=m;c-=a;return Math.sqrt(b*b+c*c)}Ci.prototype.clone=function(){return new Ci(this.a.clone(),this.b.clone())};function Fi(a){return{start:eg(a.a),end:eg(a.b)}};function Gi(a,b,c,d){ti.call(this,a);this.c=b;this.a=c;this.b=d;this.B=new Ci(b,c);this.C=new Ci(c,d);this.O=this.H=this.l=0}v(Gi,ti);g=Gi.prototype;g.clone=function(){return new Gi(this,this.c.clone(),this.a.clone(),this.b.clone())};g.wb=function(){return{annotationType:"angle",fontSize:this.j,color:this.h,view:si(this.g),start:eg(this.c),mid:eg(this.a),end:eg(this.b)}};
g.xa=function(a,b,c){Gi.A.xa.call(this,a,b,c);c=Hi(b,this.c.v(),this.c.o());var d=Hi(b,this.a.v(),this.a.o());b=Hi(b,this.b.v(),this.b.o());if(c&&d&&b){a.lineWidth=2;zi(a,[new Ci(c,d),new Ci(d,b)]);var e=(c.v()+b.v())/2,f=(c.o()+b.o())/2;a.textBaseline="middle";a.textAlign="center";var h=Math.abs(180*(Math.atan2(this.c.o()-this.a.o(),this.c.v()-this.a.v())-Math.atan2(this.b.o()-this.a.o(),this.b.v()-this.a.v()))/Math.PI);180<h&&(h=360-h);N(a,h.toFixed(1)+" deg",e+10,f);Bi(a,c.v(),c.o());Bi(a,d.v(),
d.o());Bi(a,b.v(),b.o())}};g.sb=function(a,b){return 5>Ei(this.B,a,b)||5>Ei(this.C,a,b)};g.vb=function(a){5>fg(this.c,a.v(),a.o())?this.l=1:5>fg(this.a,a.v(),a.o())?this.l=2:5>fg(this.b,a.v(),a.o())?this.l=3:(this.l=4,this.H=a.v(),this.O=a.o())};
g.xb=function(a){if(1==this.l)this.c.a=a.v(),this.c.b=a.o();else if(2==this.l)this.a.a=a.v(),this.a.b=a.o();else if(3==this.l)this.b.a=a.v(),this.b.b=a.o();else if(4==this.l){var b=a.v()-this.H,c=a.o()-this.O;this.c.a=this.c.v()+b;this.c.b=this.c.o()+c;this.a.a=this.a.v()+b;this.a.b=this.a.o()+c;this.b.a=this.b.v()+b;this.b.b=this.b.o()+c;this.H=a.v();this.O=a.o()}};function Ii(a,b){ti.call(this,a);this.a=b;this.H=this.O=this.l=this.c=this.b=0}v(Ii,ti);g=Ii.prototype;g.clone=function(){return new Ii(this,this.a.clone())};g.wb=function(){return{annotationType:"arrow",fontSize:this.j,color:this.h,view:si(this.g),line:Fi(this.a)}};
g.xa=function(a,b,c){Ii.A.xa.call(this,a,b,c);var d=this.a;c=Hi(b,d.a.v(),d.a.o());b=Hi(b,d.b.v(),d.b.o());if(c&&b){a.lineWidth=2;var d=c.v()-b.v(),e=c.o()-b.o(),f=Math.sqrt(d*d+e*e),d=20*d/f,e=20*e/f,f=-e;zi(a,[new Ci(b,c),new Ci(b,new bg(b.v()+d+f,b.o()+e+d)),new Ci(b,new bg(b.v()+d-f,b.o()+e-d))]);Bi(a,c.v(),c.o());Bi(a,b.v(),b.o())}};g.sb=function(a,b){return 5>Ei(this.a,a,b)};
g.vb=function(a){var b=this.a;5>fg(b.a,a.v(),a.o())?(this.b=1,this.c=b.a.v()-a.v(),this.l=b.a.o()-a.o()):5>fg(b.b,a.v(),a.o())?(this.b=2,this.c=b.b.v()-a.v(),this.l=b.b.o()-a.o()):(this.b=3,this.c=b.a.v()-a.v(),this.l=b.a.o()-a.o(),this.O=b.b.v()-b.a.v(),this.H=b.b.o()-b.a.o())};g.xb=function(a){var b=this.a;1==this.b?(b.a.a=a.v()+this.c,b.a.b=a.o()+this.l):2==this.b?(b.b.a=a.v()+this.c,b.b.b=a.o()+this.l):3==this.b&&(b.a.a=a.v()+this.c,b.a.b=a.o()+this.l,b.b.a=b.a.v()+this.O,b.b.b=b.a.o()+this.H)};function Ji(a,b){ti.call(this,a);this.a=b;this.l=this.c=this.b=0}v(Ji,ti);
function Ki(a,b,c,d){switch(b){case 1:case 2:var e=a.a[2].a.v(),f=a.a[2].a.o();b=e-c;var h=f-d;dg(a.a[0].a,e-b,f-h);dg(a.a[0].b,e+b,f+h);break;case 3:case 4:e=a.a[2].b.v();f=a.a[2].b.o();b=e-c;h=f-d;dg(a.a[1].a,e-b,f-h);dg(a.a[1].b,e+b,f+h);break;case 5:e=a.a[0].a;f=a.a[0].b;a=a.a[2].a;b=a.v()-e.v();h=a.o()-e.o();dg(e,c-b,d-h);dg(f,c+b,d+h);dg(a,c,d);break;case 6:e=a.a[1].a;f=a.a[1].b;a=a.a[2].b;b=a.v()-e.v();h=a.o()-e.o();dg(e,c-b,d-h);dg(f,c+b,d+h);dg(a,c,d);break;case 7:b=c-a.c;h=d-a.l;for(e=0;3>
e;e++)f=a.a[e],dg(f.a,f.a.v()+b,f.a.o()+h),dg(f.b,f.b.v()+b,f.b.o()+h);a.c=c;a.l=d}}g=Ji.prototype;g.clone=function(){for(var a=Array(3),b=0;3>b;b++)a[b]=this.a[b].clone();return new Ji(this,a)};g.wb=function(){for(var a=Array(3),b=0;3>b;b++)a[b]=Fi(this.a[b]);return{annotationType:"cobbAngle",fontSize:this.j,color:this.h,view:si(this.g),lines:a}};
g.xa=function(a,b,c){Ji.A.xa.call(this,a,b,c);c=Array(6);for(var d=Array(3),e=0;3>e;e++){var f=this.a[e];c[2*e]=Hi(b,f.a.v(),f.a.o());if(!c[2*e])return;c[2*e+1]=Hi(b,f.b.v(),f.b.o());if(!c[2*e+1])return;d[e]=new Ci(c[2*e],c[2*e+1])}a.lineWidth=2;zi(a,d);for(e=0;6>e;e++)Bi(a,c[e].v(),c[e].o());b=(c[4].v()+c[5].v())/2;c=(c[4].o()+c[5].o())/2;a.textBaseline="middle";a.textAlign="left";for(d=Math.abs(180*(Math.atan2(this.a[0].b.o()-this.a[0].a.o(),this.a[0].b.v()-this.a[0].a.v())-Math.atan2(this.a[1].b.o()-
this.a[1].a.o(),this.a[1].b.v()-this.a[1].a.v()))/Math.PI);180<=d;)d-=180;90<=d&&(d=Math.abs(180-d));N(a,d.toFixed(1)+" deg",b+10,c)};g.sb=function(a,b){for(var c=0;3>c;c++)if(5>Ei(this.a[c],a,b))return!0;return!1};g.vb=function(a){5>fg(this.a[0].a,a.v(),a.o())?this.b=1:5>fg(this.a[0].b,a.v(),a.o())?this.b=2:5>fg(this.a[1].a,a.v(),a.o())?this.b=3:5>fg(this.a[1].b,a.v(),a.o())?this.b=4:5>fg(this.a[2].a,a.v(),a.o())?this.b=5:5>fg(this.a[2].b,a.v(),a.o())?this.b=6:(this.b=7,this.c=a.v(),this.l=a.o())};
g.xb=function(a){Ki(this,this.b,a.v(),a.o())};function Li(a,b,c,d){this.b=a;this.g=b;this.a=c;this.c=d}Li.prototype.v=function(){return this.b};Li.prototype.o=function(){return this.g};Li.prototype.clone=function(){return new Li(this.b,this.g,this.a,this.c)};function Mi(a,b){ti.call(this,a);this.a=b;this.O=Ni;this.C=this.B=this.l=this.H=this.c=this.b=0}v(Mi,ti);var Ni=0;g=Mi.prototype;g.clone=function(){return new Mi(this,this.a.clone())};g.wb=function(){var a=this.a;return{annotationType:"ellipse",fontSize:this.j,color:this.h,view:si(this.g),ellipse:{x:a.b,y:a.g,width:a.a,height:a.c}}};
g.xa=function(a,b,c){Mi.A.xa.call(this,a,b,c);var d=this.a,e=Hi(b,d.v(),d.o()),f=Hi(b,d.v()+d.a,d.o()+d.c);if(e&&f){var h=Gg(c);if(h){a.lineWidth=2;var k=Math.min(e.v(),f.v());b=Math.min(e.o(),f.o());var l=Math.abs(e.v()-f.v()),e=Math.abs(e.o()-f.o()),f=a.strokeStyle;a.strokeStyle="black";yi(a,k+1,b+1,l,e);a.strokeStyle=f;yi(a,k,b,l,e);Bi(a,k+.5*l,b);Bi(a,k+.5*l,b+e);Bi(a,k,b+.5*e);Bi(a,k+l,b+.5*e);h=.5*Math.PI*Math.abs(d.a)*h.b*.5*Math.abs(d.c)*h.a;var p=d.v(),m=d.o(),r=d.a,t=d.c;if(Kg(c)&&0!==r&&
0!==t){for(var p=Math.round(p),m=Math.round(m),d=Math.round(.5*Math.abs(r)),f=Math.round(.5*Math.abs(t)),p=Math.round(p+.5*r),m=Math.round(m+.5*t),r=f*f,t=d*d,x=r*t,y=Uf(Fg(c)),E=Vf(Fg(c)),ca=0,tb=0,ua=-f;ua<=f;ua++){var Vj=m-ua;if(!(0>Vj||Vj>=E)){for(var pc=d;pc*pc*r+ua*ua*t>x;)pc--;for(var Ks=Math.min(y-1,p+pc),pc=Math.max(0,p-pc);pc<=Ks;pc++){var Ls=Tg(c,Vj*y+pc),ca=ca+Ls;tb++}}}c=0<tb?ca/tb:0}else c=Number.NaN;k+=.5*l;b+=e;a.textBaseline="top";a.textAlign="center";N(a,"Area: "+Math.round(h)+"mm2",
k,b+10);N(a,"Avg: "+c.toFixed(2),k,b+30)}}};g.sb=function(a,b){var c=this.a,d,e;d=c.b+.5*c.a;e=c.g+.5*c.c;var f=Math.abs(c.b-d),h=Math.abs(c.g-e);d=Math.abs(a-d);e=Math.abs(b-e);return 5>.25*Math.abs(Math.sqrt(d*d/(f*f)+e*e/(h*h))-1)*(Math.abs(c.a)+Math.abs(c.c))};g.vb=function(a){var b=this.a,c=b.v(),d=b.o(),e=b.a,b=b.c;this.b=c;this.c=d;this.H=e;this.l=b;this.B=a.v()-c;this.C=a.o()-d;this.O=5>fg(a,c+.5*e,d)?1:5>fg(a,c+e,d+.5*b)?2:5>fg(a,c+.5*e,d+b)?3:5>fg(a,c,d+.5*b)?4:5};
g.xb=function(a){var b=this.a;switch(this.O){case 1:a=this.c-a.o();b.g=this.c-a;b.c=this.l+2*a;break;case 2:a=this.b+this.H-a.v();b.b=this.b+a;b.a=this.H-2*a;break;case 3:a=this.c+this.l-a.o();b.g=this.c+a;b.c=this.l-2*a;break;case 4:a=this.b-a.v();b.b=this.b-a;b.a=this.H+2*a;break;case 5:b.b=a.v()-this.B,b.g=a.o()-this.C}};function Oi(a,b){this.b=a;this.a=b}Oi.prototype.contains=function(a,b){var c=Math.min(this.b.o(),this.a.o()),d=Math.max(this.b.v(),this.a.v()),e=Math.max(this.b.o(),this.a.o());return a>=Math.min(this.b.v(),this.a.v())&&b>=c&&a<=d&&b<=e};function Pi(a,b){ti.call(this,a);this.a=b||[];this.b=b?b.length:0;this.c=0}v(Pi,ti);function Qi(a,b){0>b&&(b=0);b>a.a.length&&(b=a.a.length);a.b=b}g=Pi.prototype;g.clone=function(){return new Pi(this,this.a)};g.wb=function(){for(var a=Math.min(this.a.length,this.b),b=Array(a),c=0;c<a;c++)b[c]=eg(this.a[c]);return{annotationType:"gonstead",view:si(this.g),points:b}};
g.xa=function(a,b,c){var d=Gg(c),e=this.a,f=Math.min(e.length,this.b);c=Array(f);for(var h=0;h<f;h++)c[h]=Hi(b,e[h].v(),e[h].o());a.textBaseline="bottom";a.textAlign="center";a.fillStyle="#f00";a.strokeStyle="#f00";var k=0,l=0,p=0,m=0,r=0,t=h=0,x=null;2<=f&&(a.beginPath(),a.moveTo(c[0].v(),c[0].o()),a.lineTo(c[1].v(),c[1].o()),a.stroke(),k=e[1].v()-e[0].v(),l=e[1].o()-e[0].o(),p=l/k,m=(c[1].o()-c[0].o())/(c[1].v()-c[0].v()),r=80,h=Math.round(r*m),t=(e[1].o()-e[0].o())*d.a,x=0>t?new bg(c[0].v(),c[1].o()):
new bg(c[1].v(),c[0].o()),a.beginPath(),a.moveTo(x.v()-60,x.o()),a.lineTo(x.v()+60,x.o()),a.stroke(),a.font="bold 14pt sans-serif",N(a,Math.abs(t).toFixed(0)+" MD",x.v(),x.o()-10));3<=f&&(a.beginPath(),a.moveTo(c[2].v()-r,c[2].o()-h),a.lineTo(c[2].v()+r,c[2].o()+h),a.stroke());4<=f&&(a.beginPath(),a.moveTo(c[3].v()-r,c[3].o()-h),a.lineTo(c[3].v()+r,c[3].o()+h),a.stroke());5<=f&&(a.beginPath(),a.moveTo(c[4].v()-r,c[4].o()-h),a.lineTo(c[4].v()+r,c[4].o()+h),a.stroke());6<=f&&(a.beginPath(),a.moveTo(c[5].v()-
r,c[5].o()-h),a.lineTo(c[5].v()+r,c[5].o()+h),a.stroke());for(h=0;5>=h&&h<f;h++)Bi(a,c[h].v(),c[h].o());a.fillStyle="#0ff";a.strokeStyle="#0ff";for(h=6;7>=h&&h<f;h++)Bi(a,c[h].v(),c[h].o());a.fillStyle="#00f";a.strokeStyle="#00f";var y=h=x=x=r=0,E=null;10<=f&&(a.beginPath(),a.moveTo(c[8].v(),c[8].o()),a.lineTo(c[9].v(),c[9].o()),a.stroke(),r=(e[9].o()-e[8].o())/(e[9].v()-e[8].v()),x=(c[9].o()-c[8].o())/(c[9].v()-c[8].v()),h=30,x=-Math.round(h*x),y=(e[9].o()-e[8].o())*d.a,E=0>y?new bg(c[8].v(),c[9].o()):
new bg(c[9].v(),c[8].o()),a.beginPath(),a.moveTo(E.v()-60,E.o()),a.lineTo(E.v()+60,E.o()),a.stroke(),a.font="bold 12pt sans-serif",N(a,Math.abs(y).toFixed(0)+" MD",E.v(),E.o()-10));11<=f&&(a.beginPath(),a.moveTo(c[10].v()-x,c[10].o()-h),a.lineTo(c[10].v()+x,c[10].o()+h),a.stroke());12<=f&&(a.beginPath(),a.moveTo(c[11].v()-x,c[11].o()-h),a.lineTo(c[11].v()+x,c[11].o()+h),a.stroke());for(h=8;11>=h&&h<f;h++)Bi(a,c[h].v(),c[h].o());12<=f&&(a.font="normal 10pt sans-serif",a.fillStyle="#0f0",a.strokeStyle=
"#0f0",f=Ri(d,p,e[2],e[4]),N(a,f.toFixed(0),c[4].v()-80,c[4].o()-50),p=Ri(d,p,e[3],e[5]),N(a,p.toFixed(0),c[5].v()+80,c[5].o()-50),a.fillStyle="#ff0",a.strokeStyle="#ff0",k=new bg(e[7].v()+(e[6].o()-e[7].o())/-k*l,e[6].o()),l=Hi(b,k.v(),k.o()),b=40/(-1/m),a.beginPath(),a.moveTo(l.v()-b,l.o()-40),a.lineTo(l.v()+b,l.o()+40),a.stroke(),a.fillStyle="#0f0",a.strokeStyle="#0f0",m=e[6],b=(k.v()-m.v())*d.b,m=(k.o()-m.o())*d.a,b=Math.sqrt(b*b+m*m),k.v()<e[6].v()&&(b=-b),N(a,Math.abs(b).toFixed(0),.5*(c[6].v()+
l.v()),c[6].o()-10),m=Ri(d,-1/r,e[7],e[10]),N(a,m.toFixed(0),.5*(c[7].v()+c[10].v()),.5*(c[7].o()+c[10].o())),d=Ri(d,-1/r,e[7],e[11]),N(a,d.toFixed(0),.5*(c[7].v()+c[11].v()),.5*(c[7].o()+c[11].o())),e=Math.abs(m-d),k=r=null,m>d?(r="P"+e.toFixed(0)+"-L",k=new bg(.5*(c[7].v()+c[10].v()),.5*(c[7].o()+c[10].o())+40)):(r="P"+e.toFixed(0)+"-R",k=new bg(.5*(c[7].v()+c[11].v()),.5*(c[7].o()+c[11].o())+40)),a.font="bold 14pt sans-serif",N(a,r,k.v(),k.o()),d=p-f,e=b,N(a,(0>d?"PI":"AS")+" "+Math.abs(d).toFixed(0)+
" "+(0>e?"Ex":"In")+" "+Math.abs(e).toFixed(0),c[2].v()-50,c[2].o()+50),N(a,(0>d?"AS":"PI")+" "+Math.abs(d).toFixed(0)+" "+(0>e?"In":"Ex")+" "+Math.abs(e).toFixed(0),c[3].v()+50,c[3].o()+50),t-=.4*(d+e),d=null,d=0>t?new bg(c[0].v(),c[1].o()):new bg(c[1].v(),c[0].o()),a.font="bold 14pt sans-serif",N(a,Math.abs(t).toFixed(0)+" AD",d.v(),d.o()-40));a.fillStyle="#0f0";a.strokeStyle="#0f0";a.font="normal 11pt sans-serif"};
function Ri(a,b,c,d){var e=c.v()*a.b;c=c.o()*a.a;var f=d.v()*a.b;a=d.o()*a.a;return isFinite(b)?0===b?Math.abs(a-c):Math.abs(a-b*f-(c-b*e))/Math.sqrt(b*b+1):Math.abs(f-e)}g.sb=function(a,b){for(var c=Math.min(this.a.length,this.b),d=0;d<c;d++)if(10>fg(this.a[d],a,b))return!0;return!1};g.vb=function(a){for(var b=Math.min(this.a.length,this.b),c=0,d=10,e=0;e<b;e++){var f=fg(this.a[e],a.v(),a.o());f<d&&(c=e,d=f)}this.c=c};g.xb=function(a){a&&(this.a[this.c]=a)};function Si(a,b,c){ti.call(this,a);this.a=b;this.b=c||"";this.c=null}v(Si,ti);g=Si.prototype;g.clone=function(){return new Si(this,this.a.clone(),this.b)};g.wb=function(){var a=this.j,b=this.h,c=si(this.g),d=this.a,e=d.clone();return{annotationType:"spine",fontSize:a,color:b,view:c,point:{rows:d.c,columns:d.b,data:e.a},text:this.b}};
g.xa=function(a,b,c){Si.A.xa.call(this,a,b,c);if(c=Ti(b,this.a))a.textBaseline="middle",a.textAlign="left",N(a,this.b,c.v()+10,c.o()),Bi(a,c.v(),c.o()),a=a.measureText(this.b).width,this.c=new Oi(O(b,c.v()-5,c.o()-10),O(b,c.v()+15+a,c.o()+10))};g.sb=function(a,b){return this.c?this.c.contains(a,b):!1};g.vb=function(){};g.xb=function(){};function Ui(a,b,c){ti.call(this,a);this.a=b;this.b=c||"";this.c=null;this.H=this.l=0}v(Ui,ti);g=Ui.prototype;g.clone=function(){return new Ui(this,this.a.clone(),this.b)};g.wb=function(){return{annotationType:"text",fontSize:this.j,color:this.h,view:si(this.g),point:eg(this.a),text:this.b}};
g.xa=function(a,b,c){Ui.A.xa.call(this,a,b,c);if(c=Hi(b,this.a.v(),this.a.o()))a.textBaseline="middle",a.textAlign="left",N(a,this.b,c.v()+10,c.o()),Bi(a,c.v(),c.o()),a=a.measureText(this.b).width,this.c=new Oi(O(b,c.v()-5,c.o()-10),O(b,c.v()+15+a,c.o()+10))};g.sb=function(a,b){return this.c?this.c.contains(a,b):!1};g.vb=function(a){this.l=a.v()-this.a.v();this.H=a.o()-this.a.o()};g.xb=function(a){dg(this.a,a.v()-this.l,a.o()-this.H)};function Vi(a,b){ti.call(this,a);this.a=b;this.H=this.O=this.l=this.c=this.b=0}v(Vi,ti);g=Vi.prototype;g.clone=function(){return new Vi(this,this.a.clone())};g.wb=function(){return{annotationType:"line",fontSize:this.j,color:this.h,view:si(this.g),line:Fi(this.a)}};
g.xa=function(a,b,c){Vi.A.xa.call(this,a,b,c);var d=this.a,e=Hi(b,d.a.v(),d.a.o());b=Hi(b,d.b.v(),d.b.o());if(e&&b){a.lineWidth=2;zi(a,[new Ci(e,b)]);var f=Gg(c);f&&(c=(d.b.v()-d.a.v())*f.b,d=(d.b.o()-d.a.o())*f.a,d=Math.sqrt(c*c+d*d),d=10>=d?d.toFixed(1):d.toFixed(0),a.textBaseline="top",a.textAlign="left",N(a,d+"mm",b.v()+10,b.o()+10));Bi(a,e.v(),e.o());Bi(a,b.v(),b.o())}};g.sb=function(a,b){return 5>Ei(this.a,a,b)};
g.vb=function(a){var b=this.a;5>fg(b.a,a.v(),a.o())?(this.b=1,this.c=b.a.v()-a.v(),this.l=b.a.o()-a.o()):5>fg(b.b,a.v(),a.o())?(this.b=2,this.c=b.b.v()-a.v(),this.l=b.b.o()-a.o()):(this.b=3,this.c=b.a.v()-a.v(),this.l=b.a.o()-a.o(),this.O=b.b.v()-b.a.v(),this.H=b.b.o()-b.a.o())};g.xb=function(a){var b=this.a;1==this.b?(b.a.a=a.v()+this.c,b.a.b=a.o()+this.l):2==this.b?(b.b.a=a.v()+this.c,b.b.b=a.o()+this.l):3==this.b&&(b.a.a=a.v()+this.c,b.a.b=a.o()+this.l,b.b.a=b.a.v()+this.O,b.b.b=b.a.o()+this.H)};function Uh(a){u(a)&&(a=lb(a));switch(a.annotationType){case "ellipse":if(a){var b;a=(b=(b=a.ellipse)?new Li(b.x,b.y,b.width,b.height):null)?new Mi(a,b):null}else a=null;return a;case "line":return new Vi(a,Di(a.line));case "angle":return new Gi(a,cg(a.start),cg(a.mid),cg(a.end));case "cobbAngle":if((b=a.lines)&&3===b.length){for(var c=Array(3),d=0;d<b.length;d++)c[d]=Di(b[d]);a=new Ji(a,c)}else a=null;return a;case "text":return new Ui(a,cg(a.point),a.text);case "spine":return(b=a.point)?(c=new gg(b.rows,
b.columns),c.a=b.data,b=c):b=null,new Si(a,b,a.text);case "arrow":return new Ii(a,Di(a.line));case "gonstead":b=void 0;if(a.points)for(c=a.points,b=Array(c.length),d=0;d<c.length;d++)b[d]=cg(c[d]);return new Pi(a,b)}return null};function Wi(){this.l=0;this.j="";this.g=this.h=this.b=this.c=null;this.a=[]}Wi.prototype.Pa=function(){return this.l};function Xi(a){var b=new Wi;b.l=a.id;b.j=a.name;for(var c=a.viewers,d=[],e=0;e<c.length;e++)d.push(Yi(c[e]));b.a=d;a.modality&&(b.c=a.modality);a.body_part&&(b.b=a.body_part);a.study_description&&(b.h=a.study_description);a.institution_name&&(b.g=a.institution_name);return b}function Zi(a){for(var b=[],c=0;c<a.length;c++)b.push(Xi(a[c]));return b}
function $i(){this.b=this.c=this.g=0;this.a=[]}function Sb(a){for(var b={index:a.g,rows:a.c,columns:a.b,controls:[]},c=0;c<a.a.length;c++)b.controls.push(a.a[c]?aj(a.a[c]):null);return b}function Yi(a){var b=new $i;b.g=a.index;b.c=a.rows;b.b=a.columns;a=a.controls;for(var c=[],d=0;d<a.length;d++)c.push(bj(a[d]));b.a=c;return b}function cj(){this.ld=this.Md=0;this.l=this.j=this.g=this.h=this.a=this.b=this.c=null}
function aj(a){var b={row:a.Md,column:a.ld};a.c&&(b.series_description=a.c);a.b&&(b.window_width=a.b.toFixed());a.a&&(b.window_center=a.a.toFixed());a.h&&(b.inverted=a.h);a.g&&(b.zoom=a.g);a.j&&(b.horizontal_flip=a.j);a.l&&(b.vertical_flip=a.l);return b}
function bj(a){if(!a)return null;var b=new cj;b.Md=a.row;b.ld=a.column;a.series_description&&(b.c=a.series_description);a.window_width&&(b.b=parseInt(a.window_width,10));a.window_center&&(b.a=parseInt(a.window_center,10));a.inverted&&(b.h=!!a.inverted);a.zoom&&(b.g=parseFloat(a.zoom));a.horizontal_flip&&(b.j=!!a.horizontal_flip);a.vertical_flip&&(b.l=!!a.vertical_flip);return b}function dj(a,b){return q(a)&&null!==a?q(b)&&null!==b?Da(a)===Da(b):!1:!0};function ej(a){this.b=a;this.a=null}g=ej.prototype;g.pa=function(){return"angle"};g.ua=function(){return this.a?"move":"angle"};g.Ia=function(a){var b=this.b.a,c=new ri(vi(b),wi(b),xi(b)),d=O(b,a.c+100,a.a);a=O(b,a.c,a.a);b=a.clone();this.a=new Gi(c,d,a,b);fj(this.b.a,this.a);return!1};g.Ja=function(a){if(!this.a)return!1;a=O(this.b.a,a.c,a.a);dg(this.a.b,a.v(),a.o());P(this.b.a);return!1};g.Aa=function(){this.a&&(this.a=null,gj(this.b.c,"select"),P(this.b.a));return!1};g.Ha=function(){};function hj(a){this.b=a;this.a=null}g=hj.prototype;g.pa=function(){return"arrow"};g.ua=function(){return this.a?"move":"arrow"};g.Ia=function(a){var b=this.b.a,c=new ri(vi(b),wi(b),xi(b));a=O(b,a.c,a.a);b=a.clone();this.a=new Ii(c,new Ci(a,b));fj(this.b.a,this.a);return!1};g.Ja=function(a){if(!this.a)return!1;a=O(this.b.a,a.c,a.a);dg(this.a.a.b,a.v(),a.o());P(this.b.a);return!1};g.Aa=function(){this.a&&(this.a=null,P(this.b.a));return!1};g.Ha=function(){};function ij(a){this.b=a;this.a=null}g=ij.prototype;g.pa=function(){return"cobbAngle"};g.ua=function(){return this.a?"move":null};g.Ia=function(a){var b=this.b.a,c=new ri(vi(b),wi(b),xi(b)),d=O(b,a.c-100,a.a),e=O(b,a.c,a.a);a=O(b,a.c+100,a.a);b=Array(3);b[0]=new Ci(d,a);b[1]=new Ci(d.clone(),a.clone());b[2]=new Ci(e,e.clone());this.a=new Ji(c,b);fj(this.b.a,this.a);return!1};g.Ja=function(a){if(!this.a)return!1;a=O(this.b.a,a.c,a.a);Ki(this.a,6,a.v(),a.o());P(this.b.a);return!1};
g.Aa=function(){this.a&&(this.a=null,gj(this.b.c,"select"),P(this.b.a));return!1};g.Ha=function(){};function jj(a){this.b=a;this.a=null}g=jj.prototype;g.pa=function(){return"ellipse"};g.ua=function(){return"ellipse"};g.Ia=function(a){var b=this.b.a,c=new ri(vi(b),wi(b),xi(b));a=O(b,a.c,a.a);this.a=new Mi(c,new Li(a.v()-1,a.o()-1,2,2));fj(this.b.a,this.a);return!1};g.Ja=function(a){if(!this.a)return!1;var b=O(this.b.a,a.c,a.a);a=this.a.a;var c=a.v()+.5*a.a,d=a.o()+.5*a.c,e=Math.abs(c-b.v()),b=Math.abs(d-b.o());a.b=c-e;a.g=d-b;a.a=2*e;a.c=2*b;P(this.b.a);return!1};
g.Aa=function(){this.a&&(this.a=null,P(this.b.a));return!1};g.Ha=function(){};function kj(a){I.call(this);this.b=a;this.a=null;this.c=!1}v(kj,I);g=kj.prototype;g.pa=function(){return"gonstead"};g.ua=function(){return null};function lj(a){return a.a?a.a.b:0}function mj(a,b){a.a&&(Qi(a.a,b),P(a.b.a),J(a,"gonstead_action_event"))}g.Ia=function(a){this.c=!0;var b=this.b.a,c=new ri(vi(b),wi(b),xi(b));a=O(b,a.c,a.a);if(!a)return!1;this.a||(this.a=new Pi(c),fj(this.b.a,this.a));this.a.a[this.a.b]=a;J(this,"gonstead_action_event");return!1};
g.Ja=function(a){if(this.a&&this.c){a=O(this.b.a,a.c,a.a);if(!a)return!1;this.a.a[this.a.b]=a;P(this.b.a)}return!1};g.Aa=function(){this.a&&this.c&&(Qi(this.a,this.a.b+1),this.c=!1,P(this.b.a),J(this,"gonstead_action_event"));return!1};g.Ha=function(){};function nj(a){this.b=a;this.a=null}g=nj.prototype;g.pa=function(){return"line"};g.ua=function(){return this.a?"move":"line"};g.Ia=function(a){var b=this.b.a,c=new ri(vi(b),wi(b),xi(b));a=O(b,a.c,a.a);b=a.clone();this.a=new Vi(c,new Ci(a,b));fj(this.b.a,this.a);return!1};g.Ja=function(a){if(!this.a)return!1;a=O(this.b.a,a.c,a.a);dg(this.a.a.b,a.v(),a.o());P(this.b.a);return!1};g.Aa=function(){this.a&&(this.a=null,P(this.b.a));return!1};g.Ha=function(){};function oj(a){this.a=a;this.b=!1}g=oj.prototype;g.pa=function(){return"magicX"};g.ua=function(){return null};g.Ia=function(a){this.b=!0;var b=this.a.a;if(!b)return!1;pj(this.a,b,a.c,a.a);return!1};g.Ja=function(a){if(!this.b)return!1;var b=this.a.a;if(!b)return!1;pj(this.a,b,a.c,a.a);return!1};g.Aa=function(){if(this.b){var a=this.a;a.l.b=null;qj(a);this.b=!1}return!1};g.Ha=function(){};function rj(a,b,c){var d=sj[c];if(!d){var e=Pa(c),d=e;void 0===a.style[e]&&(e=(G?"Webkit":F?"Moz":D?"ms":mc?"O":null)+Qa(e),void 0!==a.style[e]&&(d=e));sj[c]=d}(c=d)&&(a.style[c]=b)}var sj={};function tj(a,b){var c=Pc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function uj(a,b){return tj(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function vj(a){return uj(a,"position")}
function wj(a,b,c){var d;b instanceof A?(d=b.x,b=b.y):(d=b,b=c);a.style.left=xj(d,!1);a.style.top=xj(b,!1)}function yj(a){a=a?Pc(a):document;return!D||yc(9)||pd(Nc(a))?a.documentElement:a.body}function zj(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}D&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Aj(a){if(D&&!yc(8))return a.offsetParent;var b=Pc(a),c=uj(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=uj(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Bj(a){for(var b=new hb(0,Infinity,Infinity,0),c=Nc(a),d=c.a.body,e=c.a.documentElement,f=Vc(c.a);a=Aj(a);)if(!(D&&0==a.clientWidth||G&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=uj(a,"overflow")){var h=Cj(a),k=new A(a.clientLeft,a.clientTop);h.x+=k.x;h.y+=k.y;b.top=Math.max(b.top,h.y);b.right=Math.min(b.right,h.x+a.clientWidth);b.bottom=Math.min(b.bottom,h.y+a.clientHeight);b.left=Math.max(b.left,h.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=
Uc(qd(c)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}function Cj(a){var b=Pc(a),c=new A(0,0),d=yj(b);if(a==d)return c;a=zj(a);b=rd(Nc(b));c.x=a.left+b.x;c.y=a.top+b.y;return c}function Dj(a){a=zj(a);return new A(a.left,a.top)}function Ej(a){if(1==a.nodeType)return Dj(a);a=a.changedTouches?a.changedTouches[0]:a;return new A(a.clientX,a.clientY)}
function Fj(a,b,c){if(b instanceof ib)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=xj(b,!0);a.style.height=xj(c,!0)}function xj(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Gj(a,b){if("none"!=uj(b,"display"))return a(b);var c=b.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var h=a(b);c.display=d;c.position=f;c.visibility=e;return h}
function Hj(a){var b=a.offsetWidth,c=a.offsetHeight,d=G&&!b&&!c;return q(b)&&!d||!a.getBoundingClientRect?new ib(b,c):(a=zj(a),new ib(a.right-a.left,a.bottom-a.top))}function Ij(a){var b=Cj(a);a=Gj(Hj,a);return new kb(b.x,b.y,a.width,a.height)}function Jj(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*Number(b)+")")}function Q(a,b){a.style.display=b?"":"none"}function Kj(a){return"rtl"==uj(a,"direction")}
var Lj=F?"MozUserSelect":G||nc?"WebkitUserSelect":null;function Mj(a,b,c){c=c?null:a.getElementsByTagName("*");if(Lj){if(b=b?"none":"",a.style&&(a.style[Lj]=b),c){a=0;for(var d;d=c[a];a++)d.style&&(d.style[Lj]=b)}}else if(D||mc)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}function Nj(a){return new ib(a.offsetWidth,a.offsetHeight)}
function Oj(a,b){var c=pd(Nc(Pc(a)));if(!D||xc("10")||c&&xc("8")){var d=a.style;F?d.MozBoxSizing="border-box":G?d.WebkitBoxSizing="border-box":d.boxSizing="border-box";d.width=Math.max(b.width,0)+"px";d.height=Math.max(b.height,0)+"px"}else if(d=a.style,c){var c=Pj(a,"padding"),e=Qj(a);d.pixelWidth=b.width-e.left-c.left-c.right-e.right;d.pixelHeight=b.height-e.top-c.top-c.bottom-e.bottom}else d.pixelWidth=b.width,d.pixelHeight=b.height}
function Rj(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}function Sj(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Rj(a,c,"left","pixelLeft"):0}
function Pj(a,b){if(D){var c=Sj(a,b+"Left"),d=Sj(a,b+"Right"),e=Sj(a,b+"Top"),f=Sj(a,b+"Bottom");return new hb(e,d,f,c)}c=tj(a,b+"Left");d=tj(a,b+"Right");e=tj(a,b+"Top");f=tj(a,b+"Bottom");return new hb(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(c))}var Tj={thin:2,medium:4,thick:6};function Uj(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Tj?Tj[c]:Rj(a,c,"left","pixelLeft")}
function Qj(a){if(D&&!yc(9)){var b=Uj(a,"borderLeft"),c=Uj(a,"borderRight"),d=Uj(a,"borderTop");a=Uj(a,"borderBottom");return new hb(d,c,a,b)}b=tj(a,"borderLeftWidth");c=tj(a,"borderRightWidth");d=tj(a,"borderTopWidth");a=tj(a,"borderBottomWidth");return new hb(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function Wj(a,b){I.call(this);this.D=a;var c=ed(this.D)?this.D:this.D?this.D.body:null;c&&Kj(c);this.a=H(this.D,F?"DOMMouseScroll":"mousewheel",this,b)}v(Wj,I);
Wj.prototype.handleEvent=function(a){var b=0,c=0;a=a.g;if("mousewheel"==a.type){b=1;if(D||G&&(rc||xc("532.0")))b=40;c=Xj(-a.wheelDelta,b);b=q(a.wheelDeltaX)?Xj(-a.wheelDeltaY,b):c}else c=a.detail,100<c?c=3:-100>c&&(c=-3),q(a.axis)&&a.axis===a.HORIZONTAL_AXIS||(b=c);ha(this.b)&&(b=Math.min(Math.max(b,-this.b),this.b));c=new Yj(c,a,0,b);J(this,c)};function Xj(a,b){return G&&(qc||sc)&&0!=a%b?a:a/b}Wj.prototype.M=function(){Wj.A.M.call(this);be(this.a);this.a=null};
function Yj(a,b,c,d){Ed.call(this,b);this.type="mousewheel";this.detail=a;this.H=d}v(Yj,Ed);function Zj(a){this.g=a;this.a=!1;this.c=this.b=0}g=Zj.prototype;g.pa=function(){return"pan"};g.ua=function(){return"pan"};g.Ia=function(a){this.a=!0;this.b=a.c;this.c=a.a;return!1};g.Ja=function(a){if(!this.a)return!1;ak(this.g.a,a.c-this.b,a.a-this.c);this.b=a.c;this.c=a.a;return!1};g.Aa=function(){return this.a=!1};g.Ha=function(){};function bk(a){this.b=a;this.j=this.h=this.a=null}g=bk.prototype;g.pa=function(){return"select"};g.ua=function(){return"pointer"};g.Ia=function(a){a=ck(this,a);if(!a)return!1;if(this.a=dk(this,a))this.a.vb(a),this.h=this.a,this.j=this.b.a;return!1};g.Ja=function(a){a=ck(this,a);if(!a)return!1;this.a?(this.a.xb(a),ek(this.b.a,"move"),P(this.b.a)):dk(this,a)&&ek(this.b.a,"move");return!1};g.Aa=function(){this.a&&(this.a=null,P(this.b.a));return!1};g.Ha=function(){};
function ck(a,b){var c=a.b.a;return c?O(c,b.c,b.a):null}function dk(a,b){var c=a.b.a;return c?fk(c,b):null};function gk(a){I.call(this);this.c=a;this.g=[];this.a=0;this.l=1;this.b=null;hk(this,"C",7);hk(this,"T",12);hk(this,"L",5)}v(gk,I);function hk(a,b,c){for(var d=1;d<=c;d++)a.g.push(b+d)}g=gk.prototype;g.pa=function(){return"spine"};g.ua=function(){return null};g.ya=function(){return this.g};g.next=function(){var a=this.g[this.a];this.a+=this.l;0>this.a?this.a=this.g.length-1:this.a>=this.g.length&&(this.a=0);J(this,"spine_action_event");return a};
g.Ia=function(a){var b=this.c.a,c=new ri(vi(b),null,null);a=ik(b,a.c,a.a);this.b=new Si(c,a,this.next());fj(this.c.a,this.b);return!1};g.Ja=function(a){if(!this.b)return!1;a=ik(this.c.a,a.c,a.a);ig(this.b.a,a);P(this.c.a);return!1};g.Aa=function(){this.b&&(this.b=null,P(this.c.a));return!1};g.Ha=function(){};function jk(a,b,c,d,e){if(!(D||nc||G&&xc("525")))return!0;if(qc&&e)return kk(a);if(e&&!d)return!1;ha(b)&&(b=lk(b));if(!c&&(17==b||18==b||qc&&91==b))return!1;if((G||nc)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(D&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(G||nc)}return kk(a)}
function kk(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(G||nc)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function lk(a){if(F)a=mk(a);else if(qc&&G)a:switch(a){case 93:a=91;break a}return a}
function mk(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function nk(a,b){I.call(this);a&&ok(this,a,b)}v(nk,I);g=nk.prototype;g.D=null;g.Nc=null;g.Fd=null;g.Oc=null;g.Va=-1;g.Cb=-1;g.bd=!1;
var pk={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},qk={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},rk=D||nc||G&&xc("525"),sk=qc&&F;g=nk.prototype;
g.xg=function(a){if(G||nc)if(17==this.Va&&!a.ctrlKey||18==this.Va&&!a.altKey||qc&&91==this.Va&&!a.metaKey)this.Cb=this.Va=-1;-1==this.Va&&(a.ctrlKey&&17!=a.keyCode?this.Va=17:a.altKey&&18!=a.keyCode?this.Va=18:a.metaKey&&91!=a.keyCode&&(this.Va=91));rk&&!jk(a.keyCode,this.Va,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Cb=lk(a.keyCode),sk&&(this.bd=a.altKey))};g.bh=function(a){this.Cb=this.Va=-1;this.bd=a.altKey};
g.handleEvent=function(a){var b=a.g,c,d,e=b.altKey;D&&"keypress"==a.type?c=this.Cb:(G||nc)&&"keypress"==a.type?c=this.Cb:mc&&!G?c=this.Cb:(c=b.keyCode||this.Cb,d=b.charCode||0,sk&&(e=this.bd),qc&&63==d&&224==c&&(c=191));d=c=lk(c);var f=b.keyIdentifier;c?63232<=c&&c in pk?d=pk[c]:25==c&&a.shiftKey&&(d=9):f&&f in qk&&(d=qk[f]);this.Va=d;a=new tk(d,0,0,b);a.altKey=e;J(this,a)};g.m=function(){return this.D};
function ok(a,b,c){a.Oc&&uk(a);a.D=b;a.Nc=H(a.D,"keypress",a,c);a.Fd=H(a.D,"keydown",a.xg,c,a);a.Oc=H(a.D,"keyup",a.bh,c,a)}function uk(a){a.Nc&&(be(a.Nc),be(a.Fd),be(a.Oc),a.Nc=null,a.Fd=null,a.Oc=null);a.D=null;a.Va=-1;a.Cb=-1}g.M=function(){nk.A.M.call(this);uk(this)};function tk(a,b,c,d){Ed.call(this,d);this.type="key";this.keyCode=a}v(tk,Ed);function vk(a){this.a=a;this.b=!1;this.c=0}g=vk.prototype;g.pa=function(){return"stack"};g.ua=function(){return"stack"};g.Ia=function(a){this.b=!0;this.c=a.a;return!1};g.Ja=function(a){if(!this.b)return!1;var b=this.a.a;if(!b)return!1;wk(b,b.R+.2*(a.a-this.c));xk(b);yk(this.a,b);this.c=a.a;return!1};g.Aa=function(){this.b&&(this.b=!1);return!1};g.Ha=function(a,b){if(b){var c=this.a.a;c&&(wk(c,c.R+b[1]/4),xk(c),yk(this.a,c))}};function zk(a){this.b=a;this.a=null}g=zk.prototype;g.pa=function(){return"text"};g.ua=function(){return"text"};g.Ia=function(a){var b=this.b.a,c=new ri(vi(b),wi(b),xi(b));a=O(b,a.c,a.a);this.a=new Ui(c,a);fj(this.b.a,this.a);return!1};g.Ja=function(a){if(!this.a)return!1;a=O(this.b.a,a.c,a.a);dg(this.a.a,a.v(),a.o());P(this.b.a);return!1};g.Aa=function(){if(this.a){var a=this.b.a.g.h.prompt("Enter text annotation","sample text");this.a.b=a||"";this.a=null;P(this.b.a)}return!1};g.Ha=function(){};function Ak(a){this.g=a;this.a=!1;this.c=this.b=0}g=Ak.prototype;g.pa=function(){return"windowLevel"};g.ua=function(){return"windowlevel"};g.Ia=function(a){this.a=!0;this.b=a.c;this.c=a.a;return!1};g.Ja=function(a){if(!this.a)return!1;var b=this.g.a;if(!b)return!1;var c=b.h;if(!c)return!1;var d=Math.max(2,Math.floor(.005*Math.abs(c.b))),e=d*(this.c-a.a);c.b+=d*(a.c-this.b);c.g=Math.max(1,c.g+e);xk(b);this.b=a.c;this.c=a.a;return!1};g.Aa=function(){this.a&&(this.a=!1);return!1};g.Ha=function(){};function Bk(a){this.a=a;this.b=!1;this.c=this.l=this.g=0}g=Bk.prototype;g.pa=function(){return"zoom"};g.ua=function(){return"zoom"};g.Ia=function(a){this.b=!0;this.g=a.c;this.c=this.l=a.a;return!1};g.Ja=function(a){if(!this.b)return!1;var b=Math.pow(1.01,-(a.a-this.c));Ck(this.a.a,b,b,this.g,this.l);this.c=a.a;return!1};g.Aa=function(){return this.b=!1};g.Ha=function(a,b){if(b&&this.a.a){var c=Math.pow(1.01,-b[1]);Ck(this.a.a,c,c,void 0,void 0)}};function Dk(a){this.c=a;this.b=null;this.a={};this.g=[];Ek(this,new ej(a));Ek(this,new hj(a));Ek(this,new ij(a));Ek(this,new jj(a));Ek(this,new kj(a));Ek(this,new nj(a));Ek(this,new oj(a));Ek(this,new Zj(a));Ek(this,new bk(a));Ek(this,new gk(a));Ek(this,new vk(a));Ek(this,new zk(a));Ek(this,new Ak(a));Ek(this,new Bk(a));gj(this,"stack")}function Ek(a,b){ec(a.a,b.pa(),b)}
function gj(a,b){if("spine"===b){var c=a.c;c.B||(c.B=new Fk(c),R(c.B,void 0));c.B.L(!0)}else c=a.c,c.B&&c.B.L(!1);"gonstead"===b?(c=a.c,c.K||(c.K=new Gk(c),R(c.K,void 0)),c.K.L(!0)):(c=a.c,c.K&&c.K.L(!1));a.b=C(a.a,b)||null;if(c=a.c.a){var d=a.b;ek(c,d&&d.ua())}for(c=0;c<a.g.length;c++)d=a.g[c],Hk(d.item,d.command===b)}function Ik(a,b){for(var c in a.a)a.a.hasOwnProperty(c)&&a.a[c].Aa&&a.a[c].Aa(b)}function Jk(a,b,c){a.g.push({item:b,command:c});Hk(b,c===a.b.pa())};function Kk(a){if(a.classList)return a.classList;a=a.className;return u(a)&&a.match(/\S+/g)||[]}function Lk(a,b){return a.classList?a.classList.contains(b):$a(Kk(a),b)}function Mk(a,b){a.classList?a.classList.add(b):Lk(a,b)||(a.className+=0<a.className.length?" "+b:b)}function Nk(a,b){if(a.classList)Ua(b,function(b){Mk(a,b)});else{var c={};Ua(Kk(a),function(a){c[a]=!0});Ua(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Ok(a,b){a.classList?a.classList.remove(b):Lk(a,b)&&(a.className=Va(Kk(a),function(a){return a!=b}).join(" "))}function Pk(a,b){a.classList?Ua(b,function(b){Ok(a,b)}):a.className=Va(Kk(a),function(a){return!$a(b,a)}).join(" ")}function Qk(a,b,c){c?Mk(a,b):Ok(a,b)};function Rk(){}da(Rk);Rk.prototype.a=0;function S(a){I.call(this);this.a=a||Nc();this.Yc=Sk;this.ub=null;this.Y=!1;this.D=null;this.ka=void 0;this.O=this.K=this.H=this.$c=null;this.Te=!1}v(S,I);S.prototype.Nh=Rk.ga();var Sk=null;
function Tk(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}g=S.prototype;g.Pa=function(){return this.ub||(this.ub=":"+(this.Nh.a++).toString(36))};function Uk(a,b){a.H&&a.H.O&&(dc(a.H.O,a.ub),ec(a.H.O,b,a));a.ub=b}g.m=function(){return this.D};
function T(a){a.ka||(a.ka=new jf(a));return a.ka}function Vk(a,b){if(a==b)throw Error("Unable to set parent component");if(b&&a.H&&a.ub&&Wk(a.H,a.ub)&&a.H!=b)throw Error("Unable to set parent component");a.H=b;S.A.Od.call(a,b)}g.za=function(){return this.H};g.Od=function(a){if(this.H&&this.H!=a)throw Error("Method not supported");S.A.Od.call(this,a)};g.ba=function(){this.D=this.a.a.createElement("DIV")};
function R(a,b,c){if(a.Y)throw Error("Component already rendered");a.D||a.ba();b?b.insertBefore(a.D,c||null):a.a.a.body.appendChild(a.D);a.H&&!a.H.Y||a.P()}function Xk(a,b){if(a.Y)throw Error("Component already rendered");if(b&&a.cc(b)){a.Te=!0;var c=Pc(b);a.a&&a.a.a==c||(a.a=Nc(b));a.S(b);a.P()}else throw Error("Invalid element to decorate");}g.cc=function(){return!0};g.S=function(a){this.D=a};g.P=function(){this.Y=!0;Yk(this,function(a){!a.Y&&a.m()&&a.P()})};
g.fa=function(){Yk(this,function(a){a.Y&&a.fa()});this.ka&&lf(this.ka);this.Y=!1};g.M=function(){this.Y&&this.fa();this.ka&&(this.ka.W(),delete this.ka);Yk(this,function(a){a.W()});!this.Te&&this.D&&cd(this.D);this.H=this.$c=this.D=this.O=this.K=null;S.A.M.call(this)};g.I=function(a,b){this.ad(a,Zk(this),b)};
g.ad=function(a,b,c){if(a.Y&&(c||!this.Y))throw Error("Component already rendered");if(0>b||b>Zk(this))throw Error("Child component index out of bounds");this.O&&this.K||(this.O={},this.K=[]);if(a.za()==this){var d=a.Pa();this.O[d]=a;ab(this.K,a)}else ec(this.O,a.Pa(),a);Vk(a,this);db(this.K,b,0,a);a.Y&&this.Y&&a.za()==this?(c=this.Ba(),b=c.childNodes[b]||null,b!=a.m()&&c.insertBefore(a.m(),b)):c?(this.D||this.ba(),b=$k(this,b+1),R(a,this.Ba(),b?b.D:null)):this.Y&&!a.Y&&a.D&&a.D.parentNode&&1==a.D.parentNode.nodeType&&
a.P()};g.Ba=function(){return this.D};function al(a){null==a.Yc&&(a.Yc=Kj(a.Y?a.D:a.a.a.body));return a.Yc}function Zk(a){return a.K?a.K.length:0}function Wk(a,b){return a.O&&b?C(a.O,b)||null:null}function $k(a,b){return a.K?a.K[b]||null:null}function Yk(a,b,c){a.K&&Ua(a.K,b,c)}function bl(a,b){return a.K&&b?Ta(a.K,b):-1}
g.removeChild=function(a,b){if(a){var c=u(a)?a:a.Pa();a=Wk(this,c);c&&a&&(dc(this.O,c),ab(this.K,a),b&&(a.fa(),a.D&&cd(a.D)),Vk(a,null))}if(!a)throw Error("Child is not in parent component");return a};function cl(a,b){S.call(this,b);this.b=a}v(cl,S);cl.prototype.ba=function(){this.S(this.a.a.createElement("div"))};cl.prototype.S=function(a){cl.A.S.call(this,a);a=this.m();var b=this.a.G("iframe",{src:this.b,width:"100%",height:"100%",frameborder:"0",style:"width:100%;height:100%"});a.appendChild(b)};cl.prototype.Ka=function(a,b){this.Y&&(isNaN(a)||isNaN(b)||0>a||0>b||Fj(this.m(),a,b))};cl.prototype.jc=function(){};function dl(){I.call(this)}v(dl,I);function el(){I.call(this);this.Mb=this.l=this.aa=this.mb=this.V=null;this.g=512;this.b=1;this.a=[];this.w=this.j=0;this.h=!1}v(el,dl);g=el.prototype;g.hd=function(){return"Binary"};g.fd=function(a,b){this.V=fl(a);this.mb=this.V.getContext("2d");this.aa=null;this.l=fl(a,!0);this.Mb=this.l.getContext("2d");b.appendChild(this.l);this.b=gl(this.Mb)};g.Ka=function(a,b){this.g=a;this.c=b;this.l&&(this.l.width=this.b*a,this.l.height=this.b*b,this.l.style.width=a+"px",this.l.style.height=b+"px")};
g.L=function(a){this.l&&Q(this.l,a)};g.Kd=function(a,b){Kg(a)||(H(a,"dicomprogress",this.Nf,!1,this),H(a,"dicomload",this.Mf,!1,this),H(a,"dicomunload",this.Of,!1,this),Lg(a,mi(),b))};
g.gd=function(a,b,c,d){var e=this.l,f=this.Mb;if(e&&f)if(a&&Kg(a)&&c){var h=Fg(a);if(h){e=h.a;h=h.c;if(this.V.width!==e||this.V.height!==h)this.V.width=e,this.V.height=h,this.aa=null;null===this.aa&&(this.aa=this.mb.getImageData(0,0,e,h));var e=Math.round(c.b-.5),h=Math.round(c.g-1),k=a.g.ya(),l=k.length;if(!this.a||this.a.length!==l||this.j!==e||this.w!==h||this.h!==c.a){this.a&&this.a.length===l||(this.a=Array(l));for(var p=e-.5*h,m=e+.5*h,r=0;r<l;r++){var t=k[r];this.a[r]=t<=p?0:t>m?255:Math.floor(255*
((t-e)/h+.5)+0)}if(c.a)for(r=0;r<this.a.length;r++)this.a[r]=255-this.a[r];this.j=e;this.w=h;this.h=c.a}c=this.aa;if(a.C)for(e=Jg(a),h=Wf(Fg(a)),b*=h,h=b+h,k=0,c=c.data,l=0,k=a.C,a=k.c,p=k.b,m=k.a;b<h;b++)k=e[b],c[l++]=this.a[a[k]],c[l++]=this.a[p[k]],c[l++]=this.a[m[k]],c[l++]=255;else if(a.N)for(e=Jg(a),a=3*Wf(Fg(a)),b*=a,a=b+a,c=c.data,h=0;b<a;)c[h++]=this.a[e[b++]],c[h++]=this.a[e[b++]],c[h++]=this.a[e[b++]],c[h++]=255;else if(e=Jg(a),h=Wf(Fg(a)),a=b*h,b=a+h,h=0,c=c.data,k=0,this.F)for(;a<b;a++)h=
255-this.a[e[a]],c[k++]=h,c[k++]=h,c[k++]=h,c[k++]=255;else for(;a<b;a++)h=this.a[e[a]],c[k++]=h,c[k++]=h,c[k++]=h,c[k++]=255;this.mb.putImageData(this.aa,0,0);f.save();f.scale(this.b,this.b);f.clearRect(0,0,this.g,this.c);f.setTransform(L(d,0,0)*this.b,L(d,1,0)*this.b,L(d,0,1)*this.b,L(d,1,1)*this.b,L(d,0,2)*this.b,L(d,1,2)*this.b);f.drawImage(this.V,0,0);f.restore()}}else f.clearRect(0,0,e.width,e.height)};g.Nf=function(a){J(this,a)};g.Mf=function(a){J(this,a)};g.Of=function(a){J(this,a)};function hl(a,b,c){I.call(this);this.target=a;this.handle=b||a;this.l=c||new kb(NaN,NaN,NaN,NaN);this.j=Pc(a);this.a=new jf(this);vd(this,qa(wd,this.a));this.g=this.c=this.C=this.B=this.clientY=this.clientX=0;this.w=!0;this.h=this.b=!1;H(this.handle,["touchstart","mousedown"],this.td,!1,this)}v(hl,I);var il=n.document&&n.document.documentElement&&!!n.document.documentElement.setCapture;g=hl.prototype;g.kb=function(a){this.w=a};
g.M=function(){hl.A.M.call(this);ae(this.handle,["touchstart","mousedown"],this.td,!1,this);lf(this.a);il&&this.j.releaseCapture();this.handle=this.target=null};function jl(a){q(a.H)||(a.H=Kj(a.target));return a.H}
g.td=function(a){var b="mousedown"==a.type;if(!this.w||this.b||b&&!Gd(a))J(this,"earlycancel");else if(J(this,new kl("start",this,a.clientX,a.clientY))){this.b=!0;a.b();var b=this.j,c=b.documentElement,d=!il;this.a.J(b,["touchmove","mousemove"],this.hh,d);this.a.J(b,["touchend","mouseup"],this.zc,d);il?(c.setCapture(!1),this.a.J(c,"losecapture",this.zc)):this.a.J(Wc(b),"blur",this.zc);this.O&&this.a.J(this.O,"scroll",this.cf,d);this.clientX=this.B=a.clientX;this.clientY=this.C=a.clientY;this.h?(a=
this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=vj(a)||(c=Pc(a).documentElement),c?(F?(d=Qj(c),b+=d.left):yc(8)&&!yc(9)&&(d=Qj(c),b-=d.left),a=Kj(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.c=a;this.g=this.target.offsetTop;this.K=rd(Nc(this.j))}};g.zc=function(a,b){lf(this.a);il&&this.j.releaseCapture();this.b?(this.b=!1,J(this,new kl("end",this,a.clientX,a.clientY,0,ll(this,this.c),ml(this,this.g),b||"touchcancel"==a.type))):J(this,"earlycancel")};
g.hh=function(a){if(this.w){var b=(this.h&&jl(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;if(!this.b){var d=this.B-this.clientX,e=this.C-this.clientY;if(0<d*d+e*e)if(J(this,new kl("start",this,a.clientX,a.clientY)))this.b=!0;else{this.Da||this.zc(a);return}}c=nl(this,b,c);b=c.x;c=c.y;this.b&&J(this,new kl("beforedrag",this,a.clientX,a.clientY,0,b,c))&&(ol(this,a,b,c),a.b())}};
function nl(a,b,c){var d=rd(Nc(a.j));b+=d.x-a.K.x;c+=d.y-a.K.y;a.K=d;a.c+=b;a.g+=c;return new A(ll(a,a.c),ml(a,a.g))}g.cf=function(a){var b=nl(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;ol(this,a,b.x,b.y)};function ol(a,b,c,d){a.md(c,d);J(a,new kl("drag",a,b.clientX,b.clientY,0,c,d))}function ll(a,b){var c=a.l,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}
function ml(a,b){var c=a.l,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}g.md=function(a,b){this.h&&jl(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};function kl(a,b,c,d,e,f,h,k){Bd.call(this,a);this.clientX=c;this.clientY=d;this.left=q(f)?f:b.c;this.top=q(h)?h:b.g;this.a=b;this.c=!!k}v(kl,Bd);function Gk(a,b){S.call(this,b);this.b=C(a.c.a,"gonstead")||null;this.g=this.h=this.c=this.j=null}v(Gk,S);var pl="Click on the crest of the <strong>left femural head</strong>;Click on the crest of the <strong>right femural head</strong>;Select the <strong>left Iliac crest</strong>;Select the <strong>right Iliac crest</strong>;Click the lowest point of the <strong>left Ischial Tuberosity</strong>;Click the lowest point of the <strong>right Ischial Tuberosity</strong>;Select the <strong>center</strong> of the <strong>Pubic Symphysis</strong>;Select the first <strong>sacral tubercle</strong>;Click on the <strong>left</strong> base point of the <strong>sacrum</strong>;Click on the <strong>right</strong> base point of the <strong>sacrum</strong>;Select the <strong>left</strong> side of the <strong>sacrum</strong>;Select the <strong>right</strong> side of the <strong>sacrum</strong>;Done!".split(";");
g=Gk.prototype;g.ba=function(){this.S(document.createElement("div"))};
g.S=function(a){this.D=a;a.className="box-dicom-gonstead-dialog";var b=document.createElement("div");b.className="box-dicom-gonstead-dialog-background";a.appendChild(b);var c=this.a,b=c.G("div","box-dicom-gonstead-dialog-title","Gonstead (beta)");a.appendChild(b);var d=c.G("div","box-dicom-gonstead-dialog-contents");a.appendChild(d);d.appendChild(document.createTextNode("Stage"));d.appendChild(document.createElement("BR"));this.j=c.G("button","box-dicom-gonstead-button","<<");d.appendChild(this.j);
this.c=c.G("div","box-dicom-gonstead-stage");d.appendChild(this.c);this.h=c.G("button","box-dicom-gonstead-button",">>");d.appendChild(this.h);this.g=c.G("div","box-dicom-gonstead-help");d.appendChild(this.g);c=Uc(window);new hl(a,b,new kb(0,0,c.width,c.height));ql(this)};g.P=function(){Gk.A.P.call(this);H(this.b,"gonstead_action_event",this.Wg,!1,this);H(this.j,"click",this.nh,!1,this);H(this.h,"click",this.jh,!1,this)};g.Wg=function(){ql(this)};g.nh=function(){mj(this.b,lj(this.b)-1)};
g.jh=function(){mj(this.b,lj(this.b)+1)};function ql(a){var b=lj(a.b);a.c.innerHTML=(b+1).toString();var c="";0<=b&&b<pl.length&&(c=pl[b]);a.g.innerHTML=c}g.L=function(a){Q(this.m(),a)};function rl(a,b,c,d){return L(a,c,0)*L(b,d,0)-L(a,d,0)*L(b,c,0)}function sl(a){return ng(og(jg(a[1],a[0]),jg(a[3],a[0])))};var tl;function ul(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function U(a,b,c){fa(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(tl||(tl={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=tl,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function vl(a,b){var c=a.getAttribute("aria-"+b);return null==c||void 0==c?"":String(c)}function wl(a,b){var c="";b&&(c=b.id);U(a,"activedescendant",c)};function xl(){}var yl;da(xl);var zl={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};g=xl.prototype;g.Pb=function(){};g.Qa=function(a){return a.a.G("DIV",Al(this,a).join(" "),a.Gb())};g.rb=function(a){return a};function Bl(a,b,c){if(a=a.m?a.m():a){var d=[b];D&&!xc("7")&&(d=Cl(Kk(a),b),d.push(b));(c?Nk:Pk)(a,d)}}g.yd=function(){return!0};
g.ra=function(a,b){b.id&&Uk(a,b.id);var c=this.rb(b);c&&c.firstChild?Dl(a,c.firstChild.nextSibling?cb(c.childNodes):c.firstChild):a.fc=null;var d=0,e=this.U(),f=this.U(),h=!1,k=!1,l=!1,p=cb(Kk(b));Ua(p,function(a){h||a!=e?k||a!=f?d|=this.xc(a):k=!0:(h=!0,f==e&&(k=!0));1==this.xc(a)&&kd(c)&&ld(c)&&jd(c,!1)},this);a.zb=d;h||(p.push(e),f==e&&(k=!0));k||p.push(f);var m=a.od;m&&p.push.apply(p,m);if(D&&!xc("7")){var r=Cl(p);0<r.length&&(p.push.apply(p,r),l=!0)}if(!h||!k||m||l)b.className=p.join(" ");return b};
g.Bc=function(a){al(a)&&this.Be(a.m(),!0);a.isEnabled()&&this.ec(a,a.va)};function El(a,b,c){if(a=c||a.Pb())c=b.getAttribute("role")||null,a!=c&&ul(b,a)}function Fl(a,b,c){b.va||U(c,"hidden",!b.va);b.isEnabled()||a.lb(c,1,!b.isEnabled());Gl(b,8)&&a.lb(c,8,Hl(b,8));Gl(b,16)&&a.lb(c,16,Hl(b,16));Gl(b,64)&&a.lb(c,64,Hl(b,64))}g.zd=function(a,b){Mj(a,!b,!D&&!mc)};g.Be=function(a,b){Bl(a,this.U()+"-rtl",b)};g.Ae=function(a){var b;return Gl(a,32)&&(b=a.m())?kd(b)&&ld(b):!1};
g.ec=function(a,b){var c;if(Gl(a,32)&&(c=a.m())){if(!b&&Hl(a,32)){try{c.blur()}catch(d){}Hl(a,32)&&a.Cc(null)}(kd(c)&&ld(c))!=b&&jd(c,b)}};g.L=function(a,b){Q(a,b);a&&U(a,"hidden",!b)};g.Ad=function(a,b,c){var d=a.m();if(d){var e=this.ac(b);e&&Bl(a,e,c);this.lb(d,b,c)}};g.lb=function(a,b,c){yl||(yl={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=yl[b];var d=a.getAttribute("role")||null;d&&(d=zl[d]||b,b="checked"==b||"selected"==b?d:b);b&&U(a,b,c)};g.U=function(){return"goog-control"};
function Al(a,b){var c=a.U(),d=[c],e=a.U();e!=c&&d.push(e);c=b.zb;for(e=[];c;){var f=c&-c;e.push(a.ac(f));c&=~f}d.push.apply(d,e);(c=b.od)&&d.push.apply(d,c);D&&!xc("7")&&d.push.apply(d,Cl(d));return d}function Cl(a,b){var c=[];b&&(a=bb(a,[b]));Ua([],function(d){!Xa(d,qa($a,a))||b&&!$a(d,b)||c.push(d.join("_"))});return c}g.ac=function(a){this.a||Il(this);return this.a[a]};g.xc=function(a){this.c||(this.a||Il(this),this.c=fc(this.a));a=parseInt(this.c[a],10);return isNaN(a)?0:a};
function Il(a){var b=a.U();b.replace(/\xa0|\s/g," ");a.a={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};function Jl(a,b){if(!a)throw Error("Invalid class name "+a);if(!ia(b))throw Error("Invalid decorator function "+b);Kl[a]=b}var Ll={},Kl={};function Ml(a,b,c){S.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=ka(b);if(d=Ll[d])break;b=b.A?b.A.constructor:null}b=d?ia(d.ga)?d.ga():new d:null}this.c=b;this.fc=q(a)?a:null}v(Ml,S);g=Ml.prototype;g.fc=null;g.zb=0;g.kc=39;g.Eb=255;g.Lb=0;g.va=!0;g.od=null;g.Dd=!0;function Nl(a,b){a.Y&&b!=a.Dd&&Ol(a,b);a.Dd=b}g.ba=function(){var a=this.c.Qa(this);this.D=a;El(this.c,a,this.gc());this.c.zd(a,!1);this.va||this.c.L(a,!1)};g.gc=function(){return null};g.Ba=function(){return this.c.rb(this.m())};
g.cc=function(a){return this.c.yd(a)};g.S=function(a){this.D=a=this.c.ra(this,a);El(this.c,a,this.gc());this.c.zd(a,!1);this.va="none"!=a.style.display};g.P=function(){Ml.A.P.call(this);Fl(this.c,this,this.D);this.c.Bc(this);if(this.kc&-2&&(this.Dd&&Ol(this,!0),Gl(this,32))){var a=this.m();if(a){var b=this.g||(this.g=new nk);ok(b,a);T(this).J(b,"key",this.Ta).J(a,"focus",this.Cg).J(a,"blur",this.Cc)}}};
function Ol(a,b){var c=T(a),d=a.m();b?(c.J(d,"mouseover",a.ic).J(d,"mousedown",a.Rb).J(d,"mouseup",a.Bb).J(d,"mouseout",a.Ed),a.hc!=ba&&c.J(d,"contextmenu",a.hc),D&&(c.J(d,"dblclick",a.Fe),a.h||(a.h=new Pl(a),vd(a,qa(wd,a.h))))):(c.ca(d,"mouseover",a.ic).ca(d,"mousedown",a.Rb).ca(d,"mouseup",a.Bb).ca(d,"mouseout",a.Ed),a.hc!=ba&&c.ca(d,"contextmenu",a.hc),D&&(c.ca(d,"dblclick",a.Fe),wd(a.h),a.h=null))}
g.fa=function(){Ml.A.fa.call(this);this.g&&uk(this.g);this.va&&this.isEnabled()&&this.c.ec(this,!1)};g.M=function(){Ml.A.M.call(this);this.g&&(this.g.W(),delete this.g);delete this.c;this.h=this.od=this.fc=null};g.Gb=function(){return this.fc};function Dl(a,b){a.fc=b}g.vc=function(){var a=this.Gb();if(!a)return"";a=u(a)?a:fa(a)?Wa(a,od).join(""):md(a);return Ca(a)};
g.L=function(a,b){if(b||this.va!=a&&J(this,a?"show":"hide")){var c=this.m();c&&this.c.L(c,a);this.isEnabled()&&this.c.ec(this,a);this.va=a;return!0}return!1};g.isEnabled=function(){return!Hl(this,1)};g.kb=function(a){var b=this.za();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Ql(this,1,!a)||(a||(Rl(this,!1),this.$a(!1)),this.va&&this.c.ec(this,a),Sl(this,1,!a,!0))};g.$a=function(a){Ql(this,2,a)&&Sl(this,2,a)};g.Ua=function(){return Hl(this,4)};function Rl(a,b){Ql(a,4,b)&&Sl(a,4,b)}
g.Qc=function(a){Ql(this,8,a)&&Sl(this,8,a)};function Hk(a,b){Ql(a,16,b)&&Sl(a,16,b)}g.ma=function(a){Ql(this,64,a)&&Sl(this,64,a)};function Hl(a,b){return!!(a.zb&b)}function Sl(a,b,c,d){d||1!=b?Gl(a,b)&&c!=Hl(a,b)&&(a.c.Ad(a,b,c),a.zb=c?a.zb|b:a.zb&~b):a.kb(!c)}function Gl(a,b){return!!(a.kc&b)}g.sa=function(a,b){if(this.Y&&Hl(this,a)&&!b)throw Error("Component already rendered");!b&&Hl(this,a)&&Sl(this,a,!1);this.kc=b?this.kc|a:this.kc&~a};function Tl(a,b){return!!(a.Eb&b)&&Gl(a,b)}
function Ql(a,b,c){return Gl(a,b)&&Hl(a,b)!=c&&(!(a.Lb&b)||J(a,Tk(b,c)))&&!a.Da}g.ic=function(a){(!a.K||!fd(this.m(),a.K))&&J(this,"enter")&&this.isEnabled()&&Tl(this,2)&&this.$a(!0)};g.Ed=function(a){a.K&&fd(this.m(),a.K)||!J(this,"leave")||(Tl(this,4)&&Rl(this,!1),Tl(this,2)&&this.$a(!1))};g.hc=ba;g.Rb=function(a){this.isEnabled()&&(Tl(this,2)&&this.$a(!0),Gd(a)&&(Tl(this,4)&&Rl(this,!0),this.c&&this.c.Ae(this)&&this.m().focus()));Gd(a)&&a.b()};
g.Bb=function(a){this.isEnabled()&&(Tl(this,2)&&this.$a(!0),this.Ua()&&this.tb(a)&&Tl(this,4)&&Rl(this,!1))};g.Fe=function(a){this.isEnabled()&&this.tb(a)};g.tb=function(a){Tl(this,16)&&Hk(this,!Hl(this,16));Tl(this,8)&&this.Qc(!0);Tl(this,64)&&this.ma(!Hl(this,64));var b=new Bd("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.O=a.O);return J(this,b)};g.Cg=function(){Tl(this,32)&&Ql(this,32,!0)&&Sl(this,32,!0)};
g.Cc=function(){Tl(this,4)&&Rl(this,!1);Tl(this,32)&&Ql(this,32,!1)&&Sl(this,32,!1)};g.Ta=function(a){return this.va&&this.isEnabled()&&this.Qb(a)?(a.b(),a.h(),!0):!1};g.Qb=function(a){return 13==a.keyCode&&this.tb(a)};if(!ia(Ml))throw Error("Invalid component class "+Ml);if(!ia(xl))throw Error("Invalid renderer class "+xl);var Ul=ka(Ml);Ll[Ul]=xl;Jl("goog-control",function(){return new Ml(null)});
function Pl(a){sd.call(this);this.b=a;this.a=!1;this.c=new jf(this);vd(this,qa(wd,this.c));a=this.b.D;this.c.J(a,"mousedown",this.h).J(a,"mouseup",this.j).J(a,"click",this.g)}v(Pl,sd);var Vl=!D||yc(9);Pl.prototype.h=function(){this.a=!1};Pl.prototype.j=function(){this.a=!0};
function Wl(a,b){if(!Vl)return a.button=0,a.type=b,a;var c=document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return c}Pl.prototype.g=function(a){if(this.a)this.a=!1;else{var b=a.g,c=b.button,d=b.type,e=Wl(b,"mousedown");this.b.Rb(new Ed(e,a.j));e=Wl(b,"mouseup");this.b.Bb(new Ed(e,a.j));Vl||(b.button=c,b.type=d)}};
Pl.prototype.M=function(){this.b=null;Pl.A.M.call(this)};function Xl(){this.b=[]}v(Xl,xl);da(Xl);function Yl(a,b){var c=a.b[b];if(!c){switch(b){case 0:c=a.U()+"-highlight";break;case 1:c=a.U()+"-checkbox";break;case 2:c=a.U()+"-content"}a.b[b]=c}return c}g=Xl.prototype;g.Pb=function(){return"menuitem"};g.Qa=function(a){var b=a.a.G("DIV",Al(this,a).join(" "),Zl(this,a.Gb(),a.a));$l(this,a,b,Gl(a,8)||Gl(a,16));return b};g.rb=function(a){return a&&a.firstChild};
g.ra=function(a,b){var c=dd(b),d=Yl(this,2);c&&Lk(c,d)||b.appendChild(Zl(this,b.childNodes,a.a));Lk(b,"goog-option")&&(a.sa(16,!0),a&&b&&$l(this,a,b,!0));return Xl.A.ra.call(this,a,b)};function Zl(a,b,c){a=Yl(a,2);return c.G("DIV",a,b)}function $l(a,b,c,d){El(a,c,b.gc());Fl(a,b,c);var e;if(e=a.rb(c)){e=e.firstChild;var f=Yl(a,1);e=!!e&&ed(e)&&Lk(e,f)}else e=!1;d!=e&&(Qk(c,"goog-option",d),c=a.rb(c),d?(a=Yl(a,1),c.insertBefore(b.a.G("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))}
g.ac=function(a){switch(a){case 2:return Yl(this,0);case 16:case 8:return"goog-option-selected";default:return Xl.A.ac.call(this,a)}};g.xc=function(a){var b=Yl(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Xl.A.xc.call(this,a)}};g.U=function(){return"goog-menuitem"};function V(a,b,c,d){Ml.call(this,a,d||Xl.ga(),c);this.$c=b}v(V,Ml);g=V.prototype;g.T=function(){var a=this.$c;return null!=a?a:this.vc()};g.sa=function(a,b){V.A.sa.call(this,a,b);switch(a){case 8:Hl(this,16)&&!b&&Hk(this,!1);var c=this.m();c&&this&&c&&$l(this.c,this,c,b);break;case 16:(c=this.m())&&this&&c&&$l(this.c,this,c,b)}};
g.vc=function(){var a=this.Gb();return fa(a)?(a=Wa(a,function(a){return ed(a)&&(Lk(a,"goog-menuitem-accel")||Lk(a,"goog-menuitem-mnemonic-separator"))?"":od(a)}).join(""),Ca(a)):V.A.vc.call(this)};g.Bb=function(a){var b=this.za();if(b){var c=b.h;b.h=null;if(b=c&&ha(a.clientX))b=new A(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}V.A.Bb.call(this,a)};g.Qb=function(a){return a.keyCode==this.Id&&this.tb(a)?!0:V.A.Qb.call(this,a)};g.ug=function(){return this.Id};
Jl("goog-menuitem",function(){return new V(null)});V.prototype.gc=function(){return Gl(this,16)?"menuitemcheckbox":Gl(this,8)?"menuitemradio":V.A.gc.call(this)};V.prototype.za=function(){return Ml.prototype.za.call(this)};V.prototype.Ob=function(){return Ml.prototype.Ob.call(this)};function am(){}v(am,xl);da(am);am.prototype.Qa=function(a){return a.a.G("DIV",this.U())};am.prototype.ra=function(a,b){b.id&&Uk(a,b.id);if("HR"==b.tagName){var c=b;b=this.Qa(a);c.parentNode&&c.parentNode.insertBefore(b,c);cd(c)}else Mk(b,this.U());return b};am.prototype.U=function(){return"goog-menuseparator"};function bm(a,b){Ml.call(this,null,a||am.ga(),b);this.sa(1,!1);this.sa(2,!1);this.sa(4,!1);this.sa(32,!1);this.zb=1}v(bm,Ml);bm.prototype.P=function(){bm.A.P.call(this);ul(this.m(),"separator")};Jl("goog-menuseparator",function(){return new bm});function cm(a){bm.call(this,am.ga(),a)}v(cm,bm);Jl("goog-menuseparator",function(){return new bm});function dm(a,b,c,d,e,f,h,k,l){var p=em(c),m=Ij(a),r=Bj(a);if(r){var t=new kb(r.left,r.top,r.right-r.left,r.bottom-r.top),r=Math.max(m.left,t.left),x=Math.min(m.left+m.width,t.left+t.width);if(r<=x){var y=Math.max(m.top,t.top),t=Math.min(m.top+m.height,t.top+t.height);y<=t&&(m.left=r,m.top=y,m.width=x-r,m.height=t-y)}}r=Nc(a);y=Nc(c);if(r.a!=y.a){x=r.a.body;var y=qd(y),t=new A(0,0),E=Wc(Pc(x));if(Dd(E,"parent")){var ca=x;do{var tb=E==y?Cj(ca):Dj(ca);t.x+=tb.x;t.y+=tb.y}while(E&&E!=y&&E!=E.parent&&
(ca=E.frameElement)&&(E=E.parent))}x=gb(t,Cj(x));!D||yc(9)||pd(r)||(x=gb(x,rd(r)));m.left+=x.x;m.top+=x.y}a=fm(a,b);b=m.left;a&4?b+=m.width:a&2&&(b+=m.width/2);m=new A(b,m.top+(a&1?m.height:0));m=gb(m,p);e&&(m.x+=(a&4?-1:1)*e.x,m.y+=(a&1?-1:1)*e.y);var ua;if(h)if(l)ua=l;else if(ua=Bj(c))ua.top-=p.y,ua.right-=p.x,ua.bottom-=p.y,ua.left-=p.x;return gm(m,c,d,f,ua,h,k)}
function em(a){var b;if(a=a.offsetParent){var c="HTML"==a.tagName||"BODY"==a.tagName;c&&"static"==vj(a)||(b=Cj(a),c||(c=(c=Kj(a))&&F?-a.scrollLeft:!c||oc&&xc("8")||"visible"==uj(a,"overflowX")?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft,b=gb(b,new A(c,a.scrollTop))))}return b||new A}
function gm(a,b,c,d,e,f,h){a=a.clone();var k=fm(b,c);c=Gj(Hj,b);h=h?h.clone():c.clone();a=a.clone();h=h.clone();var l=0;if(d||0!=k)k&4?a.x-=h.width+(d?d.right:0):k&2?a.x-=h.width/2:d&&(a.x+=d.left),k&1?a.y-=h.height+(d?d.bottom:0):d&&(a.y+=d.top);if(f){if(e){d=a;k=h;l=0;65==(f&65)&&(d.x<e.left||d.x>=e.right)&&(f&=-2);132==(f&132)&&(d.y<e.top||d.y>=e.bottom)&&(f&=-5);d.x<e.left&&f&1&&(d.x=e.left,l|=1);if(f&16){var p=d.x;d.x<e.left&&(d.x=e.left,l|=4);d.x+k.width>e.right&&(k.width=Math.min(e.right-d.x,
p+k.width-e.left),k.width=Math.max(k.width,0),l|=4)}d.x+k.width>e.right&&f&1&&(d.x=Math.max(e.right-k.width,e.left),l|=1);f&2&&(l=l|(d.x<e.left?16:0)|(d.x+k.width>e.right?32:0));d.y<e.top&&f&4&&(d.y=e.top,l|=2);f&32&&(p=d.y,d.y<e.top&&(d.y=e.top,l|=8),d.y+k.height>e.bottom&&(k.height=Math.min(e.bottom-d.y,p+k.height-e.top),k.height=Math.max(k.height,0),l|=8));d.y+k.height>e.bottom&&f&4&&(d.y=Math.max(e.bottom-k.height,e.top),l|=2);f&8&&(l=l|(d.y<e.top?64:0)|(d.y+k.height>e.bottom?128:0));e=l}else e=
256;l=e}e=new kb(0,0,0,0);e.left=a.x;e.top=a.y;e.width=h.width;e.height=h.height;a=l;if(a&496)return a;wj(b,new A(e.left,e.top));h=new ib(e.width,e.height);jb(c,h)||Oj(b,h);return a}function fm(a,b){return(b&8&&Kj(a)?b^4:b)&-9};function hm(){}hm.prototype.a=function(){};function im(a,b,c){this.b=a;this.c=b;this.w=c}v(im,hm);im.prototype.a=function(a,b,c){dm(this.b,this.c,a,b,void 0,c,this.w)};function jm(a,b,c,d){im.call(this,a,b);this.g=c?5:0;this.j=d||void 0}v(jm,im);jm.prototype.l=function(){return this.g};jm.prototype.h=function(a){this.g=a};jm.prototype.a=function(a,b,c,d){var e=dm(this.b,this.c,a,b,null,c,10,d,this.j);if(e&496){var f=km(e,this.c);b=km(e,b);e=dm(this.b,f,a,b,null,c,10,d,this.j);e&496&&(f=km(e,f),b=km(e,b),dm(this.b,f,a,b,null,c,this.g,d,this.j))}};function km(a,b){a&48&&(b^=4);a&192&&(b^=1);return b};function lm(a,b,c,d){jm.call(this,a,b,c||d);(c||d)&&this.h(65|(d?32:132))}v(lm,jm);function mm(a,b){this.b=a instanceof A?a:new A(a,b)}v(mm,hm);mm.prototype.a=function(a,b,c,d){var e;e=Pc(a);var f=e.body;e=e.documentElement;e=new A(f.scrollLeft||e.scrollLeft,f.scrollTop||e.scrollTop);f=this.b.x+e.x;e=this.b.y+e.y;var h=em(a),f=f-h.x;e-=h.y;gm(new A(f,e),a,b,c,null,null,d)};function nm(a,b){mm.call(this,a,b)}v(nm,mm);nm.prototype.c=0;nm.prototype.h=function(a){this.c=a};nm.prototype.a=function(a,b,c,d){var e=yj(a),e=Bj(e),f;f=Nc(a);f=Vc(f.a);f=new A(this.b.x+f.scrollLeft,this.b.y+f.scrollTop);var h=b,k=gm(f,a,h,c,e,10,d);if(0!=(k&496)){if(k&16||k&32)h^=4;if(k&64||k&128)h^=1;k=gm(f,a,h,c,e,10,d);0!=(k&496)&&gm(f,a,b,c,e,this.c,d)}};function om(a){this.a=a}da(om);function pm(a,b){a&&(a.tabIndex=b?0:-1)}g=om.prototype;g.ud=function(a){return"DIV"==a.tagName};function qm(a,b,c){c.id&&Uk(b,c.id);var d=a.U(),e=!1,f=Kk(c);f&&Ua(f,function(a){a==d?e=!0:a&&this.Pd(b,a,d)},a);e||Mk(c,d);rm(a,b,c);return c}g.Pd=function(a,b,c){b==c+"-disabled"?a.kb(!1):b==c+"-horizontal"?sm(a,tm):b==c+"-vertical"&&sm(a,um)};
function rm(a,b,c){if(c)for(var d=c.firstChild,e;d&&d.parentNode==c;){e=d.nextSibling;if(1==d.nodeType){var f=a.bc(d);f&&(f.D=d,b.isEnabled()||f.kb(!1),b.I(f),Xk(f,d))}else d.nodeValue&&""!=Da(d.nodeValue)||c.removeChild(d);d=e}}g.bc=function(a){a:{var b;a=Kk(a);for(var c=0,d=a.length;c<d;c++)if(b=a[c],b=b in Kl?Kl[b]():null){a=b;break a}a=null}return a};g.wd=function(a){a=a.m();Mj(a,!0,F);D&&(a.hideFocus=!0);var b=this.a;b&&ul(a,b)};g.U=function(){return"goog-container"};
g.vd=function(a){var b=this.U(),c=[b,a.yb==tm?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};g.ue=function(){return um};function vm(a,b,c){S.call(this,c);this.ib=b||om.ga();this.yb=a||this.ib.ue()}v(vm,S);var tm="horizontal",um="vertical";g=vm.prototype;g.Gd=null;g.Ib=null;g.ib=null;g.yb=null;g.ha=!0;g.Hb=!0;g.Nb=!0;g.ja=-1;g.la=null;g.bb=!1;g.nb=null;function wm(a){return a.Gd||a.m()}g.ba=function(){this.D=this.a.G("DIV",this.ib.vd(this).join(" "))};g.Ba=function(){return this.m()};g.cc=function(a){return this.ib.ud(a)};g.S=function(a){this.D=qm(this.ib,this,a);"none"==a.style.display&&(this.ha=!1)};
g.P=function(){vm.A.P.call(this);Yk(this,function(a){a.Y&&xm(this,a)},this);var a=this.m();this.ib.wd(this);this.L(this.ha,!0);T(this).J(this,"enter",this.Cd).J(this,"highlight",this.zg).J(this,"unhighlight",this.Bg).J(this,"open",this.kh).J(this,"close",this.yg).J(a,"mousedown",this.Ag).J(Pc(a),"mouseup",this.Rg).J(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.Kg);this.Nb&&ym(this,!0)};
function ym(a,b){var c=T(a),d=wm(a);b?c.J(d,"focus",a.dc).J(d,"blur",a.Ac).J(a.Ib||(a.Ib=new nk(wm(a))),"key",a.Ta):c.ca(d,"focus",a.dc).ca(d,"blur",a.Ac).ca(a.Ib||(a.Ib=new nk(wm(a))),"key",a.Ta)}g.fa=function(){this.Xa(-1);this.la&&this.la.ma(!1);this.bb=!1;vm.A.fa.call(this)};g.M=function(){vm.A.M.call(this);this.Ib&&(this.Ib.W(),this.Ib=null);this.ib=this.la=this.nb=this.Gd=null};g.Cd=function(){return!0};
g.zg=function(a){var b=bl(this,a.target);if(-1<b&&b!=this.ja){var c=zm(this);c&&c.$a(!1);this.ja=b;c=zm(this);this.bb&&Rl(c,!0);this.la&&c!=this.la&&(Gl(c,64)?c.ma(!0):this.la.ma(!1))}b=this.m();null!=a.target.m()&&U(b,"activedescendant",a.target.m().id)};g.Bg=function(a){a.target==zm(this)&&(this.ja=-1);this.m().removeAttribute("aria-activedescendant")};g.kh=function(a){(a=a.target)&&a!=this.la&&a.za()==this&&(this.la&&this.la.ma(!1),this.la=a)};
g.yg=function(a){a.target==this.la&&(this.la=null);var b=this.m(),c=a.target.m();b&&Hl(a.target,2)&&c&&wl(b,c)};g.Ag=function(a){this.Hb&&(this.bb=!0);var b=wm(this);b&&kd(b)&&ld(b)?b.focus():a.b()};g.Rg=function(){this.bb=!1};
g.Kg=function(a){var b;a:{b=a.target;if(this.nb)for(var c=this.m();b&&b!==c;){var d=b.id;if(d in this.nb){b=this.nb[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.Rb(a);break;case "mouseup":b.Bb(a);break;case "mouseover":b.ic(a);break;case "mouseout":b.Ed(a);break;case "contextmenu":b.hc(a)}};g.dc=function(){};g.Ac=function(){this.Xa(-1);this.bb=!1;this.la&&this.la.ma(!1)};
g.Ta=function(a){return this.isEnabled()&&this.ha&&(0!=Zk(this)||this.Gd)&&this.xd(a)?(a.b(),a.h(),!0):!1};
g.xd=function(a){var b=zm(this);if(b&&"function"==typeof b.Ta&&b.Ta(a)||this.la&&this.la!=b&&"function"==typeof this.la.Ta&&this.la.Ta(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Nb)wm(this).blur();else return!1;break;case 36:Am(this);break;case 35:Bm(this);break;case 38:if(this.yb==um)Cm(this);else return!1;break;case 37:if(this.yb==tm)al(this)?Dm(this):Cm(this);else return!1;break;case 40:if(this.yb==um)Dm(this);else return!1;break;case 39:if(this.yb==
tm)al(this)?Cm(this):Dm(this);else return!1;break;default:return!1}return!0};function xm(a,b){var c=b.m(),c=c.id||(c.id=b.Pa());a.nb||(a.nb={});a.nb[c]=b}g.I=function(a,b){vm.A.I.call(this,a,b)};g.ad=function(a,b,c){a.Lb|=2;a.Lb|=64;a.sa(32,!1);Nl(a,!1);var d=a.za()==this?bl(this,a):-1;vm.A.ad.call(this,a,b,c);a.Y&&this.Y&&xm(this,a);a=d;-1==a&&(a=Zk(this));a==this.ja?this.ja=Math.min(Zk(this)-1,b):a>this.ja&&b<=this.ja?this.ja++:a<this.ja&&b>this.ja&&this.ja--};
g.removeChild=function(a,b){if(a=u(a)?Wk(this,a):a){var c=bl(this,a);-1!=c&&(c==this.ja?(a.$a(!1),this.ja=-1):c<this.ja&&this.ja--);(c=a.m())&&c.id&&this.nb&&dc(this.nb,c.id)}a=vm.A.removeChild.call(this,a,b);Nl(a,!0);return a};function sm(a,b){if(a.m())throw Error("Component already rendered");a.yb=b}g.L=function(a,b){if(b||this.ha!=a&&J(this,a?"show":"hide")){this.ha=a;var c=this.m();c&&(Q(c,a),this.Nb&&pm(wm(this),this.Hb&&this.ha),b||J(this,this.ha?"aftershow":"afterhide"));return!0}return!1};
g.isEnabled=function(){return this.Hb};g.kb=function(a){this.Hb!=a&&J(this,a?"enable":"disable")&&(a?(this.Hb=!0,Yk(this,function(a){a.pf?delete a.pf:a.kb(!0)})):(Yk(this,function(a){a.isEnabled()?a.kb(!1):a.pf=!0}),this.bb=this.Hb=!1),this.Nb&&pm(wm(this),a&&this.ha))};function Em(a,b){b!=a.Nb&&a.Y&&ym(a,b);a.Nb=b;a.Hb&&a.ha&&pm(wm(a),b)}g.Xa=function(a){(a=$k(this,a))?a.$a(!0):-1<this.ja&&zm(this).$a(!1)};function zm(a){return $k(a,a.ja)}
function Am(a){Fm(a,function(a,c){return(a+1)%c},Zk(a)-1)}function Bm(a){Fm(a,function(a,c){a--;return 0>a?c-1:a},0)}function Dm(a){Fm(a,function(a,c){return(a+1)%c},a.ja)}function Cm(a){Fm(a,function(a,c){a--;return 0>a?c-1:a},a.ja)}function Fm(a,b,c){c=0>c?bl(a,a.la):c;var d=Zk(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=$k(a,c);if(f&&a.ee(f)){a.Nd(c);break}e++;c=b.call(a,c,d)}}g.ee=function(a){return a.va&&a.isEnabled()&&Gl(a,2)};g.Nd=function(a){this.Xa(a)};function Gm(){}v(Gm,xl);da(Gm);Gm.prototype.U=function(){return"goog-menuheader"};function Hm(a,b,c){Ml.call(this,a,c||Gm.ga(),b);this.sa(1,!1);this.sa(2,!1);this.sa(4,!1);this.sa(32,!1);this.zb=1}v(Hm,Ml);Jl("goog-menuheader",function(){return new Hm(null)});function Im(a){this.a=a||"menu"}v(Im,om);da(Im);g=Im.prototype;g.ud=function(a){return"UL"==a.tagName||Im.A.ud.call(this,a)};g.bc=function(a){return"HR"==a.tagName?new bm:Im.A.bc.call(this,a)};g.gb=function(a,b){return fd(a.m(),b)};g.U=function(){return"goog-menu"};g.wd=function(a){Im.A.wd.call(this,a);U(a.m(),"haspopup","true")};function Jm(a,b){vm.call(this,um,b||Im.ga(),a);Em(this,!1)}v(Jm,vm);g=Jm.prototype;g.Yb=!0;g.U=function(){return this.ib.U()};g.gb=function(a){if(this.ib.gb(this,a))return!0;for(var b=0,c=Zk(this);b<c;b++){var d=$k(this,b);if("function"==typeof d.gb&&d.gb(a))return!0}return!1};g.removeItem=function(a){(a=this.removeChild(a,!0))&&a.W()};g.L=function(a,b,c){(b=Jm.A.L.call(this,a,b))&&a&&this.Y&&this.Yb&&wm(this).focus();a&&c&&ha(c.clientX)?this.h=new A(c.clientX,c.clientY):this.h=null;return b};
g.Cd=function(a){this.Yb&&wm(this).focus();return Jm.A.Cd.call(this,a)};g.ee=function(a){return a.isEnabled()&&a.va&&Gl(a,2)};g.S=function(a){for(var b=this.ib,c=Rc(this.a.a,"DIV",b.U()+"-content",a),d=c.length,e=0;e<d;e++)rm(b,this,c[e]);Jm.A.S.call(this,a)};g.xd=function(a){var b=Jm.A.xd.call(this,a);b||Yk(this,function(c){!b&&c.ug&&c.Id==a.keyCode&&(this.isEnabled()&&this.Xa(bl(this,c)),b=c.Ta(a))},this);return b};
g.Xa=function(a){Jm.A.Xa.call(this,a);var b=$k(this,a);if(b){a=this.m()||Vc(document);var b=b.m(),c=a||Vc(document),d=Cj(b),e=Cj(c),f=Qj(c);if(c==Vc(document)){var h=d.x-c.scrollLeft,d=d.y-c.scrollTop;D&&!yc(10)&&(h+=f.left,d+=f.top)}else h=d.x-e.x-f.left,d=d.y-e.y-f.top;var f=c.clientHeight-b.offsetHeight,e=c.scrollLeft,k=c.scrollTop,e=e+Math.min(h,Math.max(h-(c.clientWidth-b.offsetWidth),0)),k=k+Math.min(d,Math.max(d-f,0)),b=new A(e,k);a.scrollLeft=b.x;a.scrollTop=b.y}};function Km(a,b){Jm.call(this,a,b);this.Yb=!0;Em(this,!0);this.L(!1,!0);this.c=new oe}v(Km,Jm);g=Km.prototype;g.Tc=!1;g.Ue=0;g.S=function(a){Km.A.S.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&Lm(this,this.a.m(a),1)};g.P=function(){Km.A.P.call(this);this.c.forEach(this.ae,this);var a=T(this);a.J(this,"action",this.Oh);a.J(this.a.a,"mousedown",this.Ze,!0);G&&a.J(this.a.a,"contextmenu",this.Ze,!0)};
function Lm(a,b,c,d,e){var f;(f=!b)||(f=ka(b),f=!qe(a.c.b,f));f&&(b?(c={D:b,lf:c,Lh:d,qe:e?"contextmenu":"mousedown",Kh:void 0},a.c.Sa(ka(b),c)):c=null,a.Y&&a.ae(c),b=qa(a.Th,b),a.m()&&T(a).J(a.m(),"keydown",b))}g.Th=function(a,b){if(27==b.keyCode)a.focus();else{var c=$k(this,this.ja);if(c){var c=c.m(),d=new Ed(b.g,c);d.target=c;if(32==b.keyCode||13==b.keyCode)Id(c)?ge(c,"keydown",!1,d):de(c,"keydown",!1,d);32==b.keyCode&&Mm(this)}}};
g.ae=function(a){T(this).J(a.D,a.qe,this.Yh);"contextmenu"!=a.qe&&T(this).J(a.D,"keydown",this.Zh)};function Nm(a,b,c,d){var e=a.ha,f;(f=a.ha)||(f=150>ra()-a.Ue);f&&a.Tc?Mm(a):J(a,"beforeshow")&&(c="undefined"!=typeof c?c:8,e||(a.m().style.visibility="hidden"),Q(a.m(),!0),b.a(a.m(),c,d),e||(a.m().style.visibility="visible"),a.Xa(-1),a.L(!0))}function Mm(a){a.ha&&(a.L(!1),a.ha||(a.Ue=ra()))}g.Oh=function(){Mm(this)};g.Yh=function(a){Om(this,a)};
g.Zh=function(a){32!=a.keyCode&&13!=a.keyCode&&40!=a.keyCode||Om(this,a);40==a.keyCode&&Am(this)};function Om(a,b){for(var c=a.c.Za(),d=0;d<c.length;d++){var e=re(a.c,c[d]);if(e.D==b.j){c=a;d=q(e.lf)?new jm(e.D,e.lf,!0):new nm(b.clientX,b.clientY);d.h&&d.h(5);Nm(c,d,e.Lh,e.Kh);b.b();b.h();break}}}g.Ze=function(a){this.ha&&!this.gb(a.target)&&Mm(this)};g.Ac=function(a){Km.A.Ac.call(this,a);Mm(this)};g.M=function(){Km.A.M.call(this);this.c&&(this.c.clear(),delete this.c)};function Pm(){this.b=[]}v(Pm,Xl);da(Pm);Pm.prototype.Qa=function(a){var b=Pm.A.Qa.call(this,a);Mk(b,"goog-submenu");Qm(this,a,b);return b};Pm.prototype.ra=function(a,b){b=Pm.A.ra.call(this,a,b);Mk(b,"goog-submenu");Qm(this,a,b);var c=Rc(document,"DIV","goog-menu",b);if(c.length){var d=new Jm(a.a),c=c[0];Q(c,!1);a.a.a.body.appendChild(c);Xk(d,c);Rm(a,d,!0)}return b};
Pm.prototype.Bc=function(a){Pm.A.Bc.call(this,a);var b=a.Ba(),c=Rc(a.a.a,"SPAN","goog-submenu-arrow",b)[0];Sm(a,c);c!=b.lastChild&&b.appendChild(c);U(a.m(),"haspopup","true")};function Qm(a,b,c){var d=b.a.G("SPAN");d.className="goog-submenu-arrow";Sm(b,d);a.rb(c).appendChild(d)}function Sm(a,b){al(a)?(Mk(b,"goog-submenu-arrow-rtl"),gd(b,"\u25c4")):(Ok(b,"goog-submenu-arrow-rtl"),gd(b,"\u25ba"))};function Tm(a,b,c,d){V.call(this,a,b,c,d||Pm.ga())}v(Tm,V);g=Tm.prototype;g.$b=null;g.Rd=null;g.Hd=!1;g.na=null;g.rc=!1;g.P=function(){Tm.A.P.call(this);T(this).J(this.za(),"hide",this.af);this.na&&Um(this,this.na,!0)};g.fa=function(){T(this).ca(this.za(),"hide",this.af);this.na&&(Um(this,this.na,!1),this.rc||(this.na.fa(),cd(this.na.m())));Tm.A.fa.call(this)};g.M=function(){this.na&&!this.rc&&this.na.W();this.na=null;Tm.A.M.call(this)};
g.$a=function(a,b){Tm.A.$a.call(this,a);b&&(Vm(this).bb=!0);a||(this.$b&&n.clearTimeout(this.$b),this.$b=le(this.ob,218,this))};g.Qd=function(){var a=this.za();a&&zm(a)==this&&(Wm(this,!0),Xm(this))};g.ob=function(){var a=this.na;a&&a.za()==this&&(Wm(this,!1),Yk(a,function(a){"function"==typeof a.ob&&a.ob()}))};function Ym(a){a.$b&&n.clearTimeout(a.$b);a.Rd&&n.clearTimeout(a.Rd)}g.L=function(a,b){var c=Tm.A.L.call(this,a,b);c&&!this.va&&this.ob();return c};
function Xm(a){Yk(a.za(),function(a){a!=this&&"function"==typeof a.ob&&(a.ob(),Ym(a))},a)}g.Ta=function(a){var b=a.keyCode,c=al(this)?37:39,d=al(this)?39:37;if(!this.Hd){if(!this.isEnabled()||b!=c&&b!=this.Id)return!1;this.Qd();Am(Vm(this));Ym(this)}else if(!Vm(this).Ta(a))if(b==d)this.ob();else return!1;a.b();return!0};g.Rh=function(){if(this.na.za()==this){Ym(this);var a=this.Ob();a.Xa(bl(a,this));Xm(this)}};g.af=function(a){a.target==this.Ob()&&(this.ob(),Ym(this))};
g.ic=function(a){this.isEnabled()&&(Ym(this),this.Rd=le(this.Qd,218,this));Tm.A.ic.call(this,a)};g.tb=function(a){Ym(this);if(Gl(this,8)||Gl(this,16))return Tm.A.tb.call(this,a);this.Qd();return!0};
function Wm(a,b){!b&&Vm(a)&&Vm(a).Xa(-1);J(a,Tk(64,b));var c=Vm(a);b!=a.Hd&&Qk(a.m(),"goog-submenu-open",b);if(b!=c.ha&&(b&&(c.Y||R(c,void 0),c.Xa(-1)),c.L(b),b)){var c=new jm(a.m(),12,!1),d=Vm(a),e=d.m();d.ha||(e.style.visibility="hidden",Q(e,!0));c.a(e,8);d.ha||(Q(e,!1),e.style.visibility="visible")}a.Hd=b}function Um(a,b,c){var d=T(a);(c?d.J:d.ca).call(d,b,"enter",a.Rh)}function Zm(a,b){Vm(a).I(b,!0)}g.removeItem=function(a){(a=Vm(this).removeChild(a,!0))&&a.W()};
function Vm(a){a.na?a.rc&&a.na.za()!=a&&Vk(a.na,a):Rm(a,new Jm(a.a),!0);a.na.m()||a.na.ba();return a.na}function Rm(a,b,c){var d=a.na;b!=d&&(d&&(a.ob(),a.Y&&Um(a,d,!1)),a.na=b,a.rc=!c,b&&(Vk(b,a),b.L(!1,!0),b.Yb=!1,Em(b,!1),a.Y&&Um(a,b,!0)))}g.gb=function(a){return Vm(this).gb(a)};Jl("goog-submenu",function(){return new Tm(null)});function $m(a){Km.call(this,a.a);this.g=a;this.b=null;a=new Tm("Kleur");for(var b="Green #71c181 Blue #718da5 Yellow #f2d43b Purple #8a59b2 Red #cd3a56 Orange #de9b2a".split(" "),c=0;c<b.length;c+=2)an(this,a,b[c],b[c+1]);for(var b=new Tm("Tekengrootte"),d=[8,9,10,11,12,14,16,18,20,24,28,32],c=0;c<d.length;c++)bn(this,b,d[c]);c=new V("Verwijderen");H(c,"action",this.l,!1,this);this.I(a,!0);this.I(b,!0);this.I(new cm,!0);this.I(c,!0);R(this,this.g.g.h.document.body)}v($m,Km);
function an(a,b,c,d){c=a.g.g.a.G("div",{style:"color:"+d},c);c=new V(c);H(c,"action",function(){a.b&&(a.b.h=d,P(a.g))});Zm(b,c)}function bn(a,b,c){c=c.toString();var d=c+"pt";c=new V(c);H(c,"action",function(){a.b&&(a.b.j=d,P(a.g))});Zm(b,c)}$m.prototype.l=function(){this.b.w=!0;P(this.g)};function cn(a){Km.call(this,a.a);this.b=a;a=Ob(a.b.b);var b=dn("Default","~",void 0,this.a);H(b,"action",this.b.$d,!1,this.b);var c=dn("Auto","0",void 0,this.a);H(c,"action",this.b.be,!1,this.b);var d=new V("Add current...");H(d,"action",this.l,!1,this);this.I(b,!0);this.I(c,!0);this.I(new cm,!0);b=xa(a.a);for(c=0;c<b.length;c++){var e=b[c],f=a.a[e];f&&this.I(en(this,e,f),!0)}this.I(new cm,!0);this.I(d,!0)}v(cn,Km);
function en(a,b,c){b=new Tm(b);for(var d=0;d<c.length;d++){var e=a,f=c[d],f=dn(f.c||"Unknown",8>=d?(d+1).toString():null,f,e.a);H(f,"action",e.g,!1,e);Zm(b,f)}return b}cn.prototype.g=function(a){if(a.shiftKey){a=a.target.T();var b=this.b.b.b,c=Ob(b);c.remove(a);ub(b.a,"windowLevelPresets",wa(c));W('Deleted "'+a.c+'"',this.a)}else a=a.target.T(),ta(this.b.h,a),xk(this.b),W('Selected "'+a.c+'"',this.a)};
cn.prototype.l=function(){var a=fn(this.b);if(a){var b=ai(a),a=prompt("Give a name for this window/level.  To remove a preset from the menu, simply select it while holding down the shift key."),c=this.b.h.clone();c.c=a;c.h=b;var b=this.b.b.b,d=Ob(b);d.add(c);ub(b.a,"windowLevelPresets",wa(d));W('Created "'+a+'"',this.a)}};function gn(a){Km.call(this,a.a);this.b=a;a=new V("Hiermee kunt u het beeld horizontaal draaien");H(a,"action",this.sg,!1,this);var b=new V("Hiermee kunt u het beeld verticaal draaien");H(b,"action",this.tg,!1,this);var c=new V("Hiermee kunt u het beeld naar rechts draaien");H(c,"action",this.ei,!1,this);var d=new V("Hiermee kunt u het beeld naar links draaien");H(d,"action",this.fi,!1,this);var e=new V("Hiermee kunt u kleurinversie toepassen op het beeld");H(e,"action",this.Hh,!1,this);this.I(a,
!0);this.I(b,!0);this.I(new cm,!0);this.I(c,!0);this.I(d,!0);this.I(new cm,!0);this.I(e,!0)}v(gn,Km);g=gn.prototype;g.sg=function(){Ck(this.b,-1,1)};g.tg=function(){Ck(this.b,1,-1)};g.ei=function(){hn(this.b,Math.PI/2)};g.fi=function(){hn(this.b,-Math.PI/2)};g.Hh=function(){var a=this.b.h;a&&(a.a=!a.a,xk(this.b))};function jn(a){a=Qc(document,a);a.innerHTML=""}function kn(a,b,c){var d=document.createElement("option");d.value=b;d.text=c;a.appendChild(d)}function ln(a){if(a){var b=a.selectedIndex;a=0>b?null:a.options[b]}else a=null;return a?a.value:null}function mn(a){for(var b=[],c=0;c<a.options.length;c++)b[c]=[],b[c][0]=a.options[c].text,b[c][1]=a.options[c].value;for(b.sort();0<a.options.length;)a.options[0]=null;for(c=0;c<b.length;c++){var d=new Option(b[c][0],b[c][1]);a.options[c]=d}}
function nn(a,b){for(var c=0;c<a.options.length;c++)if(a.options[c].value==b){a.options[c].selected=!0;break}}function on(a,b,c){for(var d=!1,e="",f=a.length-1;0<=f;f--)a.options[f].value==c&&(d=!0,e=a.options[f].text,a.remove(f));d&&kn(b,c,e)}function pn(a,b,c){var d=a.options[b].value,e=a.options[b].text;a.options[b].value=a.options[c].value;a.options[b].text=a.options[c].text;a.options[c].value=d;a.options[c].text=e}
function fl(a,b){var c=a.G("canvas",{width:512,height:512});b&&(c.style.position="absolute",c.style.top="0",c.style.left="0");return c}function gl(a){return(window.devicePixelRatio||1)/(a.h||a.b||a.c||a.g||a.a||1)}function qn(a){a=window.atob(a.split(",")[1]);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return new Blob([b],{type:"image/png"})}
function dn(a,b,c,d){d=d||Nc();var e=a;b&&(e=[d.G("div","goog-menuitem-accel",b),d.a.createTextNode(String(a))]);return new V(e,c)};function rn(){I.call(this);this.a=sn;this.H=this.l=null}v(rn,I);var sn=0;rn.prototype.j=function(){this.Oa("begin")};rn.prototype.g=function(){this.Oa("end")};rn.prototype.Oa=function(a){J(this,a)};function tn(a,b,c){sd.call(this);this.b=a;this.h=b||0;this.c=c;this.g=pa(this.j,this)}v(tn,sd);tn.prototype.a=0;tn.prototype.M=function(){tn.A.M.call(this);un(this);delete this.b;delete this.c};function vn(a){un(a);a.a=le(a.g,q(void 0)?void 0:a.h)}function un(a){a.Ua()&&n.clearTimeout(a.a);a.a=0}tn.prototype.Ua=function(){return 0!=this.a};tn.prototype.j=function(){this.a=0;this.b&&this.b.call(this.c)};var cc={},wn=null;function xn(a){a=ka(a);delete cc[a];bc()&&wn&&un(wn)}function yn(){wn||(wn=new tn(function(){zn()},20));var a=wn;a.Ua()||vn(a)}function zn(){var a=ra();Zb(cc,function(b){An(b,a)});bc()||yn()};function Bn(a,b,c,d){rn.call(this);if(!fa(a)||!fa(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.O=a;this.N=b;this.F=c;this.C=d;this.b=[];this.K=!1;this.c=0}v(Bn,rn);g=Bn.prototype;
g.qb=function(a){if(a||this.a==sn)this.c=0,this.b=this.O;else if(1==this.a)return!1;xn(this);this.l=a=ra();-1==this.a&&(this.l-=this.F*this.c);this.H=this.l+this.F;this.c||this.j();this.Oa("play");-1==this.a&&this.Oa("resume");this.a=1;var b=ka(this);b in cc||(cc[b]=this);yn();An(this,a);return!0};g.hb=function(a){xn(this);this.a=sn;a&&(this.c=1);Cn(this,this.c);this.Oa("stop");this.g()};g.M=function(){this.a==sn||this.hb(!1);this.Oa("destroy");Bn.A.M.call(this)};
function An(a,b){a.c=(b-a.l)/(a.H-a.l);1<=a.c&&(a.c=1);Cn(a,a.c);1==a.c?(a.a=sn,xn(a),a.Oa("finish"),a.g()):1==a.a&&a.Jd()}function Cn(a,b){ia(a.C)&&(b=a.C(b));a.b=Array(a.O.length);for(var c=0;c<a.O.length;c++)a.b[c]=(a.N[c]-a.O[c])*b+a.O[c]}g.Jd=function(){this.Oa("animate")};g.Oa=function(a){J(this,new Dn(a,this))};function Dn(a,b){Bd.call(this,a);this.x=b.b[0];this.y=b.b[1];this.state=b.a}v(Dn,Bd);function En(a,b,c,d,e){Bn.call(this,b,c,d,e);this.h=a}v(En,Bn);En.prototype.w=ba;En.prototype.Jd=function(){this.w();En.A.Jd.call(this)};En.prototype.g=function(){this.w();En.A.g.call(this)};En.prototype.j=function(){this.w();En.A.j.call(this)};function Fn(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");En.apply(this,arguments)}v(Fn,En);
Fn.prototype.w=function(){var a;if(a=this.K)q(this.B)||(this.B=Kj(this.h)),a=this.B;this.h.style[a?"right":"left"]=Math.round(this.b[0])+"px";this.h.style.top=Math.round(this.b[1])+"px"};function Gn(a,b,c,d,e){En.call(this,a,[b],[c],d,e)}v(Gn,En);Gn.prototype.w=function(){this.h.style.width=Math.round(this.b[0])+"px"};function Hn(a,b,c,d,e){En.call(this,a,[b],[c],d,e)}v(Hn,En);Hn.prototype.w=function(){this.h.style.height=Math.round(this.b[0])+"px"};
function In(a,b,c,d,e){ha(b)&&(b=[b]);ha(c)&&(c=[c]);En.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.B=Jn}v(In,En);var Kn=1/1024,Jn=-1;In.prototype.w=function(){var a=this.b[0];Math.abs(a-this.B)>=Kn&&(Jj(this.h,a),this.B=a)};In.prototype.j=function(){this.B=Jn;In.A.j.call(this)};In.prototype.g=function(){this.B=Jn;In.A.g.call(this)};function Ln(a,b,c){In.call(this,a,1,0,b,c)}v(Ln,In);Ln.prototype.j=function(){this.h.style.display="";Ln.A.j.call(this)};
Ln.prototype.g=function(){this.h.style.display="none";Ln.A.g.call(this)};function Mn(){}v(Mn,am);da(Mn);Mn.prototype.Qa=function(a){return a.a.G("DIV",Al(this,a).join(" ")+" goog-inline-block","\u00a0")};Mn.prototype.ra=function(a,b){b=Mn.A.ra.call(this,a,b);Mk(b,"goog-inline-block");return b};Mn.prototype.U=function(){return"goog-toolbar-separator"};function Nn(){this.a="toolbar"}v(Nn,om);da(Nn);Nn.prototype.bc=function(a){return"HR"==a.tagName?new bm(Mn.ga()):Nn.A.bc.call(this,a)};Nn.prototype.U=function(){return"goog-toolbar"};Nn.prototype.ue=function(){return tm};function On(a,b,c){vm.call(this,b,a||Nn.ga(),c)}v(On,vm);On.prototype.dc=function(a){On.A.dc.call(this,a);this.bb||Am(this)};function Pn(){}v(Pn,xl);da(Pn);g=Pn.prototype;g.Pb=function(){return"button"};g.lb=function(a,b,c){switch(b){case 8:case 16:U(a,"pressed",c);break;default:case 64:case 1:Pn.A.lb.call(this,a,b,c)}};g.Qa=function(a){var b=Pn.A.Qa.call(this,a);this.Ya(b,a.pb());var c=a.T();c&&this.ze(b,c);Gl(a,16)&&this.lb(b,16,Hl(a,16));return b};g.ra=function(a,b){b=Pn.A.ra.call(this,a,b);var c=this.T(b);a.F=c;a.Rc(this.pb(b));Gl(a,16)&&this.lb(b,16,Hl(a,16));return b};g.T=ba;g.ze=ba;g.pb=function(a){return a.title};
g.Ya=function(a,b){a&&(b?a.title=b:a.removeAttribute("title"))};g.U=function(){return"goog-button"};function Qn(){}v(Qn,Pn);da(Qn);g=Qn.prototype;g.Pb=function(){};g.Qa=function(a){Nl(a,!1);a.Eb&=-256;a.sa(32,!1);return a.a.G("BUTTON",{"class":Al(this,a).join(" "),disabled:!a.isEnabled(),title:a.pb()||"",value:a.T()||""},a.vc()||"")};g.yd=function(a){return"BUTTON"==a.tagName||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};g.ra=function(a,b){Nl(a,!1);a.Eb&=-256;a.sa(32,!1);if(b.disabled){var c=this.ac(1);Mk(b,c)}return Qn.A.ra.call(this,a,b)};
g.Bc=function(a){T(a).J(a.m(),"click",a.tb)};g.zd=ba;g.Be=ba;g.Ae=function(a){return a.isEnabled()};g.ec=ba;g.Ad=function(a,b,c){Qn.A.Ad.call(this,a,b,c);(a=a.m())&&1==b&&(a.disabled=c)};g.T=function(a){return a.value};g.ze=function(a,b){a&&(a.value=b)};g.lb=ba;function Rn(a,b,c){Ml.call(this,a,b||Qn.ga(),c)}v(Rn,Ml);g=Rn.prototype;g.T=function(){return this.F};g.pb=function(){return this.B};g.Ya=function(a){this.B=a;this.c.Ya(this.m(),a)};g.Rc=function(a){this.B=a};g.M=function(){Rn.A.M.call(this);delete this.F;delete this.B};g.P=function(){Rn.A.P.call(this);if(Gl(this,32)){var a=this.m();a&&T(this).J(a,"keyup",this.Qb)}};g.Qb=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.tb(a):32==a.keyCode};Jl("goog-button",function(){return new Rn(null)});function Sn(){}v(Sn,Pn);da(Sn);g=Sn.prototype;g.Qa=function(a){var b=Al(this,a),b=a.a.G("DIV",{"class":"goog-inline-block "+b.join(" ")},this.qc(a.Gb(),a.a));this.Ya(b,a.pb());return b};g.Pb=function(){return"button"};g.rb=function(a){return a&&a.firstChild&&a.firstChild.firstChild};g.qc=function(a,b){return b.G("DIV","goog-inline-block "+(this.U()+"-outer-box"),b.G("DIV","goog-inline-block "+(this.U()+"-inner-box"),a))};g.yd=function(a){return"DIV"==a.tagName};
g.ra=function(a,b){Tn(b,!0);Tn(b,!1);var c;a:{c=a.a.ve(b);var d=this.U()+"-outer-box";if(c&&Lk(c,d)&&(c=a.a.ve(c),d=this.U()+"-inner-box",c&&Lk(c,d))){c=!0;break a}c=!1}c||b.appendChild(this.qc(b.childNodes,a.a));Nk(b,["goog-inline-block",this.U()]);return Sn.A.ra.call(this,a,b)};g.U=function(){return"goog-custom-button"};
function Tn(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var e=c.nodeValue;if(""==Da(e))a.removeChild(c);else{c.nodeValue=b?e.replace(/^[\s\xa0]+/,""):e.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};function Un(){}v(Un,Sn);da(Un);Un.prototype.U=function(){return"goog-toolbar-button"};function Vn(a,b,c){Rn.call(this,a,b||Un.ga(),c)}v(Vn,Rn);Jl("goog-toolbar-button",function(){return new Vn(null)});function Wn(a){S.call(this,a.a);this.b=a;this.c=this.j=this.l=this.B=this.C=this.F=this.h=this.g=this.w=null}v(Wn,S);g=Wn.prototype;g.ba=function(){this.S(document.createElement("div"))};
g.S=function(a){this.D=a;var b=this.a;a.className="box-dicom-hover-menu-container";b.sd(a);this.w=b.G("div","box-dicom-hover-menu-content");a.appendChild(this.w);this.g=new On;this.h=Xn(this,"view");this.g.I(this.h,!0);this.F=Xn(this,"presets");this.g.I(this.F,!0);this.C=Xn(this,"keyimage");this.g.I(this.C,!0);this.B=Xn(this,"play");this.g.I(this.B,!0);a=(a=this.b.g)?a.m():window.document.body;this.l=new gn(this.b);this.l.Tc=!0;R(this.l,a);this.j=new cn(this.b);this.j.Tc=!0;R(this.j,a);R(this.g,this.w);
this.L(!1)};function Xn(a,b){var c=a.a,c=c.G("div","box-dicom-hover-menu-button",c.G("div","box-dicom-hover-menu-icon box-dicom-hover-menu-icon-"+b));return new Vn(c)}g.P=function(){Wn.A.P.call(this);H(this.h,"action",this.mi,!1,this);H(this.F,"action",this.ji,!1,this);H(this.C,"action",this.ah,!1,this);H(this.B,"action",this.b.ni,!1,this.b)};g.mi=function(){Nm(this.l,new lm(this.h.m(),0,!0),1,null)};g.ji=function(){Nm(this.j,new lm(this.h.m(),0,!0),1,null)};g.ah=function(){this.b.b.cd(this.b)};
g.L=function(a){Yn(this);Jj(this.m(),1);Q(this.m(),a)};function Yn(a){a.c&&(a.c.hb(),a.c.W(),a.c=null)};var Zn="001021B0 00280011 00080080 00080060 00101010 00100030 00100020 00100040 00181030 00280010 0008103E 00080020 00081030".split(" "),$n={"00280011":"Kolommen","00080080":"Naam van instelling","00080060":"Modaliteit","00101010":"Leeftijd van pati\u00ebnt","00100030":"Geboortedatum van pati\u00ebnt","001021B0":"Geschiedenis","00100020":"Pati\u00ebnt-id","00100040":"Geslacht van pati\u00ebnt","00181030":"Naam van protocol","00280010":"Rijen","0008103E":"Seriebeschrijving","00080020":"Datum van studie",
"00081030":"Beschrijving van studie"};function ao(a){var b=a.a;this.a=a;this.b=fl(b,!0);this.Zc=this.b.getContext("2d");this.c=this.g=512;this.h=gl(this.Zc);this.j=!1}ao.prototype.L=function(a){Q(this.b,a)};ao.prototype.Ka=function(a,b){this.g=a;this.c=b;this.b.width=this.h*a;this.b.height=this.h*b;this.b.style.width=a+"px";this.b.style.height=b+"px"};
function bo(a,b,c){a.j&&(c.fillStyle="rgba(255, 255, 255, 0.75)",c.fillRect(0,0,b.width,b.height));a:if(!a.a.Ua()&&Kb(a.a.b.b)&&(b=co(a.a))){var d=a.a.b.l;if(d&&eo(d,Y(a.a))){var e=d.c;if(e){for(d=0;4>d;d++)if(!e[d])break a;var d=sl(e),f=sl(b),h=og(d,f),k=Math.abs(h.v()),l=Math.abs(h.o()),p=Math.abs(hg(h));if(isNaN(k)||isNaN(l)||isNaN(p)||1E-8>k+l+p)d=null;else{var m=0,m=k>l?k>p?1:3:l>p?2:3,k=-pg(d,e[0]),l=-pg(f,b[0]),e=new gg(4,1);M(e,3,0,1);switch(m){case 1:M(e,1,0,(l*hg(d)-k*hg(f))/h.v());M(e,
2,0,(k*f.o()-l*d.o())/h.v());break;case 2:M(e,0,0,(k*hg(f)-l*hg(d))/h.o());M(e,2,0,(l*d.v()-k*f.v())/h.o());break;case 3:M(e,0,0,(l*d.o()-k*f.o())/hg(h)),M(e,1,0,(k*f.v()-l*d.v())/hg(h))}d=[e,e.add(h)];f=[];for(h=0;4>h;h++){var m=d,l=[b[h],b[(h+1)%4]],e=jg(m[1],m[0]),k=jg(l[1],l[0]),l=jg(m[0],l[0]),r=Math.abs(e.v())+Math.abs(k.v()),t=Math.abs(e.o())+Math.abs(k.o()),x=Math.abs(hg(e))+Math.abs(hg(k)),y=p=0;r<t?r<x?(p=1,y=2):(p=0,y=1):t<x?(p=0,y=2):(p=0,y=1);r=rl(e,k,p,y);1E-8>Math.abs(r)?e=null:(t=
rl(e,l,p,y)/r,e=0>t||1<t?null:m[0].add(kg(e,rl(k,l,p,y)/r)));e&&f.push(e)}d=2===f.length?f:null}d&&2===d.length&&(b=Ti(a.a,d[0]))&&(d=Ti(a.a,d[1]))&&(c.strokeStyle=Pb(a.a.b.b),c.lineWidth=2,c.beginPath(),c.moveTo(b.v(),b.o()),c.lineTo(d.v(),d.o()),c.closePath(),c.stroke())}}}(b=a.a.b.l)&&(d=b.b)&&eo(b,Y(a.a))&&(b=Ti(a.a,d))&&(c.strokeStyle=Pb(a.a.b.b),c.lineWidth=4,c.beginPath(),c.moveTo(b.v()-8,b.o()-8),c.lineTo(b.v()+8,b.o()+8),c.stroke(),c.closePath(),c.beginPath(),c.moveTo(b.v()+8,b.o()-8),c.lineTo(b.v()-
8,b.o()+8),c.stroke(),c.closePath());if(d=fn(a.a))if(b=Y(a.a))for(d=d.c,f=0;f<d.length;f++)ui(d[f],a.a)&&d[f].xa(c,a.a,b);if(Hb(a.a.b.b)&&(f=Y(a.a))){d=b=5;c.fillStyle=Qb(a.a.b.b,"overlayColor","#bbb");c.textBaseline="top";c.textAlign="left";c.font='normal 12px Lato, "Helvetica Neue", Helvetica, Arial, sans-serif';e=(h=(h=Cg(f,"00100010"))?new zh(h):null)?Bh(h):"";h=Tb(a.a.b.b);m=[];m.push(e);m.push("\n");for(e=0;e<h.length;e++)k=h[e],m.push($n[k]),m.push(": "),m.push(Cg(f,k)),m.push("\n");N(c,m.join(""),
b,d);c.textBaseline="top";c.textAlign="right";b=a.g-5;d=5;(f=a.a.h)&&(d+=N(c,"W "+Math.round(f.g)+" / C "+Math.round(f.b),b,d));d+=N(c,"Kader:"+(fo(a.a)+1).toString()+" / "+a.a.B.toString(),b,d);d+=N(c,a.a.C.hd(),b,d);if(f=a.a.g)(h=f.ia)&&(h=h.hands)&&0<h.length&&(d+=N(c,h[0].grabStrength.toFixed(4),b,d)),(f=f.F)&&N(c,f[0].toFixed(1)+", "+f[1].toFixed(1)+", "+f[2].toFixed(1),b,d)}b=a.g;d=a.c;f=Math.max(5,.04*b);h=Math.max(5,.04*d);m=ik(a.a,0,0);e=ik(a.a,b,0);k=ik(a.a,0,d);m&&e&&k&&(c.fillStyle=Qb(a.a.b.b,
"orientationColor","#888"),c.font='normal 13px Lato, "Helvetica Neue", Helvetica, Arial, sans-serif',c.textBaseline="top",c.textAlign="center",N(c,go(jg(m,k)),b/2,h),c.textBaseline="top",c.textAlign="left",N(c,go(jg(m,e)),f,d/2),c.textBaseline="top",c.textAlign="right",N(c,go(jg(e,m)),b-f,d/2),c.textBaseline="bottom",c.textAlign="center",N(c,go(jg(k,m)),b/2,d-h));if(!(0>=a.a.B)){d=a.g-6;h=2;b=a.c-4-2;m=d/a.a.B;f=Math.max(1,Math.ceil(m));c.lineWidth=1;c.fillStyle="#000";c.fillRect(3,b,d,4);for(e=0;e<
a.a.B;e++)(h=Y(a.a,e))&&Kg(h)&&(h=3+Math.floor(e*m),c.fillStyle="#3b3b3b",c.fillRect(h,b,f,4));h=3+Math.floor(fo(a.a)*m);m=Math.max(3,h-1);d=Math.min(3+d,h+f+1);c.fillStyle="#22a7f0";d=d-m;c.beginPath();c.moveTo(m+3,b);c.lineTo(m+d-3,b);c.quadraticCurveTo(m+d,b,m+d,b+3);c.lineTo(m+d,b+4-3);c.quadraticCurveTo(m+d,b+4,m+d-3,b+4);c.lineTo(m+3,b+4);c.quadraticCurveTo(m,b+4,m,b+4-3);c.lineTo(m,b+3);c.quadraticCurveTo(m,b,m+3,b);c.closePath();c.fill()}(h=Y(a.a))&&!Kg(h)&&(b=h.l,null===b?b=null:(d=Fg(h))?
(f=Eg(h,"00280008")||1,h="US"===Cg(h,"00080060")?3:2,b=b/(d.a*d.c*f*h)):b=null,null!==b&&(c.fillStyle="#fff",c.font="normal 100px sans-serif",c.textBaseline="middle",c.textAlign="center",c.fillText(Math.min(Math.round(100*b),99)+"%",a.g/2,a.c/2)));!ho()&&a.a.Ua()&&(c.strokeStyle="#22A7F0",c.lineWidth=3,c.strokeRect(0,0,a.g,a.c))}
function N(a,b,c,d){b=b.split("\n");for(var e=a.fillStyle,f=0;f<b.length;f++)a.fillStyle="#000",a.fillText(b[f],c+1,d+1),a.fillStyle=e,a.fillText(b[f],c,d),d+=18;return 18}
function go(a){var b=L(a,0,0),c=L(a,1,0),d=L(a,2,0);a=Math.sqrt(b*b+c*c+d*d);if(1E-4>a)return"";b/=a;c/=a;d/=a;a=0>b?"R":"L";for(var e=0>c?"A":"P",f=0>d?"F":"H",b=Math.abs(b),c=Math.abs(c),d=Math.abs(d),h="",k=0;3>k;k++)if(.25<b&&b>c&&b>d)h+=a,b=0;else if(.25<c&&c>b&&c>d)h+=e,c=0;else if(.25<d&&d>b&&d>c)h+=f,d=0;else break;return h};function io(a){Jm.call(this,a.a);this.b=a;a=[["arrow","Pijl","Hiermee tekent u een pijl op de foto","Q"],["line","Afstand","Hiermee kunt u de afstand tussen twee punten meten","D"],["ellipse","Ovaal","Hiermee meet u het oppervlak en de gemiddelde waarde van een rond gebied","E"],["angle","Hoek","Hiermee meet u de hoek tussen twee lijnen","A"],["cobbAngle","Hoek van Cobb","Hiermee kunt u de hoek van Cobb tussen twee lijnen meten","C"],["text","Tekst","Hiermee kunt u tekstaantekeningen toevoegen aan het beeld",
"T"],["spine","Wervelkolom","Hiermee kunt u markeringen bij de wervelkolom plaatsen",null],["gonstead","Gonstead","Hiermee kunt u Gonstead-markeringen toevoegen",null]];for(var b=0;b<a.length;b++){var c=a[b],c=jo(this,c[1],c[0],c[3]);this.I(c,!0)}a=new V("Aantekeningen opslaan");H(a,"action",this.c,!1,this);this.I(new cm,!0);this.I(a,!0)}v(io,Jm);function jo(a,b,c,d){var e=a.b.b;a=dn(b,d,null,a.b.a);H(a,"action",function(){gj(e.c,c)});return a}
io.prototype.c=function(){var a=this.b.b,b=ko(a);b&&lo(a,b)};function mo(a){Km.call(this,a.a);this.b=a;no(this)}v(mo,Km);
function no(a){var b=a.b.b,c=dn("Stapel","S");H(c,"action",function(){gj(b.c,"stack")});a.I(c,!0);c=dn("Venster","W");H(c,"action",function(){gj(b.c,"windowLevel")});a.I(c,!0);c=dn("Schuiven","P");H(c,"action",function(){gj(b.c,"pan")});a.I(c,!0);c=dn("Zoomen","Z");H(c,"action",function(){gj(b.c,"zoom")});a.I(c,!0);if(c=a.b.g){var d=new Tm("Aantekeningen maken");Rm(d,new io(c));a.I(d,!0)}a.I(new cm,!0);c=new V("Belangrijk beeld");H(c,"action",a.b.b.cd,!1,a.b.b);a.I(c,!0);c=new V("Belangrijk beeld (alle weergaven)");
H(c,"action",a.b.b.Kf,!1,a.b.b);a.I(c,!0);a.I(new cm,!0);c=new V("Ware grootte (1:1)");H(c,"action",a.b.oi,!1,a.b);d=new V("Passend maken");H(d,"action",a.b.pi,!1,a.b);var e=new V("Overlays");H(e,"action",a.b.b.nc,!1,a.b.b);var f=new V("Lokalisator negeren");H(f,"action",a.b.b.Lf,!1,a.b.b);var h=new V("Laatste aantekening verwijderen");H(h,"action",a.b.b.ce,!1,a.b.b);var k=new V("Alle aantekeningen verwijderen");H(k,"action",a.b.b.di,!1,a.b.b);var l=new V("Afdrukken naar console");H(l,"action",a.b.ci,
!1,a.b);a.I(c,!0);a.I(d,!0);a.I(new cm,!0);a.I(e,!0);a.I(f,!0);a.I(new cm,!0);a.I(h,!0);a.I(k,!0);a.I(new cm,!0);a.I(l,!0);a.b.g?R(a,a.b.g.m()):R(a,void 0)};function oo(a,b){S.call(this,b?b.a:null);this.b=a;this.g=b}v(oo,S);oo.prototype.M=function(){this.g=this.b=null;oo.A.M.call(this)};function po(a,b,c,d){oo.call(this,a,b);this.lc=c;this.C=d;this.w=null;this.B=0;this.Vc=this.j=this.oa=this.Ea=null;this.ne=!0;this.R=0;this.h=null;this.N=[!1,!1,!1];this.Xc=!1;this.fb=this.Oe=this.F=this.c=null;this.ea=new ie(100);this.Wc=!1;this.pe=this.re=this.Re=this.Se=this.te=0}v(po,oo);function fn(a){return a.w?a.w.a:null}function Y(a,b){if(!a.w)return null;var c=a.w.Z;if(c&&0!==c.length)var d=q(b)?b:fo(a),c=c[a.Ea&&0!=a.Ea.length?a.Ea[q(d)?d:fo(a)]:0];else c=null;return c}
function wi(a){return(a=Y(a,void 0))?Bg(a):null}g=po.prototype;g.Ua=function(){return this.b.a===this};g.eg=function(a){Sf(a).H===Y(this)&&(qo(this,!1),P(this))};g.dg=function(){qo(this,!1);ro(this);xk(this);P(this)};g.fg=function(){};function ro(a){a.Ea=Array(a.B);a.oa=Array(a.B);for(var b=a.w.Z,c=0,d=0;d<b.length;d++)for(var e=b[d],f=0;f<(Eg(e,"00280008")||1);f++)a.Ea[c]=d,a.oa[c]=f,c++;a.B=c}
function so(a){var b=Gj(Hj,a.m()),c=document.createElement("canvas");c.width=b.width;c.height=b.height;var d=c.getContext("2d");d.fillStyle="black";d.fillRect(0,0,b.width,b.height);b=a.C;d.drawImage(b.l,0,0,b.l.width,b.l.height,0,0,c.width,c.height);bo(a.j,c,d);return c.toDataURL()}
g.Zb=function(){var a=this.w;if(!a)return null;a=a.a;if(!a||!zg(a))return null;var b=ko(this.g.b);if(!b||zg(b)!==zg(a))return null;a=new cj;b=Cg(Y(this),"0008103E");a.c=b;this.h&&(a.b=this.h.g,a.a=this.h.b,a.h=this.h.a);a.g=this.c?Math.abs(L(this.c,0,0)):null;a.j=this.c?0>L(this.c,0,0):!1;a.l=this.c?0>L(this.c,1,1):!1;return a};function fo(a){var b=Math.floor(a.R),b=Math.min(b,a.B-1);return b=Math.max(b,0)}function wk(a,b){b=Math.min(b,a.B-1);b=Math.max(b,0);a.R=b;to(a)}
function to(a){for(var b=Math.floor(a.R),c=0,d=0;50>d;d++){var e=Y(a,b+d);if(!e)break;a.C.Kd(e,c);c=1}}function uo(a){return(a=a.w.Z)?a.length:0}function xi(a){return a.oa&&0!=a.oa.length?a.oa[fo(a)]:0}function vi(a){return(a=Y(a))&&Hg(a,"00200052")?Cg(a,"00200052"):null}function vo(a,b){var c=O(a,b.c,b.a);return fk(a,c)}function fk(a,b){if(!b)return null;var c;c=(c=fn(a))?c.c:[];for(var d=0;d<c.length;d++){var e=c[d];if(ui(e,a)&&e.sb(b.v(),b.o()))return e}return null}
function fj(a,b){var c=fn(a);c&&c.c.push(b)}g.ba=function(){var a=Xc("div");this.S(a)};g.S=function(a){this.D=a;a.className="box-dicom-viewcontrol";var b=this.a;this.C.fd(b,a);this.j=new ao(this);a.appendChild(this.j.b);this.Vc=b.G("div","box-dicom-viewcontrol-loading");a.appendChild(this.Vc);this.Oe=new mo(this)};
g.P=function(){po.A.P.call(this);H(this.C,"dicomprogress",this.eg,!1,this);H(this.C,"dicomload",this.dg,!1,this);H(this.C,"dicomunload",this.fg,!1,this);H(this.m(),"mouseover",this.gh,!1,this);H(this.m(),"mouseout",this.fh,!1,this);H(this.j.b,["mousedown","touchstart"],this.$f,!1,this);H(this.j.b,["mouseup","touchend"],this.bg,!1,this);H(this.j.b,["mousemove","touchmove"],this.ag,!1,this);H(this.j.b,"dblclick",this.Zf,!1,this);var a=new Wj(this.j.b);H(a,"mousewheel",this.cg,!1,this);H(this.ea,"tick",
this.Lg,!1,this);je(this.ea)};g.gh=function(){this.ia||(this.ia=new Wn(this),R(this.ia,this.m()));this.ia.L(!0)};g.fh=function(){if(this.ia){var a=this.ia;Yn(a);a.c=new Ln(a.m(),200);a.c.qb()}};
g.$f=function(a){a.b();a.h();if("touchstart"===a.type){var b=a.g;if(b.touches&&2===b.touches.length){wo(this,a);return}xo(this,a);this.re=yo()}0===a.l&&(this.te=yo());2===a.l&&(this.Se=yo());zo(this.b,this);this.N[a.l]=!0;Ik(this.b.c,a);1===a.l&&("stack"===this.b.c.b.pa()?gj(this.b.c,"pan"):gj(this.b.c,"stack"));vo(this,a)&&(this.Xc=!0);(b=Ao(this,a))?(ek(this,b.ua()),b.Ia(a)):ek(this,null)};
g.bg=function(a){a.b();a.h();zo(this.b,this);this.N[a.l]=!1;Ik(this.b.c,a);this.Xc=!1;if("touchend"===a.type){var b=yo()-this.re,c=yo()-this.pe;if(300>c&&b<c){this.lc&&Bo(this.lc);return}this.pe=yo()}if(2===a.l&&(this.Re=yo(),250<yo()-this.te&&250>yo()-this.Se)){var b=a.clientX,c=a.clientY,d=0,e=this.Oe;if(a=vo(this,a))this.fb||(this.fb=new $m(this)),this.fb.b=a,e=this.fb;a=Gj(Hj,e.m());var f=Uc(qd(this.a)||window);b+a.width>=f.width&&(d|=4,b++);c+a.height>=f.height&&(d|=1,c++);Nm(e,new nm(b,c),d);
return}(b=Ao(this,a))?(ek(this,b.ua()),b.Aa(a)):ek(this,null)};function yo(){return(new Date).getTime()}g.ag=function(a){if(this.N[0]||this.N[2])a.b(),a.h();if("touchmove"===a.type){var b=a.g;if(b.touches&&2===b.touches.length){wo(this,a);return}xo(this,a)}(b=Ao(this,a))?(ek(this,b.ua()),b.Ja(a)):ek(this,null)};function Ao(a,b){return a.N[0]&&a.N[2]?C(a.b.c.a,"zoom")||null:a.N[2]?C(a.b.c.a,"windowLevel")||null:a.Xc||vo(a,b)?C(a.b.c.a,"select")||null:a.b.c.b}
g.Zf=function(){500>yo()-this.Re||this.N[2]||this.lc&&Bo(this.lc)};function wo(a,b){var c=b.g;if(c.touches&&2===c.touches.length)if("touchstart"===b.type)a.jd=Co(c),a.Ee=Do(c);else if("touchmove"===b.type){var d=Co(c),c=Do(c),e=c/a.Ee;Ck(a,e,e,void 0,void 0);ak(a,d.v()-a.jd.v(),d.o()-a.jd.o());a.jd=d;a.Ee=c}}function Co(a){return new bg((a.touches[0].clientX+a.touches[1].clientX)/2,(a.touches[0].clientY+a.touches[1].clientY)/2)}
function xo(a,b){var c=b.g;c.touches&&1===c.touches.length&&(b.clientX=c.touches[0].clientX,b.clientY=c.touches[0].clientY);c=Ej(a.j.b);b.c=b.clientX-c.x;b.a=b.clientY-c.y}function Do(a){var b=a.touches[0].clientX-a.touches[1].clientX;a=a.touches[0].clientY-a.touches[1].clientY;return Math.sqrt(b*b+a*a)}g.cg=function(a){a.b();a.h();var b=C(this.b.c.a,"stack")||null,c=b.a.a;c&&(wk(c,c.R+Math.floor(a.H/3)),xk(c),yk(b.a,c))};
function ek(a,b){b||(b="pointer");a.j.b.className="box-dicom-viewer-cursor-"+b}g.clear=function(){this.w=null;this.B=this.R=0;this.F=this.c=this.h=null;xk(this)};function Eo(a,b,c){c||a.clear();a.w=b;ro(a);(b=Y(a))&&Kg(b)?xk(a):qo(a,!0);to(a);zo(a.b,a)}g.Ka=function(a,b){!this.Y||isNaN(a)||isNaN(b)||0>a||0>b||(Fj(this.m(),a,b),this.C&&this.C.Ka(a,b),this.j&&this.j.Ka(a,b),Fo(this),this.ne&&xk(this))};g.jc=function(a){this.ne=a;this.j&&this.j.L(a)};
function xk(a){if(a.Y){var b=Y(a);b&&Kg(b)&&qo(a,!1);if(b=Y(a)){if(!a.h){var c;b.N?c=new w(127,255):b.g&&eh(b.g)?(c=b.g,c=eh(c)?c.a[0].clone():null):c=Yg(b);a.h=c}c=a.c;c||(Fo(a),c=a.c);a.C.gd(b,xi(a),a.h,c)}Go(a.b)}}g.$d=function(){this.h=null;xk(this)};g.be=function(){var a=Y(this);a&&(a=Yg(a))&&(ta(this.h,a),xk(this))};
function Fo(a){var b=Y(a);if(b&&Fg(b)){var c=Uf(Fg(b)),d=Vf(Fg(b)),e=a.m().offsetWidth,f=a.m().offsetHeight,b=Math.min((e-0)/c,(f-0)/d),c=e/2-b*c/2,d=f/2-b*d/2;a.c=new gg(3,3,!0);M(a.c,0,0,b);M(a.c,1,1,b);M(a.c,0,2,c);M(a.c,1,2,d);a.F=rg(a.c)}}g.oi=function(){if(this.c){var a=1/(this.c?Math.abs(L(this.c,0,0)):0);Ck(this,a,a,void 0,void 0)}xk(this)};g.pi=function(){Fo(this);xk(this)};
function Ck(a,b,c,d,e){if(a.c){var f=.5*a.m().offsetWidth,h=.5*a.m().offsetHeight;q(d)&&q(e)&&(f=d,h=e);a.c=qg(a.c,-f,-h);d=a.c;M(d,0,0,L(d,0,0)*b);M(d,0,1,L(d,0,1)*b);M(d,0,2,L(d,0,2)*b);M(d,1,0,L(d,1,0)*c);M(d,1,1,L(d,1,1)*c);M(d,1,2,L(d,1,2)*c);a.c=d;a.c=qg(a.c,f,h);a.F=rg(a.c);xk(a)}}
function hn(a,b){if(a.c){var c=.5*a.m().offsetWidth,d=.5*a.m().offsetHeight;a.c=qg(a.c,-c,-d);var e=a.c,f=Math.sin(b),h=Math.cos(b),k=L(e,0,0),l=L(e,1,0),p=L(e,0,1),m=L(e,1,1),r=L(e,0,2),t=L(e,1,2);M(e,0,0,h*k-f*l);M(e,0,1,h*p-f*m);M(e,1,0,f*k+h*l);M(e,1,1,f*p+h*m);M(e,0,2,h*r-f*t);M(e,1,2,f*r+h*t);a.c=e;a.c=qg(a.c,c,d);a.F=rg(a.c);xk(a)}}function ak(a,b,c){a.c&&(a.c=qg(a.c,b,c),a.F=rg(a.c),xk(a))}function Ho(a,b){a.j.j=b;P(a)}
function P(a){a=a.j;var b=a.b,c=a.Zc;b&&c&&(c.save(),c.scale(a.h,a.h),c.clearRect(0,0,a.g,a.c),bo(a,b,c),c.restore())}function O(a,b,c){if(!a.c||!a.F||!Y(a))return null;var d=new gg(3,1,!1);M(d,0,0,b);M(d,1,0,c);M(d,2,0,1);return sg(kg(a.F,d))}function Hi(a,b,c){if(!a.c||!a.F||!Y(a))return null;var d=new gg(3,1,!1);M(d,0,0,b);M(d,1,0,c);M(d,2,0,1);return sg(kg(a.c,d))}
function ik(a,b,c){var d=Y(a);if(!d)return null;if(a=O(a,b,c))if(a){if(!d.R&&(b=Gg(d))){var e=Zg(d);if(e){var f=ah(d);if(f){var h=bh(d);h&&(c=new gg(4,4,!0),M(c,0,3,L(e,0,0)),M(c,1,3,L(e,1,0)),M(c,2,3,L(e,2,0)),e=new gg(4,4,!0),M(e,0,0,L(f,0,0)),M(e,1,0,L(f,1,0)),M(e,2,0,L(f,2,0)),M(e,0,1,L(h,0,0)),M(e,1,1,L(h,1,0)),M(e,2,1,L(h,2,0)),f=og(f,h),M(e,0,2,L(f,0,0)),M(e,1,2,L(f,1,0)),M(e,2,2,L(f,2,0)),f=new gg(4,4,!0),M(f,0,0,b.b),M(f,1,1,b.a),d.R=kg(kg(c,e),f))}}}(d=d.R)?(b=new gg(4,1),M(b,0,0,a.v()),
M(b,1,0,a.o()),M(b,2,0,0),M(b,3,0,1),d=kg(d,b)):d=null}else d=null;else d=null;return d}
function Ti(a,b){var c=Y(a);if(!c)return null;if(b){if(!c.V){var d=Gg(c);if(d){var e=Zg(c);if(e){var f=ah(c);if(f){var h=bh(c);if(h){var k=new gg(4,4,!0);M(k,0,3,-L(e,0,0));M(k,1,3,-L(e,1,0));M(k,2,3,-L(e,2,0));e=new gg(4,4,!0);M(e,0,0,L(f,0,0));M(e,0,1,L(f,1,0));M(e,0,2,L(f,2,0));M(e,1,0,L(h,0,0));M(e,1,1,L(h,1,0));M(e,1,2,L(h,2,0));f=og(f,h);M(e,2,0,L(f,0,0));M(e,2,1,L(f,1,0));M(e,2,2,L(f,2,0));f=new gg(4,4,!0);M(f,0,0,1/d.b);M(f,1,1,1/d.a);c.V=kg(kg(f,e),k)}}}}}c=(c=c.V)?kg(c,b):null}else c=null;
return c?Hi(a,c.v(),c.o()):null}function co(a){var b=a.m(),c=b.offsetWidth-2,b=b.offsetHeight-2,d=Array(4);d[0]=ik(a,1,1);if(!d[0])return null;d[1]=ik(a,c,1);d[2]=ik(a,c,b);d[3]=ik(a,1,b);return d}function Io(a){var b=co(a);if(!b)return null;a=jg(b[1],b[0]);b=jg(b[3],b[0]);return ng(og(a,b))}function Jo(a,b){if(b){for(var c=-1,d=Number.MAX_VALUE,e=0;e<uo(a);e++){var f=Y(a,e);f&&(f=ch(f,b),null!==f&&f<d&&(c=e,d=f))}wk(a,c);xk(a)}}g.ni=function(){this.Wc=!this.Wc};
g.Lg=function(){if(this.Wc){var a=Y(this);if(!a||Kg(a))fo(this)>=this.B-1?wk(this,0):wk(this,this.R+1),xk(this),yk(this.g.b,this)}};function qo(a,b){a.Vc.style.display=b?"block":"none"}
g.ci=function(){console.log("Study UID:   "+zg(this.w.a));console.log("Series UID:  "+Ag(this.w));console.log("Object UID:  "+Bg(Y(this)));console.log("File ID:     "+Y(this).c.fileId);console.log("Reference:   "+vi(this));console.log("Number:      "+Dg(Y(this)));console.log("Image URL:   "+xg(Y(this)));console.log("DICOM URL:   "+vg(Y(this)))};
g.M=function(){this.j&&(ce(this.j.b),this.j=null);this.l&&(ce(this.l),this.l=null);this.ea&&(ce(this.ea),ke(this.ea),this.ea.W(),this.ea=null);var a=this.m();a&&bd(a);this.F=this.c=this.N=this.Zc=this.Mb=this.aa=this.mb=this.V=this.w=null;po.A.M.call(this)};function Ko(a){this.h=a;this.b=this.c=this.a=this.g=null;Lo(this)}function Lo(a){a.g=null;a.a=null;a.c=null;a.b=null}function eo(a,b){return b?vb(a.h.b.a,"studyLocalizerOverride")?a.g===zg(b.b.a):Hg(b,"00200052")?a.a===Cg(b,"00200052"):!1:!1};function Mo(a){oo.call(this,a.b,a);this.j=this.C=this.w=this.h=this.l=null;this.F=[];this.B=null;this.N=this.c=!1}v(Mo,oo);g=Mo.prototype;g.ba=function(){this.S(this.a.a.createElement("div"))};
g.S=function(a){this.D=a;a.id="box-dicom-mic-dialog";var b=this.a,c=b.a.createElement("div");c.id="box-dicom-mic-dialog-background";a.appendChild(c);c=b.a.createElement("div");c.id="box-dicom-mic-dialog-title";c.innerHTML="Microphone";a.appendChild(c);var d=b.a.createElement("div");d.id="box-dicom-mic-dialog-contents";a.appendChild(d);this.l=b.G("button",null,"Record");d.appendChild(this.l);this.h=b.G("button",null,"Play");d.appendChild(this.h);this.w=b.G("button",null,"Stop");d.appendChild(this.w);
this.C=b.G("button",null,"Upload");d.appendChild(this.C);this.j=b.G("button",null,"Negative");d.appendChild(this.j);this.F=[this.l,this.h,this.w,this.C,this.j];this.B=b.G("span",{id:"box-dicom-mic-clock"},"0:00");d.appendChild(this.B);b=Uc(qd(b)||window);new hl(a,c,new kb(0,0,b.width,b.height))};
g.P=function(){Mo.A.P.call(this);H(this.l,"click",this.oh,!1,this);H(this.h,"click",this.mh,!1,this);H(this.w,"click",this.uh,!1,this);H(this.C,"click",this.Ah,!1,this);H(this.j,"click",this.ih,!1,this);var a=this;Recorder.initialize({swfSrc:"/static/ext/recorder.js-swf/recorder.swf",initialized:function(){a.c=!0;a.N&&No(a)}})};g.oh=function(){No(this)};function No(a){if(a.c){var b=a.B;Oo(a);Recorder.record({start:function(){},progress:function(a){b.innerHTML=Po(a)}})}else a.N=!0}g.mh=function(){Qo(this)};
function Qo(a){if(a.c){var b=a.B;Oo(a);Recorder.play({progress:function(a){b.innerHTML=Po(a)}})}}g.uh=function(){Oo(this)};function Oo(a){if(a.c)try{Recorder.stop()}catch(b){}}g.Ah=function(){Ro(this)};
function Ro(a){if(a.c){Oo(a);var b=a.b.a;b?(b=b.w)?(W("Uploading...",void 0,6E5),So(a,!1),Recorder.upload({url:"/api/attachments/"+zg(b.a),audioParam:"attachments",params:{status:"Dictated"},success:function(){W("Recording saved successfully.");So(a,!0)}})):W("No active study (Hint: click on the study that you want)"):W("No active study (Hint: click on the study that you want)")}}
g.ih=function(){var a=this.b.a;if(a)if(a=a.w){So(this,!1);var b=this;Ue("/api/negative/"+zg(a.a),function(a){a=a.target;ff(a).ok?W("Negative saved successfully."):W("Error: "+ef(a));So(b,!0)},"POST")}else W("No active study (Hint: click on the study that you want)");else W("No active study (Hint: click on the study that you want)")};function So(a,b){for(var c=0;c<a.F.length;c++){var d=a.F[c];d.enabled=b;d.style.color=b?"#000":"#888"}}
function Po(a){var b=Math.floor(a/36E5),c=Math.floor(a/6E4%60);a=Math.floor(a/1E3%60);var d=[];0<b&&d.push(b);d.push(10>c&&0<b?"0"+c:c);d.push(10>a?"0"+a:a);return d.join(":")}g.L=function(a){Q(this.m(),a)};function To(){I.call(this);this.b=this.a=null}v(To,dl);g=To.prototype;g.hd=function(){return"Simple"};g.fd=function(a,b){this.a=a.a.createElement("div");this.a.style.position="absolute";this.a.style.top="0";this.a.style.left="0";b.appendChild(this.a)};g.Ka=function(){};g.L=function(a){this.a&&Q(this.a,a)};
g.Kd=function(a){if(!a.j){for(var b=Eg(a,"00280008")||1,c=Array(b),d=0;d<b;d++){var e=document.createElement("img");e.style.position="absolute";e.style.top="0px";e.style.left="0px";e.style.display="none";e.style.maxWidth="none";e.style.maxHeight="none";H(e,"load",this.Xf,!1,this);e.src=xg(a,d);this.a.appendChild(e);c[d]=e}a.j=c}};
g.gd=function(a,b,c,d){this.b&&(this.b.style.display="none",this.b=null);if((b=a.j?a.j[b||0]:null)&&b.complete){var e=c=0;Fg(a)?(c=Uf(Fg(a)),e=Vf(Fg(a))):(c=b.naturalWidth,e=b.naturalHeight);a=Uo(d,0,0);c=Uo(d,c,e);a&&c&&(d=c.v()-a.v(),c=c.o()-a.o(),b.style.left=Math.round(a.v())+"px",b.style.top=Math.round(a.o())+"px",b.style.width=Math.round(d)+"px",b.style.height=Math.round(c)+"px",b.style.display="block",this.b=b)}};
function Uo(a,b,c){if(!a)return null;var d=new gg(3,1,!1);M(d,0,0,b);M(d,1,0,c);M(d,2,0,1);return sg(kg(a,d))}g.Xf=function(){J(this,new Rf("dicomload"))};function Fk(a,b){S.call(this,b);this.g=C(a.c.a,"spine")||null;this.b=this.c=null}v(Fk,S);g=Fk.prototype;g.ba=function(){this.S(document.createElement("div"))};
g.S=function(a){this.D=a;a.className="box-dicom-spine-dialog";var b=document.createElement("div");b.className="box-dicom-spine-dialog-background";a.appendChild(b);b=document.createElement("div");b.className="box-dicom-spine-dialog-title";b.innerHTML="Spine";a.appendChild(b);var c=document.createElement("div");c.className="box-dicom-spine-dialog-contents";a.appendChild(c);c.appendChild(document.createTextNode("Next"));c.appendChild(document.createElement("BR"));this.c=document.createElement("select");
for(var d=this.g.ya(),e=0;e<d.length;e++)kn(this.c,e.toString(),d[e]);c.appendChild(this.c);c.appendChild(document.createElement("BR"));c.appendChild(document.createTextNode("Order"));c.appendChild(document.createElement("BR"));this.b=document.createElement("select");kn(this.b,(1).toString(),"Forward");kn(this.b,(-1).toString(),"Backward");c.appendChild(this.b);c=Uc(window);new hl(a,b,new kb(0,0,c.width,c.height))};
g.P=function(){Fk.A.P.call(this);H(this.c,"change",this.Jg,!1,this);H(this.b,"change",this.Ig,!1,this);H(this.g,"spine_action_event",this.sh,!1,this)};g.Jg=function(){var a=ln(this.c);a&&(this.g.a=parseInt(a,10))};g.Ig=function(){var a=ln(this.b);a&&(this.g.l=parseInt(a,10))};g.sh=function(){nn(this.c,this.g.a.toString())};g.L=function(a){Q(this.m(),a)};D&&xc(8);function Vo(){throw Error("Do not instantiate directly");}Vo.prototype.b=null;Vo.prototype.Gb=function(){return this.a};Vo.prototype.toString=function(){return this.a};function Wo(){Vo.call(this)}v(Wo,Vo);var Xo=function(a){function b(a){this.a=a}b.prototype=a.prototype;return function(a,d){var e=new b(String(a));void 0!==d&&(e.b=d);return e}}(Wo);(function(a){function b(a){this.a=a}b.prototype=a.prototype;return function(a,d){var e=String(a);if(!e)return"";e=new b(e);void 0!==d&&(e.b=d);return e}})(Wo);var Yo=D?'javascript:""':"about:blank";function Zo(a){I.call(this);this.D=a;a=D?"focusout":"blur";this.a=H(this.D,D?"focusin":"focus",this,!D);this.b=H(this.D,a,this,!D)}v(Zo,I);Zo.prototype.handleEvent=function(a){var b=new Ed(a.g);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";J(this,b)};Zo.prototype.M=function(){Zo.A.M.call(this);be(this.a);be(this.b);delete this.D};function $o(a,b){this.D=a;this.b=b};function ap(a,b){S.call(this,b);this.Mb=!!a;this.j=null}v(ap,S);g=ap.prototype;g.pd=null;g.Jb=!1;g.Na=null;g.wa=null;g.eb=null;g.ed=!1;g.U=function(){return"goog-modalpopup"};g.uc=function(){return this.Na};g.ba=function(){ap.A.ba.call(this);var a=this.m(),b=Da(this.U()).split(" ");Nk(a,b);jd(a,!0);Q(a,!1);bp(this);cp(this)};
function bp(a){if(a.Mb&&!a.wa){var b;b=a.a;var c;c=u(void 0)?Fc(void 0).b():"";b=b.G("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;"+c,src:Yo});a.wa=b;a.wa.className=a.U()+"-bg";Q(a.wa,!1);Jj(a.wa,0)}a.Na||(a.Na=a.a.G("DIV",a.U()+"-bg"),Q(a.Na,!1))}function cp(a){a.eb||(a.eb=a.a.a.createElement("SPAN"),Q(a.eb,!1),jd(a.eb,!0),a.eb.style.position="absolute")}g.gf=function(){this.ed=!1};g.cc=function(a){return!!a&&"DIV"==a.tagName};
g.S=function(a){ap.A.S.call(this,a);a=Da(this.U()).split(" ");Nk(this.m(),a);bp(this);cp(this);jd(this.m(),!0);Q(this.m(),!1)};g.P=function(){if(this.wa){var a=this.m();a.parentNode&&a.parentNode.insertBefore(this.wa,a)}a=this.m();a.parentNode&&a.parentNode.insertBefore(this.Na,a);ap.A.P.call(this);a=this.m();a.parentNode&&a.parentNode.insertBefore(this.eb,a.nextSibling);this.pd=new Zo(this.a.a);T(this).J(this.pd,"focusin",this.Sh);dp(this,!1)};
g.fa=function(){this.Jb&&this.L(!1);wd(this.pd);ap.A.fa.call(this);cd(this.wa);cd(this.Na);cd(this.eb)};
g.L=function(a){if(a!=this.Jb)if(this.w&&this.w.hb(),this.C&&this.C.hb(),this.l&&this.l.hb(),this.B&&this.B.hb(),this.Y&&dp(this,a),a){if(J(this,"beforeshow")){try{this.j=this.a.a.activeElement}catch(e){}this.Ld();var b=Wc(this.a.a)||window;if("fixed"==vj(this.m()))var c=a=0;else c=rd(this.a),a=c.x,c=c.y;var d=Gj(Hj,this.m()),b=Uc(b||window);a=Math.max(a+b.width/2-d.width/2,0);c=Math.max(c+b.height/2-d.height/2,0);wj(this.m(),a,c);wj(this.eb,a,c);T(this).J(qd(this.a),"resize",this.Ld);ep(this,!0);
this.se();this.Jb=!0;this.w&&this.C?($d(this.w,"end",this.Fc,!1,this),this.C.qb(),this.w.qb()):this.Fc()}}else if(J(this,"beforehide")){T(this).ca(qd(this.a),"resize",this.Ld);this.Jb=!1;this.l&&this.B?($d(this.l,"end",this.Ec,!1,this),this.B.qb(),this.l.qb()):this.Ec();a:{try{c=this.a;d=c.a.body;b=c.a.activeElement||d;if(!this.j||this.j==d){this.j=null;break a}(b==d||c.contains(this.m(),b))&&this.j.focus()}catch(e){}this.j=null}}};
function dp(a,b){a.ea||(a.ea=new $o(a.D,a.a));var c=a.ea;if(b){c.a||(c.a=[]);for(var d=c.b.we(c.b.a.body),e=0;e<d.length;e++){var f=d[e];f==c.D||vl(f,"hidden")||(U(f,"hidden",!0),c.a.push(f))}}else if(c.a){for(e=0;e<c.a.length;e++)c.a[e].removeAttribute("aria-hidden");c.a=null}}function ep(a,b){a.wa&&Q(a.wa,b);a.Na&&Q(a.Na,b);Q(a.m(),b);Q(a.eb,b)}g.Fc=function(){J(this,"show")};g.Ec=function(){ep(this,!1);J(this,"hide")};
g.Ld=function(){this.wa&&Q(this.wa,!1);this.Na&&Q(this.Na,!1);var a=this.a.a,b=Uc(Wc(a)||window||window),c=Math.max(b.width,Math.max(a.body.scrollWidth,a.documentElement.scrollWidth)),a=Math.max(b.height,Math.max(a.body.scrollHeight,a.documentElement.scrollHeight));this.wa&&(Q(this.wa,!0),Fj(this.wa,c,a));this.Na&&(Q(this.Na,!0),Fj(this.Na,c,a))};g.Sh=function(a){this.ed?this.gf():a.target==this.eb&&le(this.se,0,this)};g.se=function(){try{D&&this.a.a.body.focus(),this.m().focus()}catch(a){}};
g.M=function(){wd(this.w);this.w=null;wd(this.l);this.l=null;wd(this.C);this.C=null;wd(this.B);this.B=null;ap.A.M.call(this)};function fp(a,b,c){ap.call(this,b,c);this.g=a||"modal-dialog";this.b=gp(gp(new hp,ip,!0),jp,!1,!0)}v(fp,ap);g=fp.prototype;g.Ve=!0;g.mc=.5;g.Ud="";g.Ab=null;g.Ma=null;g.Ca=null;g.Sc=null;g.La=null;g.Fb=null;g.ta=null;g.U=function(){return this.g};function kp(a,b){a.Ud=b;a.Ca&&gd(a.Ca,b)}g.Gb=function(){return""};g.Ba=function(){this.m()||R(this,void 0);return this.Fb};function lp(a){a.m()||R(a,void 0);return a.m()}g.uc=function(){this.m()||R(this,void 0);return fp.A.uc.call(this)};
function mp(a,b){a.mc=b;if(a.m()){var c=a.uc();c&&Jj(c,a.mc)}}function np(a,b){var c=Da(a.g+"-title-draggable").split(" ");a.m()&&(b?Nk(a.Ma,c):Pk(a.Ma,c));b&&!a.Ab?(a.Ab=new hl(a.m(),a.Ma),Nk(a.Ma,c),H(a.Ab,"start",a.gi,!1,a)):!b&&a.Ab&&(a.Ab.W(),a.Ab=null)}
g.ba=function(){fp.A.ba.call(this);var a=this.m(),b=this.a;this.Ma=b.G("DIV",this.g+"-title",this.Ca=b.G("SPAN",{className:this.g+"-title-text",id:this.Pa()},this.Ud),this.La=b.G("SPAN",this.g+"-title-close"));ad(a,this.Ma,this.Fb=b.G("DIV",this.g+"-content"),this.ta=b.G("DIV",this.g+"-buttons"));ul(this.Ca,"heading");ul(this.La,"button");jd(this.La,!0);U(this.La,"label",op);this.Sc=this.Ca.id;ul(a,"dialog");U(a,"labelledby",this.Sc||"");Q(this.La,!0);this.b&&(a=this.b,a.D=this.ta,pp(a));Q(this.ta,
!!this.b);mp(this,this.mc)};
g.S=function(a){fp.A.S.call(this,a);a=this.m();var b=this.g+"-content";this.Fb=Rc(document,null,b,a)[0];this.Fb||(this.Fb=this.a.G("DIV",b),a.appendChild(this.Fb));var b=this.g+"-title",c=this.g+"-title-text",d=this.g+"-title-close";(this.Ma=Rc(document,null,b,a)[0])?(this.Ca=Rc(document,null,c,this.Ma)[0],this.La=Rc(document,null,d,this.Ma)[0]):(this.Ma=this.a.G("DIV",b),a.insertBefore(this.Ma,this.Fb));this.Ca?(this.Ud=md(this.Ca),this.Ca.id||(this.Ca.id=this.Pa())):(this.Ca=Xc("SPAN",{className:c,
id:this.Pa()}),this.Ma.appendChild(this.Ca));this.Sc=this.Ca.id;U(a,"labelledby",this.Sc||"");this.La||(this.La=this.a.G("SPAN",d),this.Ma.appendChild(this.La));Q(this.La,!0);b=this.g+"-buttons";if(this.ta=Rc(document,null,b,a)[0]){if(a=this.b=new hp(this.a),(b=this.ta)&&1==b.nodeType){a.D=b;for(var b=a.D.getElementsByTagName("BUTTON"),c=0,e,f;d=b[c];c++)if(e=d.name||d.id,f=md(d)||d.value,e){var h=0==c;a.Sa(e,f,h,d.name==qp);h&&Mk(d,"goog-buttonset-default")}}}else this.ta=this.a.G("DIV",b),a.appendChild(this.ta),
this.b&&(a=this.b,a.D=this.ta,pp(a)),Q(this.ta,!!this.b);mp(this,this.mc)};g.P=function(){fp.A.P.call(this);T(this).J(this.m(),"keydown",this.$e).J(this.m(),"keypress",this.$e);T(this).J(this.ta,"click",this.Qh);np(this,!0);T(this).J(this.La,"click",this.ai);var a=this.m();ul(a,"dialog");""!==this.Ca.id&&U(a,"labelledby",this.Ca.id);if(!this.Ve){this.Ve=!1;if(this.Y){var a=this.a,b=this.uc();a.xe(this.wa);a.xe(b)}this.Jb&&dp(this,!1)}};g.fa=function(){this.Jb&&this.L(!1);np(this,!1);fp.A.fa.call(this)};
g.L=function(a){a!=this.Jb&&(this.Y||R(this,void 0),fp.A.L.call(this,a))};g.Fc=function(){fp.A.Fc.call(this);J(this,rp)};g.Ec=function(){fp.A.Ec.call(this);J(this,sp)};
g.gi=function(){var a=this.a.a,b=Uc(Wc(a)||window||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=Gj(Hj,this.m());"fixed"==vj(this.m())?this.Ab.l=new kb(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height))||new kb(NaN,NaN,NaN,NaN):this.Ab.l=new kb(0,0,c-d.width,a-d.height)||new kb(NaN,NaN,NaN,NaN)};g.ai=function(){tp(this)};function tp(a){var b=a.b,c=b&&b.kd;c?J(a,new up(c,re(b,c)))&&a.L(!1):a.L(!1)}g.M=function(){this.ta=this.La=null;fp.A.M.call(this)};
function vp(a){var b=gp(new hp,ip,!0,!0);a.b=b;a.ta&&(a.b?(b=a.b,b.D=a.ta,pp(b)):a.ta.innerHTML=Kc(Mc),Q(a.ta,!!a.b))}g.Qh=function(a){a:{for(a=a.target;null!=a&&a!=this.ta;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=null}a&&!a.disabled&&(a=a.name,J(this,new up(a,re(this.b,a)))&&this.L(!1))};
g.$e=function(a){var b=!1,c=!1,d=this.b,e=a.target;if("keydown"==a.type)if(27==a.keyCode){var f=d&&d.kd,e="SELECT"==e.tagName&&!e.disabled;f&&!e?(c=!0,b=J(this,new up(f,re(d,f)))):e||(b=!0)}else{if(9==a.keyCode&&a.shiftKey&&e==this.m()){this.ed=!0;try{this.eb.focus()}catch(m){}le(this.gf,0,this)}}else if(13==a.keyCode){if("BUTTON"==e.tagName&&!e.disabled)f=e.name;else if(e==this.La)tp(this);else if(d){var h=d.nd,k;if(k=h)a:{k=d.D.getElementsByTagName("BUTTON");for(var l=0,p;p=k[l];l++)if(p.name==
h||p.id==h){k=p;break a}k=null}e=("TEXTAREA"==e.tagName||"SELECT"==e.tagName||"A"==e.tagName)&&!e.disabled;!k||k.disabled||e||(f=h)}f&&d&&(c=!0,b=J(this,new up(f,String(re(d,f)))))}else e==this.La&&32==a.keyCode&&tp(this);if(b||c)a.h(),a.b();b&&this.L(!1)};function up(a,b){this.type=wp;this.key=a;this.caption=b}v(up,Bd);var wp="dialogselect",sp="afterhide",rp="aftershow";function hp(a){a||Nc();oe.call(this)}v(hp,oe);g=hp.prototype;g.nd=null;g.D=null;g.kd=null;
g.Sa=function(a,b,c,d){oe.prototype.Sa.call(this,a,b);c&&(this.nd=a);d&&(this.kd=a);return this};function gp(a,b,c,d){return a.Sa(b.key,b.caption,c,d)}function pp(a){if(a.D){a.D.innerHTML=Kc(Mc);var b=Nc(a.D);a.forEach(function(a,d){var e=b.G("BUTTON",{name:d},a);d==this.nd&&(e.className="goog-buttonset-default");this.D.appendChild(e)},a)}}g.m=function(){return this.D};
var qp="cancel",op="Sluiten",ip={key:"ok",caption:"OK"},jp={key:qp,caption:"Annuleren"},xp={key:"yes",caption:"Ja"},yp={key:"no",caption:"Nee"},zp={key:"save",caption:"Opslaan"},Ap={key:"continue",caption:"Doorgaan"};"undefined"!=typeof document&&(gp(new hp,ip,!0,!0),gp(gp(new hp,ip,!0),jp,!1,!0),gp(gp(new hp,xp,!0),yp,!1,!0),gp(gp(gp(new hp,xp),yp,!0),jp,!1,!0),gp(gp(gp(new hp,Ap),zp),jp,!0,!0));function Bp(){}v(Bp,xl);da(Bp);g=Bp.prototype;g.U=function(){return"goog-tab"};g.Pb=function(){return"tab"};g.Qa=function(a){var b=Bp.A.Qa.call(this,a);(a=a.pb())&&this.Ya(b,a);return b};g.ra=function(a,b){b=Bp.A.ra.call(this,a,b);var c=this.pb(b);c&&a.Rc(c);Hl(a,8)&&(c=a.za())&&ia(c.Wb)&&(Sl(a,8,!1),c.Wb(a));return b};g.pb=function(a){return a.title||""};g.Ya=function(a,b){a&&(a.title=b||"")};function Cp(a,b,c){Ml.call(this,a,b||Bp.ga(),c);this.sa(8,!0);this.Lb|=9}v(Cp,Ml);Cp.prototype.pb=function(){return this.b};Cp.prototype.Ya=function(a){this.c.Ya(this.m(),a);this.Rc(a)};Cp.prototype.Rc=function(a){this.b=a};Jl("goog-tab",function(){return new Cp(null)});function Dp(){this.a="tablist"}v(Dp,om);da(Dp);Dp.prototype.U=function(){return"goog-tab-bar"};Dp.prototype.Pd=function(a,b,c){this.c||(this.b||Ep(this),this.c=fc(this.b));var d=this.c[b];d?(sm(a,d==Fp||d==Gp?um:tm),a.j=d):Dp.A.Pd.call(this,a,b,c)};Dp.prototype.vd=function(a){var b=Dp.A.vd.call(this,a);this.b||Ep(this);b.push(this.b[a.j]);return b};function Ep(a){var b=a.U();a.b=ic(Hp,b+"-top",Ip,b+"-bottom",Fp,b+"-start",Gp,b+"-end")};function Jp(a,b,c){a=a||Hp;sm(this,a==Fp||a==Gp?um:tm);this.j=a;vm.call(this,this.yb,b||Dp.ga(),c);Kp(this)}v(Jp,vm);var Hp="top",Ip="bottom",Fp="start",Gp="end";g=Jp.prototype;g.cb=null;g.P=function(){Jp.A.P.call(this);Kp(this)};g.M=function(){Jp.A.M.call(this);this.cb=null};g.removeChild=function(a,b){Lp(this,a);return Jp.A.removeChild.call(this,a,b)};g.Nd=function(a){Jp.A.Nd.call(this,a);this.Wb($k(this,a))};g.Wb=function(a){a?a.Qc(!0):this.cb&&this.cb.Qc(!1)};
function Lp(a,b){if(b&&b==a.cb){for(var c=bl(a,b),d=c-1;b=$k(a,d);d--)if(b.va&&b.isEnabled()){a.Wb(b);return}for(c+=1;b=$k(a,c);c++)if(b.va&&b.isEnabled()){a.Wb(b);return}a.Wb(null)}}g.xh=function(a){this.cb&&this.cb!=a.target&&this.cb.Qc(!1);this.cb=a.target};g.zh=function(a){a.target==this.cb&&(this.cb=null)};g.vh=function(a){Lp(this,a.target)};g.wh=function(a){Lp(this,a.target)};g.dc=function(){zm(this)||this.Xa(bl(this,this.cb||$k(this,0)))};
function Kp(a){T(a).J(a,"select",a.xh).J(a,"unselect",a.zh).J(a,"disable",a.vh).J(a,"hide",a.wh)}Jl("goog-tab-bar",function(){return new Jp});function Mp(a,b,c){fp.call(this,void 0,!1,c);this.h=a;this.c=b;lp(this).style.width="470px";kp(this,"Share");vp(this);a=this.Ba();a.innerHTML=Xo('<div style="margin:10px; padding:10px; text-align:left;"><p style="margin:0;padding:5px;color:#666;font-weight:bold;">Link:</p><input type="text" style="margin:5px 0; padding:5px; width:400px;"><select style="margin:5px 0; padding: 5px; width:400px;"><option value="0">People with this link</option><option value="1">People in your company</option><option value="2">People in this folder</option></select></div>').toString();
a.style.padding="0";a.style.height="100px";H(this.Ba().querySelector("input"),"focus",this.R,!1,this);H(this.Ba().querySelector("select"),"change",this.N,!1,this)}v(Mp,fp);function Np(a,b){W(b,a.a);a.L(!1)}
Mp.prototype.F=function(a){a=a.target;var b=hf(a);if(b)Np(this,"Error: "+b);else if(a=ff(a),"error"===a.error)Np(this,"Error: "+a.errormessage);else{if(a)if(b=a.shared_link)var c=b.lastIndexOf("/"),b=0>c?null:b.substring(c+1);else b=null;else b=null;if(b){if(c=Ff(window.location),Bf(c,"sharedName",b),b=c.toString(),this.Ba().querySelector("input").value=b,a=a.shared_access_status)a=a.toString(),b=this.Ba().querySelector("select"),nn(b,a)}else Np(this,"Invalid share token")}};Mp.prototype.R=function(a){a.j.select()};
Mp.prototype.N=function(){var a=Wh(this.c)||Vh(this.c);if(a){var b=this.Ba().querySelector("select");(b=ln(b))&&(Wh(this.c)?this.h.h.of(a,b):this.h.h.nf(a,b))}};function Op(a){for(var b=["webgl","experimental-webgl"],c=null,d=0;d<b.length;++d){try{c=a.getContext(b[d])}catch(e){}if(c)break}return c}function Pp(a,b,c){var d=alert;c=a.createShader(c);a.shaderSource(c,b);a.compileShader(c);return a.getShaderParameter(c,a.COMPILE_STATUS)?c:(d("*** Error compiling shader "+c+": "+a.getShaderInfoLog(c)),a.deleteShader(c),null)};function Qp(){I.call(this);this.a=null;this.C=512;this.l=1;this.b=this.K=null;this.j=0;this.O={};this.g=this.H=this.h=this.w=this.N=this.V=this.B=this.F=this.R=this.ka=null}v(Qp,dl);g=Qp.prototype;g.hd=function(){return"WebGL"};
g.fd=function(a,b){this.a=fl(a,!0);b.appendChild(this.a);var c;c=this.a;window.WebGLRenderingContext?(c=Op(c))||alert("Unknown error initializing WebGL."):(alert("This page requires a browser that supports WebGL."),c=null);if(c){this.K=c;var d=Pp(c,"attribute vec2 a_position;attribute vec2 a_texCoord;uniform mat3 u_matrix;varying vec2 v_texCoord;void main() {gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);v_texCoord = a_texCoord;}",c.VERTEX_SHADER),e=Pp(c,"precision mediump float;uniform sampler2D u_image;uniform float u_windowLevel[2];uniform float u_rescale[2];uniform vec4 u_redTransform;uniform vec4 u_blueTransform;uniform vec4 u_greenTransform;varying vec2 v_texCoord;void main() {vec4 tmp_raw = texture2D(u_image, v_texCoord).rgba;float tmp_r = dot(tmp_raw, u_redTransform);float tmp_g = dot(tmp_raw, u_greenTransform);float tmp_b = dot(tmp_raw, u_blueTransform);float tmp_center = u_windowLevel[0];float tmp_width = u_windowLevel[1];float out_r = (((tmp_r * u_rescale[0] + u_rescale[1]) - tmp_center) / tmp_width) + 0.5;float out_g = (((tmp_g * u_rescale[0] + u_rescale[1]) - tmp_center) / tmp_width) + 0.5;float out_b = (((tmp_b * u_rescale[0] + u_rescale[1]) - tmp_center) / tmp_width) + 0.5;vec4 tmp_output = vec4(out_r, out_g, out_b, 1.0);gl_FragColor.rgba = tmp_output;}",
c.FRAGMENT_SHADER),f;f=c;for(var d=[d,e],e=f.createProgram(),h=0;h<d.length;++h)f.attachShader(e,d[h]);f.linkProgram(e);f.getProgramParameter(e,f.LINK_STATUS)?f=e:(alert("Error in program linking:"+f.getProgramInfoLog(e)),f.deleteProgram(e),f=null);this.b=f;c.useProgram(this.b);this.j=c.getAttribLocation(this.b,"a_position");c.enableVertexAttribArray(this.j);f=c.getAttribLocation(this.b,"a_texCoord");d=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,d);c.bufferData(c.ARRAY_BUFFER,Rp(1,1),c.STATIC_DRAW);
c.enableVertexAttribArray(f);c.vertexAttribPointer(f,2,c.FLOAT,!1,0,0);this.ka=c.getUniformLocation(this.b,"u_windowLevel[0]");this.R=c.getUniformLocation(this.b,"u_redTransform");this.F=c.getUniformLocation(this.b,"u_greenTransform");this.B=c.getUniformLocation(this.b,"u_blueTransform");this.V=c.getUniformLocation(this.b,"u_rescale[0]");this.N=c.getUniformLocation(this.b,"u_matrix");this.h=Rp(1E3,1E3);this.w=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.w);c.vertexAttribPointer(this.j,2,c.FLOAT,
!1,0,0);c.bufferData(c.ARRAY_BUFFER,this.h,c.DYNAMIC_DRAW);this.H=c.createBuffer();this.g=Rp(1E3,1E3);c.bindBuffer(c.ARRAY_BUFFER,this.H);c.vertexAttribPointer(this.j,2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,this.g,c.DYNAMIC_DRAW);this.l=gl(c)}};g.Ka=function(a,b){this.C=a;this.c=b;this.a&&(this.a.width=this.l*a,this.a.height=this.l*b,this.a.style.width=a+"px",this.a.style.height=b+"px")};g.L=function(a){this.a&&Q(this.a,a)};
g.Kd=function(a,b){Kg(a)?Sp(this,a):(H(a,"dicomprogress",this.og,!1,this),H(a,"dicomload",this.ng,!1,this),H(a,"dicomunload",this.pg,!1,this),Lg(a,mi(),b))};g.og=function(a){J(this,a)};g.ng=function(a){Sp(this,Sf(a).H);J(this,a)};g.pg=function(a){J(this,a)};
function Sp(a,b){var c=b.a,d=Bg(b);if(!ac(a.O,d)){var e=Uf(Fg(b)),f=Vf(Fg(b)),h=new ArrayBuffer(4*e*f),k=c.da,l=Qg(c),h=new Uint8Array(h),p=0,m=0;if(l)for(var c=l.c,r=l.b,l=l.a,t=0;t<f;t++)for(var x=0;x<e;x++){var y=k[p++];h[m++]=c[y];h[m++]=r[y];h[m++]=l[y];h[m++]=255}else if(Rg(c))for(t=0;t<f;t++)for(x=0;x<e;x++)h[m++]=k[p++],h[m++]=k[p++],h[m++]=k[p++],h[m++]=255;else for(t=0;t<f;t++)for(x=0;x<e;x++)y=k[p++],h[m++]=y/256,h[m++]=y%256,h[m++]=0,h[m++]=255;if(k=a.K)p=k.createTexture(),k.bindTexture(k.TEXTURE_2D,
p),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),k.texImage2D(k.TEXTURE_2D,0,k.RGBA,e,f,0,k.RGBA,k.UNSIGNED_BYTE,h),a.O[d]=p}}
g.gd=function(a,b,c,d){if(b=this.a){var e=this.K;if(e&&this.g){var f=a.a;if(f){var h=[1,1];c&&(a.F===c.a?(h[0]=c.b,h[1]=c.g):(h[0]=c.b,h[1]=-c.g));var k=c=null,l=null;Rg(f)?(c=[255,0,0,0],k=[0,255,0,0],l=[0,0,255,0]):(c=[65280,255,0,0],k=[65280,255,0,0],l=[65280,255,0,0]);var p=Uf(Fg(a)),m=Vf(Fg(a)),f=[1,0];a.g&&(f[0]=a.g.h,f[1]=a.g.g);a=Bg(a)||"";if(a=C(this.O,a)){Tp(this.h,p,m);Tp(this.g,p,m);e.bindBuffer(e.ARRAY_BUFFER,this.w);e.bufferSubData(e.ARRAY_BUFFER,0,this.h);e.bindTexture(e.TEXTURE_2D,
a);e.bindBuffer(e.ARRAY_BUFFER,this.H);e.bufferSubData(e.ARRAY_BUFFER,0,this.g);a=new gg(3,3);M(a,0,0,2/this.C);M(a,1,1,-2/this.c);M(a,0,2,-1);M(a,1,2,1);M(a,2,2,1);d=kg(a,d);a=Array(d.c*d.b);for(m=p=0;m<d.b;m++)for(var r=0;r<d.c;r++)a[p++]=d.a[r][m];e.uniformMatrix3fv(this.N,!1,a);e.bindFramebuffer(e.FRAMEBUFFER,null);e.viewport(0,0,b.width,b.height);e.uniform1fv(this.ka,h);e.uniform4fv(this.R,c);e.uniform4fv(this.F,k);e.uniform4fv(this.B,l);e.uniform1fv(this.V,f);e.drawArrays(e.TRIANGLES,0,6)}}}}};
function Rp(a,b){var c=new Float32Array(12);Tp(c,a,b);return c}function Tp(a,b,c){b=0+b;c=0+c;a[0]=0;a[1]=0;a[2]=b;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=c;a[8]=b;a[9]=0;a[10]=b;a[11]=c};function Up(){I.call(this);this.h=[];this.ka=[];this.K=[];this.O=this.C=this.B=!1}v(Up,I);function Vp(a,b){a.B&&(H(b.a,"mousedown",b.j,!1,b),a.F&&Mk(b.a,a.F));a.C&&a.N&&Mk(b.a,a.N)}function Wp(a,b){a.B&&(ae(b.a,"mousedown",b.j,!1,b),a.F&&Ok(b.a,a.F));a.C&&a.N&&Ok(b.a,a.N);b.W()}g=Up.prototype;
g.ye=function(a){var b=a.c?null:this.j;if(b&&b.c){var c=a.clientX;a=a.clientY;var d=rd(Nc(this.l)),e=c+d.x,d=a+d.y,f;this.H&&(f=this.H(b.b,b.a,e,d));J(this,new Xp("drag",0,this.a,0,b.b,0,c,a));J(b.c,new Xp("drop",0,this.a,0,b.b,0,c,a,0,0,f))}J(this,new Xp("dragend",0,this.a,0,b?b.b:void 0));ae(this.c,"drag",this.Xe,!1,this);ae(this.c,"end",this.ye,!1,this);ae(Pc(this.a.b).body,"selectstart",this.kf);for(b=0;c=this.K[b];b++)ae(c.D,"scroll",this.fe,!1,this),c.a=[];this.c.W();cd(this.l);delete this.a;
delete this.l;delete this.c;delete this.w;delete this.j};
g.Xe=function(a){var b,c=rd(Nc(this.l));b=new A(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.j;J(this,new Xp("drag",0,this.a,0,e?e.b:void 0,0,a.clientX,a.clientY));var f;if(e){this.H&&e.c&&(f=this.H(e.b,e.a,c,d));if(e.a.contains(b)&&f==this.R)return;e.c&&(J(this,new Xp("dragout",0,this.a,0,e.b)),J(e.c,new Xp("dragout",0,this.a,0,e.b,0,void 0,void 0,0,0,this.R)));this.R=f;this.j=null}if(this.g.contains(b)){a:{for(var h=0;e=this.w[h];h++)if(e.a.contains(b))if(e.g){if(e.g.b.contains(b)){b=e;break a}}else{b=
e;break a}b=null}if((e=this.j=b)&&e.c)this.H&&(f=this.H(e.b,e.a,c,d)),c=new Xp("dragover",0,this.a,0,e.b),c.l=f,J(this,c),J(e.c,new Xp("dragover",0,this.a,0,e.b,0,a.clientX,a.clientY,0,0,f));else if(!e){this.b||(this.b=new Yp(this.g.clone()));a=this.b.a;a.top=this.g.top;a.right=this.g.right;a.bottom=this.g.bottom;a.left=this.g.left;for(f=0;e=this.w[f];f++)b=e.a,e.g&&(e=e.g.b,b=new hb(Math.max(b.top,e.top),Math.min(b.right,e.right),Math.min(b.bottom,e.bottom),Math.max(b.left,e.left))),e=null,c>=b.right?
e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===e||null===h||(Math.abs(e-c)>Math.abs(h-d)?h=null:e=null),null!==e?e<=c?a.left=e:a.right=e:null!==h&&(h<=d?a.top=h:a.bottom=h);this.j=10<=(a.right-a.left)*(a.bottom-a.top)?this.b:null}}};g.kf=function(){return!1};
g.fe=function(a){for(var b=0,c;c=this.K[b];b++)if(a.target==c.D){var d=c.g-c.D.scrollTop,e=c.c-c.D.scrollLeft;c.g=c.D.scrollTop;c.c=c.D.scrollLeft;this.b&&this.j==this.b&&(0<d?this.b.a.top+=d:this.b.a.bottom+=d,0<e?this.b.a.left+=e:this.b.a.right+=e);for(var f=0,h;h=c.a[f];f++)h=h.a,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,Zp(this,h)}this.c.cf(a)};
function Zp(a,b){if(1==a.w.length)a.g=new hb(b.top,b.right,b.bottom,b.left);else{var c=a.g;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}g.M=function(){Up.A.M.call(this);for(var a,b=0;a=this.h[b];b++)Wp(this,a);this.h.length=0};function Xp(a,b,c,d,e,f,h,k,l,p,m){Bd.call(this,a);this.a=c;this.c=e;this.clientX=h;this.clientY=k;this.l=m}v(Xp,Bd);
function $p(a,b){I.call(this);this.a=Qc(document,a);this.data=b;this.g=null;this.c=new jf(this);vd(this,qa(wd,this.c));this.b=null;if(!this.a)throw Error("Invalid argument");}v($p,I);$p.prototype.j=function(a){if(Gd(a)){var b=a.target;b&&(this.c.J(b,"mousemove",this.l,!1).J(b,"mouseout",this.l,!1),this.c.J(Pc(b),"mouseup",this.w,!0),this.b=b,this.h=new A(a.clientX,a.clientY))}};
$p.prototype.l=function(a){var b=this.b,b="mouseout"==a.type&&a.target==b;if(5<Math.abs(a.clientX-this.h.x)+Math.abs(a.clientY-this.h.y)||b)if(lf(this.c),b=this.g,!b.a)if(b.a=this,0==J(b,new Xp("dragstart",0,b.a)))b.a=null;else{var c=this.b,d;a:{d=c.cloneNode(!0);for(var e=c.getElementsByTagName("TEXTAREA"),f=d.getElementsByTagName("TEXTAREA"),h=0;h<e.length;h++)f[h].value=e[h].value;switch(c.tagName){case "TR":d=Xc("TABLE",null,Xc("TBODY",null,d));break a;case "TD":case "TH":d=Xc("TABLE",null,Xc("TBODY",
null,Xc("TR",null,d)));break a;case "TEXTAREA":d.value=c.value}}b.V&&Mk(d,b.V);b.l=d;d=Pc(c);d.body.appendChild(b.l);e=b.l;f=Cj(c);c=Pj(c,"margin");f.x-=2*(c.left||0);f.y-=2*(c.top||0);e.style.position="absolute";e.style.left=f.x+"px";e.style.top=f.y+"px";c=new hl(e);b.c=c;b.c.O=b.aa;H(b.c,"drag",b.Xe,!1,b);H(b.c,"end",b.ye,!1,b);H(d.body,"selectstart",b.kf);b.w=[];for(d=0;c=b.ka[d];d++)for(var k,e=0;k=c.h[e];e++)for(var f=b,h=c,l=[k.a],p=0;p<l.length;p++){var m=l[p],r,t=m;r=Cj(t);t=Gj(Hj,t);r=new hb(r.y,
r.x+t.width,r.y+t.height,r.x);f.w.push(new Yp(r,h,k,m));Zp(f,r)}b.g||(b.g=new hb(0,0,0,0));for(d=0;c=b.K[d];d++)c.a=[],c.c=c.D.scrollLeft,c.g=c.D.scrollTop,e=Cj(c.D),f=Gj(Hj,c.D),c.b=new hb(e.y,e.x+f.width,e.y+f.height,e.x);for(d=0;f=b.w[d];d++)for(e=0;c=b.K[e];e++)fd(c.D,f.D)&&(c.a.push(f),f.g=c);b.j=null;for(d=0;c=b.K[d];d++)H(c.D,"scroll",b.fe,!1,b);b.c.td(a);a.b()}a.b()};$p.prototype.w=function(){lf(this.c);delete this.h;this.b=null};
function Yp(a,b,c,d){this.a=a;this.c=b;this.b=c;this.D=d||null;this.g=null};function aq(){Up.call(this)}v(aq,Up);aq.prototype.removeItem=function(a){a=Qc(document,a);for(var b,c=0;b=this.h[c];c++)if(b.a==a){this.h.splice(c,1);Wp(this,b);break}};var bq=lc()||B("iPod"),cq=B("iPad"),dq=B("Android")&&!((B("Chrome")||B("CriOS"))&&!kc()&&!B("Edge")||B("Firefox")||kc()||B("Silk"));function eq(a,b){b||(b={});var c=window,d;a instanceof Gc?a instanceof Gc&&a.constructor===Gc&&a.c===Hc?d=a.a:(Sa("expected object of type SafeUrl, got '"+a+"'"),d="type_error:SafeUrl"):d="undefined"!=typeof a.href?a.href:String(a);var e=b.target||a.target,f=[],h;for(h in b)switch(h){case "width":case "height":case "top":case "left":f.push(h+"="+b[h]);break;case "target":case "noreferrer":break;default:f.push(h+"="+(b[h]?1:0))}f=f.join(",");if((lc()||B("iPad")||B("iPod"))&&c.navigator&&c.navigator.standalone&&
e&&"_self"!=e)f=c.document.createElement("A"),f.setAttribute("href",d),f.setAttribute("target",e),b.noreferrer&&f.setAttribute("rel","noreferrer"),d=document.createEvent("MouseEvent"),d.initMouseEvent("click",!0,!0,c,1),f.dispatchEvent(d),c={};else if(b.noreferrer){if(c=c.open("",e,f))oc&&-1!=d.indexOf(";")&&(d="'"+d.replace(/'/g,"%27")+"'"),c.opener=null,d=Fa(d),d=Lc('<META HTTP-EQUIV="refresh" content="0; url='+d+'">'),c.document.write(Kc(d)),c.document.close()}else c=c.open(d,e,f);return c};function fq(a){this.b=new Gb;this.c=new Dk(this);this.h=a;this.g=[];this.a=null;this.C=[];this.l=new Ko(this);this.Da=this.O=!1;this.H=0;this.w=this.j=null;li=new ji(Vb(this.b,"maxCacheSize",400,50),!!vb(this.b.a,"webWorkerEnabled"),Vb(this.b,"webWorkerCount",8,1,20));this.Da=gq(this);this.O=!!window.FileReader;a=Ff(window.location,!0);if("true"===K(a,"simple")||"simple"===K(a,"viewmode"))console.log("Forcing simple mode."),this.j="simple";else if("true"===K(a,"binary")||"binary"===K(a,"viewmode"))console.log("Forcing binary mode."),
this.j="binary";else if("true"===K(a,"webgl")||"webgl"===K(a,"viewmode"))console.log("Using experimental webgl."),this.j="webgl";console.log("User Agent:  "+Wb);console.log("WebGL:       "+this.Da);console.log("FileReader:  "+this.O);console.log("Forced Mode: "+this.j);this.F="true"===K(Ff(window.location,!0),"prefetch");console.log("Prefetch: "+this.F)}
function zo(a,b){a.a=b;var c=b.w;if(c)for(var d=0;d<a.g.length;d++){var e=a.g[d];if(e.l)for(var e=e.l,f=c,h=0;h<e.c.length;h++){var k=e.c[h],l=f;zg(l.a)===zg(k.c)?Mk(k.m(),"active"):Ok(k.m(),"active");for(var p=0;p<k.h.length;p++){var m=k.h[p];m.m().style.borderColor=Ag(m.h)===Ag(l)?"#1e70bd":"#252525"}}}Go(a)}function ko(a){return a.a?fn(a.a):null}
function hq(a,b,c,d){var e=ai(b.a);e&&(e=e.toUpperCase());e="CR"===e||"DX"===e||"XR"===e||"MG"===e;c=c||null;d=d||null;var f=null;if("webgl"===a.j)f=new Qp;else if("simple"===a.j)f=new To;else if("binary"===a.j)f=new el;else{var h;a:if(!b||!b.Z||5<b.Z.length)h=!1;else{h=b.Z;for(var k=0;k<h.length;k++)if("OT"!==h[k].Modality){h=!1;break a}h=!0}if(h)f=new To;else if(e&&(ho()||iq()))f=new To;else{if(h=e)a.Da?(b=b.Z)&&0!==b.length?(b=b[0],h=b.Rows&&b.Columns?b.Rows<=a.H&&b.Columns<=a.H:!0):h=!1:h=!1;
h?f=new Qp:e?f=new To:a.O?f=new el:f=new To}}e=new po(a,c,d,f);a.C.push(e);return e}function Go(a){if(a.a){var b=a.l,c=a.a;if(c){var d=c.w;d?(d=d.a)?(b.g=zg(d),b.a=vi(c),b.a?b.c=co(c):Lo(b)):Lo(b):Lo(b)}else Lo(b);qj(a)}}function pj(a,b,c,d){var e=a.l;b?(e.a=vi(b),e.a?e.b=ik(b,c,d):Lo(e)):Lo(e);for(e=0;e<a.g.length;e++){var f=a.g[e].c;for(d=0;d<f.rows();d++)for(c=0;c<f.h.length+1;c++){var h=jq(f,c,d);h&&h!==b&&h instanceof po&&eo(a.l,Y(h))&&Jo(h,a.l.b)}}}
function yk(a,b){if(Lb(a.b))for(var c=ik(b,b.m().offsetWidth/2,b.m().offsetHeight/2),d=0;d<a.g.length;d++)for(var e=a.g[d].c,f=0;f<e.rows();f++)for(var h=0;h<e.h.length+1;h++){var k=jq(e,h,f);if(k&&k instanceof po){var l;var p=b;(l=k)&&l!==p&&l instanceof po&&vi(l)===vi(p)?(p=Io(p),l=Io(l),l=pg(p,l),l=.9<=Math.abs(l)):l=!1;l&&Jo(k,c)}}}g=fq.prototype;g.nc=function(){var a=this.b;Jb(a,!Hb(a));qj(this)};function kq(a){var b;if(b=!!a.g&&1<=a.g.length)a=a.g[0],b=ho()?a.g.h:!a.j.j;return b}
function lq(a,b){if(a.g)for(var c=0;c<a.g.length;c++)mq(a.g[c],b)}function nq(a,b){W(a+" now "+(b?"enabled":"disabled"))}function qj(a){for(var b=0;b<a.C.length;b++)P(a.C[b])}
function oq(a,b,c){c=q(c)?parseInt(c,10):0;var d=0<=c?"box-dicom-viewer-"+c:"box-dicom-viewer-stat";console.log('Opening window "'+d+'"');K(Ff(window.location,!0),"src")&&(b+="&src=true");if(dq)a=null;else{c={target:d,width:950,height:600,location:!1,menubar:!1,resizable:!0,scrollbars:!1,status:!1,toolbar:!1};if(a=C(Nb(a),d))c.left=Math.max(0,a.left),c.top=Math.max(0,a.top),c.width=a.width,c.height=a.height;a=c}(b=eq(b,a))&&b.focus();return b}
g.bi=function(){if(D)return alert("MultiMon is not available in Internet Explorer."),null;if(0===this.g.length)return null;var a;a:if(this.g&&0!==this.g.length){for(a=0;a<this.g.length;a++)if(!this.g[a]||this.g[a].h.closed)break a;a=this.g.length}else a=0;ub(this.b.a,"preferredViewerCount",a+1);return oq(this.b,this.g[0].h.location.href.toString(),a)};
function pq(a,b){var c=Box.config.boxNotesToken;if(c){var d=b&&b instanceof Sh?b:ko(a);if(d&&(d=Wh(d))){var e=new of("/document/boxnote/new");Bf(e,"folder_id",d);Bf(e,"file_name","Report.boxnote");Bf(e,"description","Radiology Report");Bf(e,"overwrite","0");Bf(e,"asct",c);Ue(e,function(a){a=ff(a.target);var b=null,b=a.params.success?a.params.new_item.id:a.db[a.params.conflict.unidb].id;(a=eq("/notes/"+b))&&a.focus()})}}}
g.Ih=function(){var a=this.g[0],b=a.c;qq(b,1,2);rq(sq(b,1,0),new cl("/docs/help/viewer?header=false",a.a))};g.cd=function(a){(a=q(a)?a:this.a)&&tq(this,a)};g.Kf=function(){for(var a=0,b=0;b<this.g.length;b++)for(var c=this.g[b].c,d=c.rows(),e=c.h.length+1,f=0;f<d;f++)for(var h=0;h<e;h++){var k=jq(c,h,f);k&&k instanceof po&&(uq(this,k,a),a+=500)}};function uq(a,b,c){window.setTimeout(function(){tq(a,b)},c)}
function tq(a,b){var c=Wh(fn(b));if(c){var d=so(b);if(d){var d=qn(d),e="KeyImage-"+(new Date).getTime()+".png";Ho(b,!0);a.h.Uc(c,e,d,a.$g,a);window.setTimeout(function(){Ho(b,!1)},200)}}}g.$g=function(a){"error"===a.type?W(hf(a.target)):(W("Key image uploaded."),console.log("key image event:"),console.log(a))};
function lo(a,b){var c=Vh(b);if(c)for(var d=cb(b.c),e=0;e<d.length;e++){var f=d[e],h=f.Pa();h||f.w?h&&f.w&&a.h.oe(c,h,function(){ab(b.c,f)}):a.h.ie(c,f.wb(),function(a){a=ff(a.target);f.K=a.id})}}function vq(a,b){var c=Vh(b);c&&a.h.ef(c,function(a){a=ff(a.target);for(var c=Array(a.length),f=0;f<a.length;f++){var h=Uh(a[f].location);h.K=a[f].id;c[f]=h}b.c=c||[]})}
function gq(a){a.H=0;if(!window.WebGLRenderingContext)return!1;var b=null;try{b=document.createElement("canvas")}catch(c){}if(!b)return!1;b=Op(b);if(!b)return!1;a.H=b.getParameter(b.MAX_TEXTURE_SIZE);return!0}function ho(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/Mobile/i)?!0:!1}
function iq(){return navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/Mobile/i)?!0:!1}g.Lf=function(){var a=this.b,b=!vb(a.a,"studyLocalizerOverride");ub(a.a,"studyLocalizerOverride",b);qj(this)};g.ce=function(){var a=ko(this);if(a){for(var b=a.c.length-1;0<=b;)if(a.c[b].w)b--;else{a.c[b].w=!0;break}qj(this)}};g.di=function(){var a=ko(this);if(a){for(var b=0;b<a.c.length;b++)a.c[b].w=!0;qj(this)}};
function wq(a){a.w||(a.w=Zi(Ub(a.b,"hangingProtocols",[])));return a.w}function xq(a,b){for(var c=wq(a),d=0;d<c.length;d++)if(c[d].Pa()===b)return c[d];return null}g.Zb=function(){var a=ko(this);if(!a)return null;var b=new Wi;b.c=ai(a);b.g=Xg(a,"00080080");b.b=Xg(a,"00180015");b.h=Xg(a,"00081030");for(var c=a=0;c<this.g.length;c++){var d=this.g[c];if(d.h&&!d.h.closed){var d=d.Zb(),e=a++;d.g=e;b.a.push(d)}}return b};
function yq(a,b,c){var d=null;q(c)?d=c:d=ko(a);if(d){W(b.j);c=d;if(c.a)for(var e=0;e<c.a.length;e++)c.a[e]&&(c.a[e].g=0);c=Math.min(a.g.length,b.a.length);for(e=0;e<c;e++){var f=a.g[e],h=d,k=b.a[e],l=f.b,p=k.c,m=k.b;f.c&&qq(f.c,p,m);for(var r=0,t=0;t<p;t++)for(var x=0;x<m;x++){var y=sq(f.c,x,t),E=k.a[r],ca=zq(h,E);if(E&&ca){var tb=hq(l,ca,f,y);rq(y,tb);y=tb;y.clear();var tb=E.b,ua=E.a;null!==tb&&null!==ua&&(y.h=new w(ua,tb),y.h.a=!!E.h);Eo(y,ca,!0);Fo(y);E.j&&Ck(y,-1,1);E.l&&Ck(y,1,-1);ca.g+=1}else rq(y,
null);r++}}}}g.li=function(){var a=ko(this);if(a){a=new Mp(this,a);a.L(!0);var b=Wh(a.c)||Vh(a.c);b?Wh(a.c)?a.h.h.le(b,null,a.F,a):a.h.h.je(b,null,a.F,a):Np(a,"No Box ID")}};g.vg=function(){var a=ko(this);a?(a=Wh(a))?window.top.location.href="/files/0/f/"+a:W("Study is not in a Box folder."):W("Please select a study first.")};var Aq=null;
function Bq(a){if(!Aq&&(Aq=Cq(),!Aq)){a=a||{};var b=Ff(window.location);(b=C(a,"accessToken")||K(b,"accessToken"))?(b=new mf(b),"baseUrl"in a&&(b.b=a.baseUrl),"baseDownloadUrl"in a&&(b.c=a.baseDownloadUrl),"baseUploadUrl"in a&&(b.g=a.baseUploadUrl),a=b):a=new Hf;Aq=new fq(a)}return Aq}sa("box.dicom.Application.getInstance",Bq);
function Cq(){try{var a=window.opener;if(!a)return console.log("Window does not have an opener"),null;if(!(a&&a.rio&&a.rio.Application&&a.rio.Application.getInstance))return console.log("Opener does not have an application"),null;var b=a.rio.Application.getInstance(!0);if(!b)return console.log("Opener does not have an application instance"),null;console.log("Connected to the opener!");return b}catch(c){return console.log("Error accessing the window opener:"),console.log(c),null}}
sa("box.dicom.Application.launchViewer",function(a,b){var c=oq(new Gb,a,b);c&&(c.opener=null)});sa("box.dicom.Application.decorateViewControl",function(a,b){a=Qc(document,a);var c=Bq(),d=Th(c.h,{study_uid:"foo",series:[{series_uid:"bar",objects:[{meta:{dicomUrl:b}}]}]}),c=hq(c,d.a[0]);Xk(c,a);Eo(c,d.a[0]);d=Gj(Hj,a);c.Ka(d.width,d.height);return c});sa("box.dicom.Application.getSelectedTool",function(){return Bq().c.b.pa()});
sa("box.dicom.Application.setSelectedTool",function(a){var b=Bq();gj(b.c,a)});sa("box.dicom.Application.toggleOverlays",function(){Bq().nc()});sa("box.dicom.Application.isWorklistVisible",function(){return kq(Bq())});sa("box.dicom.Application.setWorklistVisible",function(a){lq(Bq(),a)});sa("box.dicom.Application.toggleWorklist",function(){var a=Bq();lq(a,!kq(a))});function Dq(a,b,c){S.call(this,c);this.j=a;this.C=K(Ff(window.location),"box_file_id")||null;this.w=this.B=this.F=this.N=this.b=null;this.R=!1;this.l=this.g=0;this.c=[];this.h=[]}v(Dq,S);function Eq(a,b){a.R=b;var c=a.b;c&&Qk(c,"hovering",b)}g=Dq.prototype;
g.S=function(a){this.D=a;a.innerHTML=Xo('<h1>Box DICOM Import</h1><p>Imported DICOM images will be automatically sorted by study and available to view<br>in the Box DICOM Viewer or selected Box folder.</p><div class="drop-zone"><div class="drop-zone-icon"></div><div class="drop-zone-helper">Drag and drop images to import<br>or <a href="javascript:void(0)" class="file-link">choose files</a> or <a href="javascript:void(0)" class="directory-link">folders</a>.</div><input class="file-input hidden-button" type="file" multiple><input class="directory-input hidden-button" type="file" multiple webkitdirectory></div><div id="box-dicom-upload-unsupported" class="alert alert-block" style="display:none; padding:10px; color: #a94442; background-color: #f2dede; border-color: #a94442;"><h4>Warning!</h4><p>Your browser has limited support for the DICOM uploader. You will not be able to upload "directories". You can only upload "files".</p><p>For the best upload experience, we recommend <a href="https://www.google.com/intl/en/chrome/browser/">Google Chrome</a>.</p></div><div class="studies"><h1>Studies</h1><div class="studies-list"></div></div>').toString();Mk(a,
"main");this.b=a.querySelector(".drop-zone");this.N=this.b.querySelector(".file-link");this.F=this.b.querySelector(".directory-link");this.B=this.b.querySelector(".file-input");this.w=this.b.querySelector(".directory-input")};
g.P=function(){Dq.A.P.call(this);H(this.N,"click",this.Ug,!1,this);H(this.F,"click",this.Og,!1,this);H(this.B,"change",this.Vg,!1,this);H(this.w,"change",this.Pg,!1,this);H(this.b,"dragenter",this.Sg,!0,this);H(this.b,"dragleave",this.Tg,!0,this);H(this.b,"dragover",this.Ge,!1,this);H(this.b,"drop",this.He,!1,this);H(document.body,"dragover",this.Ge,!1,this);H(document.body,"drop",this.He,!1,this);var a=this;window.onbeforeunload=function(){var b;b=a.l<a.g?"Uploads still active!":void 0;return b}};
g.Ug=function(a){a.h();a.b();this.B.click()};g.Og=function(a){a.h();a.b();this.w.click()};g.Vg=function(a){a=a.target.files;for(var b=0;b<a.length;b++)Fq(this,a[b])};g.Pg=function(a){a=a.target.files;for(var b=0;b<a.length;b++)Fq(this,a[b])};g.Sg=function(a){this.R||(a.b(),Eq(this,!0))};g.Tg=function(a){var b=Ij(this.b),c=a.clientX,d=a.clientY;if(c>=b.left+b.width||c<=b.left||d>=b.top+b.height||d<=b.top)a.b(),Eq(this,!1)};g.Ge=function(a){a.b()};
g.He=function(a){a.h();a.b();var b=a.g.dataTransfer;a=b.items;var c=b.files;if(a&&a.length)for(b=0;b<a.length;b++)(c=a[b].webkitGetAsEntry())&&Gq(this,c);else if(c&&c.length)for(b=0;b<c.length;b++)Fq(this,c[b]);Eq(this,!1)};function Gq(a,b){if(b.isFile)b.file(function(b){Fq(a,b)});else if(b.isDirectory){var c=b.createReader();c.readEntries(function(b){Hq(a,c,b)})}}function Hq(a,b,c){if(null!==c&&0!==c.length){for(var d=0;d<c.length;d++)Gq(a,c[d]);b.readEntries(function(c){Hq(a,b,c)})}}
function Fq(a,b){if(b){var c=b.name;if(c&&".DS_Store"!==c){var d=new FileReader;d.onload=function(){a:{var b=d.result,c=new Uint8Array(b),h=new gh;try{hh(h,c,"7FE00010")}catch(m){break a}if(h.b("0020000D")){b:{for(var c=h.b("0020000D"),k=null,l=0;l<a.c.length;l++)if(k=a.c[l],zg(k)===c){c=k;break b}c=new Sh(a.j.h);c.g={};c.b={};k="0020000D 00080020 00081030 00080080 00080090 00100010 00100020 00100030 00080060 00080061 00180015 00181030".split(" ");for(l=0;l<k.length;l++)c.b[k[l]]=h.b(k[l]);k=c;a.c.push(k);
c=k}k=h.b("0020000E");if(!k)throw"No series UID!";b:{if(c.a)for(l=0;l<c.a.length;l++)if(Ag(c.a[l])===k){k=c.a[l];break b}k=null}if(!k){for(var k=new uh(c),l=["0020000E","00200011","0008103E"],p=0;p<l.length;p++)k.b[l[p]]=h.b(l[p]);c.a.push(k)}c=k;k=h.b("00080018");if(!k)throw"No SOP instance UID!";b:{if(c.Z)for(l=0;l<c.Z.length;l++)if(p=c.Z[l],Bg(p)===k){k=p;break b}k=null}k||(k=new tg(c),k.c.dicomUrl="",k.a=h,c.Z.push(k));k.ka=b;Iq(a);a.h.push(k);Jq(a)}}};d.readAsArrayBuffer(b)}}}
function Iq(a){var b=document.querySelector(".studies");if(b){var c=document.querySelector(".studies-list");if(c){for(var d=["<div>"],e=0;e<a.c.length;e++){var f=a.c[e],h=Bh(Zh(f));h||(h="[No Patient Name]");d.push('<div class="study">');d.push("<table>");d.push('<col width="393"><col width="170"><col width="223">');d.push('<tr><td colspan="3" class="patient-name">');d.push(Fa(h));d.push("</td></tr>");var k=Xh(f)+1,h="";if(0<k){var h=Yh(f)+(Vh(f)?1:0),l=h/k;d.push('<tr><td colspan="2" class="fat-row">');
d.push('<div class="progress-container">');d.push('<div class="progress-bar" style="width:'+(100*l).toFixed(4)+'%">');d.push("</div>");d.push("</div>");d.push('</td><td class="fat-row right">');h<k?h="Uploading "+h+" of "+k+" file(s).":(h="Finished uploading "+k+" file(s).",k=Vh(f),l=Wh(f),k&&l&&(d.push('<a href="/files/0/f/'+l+'" target="_blank" class="folder-button">Go to folder</a>'),d.push('<a href="'+("/dicom_viewer/"+k+"/study.boxdicom")+'" target="_blank" class="viewer-button">View study</a>')));
d.push("</td></tr>")}d.push('<tr><td class="study-description fat-row">');(k=Xg(f,"00081030"))&&d.push(Fa(k));(k=Xg(f,"00080060"))&&d.push(" / Modality: "+Fa(k));(f=Xg(f,"00180015"))&&d.push(" / Body Part: "+Fa(f));d.push('</td><td colspan="2" class="progress-description fat-row">');d.push(Fa(h));d.push("</td></tr></table></div>")}d.push('<div style="clear:both"></div>');d.push("</div>");c.innerHTML=d.join("");0<a.c.length&&(b.style.display="block")}}}
function Jq(a){if(a.h&&0!==a.h.length){var b=a.g-a.l;if(!(4<=b)){a.g++;var c=a.h.pop(),d=c.b,e=d.a,b=Wh(e),f=d.c.folderId;if(b&&"-1"!==b&&f&&"-1"!==f)b=Bg(c)+".dcm",a.j.h.Uc(f,b,c.ka,function(b){b=ff(b.target);"success"!==b.status?(console.log("Upload error!"),console.log(b)):(c.c.fileId=b.id.toString(),c.c.fileVersionId=b.version.toString(),c.aa=!0,Yh(e)===Xh(e)&&Kq(a,e),a.l++,Jq(a),Iq(a))}),b=a.g-a.l,4>b&&Jq(a);else if(a.h.push(c),a.g--,"-1"!==b&&"-1"!==f){var h=f=null;b?(f=b,h=Lq(d),d.c.folderId=
"-1"):(a.C?(f=a.C,h=Mq(e)):(f="0",h="DICOM/"+Mq(e)),e.g.folderId="-1");a.j.h.ke(f,h,function(b){b=ff(b.target);"success"!==b.status?(console.log("Error creating folder:"),console.log(b)):"DICOM"===b.parent_folder_name||b.parent_folder_id.toString()===a.C?e.g.folderId=b.subfolder_id.toString():d.c.folderId=b.subfolder_id.toString();Jq(a)})}}}}
function Kq(a,b){var c=Wh(b);if(c){var d={study:{meta:b.g,dicomMetadata:Yf(b.b,$f),series:wh(b.a)}},d=mb(d),d=Nq(d);a.j.h.Uc(c,"study.boxdicom",d,function(c){c=ff(c.target);"success"!==c.status?(console.log("Upload error!"),console.log(c)):(b.g.fileId=c.id.toString(),Iq(a))})}}function Nq(a){for(var b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c),e=0;e<b;e++)d[e]=a.charCodeAt(e);return c}
function Mq(a){var b=Xg(a,"00080020");return Oq(Xg(a,"00100020")+" - "+(b&&8===b.length?b.substr(0,4)+"-"+b.substr(4,2)+"-"+b.substr(6,2):"")+" - "+Xg(a,"00081030"))}function Lq(a){var b=Vg(a,"0008103E");a="000000000"+Wg(a,"00200011");a=a.substr(a.length-8);return Oq(a+" - "+b)}function Oq(a){return Da(a.replace(/[\<\>\:\/\\\|\?\^\*]/g,""))};function Pq(a,b){S.call(this,new Oc(b.document));this.b=a;this.h=b}v(Pq,S);Pq.prototype.mb=function(){var a=this.h.document.documentElement;a.requestFullScreen?a.requestFullScreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen&&a.webkitRequestFullScreen()};var Qq=!D;function Rq(a,b){return Qq&&a.dataset?b in a.dataset?a.dataset[b]:null:a.getAttribute("data-"+String(b).replace(/([A-Z])/g,"-$1").toLowerCase())};function Sq(a){fp.call(this);this.c=a;this.F=this.h=null;R(this,a.m());lp(this).style.width="800px";kp(this,"Hanging Protocol Manager");vp(this);a=this.Ba();a.innerHTML=Xo('<div class="box-dicom-hpd-container"><table class="box-dicom-hpd-table"><tbody><tr><td class="box-dicom-hpd-left" valign="top" align="center"><select class="box-dicom-hpd-select" size="27"><option>Default</option></select></td><td class="box-dicom-hpd-right" valign="top" align="center"><div class="box-dicom-hpd-form"><table><tr><td>Name</td><td>&nbsp;</td><td><input type="text" id="box-dicom-hpd-name"></td></tr><tr><td>Modality</td><td><input type="checkbox" id="box-dicom-hpd-modality-enabled"></td><td><input type="text" id="box-dicom-hpd-modality"></td></tr><tr><td>Body Part</td><td><input type="checkbox" id="box-dicom-hpd-body-part-enabled"></td><td><input type="text" id="box-dicom-hpd-body-part"></td></tr><tr><td>Study Description</td><td><input type="checkbox" id="box-dicom-hpd-study-description-enabled"></td><td><input type="text" id="box-dicom-hpd-study-description"></td></tr><tr><td>Institution</td><td><input type="checkbox" id="box-dicom-hpd-institution-name-enabled"></td><td><input type="text" id="box-dicom-hpd-institution-name"></td></tr><tr><td colspan="3"><div class="box-dicom-hpd-viewers"></div></td></tr><tr><td>Series Description</td><td><input type="checkbox" id="box-dicom-hpd-series-description-enabled"></td><td><input type="text" id="box-dicom-hpd-series-description"></td></tr><tr><td>Window Width</td><td><input type="checkbox" id="box-dicom-hpd-window-width-enabled"></td><td><input type="text" id="box-dicom-hpd-window-width"></td></tr><tr><td>Window Center</td><td><input type="checkbox" id="box-dicom-hpd-window-center-enabled"></td><td><input type="text" id="box-dicom-hpd-window-center"></td></tr><tr><td>Zoom</td><td><input type="checkbox" id="box-dicom-hpd-zoom-enabled"></td><td><input type="text" id="box-dicom-hpd-zoom"></td></tr><tr><td>Inverted</td><td><input type="checkbox" id="box-dicom-hpd-inverted-enabled"></td><td>&nbsp;</td></tr><tr><td>Horizontal Flip</td><td><input type="checkbox" id="box-dicom-hpd-horizontal-flip-enabled"></td><td>&nbsp;</td></tr><tr><td>Vertical Flip</td><td><input type="checkbox" id="box-dicom-hpd-vertical-flip-enabled"></td><td>&nbsp;</td></tr></table></div></td></tr><tr><td valign="top" align="center"><input class="box-dicom-hpd-button box-dicom-hpd-button-up" type="button" value="Up"><input class="box-dicom-hpd-button box-dicom-hpd-button-down" type="button" value="Down"><input class="box-dicom-hpd-button box-dicom-hpd-button-capture" type="button" value="Capture"></td><td valign="top" align="right" style="padding-right:20px;"><input class="box-dicom-hpd-button box-dicom-hpd-button-save" type="button" value="Save"><input class="box-dicom-hpd-button box-dicom-hpd-button-delete" type="button" value="Delete"></td></tr></tbody></table></div>').toString();
a.style.padding="0";a.style.height="600px";Tq(this);H(a.querySelector(".box-dicom-hpd-select"),"change",this.Pf,!1,this);H(a.querySelector(".box-dicom-hpd-select"),"dblclick",this.Rf,!1,this);H(a.querySelector(".box-dicom-hpd-button-capture"),"click",this.Hg,!1,this);H(a.querySelector(".box-dicom-hpd-viewers"),"click",this.Bh,!1,this);H(a.querySelector(".box-dicom-hpd-button-save"),"click",this.ph,!1,this);H(a.querySelector(".box-dicom-hpd-button-delete"),"click",this.Qf,!1,this)}v(Sq,fp);
function Tq(a){var b=Z(a,".box-dicom-hpd-select");jn(b);a=wq(a.c.b);for(var c=0;c<a.length;c++){var d=a[c];kn(b,d.Pa().toString(),d.j+" ("+d.Pa()+")")}}g=Sq.prototype;g.Pf=function(){var a=Z(this,".box-dicom-hpd-select");this.h=xq(this.c.b,parseInt(ln(a),10));this.F=null;Uq(this)};g.Rf=function(){var a=Z(this,".box-dicom-hpd-select"),b=this.c.b;if(a=xq(b,parseInt(ln(a),10)))this.L(!1),yq(b,a)};g.Hg=function(){this.h=this.c.b.Zb();Uq(this)};
g.Bh=function(a){Vq(this);var b=this.h;if(b){a=a.target;var c=Rq(a,"viewer");0>c||c>=b.a.length||!(b=b.a[c])||(a=Rq(a,"index"),0>a||a>=b.a.length||!(b=b.a[a]))||(Wq(this,"#box-dicom-hpd-series-description-enabled",null!==b.c),Wq(this,"#box-dicom-hpd-window-width-enabled",null!==b.b),Wq(this,"#box-dicom-hpd-window-center-enabled",null!==b.a),Wq(this,"#box-dicom-hpd-zoom-enabled",null!==b.g),Wq(this,"#box-dicom-hpd-inverted-enabled",!!b.h),Wq(this,"#box-dicom-hpd-horizontal-flip-enabled",!!b.j),Wq(this,
"#box-dicom-hpd-vertical-flip-enabled",!!b.l),Xq(this,"#box-dicom-hpd-series-description",b.c),Xq(this,"#box-dicom-hpd-window-width",b.b?b.b.toFixed():""),Xq(this,"#box-dicom-hpd-window-center",b.a?b.a.toFixed():""),Xq(this,"#box-dicom-hpd-zoom",b.g?b.g.toFixed(4):""),this.F=b)}};
g.ph=function(){if(this.h){var a=Z(this,"#box-dicom-hpd-name").value;if(a){var b=this.h;b.j=a;Z(this,"#box-dicom-hpd-modality-enabled").checked?(a=Z(this,"#box-dicom-hpd-modality").value,b.c=a):b.c=null;Z(this,"#box-dicom-hpd-body-part-enabled").checked?(a=Z(this,"#box-dicom-hpd-body-part").value,b.b=a):b.b=null;Z(this,"#box-dicom-hpd-study-description-enabled").checked?(a=Z(this,"#box-dicom-hpd-study-description").value,b.h=a):b.h=null;Z(this,"#box-dicom-hpd-institution-name-enabled").checked?(a=
Z(this,"#box-dicom-hpd-institution-name").value,b.g=a):b.g=null;if(a=this.F){if(Z(this,"#box-dicom-hpd-series-description-enabled").checked){var c=Z(this,"#box-dicom-hpd-series-description").value;a.c=c}else a.c=null;Z(this,"#box-dicom-hpd-window-width-enabled").checked?(c=Yq(this,"#box-dicom-hpd-window-width"),a.b=c):a.b=null;Z(this,"#box-dicom-hpd-window-center-enabled").checked?(c=Yq(this,"#box-dicom-hpd-window-center"),a.a=c):a.a=null;Z(this,"#box-dicom-hpd-zoom-enabled").checked?(c=Yq(this,"#box-dicom-hpd-zoom"),
a.g=c):a.g=null;c=Z(this,"#box-dicom-hpd-inverted-enabled").checked;a.h=c;c=Z(this,"#box-dicom-hpd-horizontal-flip-enabled").checked;a.j=c;c=Z(this,"#box-dicom-hpd-vertical-flip-enabled").checked;a.l=c}a=this.c.b;c=wq(a);b.l=c.length+1;c.push(b);Rb(a.b,c);a.w=c;Tq(this)}else W("Please enter a Name",this.c.a)}else W("Please select a hanging protocol.",this.c.a)};g.Qf=function(){if(this.h){var a=this.c.b,b=this.h,c=wq(a);ab(c,b);Rb(a.b,c);a.w=c;Tq(this)}else W("Please select a hanging protocol.",this.c.a)};
function Zq(a){Wq(a,"#box-dicom-hpd-modality-enabled",!1);Wq(a,"#box-dicom-hpd-body-part-enabled",!1);Wq(a,"#box-dicom-hpd-study-description-enabled",!1);Wq(a,"#box-dicom-hpd-institution-name-enabled",!1);Xq(a,"#box-dicom-hpd-modality","");Xq(a,"#box-dicom-hpd-body-part","");Xq(a,"#box-dicom-hpd-study-description","");Xq(a,"#box-dicom-hpd-institution-name","");Z(a,".box-dicom-hpd-viewers").innerHTML="";Vq(a)}
function Vq(a){Wq(a,"#box-dicom-hpd-series-description-enabled",!1);Wq(a,"#box-dicom-hpd-window-width-enabled",!1);Wq(a,"#box-dicom-hpd-window-center-enabled",!1);Wq(a,"#box-dicom-hpd-zoom-enabled",!1);Wq(a,"#box-dicom-hpd-inverted-enabled",!1);Wq(a,"#box-dicom-hpd-horizontal-flip-enabled",!1);Wq(a,"#box-dicom-hpd-vertical-flip-enabled",!1);Xq(a,"#box-dicom-hpd-series-description","");Xq(a,"#box-dicom-hpd-window-width","");Xq(a,"#box-dicom-hpd-window-center","");Xq(a,"#box-dicom-hpd-zoom","")}
function Uq(a){Zq(a);var b=a.h;if(b&&(Wq(a,"#box-dicom-hpd-modality-enabled",null!==b.c),Wq(a,"#box-dicom-hpd-body-part-enabled",null!==b.b),Wq(a,"#box-dicom-hpd-study-description-enabled",null!==b.h),Wq(a,"#box-dicom-hpd-institution-name-enabled",null!==b.g),Xq(a,"#box-dicom-hpd-name",b.j),Xq(a,"#box-dicom-hpd-modality",b.c),Xq(a,"#box-dicom-hpd-body-part",b.b),Xq(a,"#box-dicom-hpd-study-description",b.h),Xq(a,"#box-dicom-hpd-institution-name",b.g),b=a.h)){for(var c=["<table><tr>"],d=0;d<b.a.length;d++){c.push('<td class="box-dicom-hpd-viewers-monitor"><table>');
for(var e=b.a[d],f=0,h=0;h<e.c;h++){c.push("<tr>");for(var k=0;k<e.b;k++)c.push('<td class="box-dicom-hpd-viewers-control"'),c.push(' data-viewer="'+d+'"'),c.push(' data-row="'+h+'"'),c.push(' data-column="'+k+'"'),c.push(' data-index="'+f+'">'),c.push((f+1).toString()),c.push("</td>"),f++;c.push("</tr>")}c.push("</table></td>")}c.push("</tr></table>");Z(a,".box-dicom-hpd-viewers").innerHTML=c.join("")}}function Xq(a,b,c){Z(a,b).value=c||""}
function Yq(a,b){var c=Z(a,b).value;return c?parseFloat(c):null}function Wq(a,b,c){Z(a,b).checked=c}function Z(a,b){return a.Ba().querySelector(b)}g.L=function(a){Zq(this);Sq.A.L.call(this,a)};function $q(a,b){Up.call(this);var c=new $p(a,b);c.g=this;this.h.push(c)}v($q,Up);function ar(a,b){oo.call(this,a,b);this.c=null}v(ar,oo);function rq(a,b){a.c&&a.removeChild(a.c,!0);a.c=b;a.c&&(a.I(a.c,!0),a.c.Ka(a.m().offsetWidth,a.m().offsetHeight))}g=ar.prototype;g.ba=function(){var a=Xc("div","box-dicom-viewcontrol-slot");this.S(a)};g.S=function(a){this.D=a};g.P=function(){ar.A.P.call(this)};function Bo(a){var b=a.g.c;b.C=b.C?null:a;br(b)}g.Ka=function(a,b){!this.Y||isNaN(a)||isNaN(b)||0>a||0>b||(Fj(this.m(),a,b),this.c&&this.c.Ka(a,b))};
g.jc=function(a){Q(this.m(),a);this.c&&this.c.jc(a)};g.M=function(){this.c&&(this.removeChild(this.c,!0),this.c=null);var a=this.m();a&&(ce(a),bd(a));ar.A.M.call(this)};function cr(a,b){oo.call(this,a.b,a);this.ia=this.ea=0;this.c=this.B=512;this.j=b;this.w=[];this.oa="default";this.aa=!1;this.h=[];this.l=[];this.V=this.R=!1;this.N=this.F=-1;this.C=null}v(cr,oo);g=cr.prototype;g.ba=function(){var a=Xc("div",{id:"lightbox","class":"box-dicom-lightbox"});this.D=a;this.S(a)};
function qq(a,b,c){if(1>b||4<b)throw Error("rows out of range");if(1>c||4<c)throw Error("columns out of range");a.C=null;for(var d=0;d<a.rows();d++)for(var e=0;e<a.h.length+1;e++)if(e>=c||d>=b){var f=sq(a,e,d);f&&(a.removeChild(f,!0),dr(a,e,d,null))}for(d=0;d<b;d++)for(e=0;e<c;e++)if(f=sq(a,e,d),!f){f=new ar(a.b,a.g);a.I(f,!0);dr(a,e,d,f);var h=a.g.R,f=new $q(f.m(),f);h.ka.push(f);f.C=!0;h.B=!0}a.h=Array(c-1);for(e=0;e<c-1;e++)a.h[e]=1/c*(e+1);a.l=Array(b-1);for(d=0;d<b-1;d++)a.l[d]=1/b*(d+1);br(a)}
g.cc=function(){return!1};g.S=function(a){cr.A.S.call(this,a);a=this.m();a.style.width="100%";a.style.height="100%";br(this)};g.P=function(){cr.A.P.call(this);var a=this.m();H(a,["touchstart","mousedown"],this.Sf,!1,this);H(a,["touchmove","mousemove"],this.Tf,!1,this);H(a,["touchend","mouseup"],this.Uf,!1,this);er(this);qq(this,1,1)};
g.Tf=function(a){a.b();if(this.aa){if(0<=this.F){var b=this.F,c=a.clientX-this.ea-this.j.left,c=c/this.B,d=200/this.B,e=0==b?d:this.h[b-1]+d,d=b==this.h.length-1?1-d:this.h[b+1]-d;e<=d&&(c=Math.max(c,e),c=Math.min(c,d),this.h[b]=c)}0<=this.N&&(b=this.N,a=a.clientY-this.ia-this.j.top,a/=this.c,e=200/this.c,c=0==b?e:this.l[b-1]+e,e=b==this.l.length-1?1-e:this.l[b+1]-e,c<=e&&(a=Math.max(a,c),a=Math.min(a,e),this.l[b]=a));br(this)}else{c=a.clientX-this.ea-this.j.left;a=a.clientY-this.ia-this.j.top;this.V=
this.R=!1;this.N=this.F=-1;for(e=0;e<this.h.length;e++)20>Math.abs(c-this.B*this.h[e])&&(this.R=!0,this.F=e);for(e=0;e<this.l.length;e++)20>Math.abs(a-this.c*this.l[e])&&(this.V=!0,this.N=e);a=this.R&&this.V?"move":this.R?"ew-resize":this.V?"ns-resize":"default";if(a!==this.oa){c=this.m();if(u("cursor"))rj(c,a,"cursor");else for(b in"cursor")rj(c,"cursor"[b],b);this.oa=a}}};g.Sf=function(a){a.b();this.aa=!0};g.Uf=function(a){a.b();this.aa=!1;fr(this,!0)};g.resize=function(){er(this);br(this)};
function er(a){var b=a.m(),c=Ej(b);a.ea=c.x;a.ia=c.y;var d=Pc(b);(c=D&&b.currentStyle)&&pd(Nc(d))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(d=Rj(b,c.width,"width","pixelWidth"),b=Rj(b,c.height,"height","pixelHeight"),b=new ib(d,b)):(c=Nj(b),d=Pj(b,"padding"),b=Qj(b),b=new ib(c.width-b.left-d.left-d.right-b.right,c.height-b.top-d.top-d.bottom-b.bottom));a.B=b.width-a.j.left-a.j.right;a.c=b.height-a.j.top-a.j.bottom}
function fr(a,b){for(var c=0;c<a.rows();c++)for(var d=0;d<a.h.length+1;d++){var e=sq(a,d,c);e&&e.jc(b)}}
function br(a){if(a.C){fr(a,!1);var b=a.j.left,c=a.j.top,d=gr(a,a.h.length+1-1),e=hr(a,a.rows()-1),f=a.C.m();f.style.left=b+"px";f.style.top=c+"px";f.style.zIndex=20;a.C.jc(!0);a.C.Ka(d-b,e-c)}else{fr(a,!0);for(var h=0;h<a.rows();h++)for(var k=0;k<a.h.length+1;k++){var l=sq(a,k,h);l&&(b=0==k?a.j.left:a.j.left+a.B*a.h[k-1]+2,c=0==h?a.j.top:a.j.top+a.c*a.l[h-1]+2,d=gr(a,k),e=hr(a,h),f=l.m(),f.style.left=b+"px",f.style.top=c+"px",f.style.zIndex=1,l.Ka(d-b,e-c))}}Go(a.b)}
function jq(a,b,c){return(a=sq(a,b,c))?a.c:null}function sq(a,b,c){return 0>c||c>=a.w.length||0>b||b>=a.w[c].length?null:a.w[c][b]}function dr(a,b,c,d){for(;a.w.length<=c;)a.w.push([]);for(;a.w[c].length<=b;)a.w[c].push(null);a.w[c][b]=d}g.rows=function(){return this.l.length+1};function gr(a,b){return b>=a.h.length?a.j.left+a.B-1:a.j.left+a.B*a.h[b]-2}function hr(a,b){return b>=a.l.length?a.j.top+a.c-1:a.j.top+a.c*a.l[b]-2}
function ir(a,b,c,d){var e=a.w[0].length,f=a.w.length,h=0,k=0;d=q(d)?d:0;for(var l=0;l<f;l++)for(var p=0;p<e;p++){var m=jq(a,p,l);if(m&&m.Ua()){h=p;k=l;break}}for(l=0;16>l;){h+=b;k+=c;0>h?0===d?h=0:(h=e-1,2===d&&k--):h>=e&&(0===d?h=e-1:(h=0,2===d&&k++));0>k?k=0===d?0:f-1:k>=f&&(k=0===d?f-1:0);if(m=jq(a,h,k)){zo(a.b,m);break}l++}}g.M=function(){cr.A.M.call(this)};function jr(a){S.call(this,a);this.h="";this.b=this.g=this.c=null}v(jr,S);jr.prototype.ba=function(){this.S(document.createElement("div"))};jr.prototype.S=function(a){this.D=a;var b=this.a;a.className="box-dicom-notification-container";b.sd(a);this.c=b.a.createElement("div");this.c.className="box-dicom-notification-content";b.jf(a,this.h);a.appendChild(this.c);this.L(!1)};jr.prototype.L=function(a,b,c){kr(this);Jj(this.m(),1);Q(this.m(),a);Qk(this.c,"error",!!c);a&&lr(this,b)};
function lr(a,b){mr(a);a.g=window.setTimeout(function(){mr(a);kr(a);a.b=new Ln(a.m(),400);a.b.qb()},b||8E3)}function mr(a){a.g&&(window.clearTimeout(a.g),a.g=null)}function kr(a){a.b&&(a.b.hb(),a.b.W(),a.b=null)}var nr=null;function W(a,b,c,d){nr||(nr=new jr(b),R(nr,void 0));b=nr;b.h=a;b.c&&b.a.jf(b.c,a);nr.L(!0,c,d)}sa("box.dicom.viewer.Notification.show",W);function or(a,b){W(a,b,3E5,!0)}sa("box.dicom.viewer.Notification.showError",or);function pr(){rn.call(this);this.b=[]}v(pr,rn);pr.prototype.add=function(a){$a(this.b,a)||(this.b.push(a),H(a,"finish",this.h,!1,this))};pr.prototype.remove=function(a){ab(this.b,a)&&ae(a,"finish",this.h,!1,this)};pr.prototype.M=function(){Ua(this.b,function(a){a.W()});this.b.length=0;pr.A.M.call(this)};function qr(){pr.call(this);this.c=0}v(qr,pr);
qr.prototype.qb=function(a){if(0==this.b.length)return!1;if(a||this.a==sn)this.c=0,this.j();else if(1==this.a)return!1;this.Oa("play");-1==this.a&&this.Oa("resume");var b=-1==this.a&&!a;this.l=ra();this.H=null;this.a=1;Ua(this.b,function(c){b&&-1!=c.a||c.qb(a)});return!0};qr.prototype.hb=function(a){Ua(this.b,function(b){b.a==sn||b.hb(a)});this.a=sn;this.H=ra();this.Oa("stop");this.g()};qr.prototype.h=function(){this.c++;this.c==this.b.length&&(this.H=ra(),this.a=sn,this.Oa("finish"),this.g())};function rr(){I.call(this)}v(rr,I);g=rr.prototype;g.Kb=0;g.ab=0;g.Wa=100;g.qa=0;g.jb=!1;g.Sb=!1;function sr(a,b){b=tr(a,b);a.Kb!=b&&(a.Kb=b+a.qa>a.Wa?a.Wa-a.qa:b<a.ab?a.ab:b,a.jb||a.Sb||J(a,"change"))}g.T=function(){return tr(this,this.Kb)};function ur(a,b){b=tr(a,b);a.qa!=b&&(a.qa=0>b?0:a.Kb+b>a.Wa?a.Wa-a.Kb:b,a.jb||a.Sb||J(a,"change"))}
function vr(a,b){if(a.ab!=b){var c=a.jb;a.jb=!0;a.ab=b;b+a.qa>a.Wa&&(a.qa=a.Wa-a.ab);b>a.Kb&&sr(a,b);b>a.Wa&&(a.qa=0,wr(a,b),sr(a,b));a.jb=c;a.jb||a.Sb||J(a,"change")}}function xr(a){return tr(a,a.ab)}function wr(a,b){b=tr(a,b);if(a.Wa!=b){var c=a.jb;a.jb=!0;a.Wa=b;b<a.Kb+a.qa&&sr(a,b-a.qa);b<a.ab&&(a.qa=0,vr(a,b),sr(a,a.Wa));b<a.ab+a.qa&&(a.qa=a.Wa-a.ab);a.jb=c;a.jb||a.Sb||J(a,"change")}}function yr(a){return tr(a,a.Wa)}function tr(a,b){return a.ab+1*Math.round((b-a.ab)/1)}
function zr(a){return 1*Math.round(a/1)};function Ar(a,b){S.call(this,a);this.c=new rr;this.aa=b||wb;H(this.c,"change",this.Je,!1,this)}v(Ar,S);g=Ar.prototype;g.Ga="horizontal";g.Lc=!1;g.Ye=!1;g.We=0;g.Bd=!0;g.ba=function(){Ar.A.ba.call(this);var a=this.a.G("DIV",this.U(this.Ga));this.S(a)};g.S=function(a){Ar.A.S.call(this,a);Mk(a,this.U(this.Ga));a=this.m();var b=Rc(document,null,"goog-slider-thumb",a)[0];b||(b=this.a.G("DIV","goog-slider-thumb"),ul(b,"button"),a.appendChild(b));this.b=this.h=b;ul(this.m(),"slider");Br(this)};
g.P=function(){Ar.A.P.call(this);this.j=new hl(this.b);this.w=new hl(this.h);this.j.h=!1;this.w.h=!1;this.j.md=this.w.md=ba;this.F=new nk(this.m());Cr(this,!0);this.m().tabIndex=0;Dr(this)};
function Cr(a,b){b?(T(a).J(a.j,"beforedrag",a.Hc).J(a.w,"beforedrag",a.Hc).J(a.j,["start","end"],a.Jc).J(a.w,["start","end"],a.Jc).J(a.F,"key",a.Ce).J(a.m(),"click",a.Ic).J(a.m(),"mousedown",a.Ic),Er(a,!0)):(T(a).ca(a.j,"beforedrag",a.Hc).ca(a.w,"beforedrag",a.Hc).ca(a.j,["start","end"],a.Jc).ca(a.w,["start","end"],a.Jc).ca(a.F,"key",a.Ce).ca(a.m(),"click",a.Ic).ca(a.m(),"mousedown",a.Ic),Er(a,!1))}g.fa=function(){Ar.A.fa.call(this);xd(this.j,this.w,this.F,this.C)};
g.Hc=function(a){var b=a.a==this.j?this.b:this.h,c;"vertical"==this.Ga?(c=this.m().clientHeight-b.offsetHeight,c=(c-a.top)/c*(Fr(this)-Gr(this))+Gr(this)):c=a.left/(this.m().clientWidth-b.offsetWidth)*(Fr(this)-Gr(this))+Gr(this);c=a.a==this.j?Math.min(Math.max(c,Gr(this)),this.T()+zr(this.c.qa)):Math.min(Math.max(c,this.T()),Fr(this));Hr(this,b,c)};
g.Jc=function(a){var b="start"==a.type;Qk(this.m(),"goog-slider-dragging",b);Qk(a.target.handle,"goog-slider-thumb-dragging",b);a=a.a==this.j;b?(J(this,"e"),J(this,a?"a":"c")):(J(this,"f"),J(this,a?"b":"d"))};
g.Ce=function(a){var b=!0;switch(a.keyCode){case 36:Ir(this,Gr(this));break;case 35:Ir(this,Fr(this));break;case 33:Jr(this,10);break;case 34:Jr(this,-10);break;case 37:var c=-1;Jr(this,a.shiftKey?10*c:1*c);break;case 40:Jr(this,a.shiftKey?-10:-1);break;case 39:c=1;Jr(this,a.shiftKey?10*c:1*c);break;case 38:Jr(this,a.shiftKey?10:1);break;default:b=!1}b&&a.b()};
g.Ic=function(a){this.m().focus&&this.m().focus();var b=a.target;fd(this.b,b)||fd(this.h,b)||(b="click"==a.type,b&&ra()<this.We+1E3||(b||(this.We=ra()),this.Ye?Ir(this,Kr(this,a)):(this.Td(a),this.l=Lr(this,Kr(this,a)),this.V="vertical"==this.Ga?this.R<this.l.offsetTop:this.R>this.l.offsetLeft+this.l.offsetWidth,a=Pc(this.m()),T(this).J(a,"mouseup",this.Sd,!0).J(this.m(),"mousemove",this.Td),this.B||(this.B=new ie(200),T(this).J(this.B,"tick",this.Le)),this.Le(),je(this.B))))};
g.De=function(a){Jr(this,1*(0<a.detail?-1:1));a.b()};g.Le=function(){var a;if("vertical"==this.Ga){var b=this.R,c=this.l.offsetTop;this.V?b<c&&(a=Mr(this,this.l)+10):b>c+this.l.offsetHeight&&(a=Mr(this,this.l)-10)}else b=this.R,c=this.l.offsetLeft,this.V?b>c+this.l.offsetWidth&&(a=Mr(this,this.l)+10):b<c&&(a=Mr(this,this.l)-10);q(a)&&Hr(this,this.l,a)};g.Sd=function(){this.B&&ke(this.B);var a=Pc(this.m());T(this).ca(a,"mouseup",this.Sd,!0).ca(this.m(),"mousemove",this.Td)};
function Nr(a,b){var c,d=a.m();c=Ej(b);d=Ej(d);c=new A(c.x-d.x,c.y-d.y);return"vertical"==a.Ga?c.y:c.x}g.Td=function(a){this.R=Nr(this,a)};function Kr(a,b){var c=Gr(a),d=Fr(a);if("vertical"==a.Ga){var e=a.b.offsetHeight,f=a.m().clientHeight-e,e=Nr(a,b)-e/2;return(d-c)*(f-e)/f+c}e=a.b.offsetWidth;f=a.m().clientWidth-e;e=Nr(a,b)-e/2;return(d-c)*e/f+c}function Mr(a,b){if(b==a.b)return a.c.T();if(b==a.h)return a.c.T()+zr(a.c.qa);throw Error("Illegal thumb element. Neither minThumb nor maxThumb");}
function Jr(a,b){1>Math.abs(b)&&(b=1*fb(b));var c=Mr(a,a.b)+b,d=Mr(a,a.h)+b,c=Math.min(Math.max(c,Gr(a)),Fr(a)-0),d=Math.min(Math.max(d,Gr(a)+0),Fr(a));Or(a,c,d-c)}function Hr(a,b,c){var d=tr(a.c,c);c=b==a.b?d:a.c.T();b=b==a.h?d:a.c.T()+zr(a.c.qa);c>=Gr(a)&&b>=c+0&&Fr(a)>=b&&Or(a,c,b-c)}function Or(a,b,c){Gr(a)<=b&&b<=Fr(a)-c&&0<=c&&c<=Fr(a)-b&&(b!=a.T()||c!=zr(a.c.qa))&&(a.c.Sb=!0,ur(a.c,0),sr(a.c,b),ur(a.c,c),a.c.Sb=!1,a.Je())}function Gr(a){return xr(a.c)}function Fr(a){return yr(a.c)}
function Lr(a,b){return b<=a.c.T()+zr(a.c.qa)/2?a.b:a.h}g.Je=function(){Dr(this);Br(this);J(this,"change")};function Dr(a){if(a.b&&!a.Lc){var b=Pr(a,Mr(a,a.b)),c=Pr(a,Mr(a,a.h));"vertical"==a.Ga?(a.b.style.top=b.y+"px",a.h.style.top=c.y+"px",a.g&&(b=Qr(c.y,b.y,a.b.offsetHeight),a.g.style.top=b.offset+"px",a.g.style.height=b.size+"px")):(a.b.style.left=b.x+"px",a.h.style.left=c.x+"px",a.g&&(b=Qr(b.x,c.x,a.b.offsetWidth),a.g.style.left=b.offset+"px",a.g.style.width=b.size+"px"))}}
function Qr(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}}function Pr(a,b){var c=new A;if(a.b){var d=Gr(a),e=Fr(a),e=b==d&&d==e?0:(b-d)/(e-d);"vertical"==a.Ga?(d=a.m().clientHeight-a.b.offsetHeight,e=Math.round(e*d),c.x=a.b.offsetLeft,c.y=d-e):(c.x=Math.round(e*(a.m().clientWidth-a.b.offsetWidth)),c.y=a.b.offsetTop)}return c}
function Ir(a,b){b=Math.min(Math.max(b,Gr(a)),Fr(a));a.Lc&&(a.N.hb(!0),a.N.W());var c=new qr,d=Lr(a,b),e=a.T(),f=zr(a.c.qa),h=Mr(a,d),k=Pr(a,h);1>Math.abs(b-h)&&(b=Math.min(Math.max(h+(b>h?1:-1),Gr(a)),Fr(a)));Hr(a,d,b);h=Pr(a,Mr(a,d));k=new Fn(d,[k.x,k.y],"vertical"==a.Ga?[d.offsetLeft,h.y]:[h.x,d.offsetTop],100);k.K=!1;c.add(k);if(a.g){var k=Pr(a,e),l=Pr(a,e+f),e=k,f=l;d==a.b?e=h:f=h;"vertical"==a.Ga?(d=Qr(l.y,k.y,a.b.offsetHeight),e=Qr(f.y,e.y,a.b.offsetHeight),h=new Fn(a.g,[a.g.offsetLeft,d.offset],
[a.g.offsetLeft,e.offset],100),d=new Hn(a.g,d.size,e.size,100),h.K=!1,d.K=!1,c.add(h),c.add(d)):(d=Qr(k.x,l.x,a.b.offsetWidth),e=Qr(e.x,f.x,a.b.offsetWidth),h=new Fn(a.g,[d.offset,a.g.offsetTop],[e.offset,a.g.offsetTop],100),d=new Gn(a.g,d.size,e.size,100),h.K=!1,d.K=!1,c.add(h),c.add(d))}a.N=c;T(a).J(c,"end",a.rg);a.Lc=!0;c.qb(!1)}g.rg=function(){this.Lc=!1};
g.M=function(){Ar.A.M.call(this);this.B&&this.B.W();delete this.B;this.N&&this.N.W();delete this.N;delete this.b;delete this.h;this.g&&delete this.g;this.c.W();delete this.c;this.F&&(this.F.W(),delete this.F);this.C&&(this.C.W(),delete this.C);this.j&&(this.j.W(),delete this.j);this.w&&(this.w.W(),delete this.w)};g.T=function(){return this.c.T()};g.L=function(a){Q(this.m(),a);a&&Dr(this)};
function Br(a){var b=a.m();b&&(U(b,"valuemin",Gr(a)),U(b,"valuemax",Fr(a)),U(b,"valuenow",a.T()),U(b,"valuetext",a.aa(a.T())||""))}function Er(a,b){b?(a.C||(a.C=new Wj(a.m())),T(a).J(a.C,"mousewheel",a.De)):T(a).ca(a.C,"mousewheel",a.De)}g.kb=function(a){this.Bd!=a&&J(this,a?"enable":"disable")&&(this.Bd=a,Cr(this,a),a||this.Sd(),Qk(this.m(),"goog-slider-disabled",!a))};g.isEnabled=function(){return this.Bd};function Rr(a,b){Ar.call(this,a,b);ur(this.c,0)}v(Rr,Ar);var Sr={Hf:"vertical",ri:"horizontal"};Rr.prototype.U=function(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"};function Tr(a,b){S.call(this,b);this.g=this.B=null;this.j=a;this.I(a);this.b=new Rr;this.w=this.C=this.l=this.c=0;this.h=!0}v(Tr,S);g=Tr.prototype;g.ba=function(){var a=this.a,b=a.G("div","box-dicom-scrollpane-outer"),a=a.G("div","box-dicom-scrollpane-inner");b.appendChild(a);this.S(b)};
g.S=function(a){var b=this.a;this.B=this.D=a;this.g=b.we(a)[0];this.j.m()||this.j.ba();b.wg(this.g,this.j.m());a=this.b;var c=Sr.Hf;if(a.Ga!=c){var b=a.U(a.Ga),d=a.U(c);a.Ga=c;a.m()&&(c=a.m(),Lk(c,b)&&(Ok(c,b),Mk(c,d)),a.b.style.left=a.b.style.top="",a.h.style.left=a.h.style.top="",a.g&&(a.g.style.left=a.g.style.top="",a.g.style.width=a.g.style.height=""),Dr(a))}vr(this.b.c,0);wr(this.b.c,1E3);a=this.b;Hr(a,a.b,1E3);this.b.Ye=!0;R(this.b,this.B)};
g.P=function(){Tr.A.P.call(this);var a=new Wj(this.g);H(a,"mousewheel",this.Vf,!1,this);H(this.b,"change",this.rh,!1,this);H(this.j,"resize",this.Wf,!1,this);Ur(this);Vr(this,0)};g.Ka=function(a){Oj(this.m(),a);Ur(this)};function Ur(a){var b=Nj(a.B);if(b&&b.height){var c=Nj(a.g);c&&c.height&&(a.w=c.height+10,a.C=b.height,a.l=-(a.w-a.C),a.b.b.style.height=b.height/c.height*b.height+"px")}}g.Vf=function(a){a.b();a.h();Vr(this,this.c+30*-Math.floor(a.H/3))};
g.rh=function(){var a=(1-this.b.T()/1E3)*this.l;this.c=Math.round(a);wj(this.g,0,this.c)};g.Wf=function(){Ur(this)};function Vr(a,b){if(!(a.C>=a.w)&&(b=Math.min(b,0),b=Math.max(b,a.l),b!==a.c)){a.c=Math.round(b);wj(a.g,0,a.c);var c=b,c=Math.round(1E3*(1-a.c/a.l));if(c!==a.b.T()){var d=a.b;Hr(d,d.b,c)}}}g.L=function(a){this.h=a;Q(this.m(),this.h)};var Wr={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",
93:"context",96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"`",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};function Xr(a){I.call(this);this.b=this.c={};this.g=0;this.O=jc(Yr);this.B=jc(Zr);this.l=!0;this.j=this.w=!1;this.h=null;this.a=a;H(this.a,"keydown",this.Dc,!1,this);F&&H(this.a,"keyup",this.Ie,!1,this);rc&&!F&&(H(this.a,"keypress",this.Me,!1,this),H(this.a,"keyup",this.Ne,!1,this))}var $r;v(Xr,I);function as(a){this.a=a||null;this.next=a?null:{}}var Yr=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Zr="color date datetime datetime-local email month number password search tel text time url week".split(" ");
g=Xr.prototype;g.$=function(a,b){bs(this.c,cs(arguments),a)};function cs(a){if(u(a[1]))a=Wa(ds(a[1]),function(a){return a.keyCode&255|a.Mh<<8});else{var b=a,c=1;fa(a[1])&&(b=a[1],c=0);for(a=[];c<b.length;c+=2)a.push(b[c]&255|b[c+1]<<8)}return a}g.M=function(){Xr.A.M.call(this);this.c={};ae(this.a,"keydown",this.Dc,!1,this);F&&ae(this.a,"keyup",this.Ie,!1,this);rc&&!F&&(ae(this.a,"keypress",this.Me,!1,this),ae(this.a,"keyup",this.Ne,!1,this));this.a=null};
function ds(a){a=a.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();a=a.split(" ");for(var b=[],c,d=0;c=a[d];d++){var e=c.split("+"),f=null;c=0;for(var h,k=0;h=e[k];k++){switch(h){case "shift":c|=1;continue;case "ctrl":c|=2;continue;case "alt":c|=4;continue;case "meta":c|=8;continue}null===f||Sa("At most one non-modifier key can be in a stroke.");e=h;if(!$r){f={};h=void 0;for(h in Wr)f[Wr[h]]=lk(parseInt(h,10));$r=f}f=$r[e];break}b.push({keyCode:f,Mh:c})}return b}
g.Ie=function(a){if(qc){if(224==a.keyCode){this.H=!0;le(function(){this.H=!1},400,this);return}var b=a.metaKey||this.H;67!=a.keyCode&&88!=a.keyCode&&86!=a.keyCode||!b||(a.metaKey=b,this.Dc(a))}32==this.h&&32==a.keyCode&&a.b();this.h=null};g.Me=function(a){32<a.keyCode&&rc&&!F&&a.ctrlKey&&a.altKey&&(this.K=!0)};g.Ne=function(a){!this.K&&rc&&!F&&a.ctrlKey&&a.altKey&&this.Dc(a)};
function bs(a,b,c){var d=b.shift(),e=a[d];if(e&&(0==b.length||e.a))throw Error("Keyboard shortcut conflicts with existing shortcut");b.length?(d=d.toString(),e=new as,e=d in a?a[d]:a[d]=e,bs(e.next,b,c)):a[d]=new as(c)}
g.Dc=function(a){var b;b=a.keyCode;if(16==b||17==b||18==b)b=!1;else{var c=a.target,d="TEXTAREA"==c.tagName||"INPUT"==c.tagName||"BUTTON"==c.tagName||"SELECT"==c.tagName,e=!d&&(c.isContentEditable||c.ownerDocument&&"on"==c.ownerDocument.designMode);b=!d&&!e||this.O[b]||this.j?!0:e?!1:a.altKey||a.ctrlKey||a.metaKey?!0:"INPUT"==c.tagName&&this.B[c.type]?13==b:"INPUT"==c.tagName||"BUTTON"==c.tagName?32!=b:!1}if(b)if("keydown"==a.type&&rc&&!F&&a.ctrlKey&&a.altKey)this.K=!1;else{b=lk(a.keyCode);c=b&255|
((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8;if(!this.b[c]||1500<=ra()-this.g)this.b=this.c,this.g=ra();if(c=this.b[c])c.next?(this.b=c.next,this.g=ra(),a.b()):(this.b=this.c,this.g=ra(),this.l&&a.b(),this.w&&a.h(),c=c.a,d=a.target,e=J(this,new es("shortcut",c,d)),(e&=J(this,new es("shortcut_"+c,c,d)))||a.b(),F&&(this.h=b))}};function es(a,b,c){Bd.call(this,a,c);this.a=b}v(es,Bd);function fs(a,b){this.b=a;this.a=new Xr(b);this.a.j=!0;this.a.l=!0;this.a.w=!0;this.a.$(gs,38);this.a.$(hs,40);this.a.$(is,37);this.a.$(js,39);this.a.$(ks,38,1);this.a.$(ls,40,1);this.a.$(ms,37,1);this.a.$(ns,39,1);this.a.$(os,9);this.a.$(ps,9,1);this.a.$(qs,192);this.a.$(rs,"0");this.a.$(rs,96);this.a.$(ss,46);this.a.$(ss,8);for(var c=1;9>=c;c++){var d="Preset #"+c,e=97+c-1;this.a.$(d,String.fromCharCode(48+c));this.a.$(d,e)}this.a.$(ts,"meta+k");this.a.$(us,"alt+n");this.a.$(vs,"s");this.a.$(ws,
"w");this.a.$(xs,"p");this.a.$(ys,"z");this.a.$(zs,"q");this.a.$(As,"d");this.a.$(Bs,"e");this.a.$(Cs,"a");this.a.$(Ds,"c");this.a.$(Es,"t");this.a.$(Fs,"meta+o");this.a.$(Gs,"meta+l");this.a.$(Hs,"meta+s");H(this.a,"shortcut",this.c,!1,this)}
var gs="Up",hs="Down",is="Left",js="Right",ks="Shift Up",ls="Shift Down",ms="Shift Left",ns="Shift Right",os="Tab",ps="Shift Tab",qs="Default Window/Level",rs="Auto Window/Level",ss="Delete Annotation",ts="Key Image",us="Next Study",vs="Stack Tool",ws="Window Tool",xs="Pan Tool",ys="Zoom Tool",zs="Arrow Tool",As="Distance Tool",Bs="Ellipse Tool",Cs="Angle Tool",Ds="Cobb Angle Tool",Es="Text Tool",Fs="Toggle Overlays",Gs="Toggle Localizers",Hs="Toggle Synced Series";
fs.prototype.c=function(a){switch(a.a){case gs:case is:Is(this,-1);break;case hs:case js:Is(this,1);break;case ks:Js(this,0,-1);break;case ls:Js(this,0,1);break;case ms:Js(this,-1,0);break;case ns:Js(this,1,0);break;case os:Js(this,1,0,2);break;case ps:Js(this,-1,0,2);break;case qs:if(a=this.b.b.a)a.$d(),W("Default Window/Level",this.b.a);break;case rs:if(a=this.b.b.a)a.be(),W("Auto Window/Level",this.b.a);break;case "Preset #1":Ms(this,0);break;case "Preset #2":Ms(this,1);break;case "Preset #3":Ms(this,
2);break;case "Preset #4":Ms(this,3);break;case "Preset #5":Ms(this,4);break;case "Preset #6":Ms(this,5);break;case "Preset #7":Ms(this,6);break;case "Preset #8":Ms(this,7);break;case "Preset #9":Ms(this,8);break;case ss:if(a=this.b.b){var b=a.c.b;"select"===b.pa()?b.h&&b.j&&(b.h.w=!0,P(b.j),b.h=null,b.j=null):a.ce()}break;case ts:this.b.b.cd();break;case "Mic Toggle":a=Ns(this.b);a.L("none"==a.m().style.display);break;case "Mic Record":Ns(this.b).L(!0);No(Ns(this.b));break;case "Mic Play/Stop":Ns(this.b).L(!0);
Qo(Ns(this.b));break;case "Mic Upload":Ns(this.b).L(!0);Ro(Ns(this.b));break;case us:a=this.b.b;if(b=ko(a))for(var c=0;c<a.g.length;c++){var d=a.g[c].l;if(b){var e=void 0;a:{for(e=0;e<d.c.length;e++)if(zg(d.c[e].c)===zg(b))break a;e=-1}if(0<=e){var f=d.c[e];d.c.splice(e,1);d.removeChild(f,!0)}}}for(b=0;b<a.g.length;b++)c=a.g[b].l,(c=c.c&&0!==c.c.length?c.c[0]:null)&&c.Pc();break;case vs:gj(this.b.b.c,"stack");break;case ws:gj(this.b.b.c,"windowLevel");break;case xs:gj(this.b.b.c,"pan");break;case ys:gj(this.b.b.c,
"zoom");break;case zs:gj(this.b.b.c,"arrow");break;case As:gj(this.b.b.c,"line");break;case Bs:gj(this.b.b.c,"ellipse");break;case Cs:gj(this.b.b.c,"angle");break;case Ds:gj(this.b.b.c,"cobbAngle");break;case Es:gj(this.b.b.c,"text");break;case Fs:this.b.b.nc();break;case Gs:a=this.b.b;b=a.b;c=!Kb(b);ub(b.a,"localizersVisible",c);qj(a);nq("Localizer lines",Kb(a.b));break;case Hs:a=this.b.b,b=a.b,c=!Lb(b),ub(b.a,"syncedSeries",c),qj(a),nq("Synced series",Lb(a.b))}};
function Is(a,b){var c=a.b.b.a;c&&(wk(c,c.R+b),xk(c))}function Js(a,b,c,d){(a=a.b.c)&&ir(a,b,c,d)}function Ms(a,b){var c=a.b.b;if(c){var d=c.a;if(d&&d.h){var e=fn(d);e&&(e=ai(e))&&(c=Ob(c.b).a[e],!c||0>b||b>=c.length||(c=c[b],ta(d.h,c),xk(d),W('Selected "'+c.c+'"',a.b.a)))}}};function Os(a,b,c){S.call(this,c);this.w=a;this.I(a);this.B=b;this.I(b);this.b=this.g=this.c=null;this.h=220;this.l=null;this.j=!1}v(Os,S);g=Os.prototype;g.ba=function(){var a=this.a,b=a.G("div","box-dicom-splitpane");this.c=a.G("div","box-dicom-splitpane-left");R(this.w,this.c);b.appendChild(this.c);this.g=a.G("div","box-dicom-splitpane-right");R(this.B,this.g);b.appendChild(this.g);this.b=a.G("div","box-dicom-splitpane-handle");b.appendChild(this.b);this.S(b)};g.S=function(a){this.D=a};
g.P=function(){Os.A.P.call(this);this.l=new hl(this.b,this.b,new kb(NaN,0,NaN,0));this.l.h=!0;H(this.l,"drag",this.Yf,!1,this)};g.Yf=function(a){var b=this.m();b&&(b.getBoundingClientRect?(b=Gj(zj,b),b=new ib(b.right-b.left,b.bottom-b.top)):b=null,this.h=Math.max(150,Math.min(480,b.width-a.clientX)),this.resize(),J(this,a))};
g.resize=function(){this.j?this.c&&(this.c.style.right="0px"):(this.c&&(this.c.style.right=this.h+8+"px"),this.g&&(this.g.style.width=this.h-8+"px"),this.b&&(this.b.style.right=this.h-8+"px"))};function Ps(a){oo.call(this,a.b,a);this.c=null}v(Ps,oo);Ps.prototype.ba=function(){this.S(this.a.G("div",{style:"display:none"}))};Ps.prototype.S=function(a){this.D=a;a.id="box-dicom-grid-menu";this.c=Array(4);for(var b=0;4>b;b++){this.c[b]=Array(4);for(var c=0;4>c;c++){var d=Qs(this,c,b);a.appendChild(d);this.c[b][c]=d}}Rs(this,1,1)};
function Qs(a,b,c){var d=a.a.G("div",{id:"box-dicom-grid-menu-"+b+"-"+c,"class":"box-dicom-grid-cell",style:"left:"+(3+30*b)+"px;top:"+(3+30*c)+"px;"}),e=c+1,f=b+1;H(d,"mousemove",function(){Rs(a,f,e)},!1,a);H(d,"click",function(){Rs(a,f,e);var b=a.g;b.c&&qq(b.c,e,f);a.L(!1)},!1,a);return d}function Rs(a,b,c){1<=b?4<b&&(b=4):b=1;1<=c?4<c&&(c=4):c=1;for(var d=0;4>d;d++)for(var e=0;4>e;e++)Qk(a.c[d][e],"selected",e<b&&d<c)}Ps.prototype.L=function(a){Q(this.m(),a)};function Ss(){}v(Ss,Sn);da(Ss);Ss.prototype.rb=function(a){return Ss.A.rb.call(this,a&&a.firstChild)};Ss.prototype.ra=function(a,b){var c=Rc(document,"*","goog-menu",b)[0];if(c){Q(c,!1);Pc(c).body.appendChild(c);var d=new Jm;Xk(d,c);Ts(a,d)}return Ss.A.ra.call(this,a,b)};Ss.prototype.qc=function(a,b){return Ss.A.qc.call(this,[b.G("DIV","goog-inline-block "+(this.U()+"-caption"),a),b.G("DIV","goog-inline-block "+(this.U()+"-dropdown"),"\u00a0")],b)};Ss.prototype.U=function(){return"goog-menu-button"};function Us(a,b,c,d,e){Rn.call(this,a,c||Ss.ga(),d);this.sa(64,!0);this.l=new lm(null,9);b&&Ts(this,b);this.j=new ie(500);!bq&&!cq||xc("533.17.9")||(this.Mc=!0);this.R=e||Im.ga()}v(Us,Rn);g=Us.prototype;g.Mc=!1;g.P=function(){Us.A.P.call(this);Vs(this,!0);this.b&&Ws(this,this.b,!0);U(this.D,"haspopup",!!this.b)};g.fa=function(){Us.A.fa.call(this);Vs(this,!1);if(this.b){this.ma(!1);this.b.fa();Ws(this,this.b,!1);var a=this.b.m();a&&cd(a)}};
g.M=function(){Us.A.M.call(this);this.b&&(this.b.W(),delete this.b);delete this.V;this.j.W()};g.Rb=function(a){Us.A.Rb.call(this,a);this.Ua()&&(this.ma(!Hl(this,64),a),this.b&&(this.b.bb=Hl(this,64)))};g.Bb=function(a){Us.A.Bb.call(this,a);this.b&&!this.Ua()&&(this.b.bb=!1)};g.tb=function(){Rl(this,!1);return!0};g.Qg=function(a){this.b&&this.b.ha&&!this.gb(a.target)&&this.ma(!1)};g.gb=function(a){return a&&fd(this.m(),a)||this.b&&this.b.gb(a)||!1};
g.Qb=function(a){if(32==a.keyCode){if(a.b(),"keyup"!=a.type)return!0}else if("key"!=a.type)return!1;if(this.b&&this.b.ha){var b=13==a.keyCode||32==a.keyCode,c=this.b.Ta(a);return 27==a.keyCode||b?(this.ma(!1),!0):c}return 40==a.keyCode||38==a.keyCode||32==a.keyCode||13==a.keyCode?(this.ma(!0,a),!0):!1};g.dh=function(){this.ma(!1)};g.eh=function(){this.Ua()||this.ma(!1)};g.Cc=function(a){this.Mc||this.ma(!1);Us.A.Cc.call(this,a)};
function Ts(a,b){var c=a.b;b!=c&&(c&&(a.ma(!1),a.Y&&Ws(a,c,!1),delete a.b),a.Y&&U(a.D,"haspopup",!!b),b&&(a.b=b,Vk(b,a),b.L(!1),c=a.Mc,(b.Yb=c)&&Em(b,!0),a.Y&&Ws(a,b,!0)))}g.removeItem=function(a){this.b||Ts(this,new Jm(this.a,this.R));(a=(this.b||null).removeChild(a,!0))&&a.W()};g.L=function(a,b){var c=Us.A.L.call(this,a,b);c&&!this.va&&this.ma(!1);return c};g.kb=function(a){Us.A.kb.call(this,a);this.isEnabled()||this.ma(!1)};
g.ma=function(a,b){Us.A.ma.call(this,a);if(this.b&&Hl(this,64)==a){if(a)this.b.Y||R(this.b,void 0),this.N=Bj(this.m()),this.C=Ij(this.m()),Xs(this),!b||40!=b.keyCode&&38!=b.keyCode?this.b.Xa(-1):Am(this.b);else{Rl(this,!1);this.b.bb=!1;var c=this.m();c&&(U(c,"activedescendant",""),U(c,"owns",""));null!=this.w&&(this.w=void 0,(c=this.b.m())&&Fj(c,"",""))}this.b.L(a,!1,b);if(!this.Da){var c=T(this),d=a?c.J:c.ca;d.call(c,this.a.a,"mousedown",this.Qg,!0);this.Mc&&d.call(c,this.b,"blur",this.eh);d.call(c,
this.j,"tick",this.$h);a?je(this.j):ke(this.j)}}this.b&&this.b.m()&&this.b.D.removeAttribute("aria-hidden")};function Xs(a){if(a.b.Y){var b=a.l;a.l.b=a.V||a.m();var c=a.b.m();a.b.ha||(c.style.visibility="hidden",Q(c,!0));!a.w&&a.l.l&&a.l.g&32&&(a.w=Gj(Hj,c));b.a(c,b.c^1,null,a.w);a.b.ha||(Q(c,!1),c.style.visibility="visible")}}
g.$h=function(){var a=Ij(this.m()),b=Bj(this.m()),c;c=this.C;(c=!(c==a||c&&a&&c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height))||(c=this.N,c=!(c==b||c&&b&&c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left));c&&(this.C=a,this.N=b,Xs(this))};function Ws(a,b,c){var d=T(a);c=c?d.J:d.ca;c.call(d,b,"action",a.dh);c.call(d,b,"close",a.Dg);c.call(d,b,"highlight",a.Eg);c.call(d,b,"unhighlight",a.Fg)}function Vs(a,b){var c=T(a);(b?c.J:c.ca).call(c,a.m(),"keydown",a.Zg)}
g.Eg=function(a){(a=a.target.m())&&Ys(this,a)};g.Zg=function(a){Gl(this,32)&&this.m()&&this.b&&this.b.ha&&a.h()};g.Fg=function(){if(!zm(this.b)){var a=this.m();U(a,"activedescendant","");U(a,"owns","")}};g.Dg=function(a){if(Hl(this,64)&&a.target instanceof V){a=a.target;var b=a.m();a.va&&Hl(a,2)&&null!=b&&Ys(this,b)}};function Ys(a,b){var c=a.m(),d=vl(b,"activedescendant"),d=Pc(b).getElementById(d)||b;if(!d.id){var e=Rk.ga();d.id=":"+(e.a++).toString(36)}wl(c,d);U(c,"owns",d.id)}
Jl("goog-menu-button",function(){return new Us(null)});function Zs(){}v(Zs,Ss);da(Zs);Zs.prototype.U=function(){return"goog-toolbar-menu-button"};function $s(a,b,c,d){Us.call(this,a,b,c||Zs.ga(),d)}v($s,Us);Jl("goog-toolbar-menu-button",function(){return new $s(null)});function at(a,b){bm.call(this,a||Mn.ga(),b)}v(at,bm);Jl("goog-toolbar-separator",function(){return new at});function bt(a,b,c){Rn.call(this,a,b||Sn.ga(),c);this.sa(16,!0)}v(bt,Rn);Jl("goog-toggle-button",function(){return new bt(null)});function ct(a,b,c){bt.call(this,a,b||Un.ga(),c)}v(ct,bt);Jl("goog-toolbar-toggle-button",function(){return new ct(null)});function dt(a,b){oo.call(this,a.b,a);this.c=b||null;this.h=!0;this.j=new Ps(a)}v(dt,oo);sa("box.dicom.viewer.Toolbar.Buttons",{Annotate:10,Grid:20,Logo:30,More:40,Overlays:50,Pan:60,Separator:70,Share:80,Stack:90,ThreeDCursor:100,WindowLevel:110,Worklist:120,Zoom:130});g=dt.prototype;g.ba=function(){this.S(this.a.G("div"))};
g.S=function(a){dt.A.S.call(this,a);Ok(a,"goog-toolbar");Mk(a,"box-dicom-viewer-toolbar");this.c||(this.c=ho()?[30,70,90,110,10]:[30,70,90,110,130,60,100,10,70,20,50,40]);for(a=0;a<this.c.length;a++)switch(this.c[a]){case 10:var b=this.g,c=new io(b);R(c,b.m());b=et(this,"box-dicom-toolbar-icon box-dicom-toolbar-icon-annotate","Aantekeningen maken");c=new $s(b,c,void 0,this.a);c.Ya("Opens the annotations menu");this.I(c,!0);break;case 20:R(this.j,this.g.m());c=ft(this,"box-dicom-toolbar-icon box-dicom-toolbar-icon-grid",
"Raster","Hiermee opent u het rastermenu");H(c,"action",this.Xg,!1,this);break;case 30:var c=this.a,d=this.b,b=new V("Terug naar map");H(b,"action",d.vg,!1,d);d=new Jm;d.I(b,!0);c=c.G("div","box-dicom-toolbar-logo");c=new $s(c,d,void 0,this.a);c.Ya("Box DICOM");this.I(c,!0);break;case 40:var e=this.b,f=this.g,c=new Tm("Weergavemodus");gt(this,c,"Automatisch","");gt(this,c,"Binair","binary");gt(this,c,"Eenvoudig","simple");gt(this,c,"WebGL","webgl");b=new V("MultiMon");H(b,"action",e.bi,!1,e);d=new V("Volledig scherm");
H(d,"action",f.mb,!1,f);var h=new V("Hanging Protocol Manager");H(h,"action",f.hi,!1,f);var k=new V("Instellingen...");H(k,"action",f.ki,!1,f);f=new V("Help");H(f,"action",e.Ih,!1,e);e=new Jm;e.I(c,!0);e.I(b,!0);e.I(d,!0);e.I(h,!0);e.I(new cm,!0);e.I(k,!0);e.I(new cm,!0);e.I(f,!0);R(e,this.g.m());c=Vm(c);R(c,this.g.m());c=et(this,"box-dicom-toolbar-icon box-dicom-toolbar-icon-more","Meer");c=new $s(c,e,void 0,this.a);this.I(c,!0);break;case 50:c=ft(this,"box-dicom-toolbar-icon box-dicom-toolbar-icon-info",
"Overlays","Hiermee opent of sluit u de overlays");H(c,"action",this.lh,!1,this);break;case 60:ht(this,"pan","Schuiven","Hiermee kunt u het beeld verschuiven");break;case 70:this.I(new at,!0);break;case 90:ht(this,"stack","Stapel","Hiermee kunt u door de stapel beelden bladeren");break;case 100:ht(this,"magicX","3D","De 3D-cursor geeft hetzelfde punt aan in verschillende beelden");break;case 110:ht(this,"windowLevel","Venster","Hiermee kunt u het contrast van vensterbreedte/-middelpunt aanpassen");
break;case 130:ht(this,"zoom","Zoomen","Hiermee kunt u in- en uitzoomen")}b=this.b;a=this.g;c=new vm;this.I(c,!0);d=c.m();Ok(d,"goog-container");Ok(d,"goog-container-vertical");Mk(d,"box-dicom-viewer-toolbar-right");ho()||(d=new Rn("Delen"),H(d,"action",b.li,!1,b),c.I(d,!0));b=this.a.G("span");b.innerHTML="&#8677;";b=new Rn(b);H(b,"action",a.mg,!1,a);c.I(b,!0);this.L(this.h)};
function ht(a,b,c,d){c=it(a,"box-dicom-toolbar-icon box-dicom-toolbar-icon-"+b,c,d);var e=a.b;Jk(e.c,c,b);H(c,"action",function(){gj(e.c,b)})}g.Xg=function(a){if(a.target){var b=this.j,c=a.target;a=b.m();c&&(c=Ij(c.m()),wj(a,c.left,c.top+c.height));b.L("none"==a.style.display)}};g.lh=function(){this.b.nc()};function ft(a,b,c,d){b=et(a,b,c);b=new Vn(b);b.Ya(d);a.I(b,!0);return b}function it(a,b,c,d){b=et(a,b,c);b=new ct(b);b.Ya(d);b.Eb&=-17;a.I(b,!0);return b}
function et(a,b,c){a=a.a;return a.G("div",{"class":"box-dicom-toolbar-button"},a.G("div",{"class":b}),a.G("div",{"class":"box-dicom-toolbar-caption"},c))}g.M=function(){dt.A.M.call(this)};g.P=function(){dt.A.P.call(this)};g.fa=function(){dt.A.fa.call(this)};
function gt(a,b,c,d){var e=a.b;a=new V(c);H(a,"action",function(){if("webgl"!==d||confirm("Are you sure you want to enable WebGL? WebGL can dramatically improve performance.  However, it is an experimental feature  and may not work on all browsers or images.")){var a=Ff(window.location);K(a,"binary")&&a.a.remove("binary");K(a,"simple")&&a.a.remove("simple");K(a,"webgl")&&a.a.remove("webgl");K(a,"viewmode")&&a.a.remove("viewmode");e.j=d;Bf(a,"viewmode",d);window.location.href=a.toString()}});Zm(b,
a)}g.L=function(a){this.h=a;var b=this.m();b&&(b.style.display=a?"block":"none")};function jt(a){fp.call(this,void 0,!1,a.a);R(this,a.m());lp(this).style.width="470px";kp(this,"Settings");vp(this);var b=this.Ba();b.innerHTML=Xo('<div><div id="box-dicom-tabbar" class="goog-tab-bar goog-tab-bar-top"><div id="box-dicom-tab-1" class="goog-tab goog-tab-selected">Preferences</div><div id="box-dicom-tab-2" class="goog-tab">Overlays</div></div><div class="goog-tab-bar-clear"></div><div class="goog-tab-content"><div id="box-dicom-tab-1-content" class="box-dicom-tab-content" style="text-align:left"><table class="table table-bordered table-striped" style="width:100%"><tr><td>Number of windows</td><td><input id="box-dicom-settings-window-count" type="text" value="" size="4" style="width:50px;"></td></tr><tr><td>Max cache size (MB)</td><td><input id="box-dicom-settings-cache-size" type="text" value="" size="4" style="width:50px;"></td></tr><tr><td>Show overlays</td><td><input id="box-dicom-settings-overlays" type="checkbox"></td></tr><tr><td>Show localizer lines</td><td><input id="box-dicom-settings-localizer-lines" type="checkbox"></td></tr><tr><td>Enabled synced series</td><td><input id="box-dicom-settings-synced-series" type="checkbox"></td></tr><tr><td>Enable prefetch</td><td><input id="box-dicom-settings-prefetch" type="checkbox"></td></tr><tr><td>Overlay color</td><td><input id="box-dicom-settings-overlay-color" type="text" value="" size="7" style="width:50px;"></td></tr><tr><td>Orientation color</td><td><input id="box-dicom-settings-orientation-color" type="text" value="" size="7" style="width:50px;"></td></tr><tr><td>Localizer color</td><td><input id="box-dicom-settings-localizer-color" type="text" value="" size="7" style="width:50px;"></td></tr></table></div><div id="box-dicom-tab-2-content" class="box-dicom-tab-content" style="display:none"><table style="width:100%; margin:auto"><thead><tr><th colspan="2" align="center">Available</th><th colspan="2" align="center">Selected</th></tr></thead><tbody><tr><td colspan="2" align="center"><select id="fields_available_list" name="fields_available_list" size="15" style="width:200px;"></select></td><td colspan="2" align="center"><select id="fields_selected_list" name="fields_selected_list" size="15" style="width:200px;"></select></td></tr></tbody><tfoot><tr><td align="center"><button id="box-dicom-worklist-add-field-button">Add</button></td><td align="center"><button id="box-dicom-worklist-remove-field-button">Remove</button></td><td align="center"><button id="box-dicom-worklist-move-up-button">Up</button></td><td align="center"><button id="box-dicom-worklist-move-down-button">Down</button></td></tr></tfoot></table></div></div></div>').toString();
b.style.padding="0";b.style.height="360px";var b=this.a,c=new Jp;Xk(c,b.m("box-dicom-tabbar"));H(c,"select",this.yh,!1,this);H(this,wp,this.Mg,!1,this);this.F=a.b;this.ia=b.m("box-dicom-settings-window-count");this.R=b.m("box-dicom-settings-cache-size");this.fb=b.m("box-dicom-settings-overlays");this.aa=b.m("box-dicom-settings-localizer-lines");this.mb=b.m("box-dicom-settings-synced-series");this.N=b.m("box-dicom-settings-prefetch");this.Ea=b.m("box-dicom-settings-overlay-color");this.oa=b.m("box-dicom-settings-orientation-color");
this.V=b.m("box-dicom-settings-localizer-color");this.h=b.m("fields_available_list");this.c=b.m("fields_selected_list");jn(this.h);jn(this.c);a=Tb(this.F.b);for(b=0;b<Zn.length;b++)if(c=Zn[b],!$a(a,c)){var d=$n[c];kn(this.h,c,d)}for(b=0;b<a.length;b++)c=a[b],d=$n[c],kn(this.c,c,d);mn(this.h);kt(this);H(document.getElementById("box-dicom-worklist-add-field-button"),"click",this.Ph,!1,this);H(document.getElementById("box-dicom-worklist-remove-field-button"),"click",this.Xh,!1,this);H(document.getElementById("box-dicom-worklist-move-up-button"),
"click",this.Vh,!1,this);H(document.getElementById("box-dicom-worklist-move-down-button"),"click",this.Uh,!1,this)}v(jt,fp);g=jt.prototype;g.yh=function(a){a=a.target.m().id+"-content";for(var b=1;2>=b;b++){var c="box-dicom-tab-"+b+"-content";(c=Qc(document,c))&&Q(c,!1)}(a=Qc(document,a))&&Q(a,!0)};g.Ph=function(){var a=this.h.value;a&&0<a.length&&on(this.h,this.c,a)};g.Xh=function(){var a=this.c.value;a&&0<a.length&&on(this.c,this.h,a);mn(this.h)};
g.Vh=function(){var a=this.c.value;if(a&&0<a.length){for(var b=this.c,c=1;c<b.length;c++)b.options[c].value==a&&pn(b,c,c-1);this.c.selectedIndex--}};g.Uh=function(){var a=this.c.value;if(a&&0<a.length){for(var b=this.c,c=b.length-2;0<=c;c--)b.options[c].value==a&&pn(b,c,c+1);this.c.selectedIndex++}};
g.Mg=function(a){if("ok"==a.key){a=this.F.b;ub(a.a,"preferredViewerCount",Math.max(1,parseInt(this.ia.value,10)));ub(a.a,"maxCacheSize",Math.max(1,parseInt(this.R.value,10)));Jb(a,this.fb.checked);ub(a.a,"localizersVisible",this.aa.checked);ub(a.a,"syncedSeries",this.mb.checked);ub(a.a,"prefetchEnabled",this.N.checked);ub(a.a,"overlayColor",this.Ea.value);ub(a.a,"orientationColor",this.oa.value);ub(a.a,"localizerColor",this.V.value);for(var b=[],c=0;c<this.c.length;c++)b.push(this.c.options[c].value);
ub(a.a,"overlays",mb(b));qj(this.F)}};g.L=function(a){jt.A.L.call(this,a);a&&kt(this)};function kt(a){var b=a.F.b;a.ia.value=Vb(b,"preferredViewerCount",1,1,4).toString();a.R.value=Vb(b,"maxCacheSize",400,50).toString();a.fb.checked=Hb(b);a.aa.checked=Kb(b);a.mb.checked=Lb(b);a.N.checked=Mb(b);a.Ea.value=Qb(b,"overlayColor","#bbb");a.oa.value=Qb(b,"orientationColor","#888");a.V.value=Pb(b)};function lt(a){S.call(this,a);this.b=new rr;H(this.b,"change",this.Gg,!1,this)}v(lt,S);var mt={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};g=lt.prototype;g.ba=function(){this.c=this.a.G("DIV","progress-bar-thumb");this.D=this.a.G("DIV",mt.horizontal,this.c);nt(this);U(this.m(),"valuemin",xr(this.b));U(this.m(),"valuemax",yr(this.b))};g.P=function(){lt.A.P.call(this);D&&7>vc&&H(this.m(),"resize",this.Gc,!1,this);this.Gc();var a=this.m();ul(a,"progressbar");U(a,"live","polite")};
g.fa=function(){lt.A.fa.call(this);ot(this)};function ot(a){D&&7>vc&&ae(a.m(),"resize",a.Gc,!1,a)}g.S=function(a){lt.A.S.call(this,a);Mk(this.m(),mt.horizontal);a=Rc(document,null,"progress-bar-thumb",this.m())[0];a||(a=this.a.G("DIV","progress-bar-thumb"),this.m().appendChild(a));this.c=a};g.T=function(){return this.b.T()};function pt(a,b){sr(a.b,b);a.m()&&nt(a)}function nt(a){U(a.m(),"valuenow",a.T())}function qt(a,b){wr(a.b,b);a.m()&&U(a.m(),"valuemax",yr(a.b))}
g.Gg=function(){this.Gc();J(this,"change")};g.Gc=function(){if(this.c){var a=xr(this.b),b=yr(this.b),a=(this.T()-a)/(b-a);this.c.style.width=Math.round(100*a)+"%"}};g.M=function(){ot(this);lt.A.M.call(this);this.c=null;this.b.W()};function rt(a,b){oo.call(this,a.b,a.g);this.h=b;this.j=null;this.c=new lt;this.w=null;this.B=this.l=0}v(rt,oo);g=rt.prototype;g.ba=function(){var a=this.a.G("div","box-dicom-worklist-series");this.S(a)};
g.S=function(a){this.D=a;var b=this.a.G("div","box-dicom-worklist-series-container");a.appendChild(b);this.j=new Image;this.j.width=80;this.j.height=80;var c;c=this.h;var d=yg(c,"thumbnailUrl");!d&&c.Z&&0<c.Z.length&&(c=c.Z[Math.floor(c.Z.length/2)],d=wg(c,"thumbnailUrl")||c.b.a.h.de(c.c.fileId,ug(c)));(c=d)?this.j.src=c:this.Ke();b.appendChild(this.j);R(this.c,a);pt(this.c,0);qt(this.c,100);this.w=this.a.G("div","progress-bar-caption");this.c.m().appendChild(this.w)};
g.P=function(){rt.A.P.call(this);H(this.m(),"click",this.gg,!1,this);H(this.j,"error",this.Ke,!1,this);var a=this.g.R,b=new $p(this.m(),this.h);b.g=a;a.h.push(b);a.O&&Vp(a,b);if(a=this.h.Z)if(Mb(this.b.b))for(this.l=a.length,this.B=0,qt(this.c,this.l),st(this),b=0;b<a.length;b++){var c=a[b];Ng(mi(),vg(c),this.Yg,this,4,!0)}else{if(this.h)if(a=this.h.Z){for(c=b=0;c<a.length;c++)b+=a[c].NumberOfFrames||1;a=b}else a=0;else a=0;this.B=this.l=a;pt(this.c,this.l);qt(this.c,this.l);st(this)}};
g.gg=function(){ho()&&mq(this.g,!1);var a=this.g,b=this.h,c=sq(a.c,0,0),a=hq(a.b,b,a,c);rq(c,a);Eo(a,b)};g.Ke=function(){this.j.style.display="none"};g.Yg=function(){this.Da||(this.B++,st(this))};function st(a){var b=a.B,c=a.l;Mb(a.b.b)?(pt(a.c,b),a.w.innerHTML=b<c?b+" / "+c:c.toString()):(pt(a.c,c),a.w.innerHTML=c.toString())};function tt(){}function ut(a){if("number"==typeof a){var b=new tt;b.c=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",z(c,2));c=d.join("")}b.g=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=vt(a);b.h=[c,c];b.a={si:a,Yd:a};b.b=[];return b}b=new tt;b.g=a.id;b.c=-a.std_offset;b.h=a.names;b.a=a.names_ext;b.b=a.transitions;return b}
function vt(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(z(Math.floor(a/60)%100,2),":",z(a%60,2));return b.join("")}function wt(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.b.length&&c>=a.b[d];)d+=2;return 0==d?0:a.b[d-1]};function xt(){this.b=[];this.a=Ch;yt(this,2)}var zt=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/];function At(a){return a.getHours?a.getHours():0}
function yt(a,b){var c;if(4>b)c=a.a.Vd[b];else if(8>b)c=a.a.Zd[b-4];else if(12>b)c=a.a.rf[b-8],c=c.replace("{1}",a.a.Vd[b-8]),c=c.replace("{0}",a.a.Zd[b-8]);else{yt(a,10);return}for(Bt&&(c=c.replace(/\u200f/g,""));c;)for(var d=0;d<zt.length;++d){var e=c.match(zt[d]);if(e){e=e[0];c=c.substring(e.length);0==d&&("''"==e?e="'":(e=e.substring(1,e.length-1),e=e.replace(/\'\'/,"'")));a.b.push({text:e,type:d});break}}}
function Ct(a,b){var c;c=String(b);var d=a.a||Ch;if(void 0!==d.Jf){for(var e=[],f=0;f<c.length;f++){var h=c.charCodeAt(f);e.push(48<=h&&57>=h?String.fromCharCode(d.Jf+h-48):c.charAt(f))}c=e.join("")}return c}var Bt=!1;function Dt(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function Et(a,b,c,d,e){var f=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=f?a.a.tf[c]:a.a.uf[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==f&&(c%=100),Ct(a,z(c,f));case "M":a:switch(c=d.getMonth(),f){case 5:f=a.a.wf[c];break a;case 4:f=a.a.vf[c];break a;case 3:f=a.a.yf[c];break a;default:f=Ct(a,z(c+1,f))}return f;case "k":return Dt(e),Ct(a,z(At(e)||24,f));case "S":return Ct(a,(e.getTime()%1E3/1E3).toFixed(Math.min(3,f)).substr(2)+(3<f?z(0,f-3):""));case "E":return c=
d.getDay(),4<=f?a.a.If[c]:a.a.Af[c];case "a":return Dt(e),f=At(e),a.a.qf[12<=f&&24>f?1:0];case "h":return Dt(e),Ct(a,z(At(e)%12||12,f));case "K":return Dt(e),Ct(a,z(At(e)%12,f));case "H":return Dt(e),Ct(a,z(At(e),f));case "c":a:switch(c=d.getDay(),f){case 5:f=a.a.Df[c];break a;case 4:f=a.a.Gf[c];break a;case 3:f=a.a.Ff[c];break a;default:f=Ct(a,z(c,1))}return f;case "L":a:switch(c=d.getMonth(),f){case 5:f=a.a.Cf[c];break a;case 4:f=a.a.Bf[c];break a;case 3:f=a.a.Ef[c];break a;default:f=Ct(a,z(c+1,
f))}return f;case "Q":return c=Math.floor(d.getMonth()/3),4>f?a.a.zf[c]:a.a.xf[c];case "d":return Ct(a,z(d.getDate(),f));case "m":return Dt(e),Ct(a,z(e.getMinutes(),f));case "s":return Dt(e),Ct(a,z(e.getSeconds(),f));case "v":return f=ut(c.getTimezoneOffset()),f.g;case "V":return a=ut(c.getTimezoneOffset()),2>=f?a.g:0<wt(a,c)?q(a.a.sf)?a.a.sf:a.a.DST_GENERIC_LOCATION:q(a.a.Yd)?a.a.Yd:a.a.STD_GENERIC_LOCATION;case "w":return c=a.a.Xd,e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),b=a.a.Wd||0,
c=e.valueOf()+864E5*(((q(c)?c:3)-b+7)%7-((e.getDay()+6)%7-b+7)%7),Ct(a,z(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,f));case "z":return a=ut(c.getTimezoneOffset()),4>f?a.h[0<wt(a,c)?2:0]:a.h[0<wt(a,c)?3:1];case "Z":return e=ut(c.getTimezoneOffset()),4>f?(f=-(e.c-wt(e,c)),a=[0>f?"-":"+"],f=Math.abs(f),a.push(z(Math.floor(f/60)%100,2),z(f%60,2)),f=a.join("")):f=Ct(a,vt(e.c-wt(e,c))),f;default:return""}};function Ft(a,b,c){V.call(this,a,b,c);this.sa(16,!0)}v(Ft,V);Jl("goog-checkbox-menuitem",function(){return new Ft(null)});function Gt(a,b,c){oo.call(this,a.b,a.g);this.c=b;this.h=[];this.aa=this.V=this.F=this.ia=this.B=this.j=this.ea=this.R=this.C=this.N=this.l=null;this.Ea=!!c;this.oa=this.w=!1}v(Gt,oo);g=Gt.prototype;g.ba=function(){this.S(this.a.a.createElement("div"))};
g.S=function(a){a.className="box-dicom-worklist-study";this.D=a;var b=this.a;this.B=b.G("div","menu-button");this.B.innerHTML="&#8964;";this.N=b.G("div","patient-name");this.C=b.G("div","institution");this.R=b.G("div","referring-user");this.ea=b.G("div","study-datetime");this.l=b.G("div","box-dicom-worklist-study-header",this.N,this.C,this.R,this.ea,this.B);this.j=b.G("div","box-dicom-worklist-study-contents");a.appendChild(this.l);a.appendChild(this.j);this.w="US"===ai(this.c)&&!1;(a=Zh(this.c))&&
Ht(this.N,Bh(a).toUpperCase());Ht(this.C,Xg(this.c,"00080080")||"");a=this.c;!a.l&&a.b&&ac(a.b,"00080090")&&(a.l=new zh(Xg(a,"00080090")));(a=a.l)&&Ht(this.R,Bh(a));a="";if($h(this.c)){a=$h(this.c);b=new xt;if(!a)throw Error("The date to format must be non-null.");for(var c=[],d=0;d<b.b.length;++d){var e=b.b[d].text;1==b.b[d].type?c.push(Et(b,e,a,a,a)):c.push(e)}a=c.join("")}Ht(this.ea,a);It(this);H(this.l,["click","mousedown","mouseup"],this.hg,!1,this);H(this.l,"dblclick",this.ig,!1,this);H(this.B,
"click",this.ii,!1,this);this.F=new V("Standaardweergave tonen");H(this.F,"action",this.Pc,!1,this);this.V=new V("Rapport schrijven");H(this.V,"action",this.df,!1,this);this.aa=new V("Studie tonen op basis van objecten");H(this.aa,"action",this.qh,!1,this);a=new Km;a.Tc=!0;a.I(this.F,!0);a.I(this.V,!0);a.I(this.aa,!0);R(a,this.g.m());Lm(a,this.l,5,4,!0);this.ia=a};g.P=function(){Gt.A.P.call(this)};g.hg=function(a){a.b();a.h()};g.ig=function(a){a.b();a.h();this.Pc()};
g.ii=function(a){Nm(this.ia,new nm(a.clientX,a.clientY),4)};
g.Pc=function(){if(this.c){var a=this.b,b=this.c,c=this.w,d;a:{if(d=wq(a))for(var e=0;e<d.length;e++){var f=d[e],h=f,k=b;if(dj(h.c,ai(k))&&dj(h.b,Xg(k,"00180015"))&&dj(h.h,Xg(k,"00081030"))&&dj(h.g,Xg(k,"00080080"))){d=f;break a}}d=null}if(d)yq(a,d,b);else{d=a.g[0];e=null;if(c)if(b.a)for(e=[],c=0;c<b.a.length;c++)for(f=b.a[c],h=f.Z,k=0;k<h.length;k++)e.push(vh(f,k));else e=null;else e=b.a;c=e.length;h=f=1;ho()?h=f=1:5<=c?(f=3,h=2):3<=c?h=f=2:(f=2<=c?2:1,h=1);d.c&&qq(d.c,h,f);c=Math.min(c,f*h);for(h=
0;h<c;h++)if((k=e[h])&&k.Z&&0!==k.Z.length){var l=sq(d.c,h%f,Math.floor(h/f)),p=hq(d.b,k,d,l);rq(l,p);Eo(p,k)}}vq(a,b)}};g.df=function(){this.c&&pq(this.b,this.c)};g.qh=function(){this.c&&(this.w=!this.w,It(this))};function Ht(a,b){gd(a,b);Q(a,!!b)}
function It(a){a.a.sd(a.j);for(var b=0;b<a.h.length;b++)a.h[b].W(),a.h[b]=null;a.h=[];for(b=0;b<a.c.a.length;b++){var c=a.c.a[b];if(c&&c.Z&&0!==c.Z.length){var d=null;if(a.w)for(var e=0;e<c.Z.length;e++){if(d=vh(c,e))d=new rt(a,d),R(d,a.j),a.h.push(d)}else d=new rt(a,c),R(d,a.j),a.h.push(d)}}J(a,"resize");!a.oa&&0<a.c.a.length&&(a.oa=!0,a.Ea&&(vn(new tn(a.Pc,100,a)),vb(a.b.b.a,"autoEditorEnabled")&&a.df()))};function Jt(a){oo.call(this,a.b,a);this.h=!1;this.c=[]}v(Jt,oo);Jt.prototype.ba=function(){this.S(this.a.a.createElement("div"))};Jt.prototype.S=function(a){this.D=a;a.id="box-dicom-viewer-worklist"};Jt.prototype.j=function(){J(this,"resize")};function Kt(a,b){var c=new Gt(a,b,!a.h);H(c,"resize",a.j,!1,a);a.I(c,!0);a.c.push(c);J(a,"resize");a.h=!0};function Lt(a){I.call(this);this.a=a||window;this.c=H(this.a,"resize",this.g,!1,this);this.b=Uc(this.a||window)}v(Lt,I);Lt.prototype.M=function(){Lt.A.M.call(this);this.c&&(be(this.c),this.c=null);this.b=this.a=null};Lt.prototype.g=function(){var a=Uc(this.a||window);jb(a,this.b)||(this.b=a,J(this,"resize"))};function Mt(a){this.a=a}var Nt=/\s*;\s*/;g=Mt.prototype;g.isEnabled=function(){return navigator.cookieEnabled};
g.remove=function(a,b,c){var d;a:{d=a+"=";for(var e=(this.a.cookie||"").split(Nt),f=0,h;h=e[f];f++){if(0==h.lastIndexOf(d,0)){d=h.substr(d.length);break a}if(h==a){d="";break a}}d=void 0}d=q(d);e=0;if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(""))throw Error('Invalid cookie value ""');q(e)||(e=-1);c=c?";domain="+c:"";b=b?";path="+b:"";e=0>e?"":0==e?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(ra()+1E3*e)).toUTCString();this.a.cookie=a+"="+
c+b+e+"";return d};g.Za=function(){return Ot(this).keys};g.ya=function(){return Ot(this).values};g.clear=function(){for(var a=Ot(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};function Ot(a){a=(a.a.cookie||"").split(Nt);for(var b=[],c=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}};function Pt(a,b,c){Pq.call(this,a,b);this.R=new aq;this.V=this.oa=this.C=this.B=null;this.N=new dt(this,c);this.fb=this.j=this.g=this.c=this.l=this.w=null;this.Ea=268;this.aa=null;this.ea=new ie(1E3);this.F=this.ia=null;this.R.V="box-dicom-worklist-series-dragging";a=this.R;if(!a.O){for(c=0;b=a.h[c];c++)Vp(a,b);a.O=!0}H(this.R,"dragstart",this.kg,!1,this);H(this.R,"dragend",this.jg,!1,this)}v(Pt,Pq);function Qt(a,b){a.N.L(b);a.w&&(a.w.style.top=b?"80px":"0px")}
function mq(a,b){if(ho())a.g.L(b),Ur(a.g);else{var c=a.j,d=!b;c.j=d;c.g&&(c.g.style.display=d?"none":"block");c.b&&(c.b.style.display=d?"none":"block");c.resize();a.c.resize()}}g=Pt.prototype;g.mg=function(){mq(this,!(ho()?this.g.h:!this.j.j))};g.ba=function(){this.S(this.a.a.createElement("div"))};
g.S=function(a){this.D=a;a.className="box-dicom-viewer-main";this.l=new Jt(this);this.c=new cr(this,new hb(0,0,0,0));this.g=new Tr(this.l);R(this.N,a);this.w=this.a.G("div","box-dicom-viewer-stage");a.appendChild(this.w);if(ho()||iq()){this.w.style.bottom="20px";var b=this.a.G("div","box-dicom-viewer-notice","For informational use only and not intended for diagnostic use.");a.appendChild(b)}ho()?(R(this.g,this.w),this.g.L(!1),Mk(this.g.m(),"box-dicom-viewer-scrollpane-mobile"),R(this.c,this.w)):(a=
this.j=new Os(this.c,this.g),a.h=Math.max(150,Math.min(480,this.Ea)),a.resize(),R(this.j,this.w));Qt(this,this.N.h)};
g.P=function(){Pt.A.P.call(this);this.fb=new Lt;H(this.fb,"resize",this.lg,!1,this);H(document.body,"contextmenu",this.Ng,!1,this);var a=this;this.h.onbeforeunload=function(){if(a.h.top===a.h.self){var b=a.h,c=b.document,d=a.b.b,e=a.h.name,b=new kb(q(b.screenX)?b.screenX:b.screenLeft,q(b.screenY)?b.screenY:b.screenTop,q(b.outerWidth)?b.outerWidth:c.documentElement.clientWidth,q(b.outerHeight)?b.outerHeight:c.documentElement.clientHeight-22),c=Nb(d);c[e]=b;ub(d.a,"windowRects",c)}d=mi();d.h.clear();
d.c={};d.b.clear();d.g=[];d.a=0};new fs(this,this.h.document);this.j&&H(this.j,"drag",this.th,!1,this);window.Leap&&Leap.loop({enableGestures:!0},function(b){var c=a.ia;c&&c.valid?a.F=b.translation(c):a.F=null;var c=b.hands,d=null;c&&0<c.length?(a.ia=b,d=c[0]):a.ia=null;a.F&&d&&.5<d.pinchStrength?ir(a.c,Math.round(a.F[0]/5),Math.round(a.F[2]/5)):a.b.c.b.Ha(b,a.F)});this.j&&this.j.resize();this.c&&this.c.resize();this.g&&Ur(this.g)};g.kg=function(a){Jj(a.a.a,.75)};
g.jg=function(a){Jj(a.a.a,1);if(a.a&&a.c&&a.a.data instanceof uh&&a.c.data instanceof ar){var b=a.a.data;a=a.c.data;var c=hq(this.b,b,this,a);rq(a,c);Eo(c,b)}};g.th=function(){this.c&&this.c.resize();this.g&&Ur(this.g)};g.lg=function(){this.c&&this.c.resize();this.g&&Ur(this.g)};g.Ng=function(a){a.b();a.h();return!1};function Ns(a){a.C||(a.C=new Mo(a),R(a.C,void 0),a.C.L(!1));return a.C}g.hi=function(){this.V||(this.V=new Sq(this));this.V.L(!0)};g.ki=function(){this.aa||(this.aa=new jt(this));this.aa.L(!0)};
function Rt(a,b){var c=Kf("/index.php?rm=box_dicom_file_contents&fileId="+b);Ue(c,function(c){c=c.target;400===df(c)?or(ef(c)):(c=ff(c),"error"===c.error&&"session expired"===c.errormessage?St():"fatal"===c.status&&(null===Box.config.userId||2>=Box.config.userId)?St():"error"===c.status?or(c.message):Tt(a,Kf(c.url),b))})}
function Ut(a,b){var c=a.b.h;c instanceof mf&&Ue(c.b+"files/"+Ea(b),function(d){d=d.target;400===df(d)?or("Bad Request"):401===df(d)?or("Access Denied"):404===df(d)?or("File Not Found"):(d=ff(d).file_version.id,d=c.wc(b,d,"original"),Tt(a,d,b))},"GET",void 0,{Authorization:"Bearer "+c.a})}
function Tt(a,b,c){var d=a.b.h;Ue(b,function(b){b=b.target;400===df(b)?or(ef(b)):(b=ff(b),"error"===b.error&&"session expired"===b.errormessage?St():"fatal"===b.status&&(null===Box.config.userId||2>=Box.config.userId)?St():"error"===b.status?or(b.message):b.study?(b=Th(d,b.study),c&&(b.g.fileId=c),Kt(a.l,b)):or("Het bestand bevat geen DICOM-studie."))})}
g.Zb=function(){var a=new $i,b=this.c.rows();a.c=b;a.b=this.c.h.length+1;for(b=0;b<a.c;b++)for(var c=0;c<a.b;c++){var d=jq(this.c,c,b),e=null;d&&(e=d.Zb(),e.Md=b,e.ld=c);a.a.push(e)}return a};function zq(a,b){if(!b)return null;var c=a.a;if(!c||0===c.length)return null;for(var d=0;16>d;d++)for(var e=0;e<c.length;e++){var f=c[e];if(!(f.g>d)&&dj(b.c,Vg(f,"0008103E")))return f}return null}
g.M=function(){this.B&&(this.B.W(),delete this.B);this.C&&(this.C.W(),delete this.C);this.oa&&(this.oa.W(),delete this.oa);this.V&&(this.V.W(),delete this.V);this.N&&(this.N.W(),delete this.N);this.l&&(this.l.W(),delete this.l);this.c&&(this.c.W(),delete this.c);this.g&&(this.g.W(),delete this.g);this.j&&(this.j.W(),delete this.j);this.aa&&(this.aa.W(),delete this.aa);this.ea&&(ke(this.ea),this.ea.W(),delete this.ea);this.w&&delete this.w;var a=this.m();a&&bd(a);Pt.A.M.call(this)};g.W=function(){Pt.A.W.call(this)};
Pt.prototype.dispose=Pt.prototype.W;function St(){var a=Ff(window.location),b=new of("/login"),c=K(a,"login_token");q(c)&&(a.a.remove("login_token"),Bf(b,"login_token",c));Bf(b,"redirect_url",a);window.top.location.href=b.toString()}
function Vt(){try{if(window.top.location===window.location)return!1;var a=Ff(window.top.location),b=a.g;if(!Aa(b,".box.com")&&!Aa(b,".inside-box.net")||0!=a.b.lastIndexOf("/services/",0))return!1;var c=window.top.location,d=Ff(document.location.href),e=d.b,f=K(d,"box_file_id")||K(d,"fileId"),h=K(d,"box_file_name")||K(d,"fileName");"/index.php"===e&&f&&h&&(d.a.remove("rm"),d.a.remove("box_file_id"),d.a.remove("box_file_name"),d.a.remove("fileId"),d.a.remove("fileName"),d.b="/dicom_viewer/"+Ea(f)+"/"+
Ea(h));c.href=d.toString();return!0}catch(k){return console.log("Error accessing the top frame:"),console.log(k),!1}}
sa("box.dicom.viewer.Viewer.launch",function(a){var b=new Mt(window.document);b.remove("box_redirect_rm");b.remove("box_redirect_url");if(!Vt()){var c=window.name,b=0;"box-dicom-viewer-stat"!==c&&(0==c.lastIndexOf("box-dicom-viewer-",0)?b=parseInt(c.substring(17),10):window.name="box-dicom-viewer-0");var c=Bq(),d=window,e=d.name;e&&(e=C(Nb(c.b),e))&&(d.moveTo(e.left,e.top),d.resizeTo(e.width,e.height));a&&(a=Zi(a),Rb(c.b,a),c.w=a);a=Ff(window.location,!0);var e=a.b,f=K(a,"box_file_id")||K(a,"fileId"),
d=K(a,"box_file_name")||K(a,"fileName");(e=e.match(/^\/dicom_viewer\/([0-9]+)\/(.+)$/))&&3===e.length&&(f=e[1],d=e[2]);if(f&&K(a,"login_token"))St();else if(e=K(a,"sharedName"),f&&!e&&(null===Box.config.userId||2>=Box.config.userId))St();else{var h="true"===K(a,"worklist_hide"),k=K(a,"overlays");K(a,"priors");var l="true"===K(a,"embedded"),e=new Pt(c,window);l&&Qt(e,!1);u(k)&&Jb(c.b,"true"===k);ho()&&(e.Ea=10,e.c&&qq(e.c,1,1),Jb(c.b,!1));iq()&&Jb(c.b,!1);R(e,void 0);c.g[b]=e;h&&mq(e,!1);f&&d&&(h=
d?d.split(".").pop().toLowerCase():"","dcm"===h?Tt(e,Kf("/index.php?rm=box_dicom_file_list&fileId="+f)):"clariso"===h||"medxt"===h||"boxdicom"===h?Rt(e,f):console.log("ERROR: Unknown Box.com file type ("+d+")"));(a=K(a,"manifest_url"))&&Tt(e,a);if(0===b)for(b=c.b,c=Vb(b,"preferredViewerCount",1,1,4),a=window.location.toString(),d=1;d<c;d++)oq(b,a,d)}}});sa("box.dicom.createViewer",function(a,b){a=Qc(document,a);if(!a)return null;var c=b||{},d=c.overlays||{},e=c.toolbar||{},f=c.worklist||{},h=Bq(c),k=new Pt(h,window,e.buttons);"visible"in d&&Jb(h.b,d.visible);"fields"in d&&ub(h.b.a,"overlays",mb(d.fields));"visible"in e&&Qt(k,e.visible);R(k,a);h.g[0]=k;"visible"in f&&mq(k,f.visible);"width"in f&&(k.Ea=f.width);if(c=c.studies)for(h=h.h,d=0;d<c.length;d++)e=c[d],"fileId"in e?Ut(k,e.fileId):"manifestUrl"in e?Tt(k,e.manifestUrl):"series"in e&&(e=Th(h,
e),Kt(k.l,e));return k});sa("box.dicom.createUploadWidget",function(a,b){a=Qc(document,a);if(!a)return null;var c=Bq(b||{}),c=new Dq(c);Xk(c,a);return c});sa("box.dicom.readDicomFile",function(a,b){var c=b||{},d=C(c,"scope",null),e=C(c,"success",ba),f=C(c,"error",ba);if(a){var h=new FileReader;h.onload=function(){var a=new Uint8Array(h.result),b=new gh;try{hh(b,a,"7FE00010"),e.call(d,b)}catch(c){f.call(d,c)}};h.readAsArrayBuffer(a)}else f.call(d,"Null file")});
sa("box.dicom.readDicomUrl",function(a,b){var c=b||{},d=C(c,"scope",null),c=C(c,"success",ba);Ng(mi(!0),a,c,d)});sa("box.dicom.getParam",function(a){var b=window.location.toString(),c=b.search(Me),d;b:{d=0;for(var e=a.length;0<=(d=b.indexOf(a,d))&&d<c;){var f=b.charCodeAt(d-1);if(38==f||63==f)if(f=b.charCodeAt(d+e),!f||61==f||38==f||35==f)break b;d+=e+1}d=-1}if(0>d)a=null;else{e=b.indexOf("&",d);if(0>e||e>c)e=c;d+=a.length+1;a=decodeURIComponent(b.substr(d,e-d).replace(/\+/g," "))}return a});H(self,"message",function(a){a=ii(a.g.data);var b=a.a;if((b instanceof ArrayBuffer||b instanceof Array)&&1!==b.byteLength){var b=new Uint8Array(b),b=new gh(b,null,null),c=b.da;a=hi(new gi(a.key,b.c,c.buffer,c.byteOffset,c.length,c instanceof Uint8Array));self.postMessage(a,[a.buffer])}});}).call(window);
