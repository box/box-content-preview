/*! Box Content Preview UI Kit | Copyright 2016-2017 Box | Licenses: https://cloud.box.com/v/preview-licenses-v1 */
!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=474)}([function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?r.apply(void 0,t):o.apply(void 0,t)}function r(e){var t=void 0;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?t=Reflect.ownKeys(e.prototype):(t=Object.getOwnPropertyNames(e.prototype),"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e.prototype)))),t.forEach(function(t){if("constructor"!==t){var n=Object.getOwnPropertyDescriptor(e.prototype,t);"function"==typeof n.value&&Object.defineProperty(e.prototype,t,o(e,t,n))}}),e}function o(e,t,n){var i=n.value;if("function"!=typeof i)throw new Error("@autobind decorator can only be applied to methods not: "+typeof i);var r=!1;return{configurable:!0,get:function(){if(r||this===e.prototype||this.hasOwnProperty(t))return i;var n=i.bind(this);return r=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),r=!1,n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},function(e,t,n){"use strict";n.d(t,"Q",function(){return i}),n.d(t,"k",function(){return r}),n.d(t,"v",function(){return o}),n.d(t,"I",function(){return a}),n.d(t,"K",function(){return l}),n.d(t,"U",function(){return u}),n.d(t,"s",function(){return h}),n.d(t,"r",function(){return d}),n.d(t,"P",function(){return f}),n.d(t,"O",function(){return b}),n.d(t,"n",function(){return E}),n.d(t,"N",function(){return w}),n.d(t,"M",function(){return _}),n.d(t,"X",function(){return O}),n.d(t,"Y",function(){return k}),n.d(t,"W",function(){return C}),n.d(t,"L",function(){return P}),n.d(t,"t",function(){return S}),n.d(t,"o",function(){return x}),n.d(t,"H",function(){return L}),n.d(t,"l",function(){return R}),n.d(t,"V",function(){return T}),n.d(t,"Z",function(){return j}),n.d(t,"R",function(){return A}),n.d(t,"S",function(){return H}),n.d(t,"B",function(){return D}),n.d(t,"m",function(){return M}),n.d(t,"C",function(){return N}),n.d(t,"D",function(){return I}),n.d(t,"E",function(){return B}),n.d(t,"F",function(){return V}),n.d(t,"G",function(){return z}),n.d(t,"A",function(){return F}),n.d(t,"y",function(){return q}),n.d(t,"z",function(){return U}),n.d(t,"x",function(){return W}),n.d(t,"w",function(){return G}),n.d(t,"u",function(){return Q}),n.d(t,"a",function(){return X}),n.d(t,"e",function(){return K}),n.d(t,"d",function(){return J}),n.d(t,"b",function(){return Z}),n.d(t,"c",function(){return Y}),n.d(t,"J",function(){return $}),n.d(t,"T",function(){return ee}),n.d(t,"p",function(){return te}),n.d(t,"q",function(){return ne}),n.d(t,"h",function(){return ie}),n.d(t,"i",function(){return re}),n.d(t,"j",function(){return oe}),n.d(t,"f",function(){return ae}),n.d(t,"g",function(){return se});var i="bp-is-active",r="bp-is-navigation-visible",o="bp-is-hidden",a="bp-loaded",s="bp",l="bp-btn",c="bp-container",u="bp-find-bar",h="bp-has-header",d="bp-header",p="bp-icon",f="bp-link",v="bp-loading-text",g="bp-loading-wrapper",m="bp-custom-logo",y="bp-default-logo",b="bp-menu",E="bp-is-mobile",w="bp-overlay",_="bp-overlay-wrapper",O="bp-preload",k="bp-preload-content",C="bp-preload-wrapper",P="bp-toggle-overlay",S="bp-theme-dark",x="bp-is-fullscreen",L="bp-is-invisible",R="bp-is-visible",T="bp-is-scrollable",j="bp-is-selectable",A="bp-is-buffering",H="bp-dark",D="."+c,M="."+s,N=".bp-navigate-left",I=".bp-navigate-right",B=".bp-btn-annotate",V=".bp-btn-print",z=".bp-btn-download",F=".bp-btn-loading-download",q="."+p,U="."+v,W="."+g,G="."+m,Q="."+y,X="can_download",K="can_annotate",J="can_preview",Z="https://api.box.com",Y="https://app.box.com",$="ORIGINAL",ee="jpg",te="success",ne="viewable",ie="[3d][pdf][text][mp3]",re="[jpg?dimensions=1024x1024&paged=false]",oe="[jpg?dimensions=2048x2048,png?dimensions=2048x2048]",ae="[dash,mp4][filmstrip]",se="[mp4]"},,,,function(e,t,n){"use strict";function i(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return x()(t,{headers:n,method:e,body:JSON.stringify(r)}).then(i).then(D)}function o(){var e=document.querySelector("#downloadiframe");return e||(e=document.createElement("iframe"),e.setAttribute("id","downloadiframe"),e.style.display="none",e=document.body.appendChild(e)),e.contentDocument.write("<head></head><body></body>"),e}function a(e){var t=void 0,n=void 0;"string"==typeof(arguments.length<=1?void 0:arguments[1])?n=arguments.length<=1?void 0:arguments[1]:(t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]),t=t||{},n=n||"json";var r=void 0;switch(n){case"text":r=M;break;case"blob":r=N;break;case"any":r=I;break;case"json":default:r=D}return x()(e,{headers:t}).then(i).then(r)}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,["post"].concat(t))}function l(e){var t=o();return t.src=e,t}function c(e){var t=o();return t.contentDocument.body.innerHTML=e,t.contentDocument.close(),t}function u(e,t){var n=document.createRange();return n.selectNode(e),n.createContextualFragment(t.replace(/>\s*</g,"><"))}function h(e,t){e.appendChild(u(e,t))}function d(e){var t=document.createElement("script");return t.src=e,t.async=!1,t}function p(e){var t=document.createElement("link");return t.rel="prefetch",t.href=e,t}function f(e){var t=document.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=e,t}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t&&(e.Authorization="Bearer "+t),n&&(e.BoxApi="shared_link="+n,i&&(e.BoxApi=e.BoxApi+"&shared_link_password="+i)),A&&(e[L]=A),H&&(e[R]=H),e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!t&&!n)return e;var r="?";e.indexOf("?")>0&&(r="&");var o="";return t&&(o="access_token="+t),n&&(o&&(o+="&"),o=o+"shared_link="+encodeURI(n),i&&(o=o+"&shared_link_password="+encodeURI(i))),A&&(o=o+"&"+T+"="+encodeURI(A)),H&&(o=o+"&"+j+"="+encodeURI(H)),""+e+r+o}function m(e,t){return e.replace("{asset_path}",t||"")}function y(e){var t=e.baseURI,n=e.staticBaseURI;return function(e){return 0===e.indexOf("http")?e:0===e.indexOf("third-party")?n+e:t+e}}function b(e){var t=document.head;e.forEach(function(e){t.querySelector('link[rel="prefetch"][href="'+e+'"]')||t.appendChild(p(e))})}function E(e){var t=document.head;e.forEach(function(e){t.querySelector('link[rel="stylesheet"][href="'+e+'"]')||t.appendChild(f(e))})}function w(e){var t=document.head,n=[];return e.forEach(function(e){if(!t.querySelector('script[src="'+e+'"]')){var i=d(e);n.push(new Promise(function(e,t){i.addEventListener("load",e),i.addEventListener("error",t)})),t.appendChild(i)}}),Promise.all(n)}function _(e){var t="",n=e.key||e.keyIdentifier||"";return e.ctrlKey?t="Control":e.shiftKey?t="Shift":e.metaKey&&(t="Meta"),n===t&&(n=""),0===n.indexOf("U+")&&(n="U+001B"===n?"Escape":String.fromCharCode(n.replace("U+","0x"))),n?(" "===n&&(n="Space"),"Right"!==n&&"Left"!==n&&"Down"!==n&&"Up"!==n||(n="Arrow"+n),t&&(t+="+"),t+n):""}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t?t.src:document.querySelector('script[src*="/'+e+'"]').src;if(!n)throw new Error("Missing or malformed preview library");var i=document.createElement("a");i.href=n;var r=i.pathname,o=r.split("/"),a=o.length,s=o[a-1],l=o[a-2],c=o[a-3],u=i.search,h=i.href.replace(s,"").replace(u,""),d=h.replace(l+"/","");return{origin:i.origin,host:i.host,hostname:i.hostname,search:u,protocol:i.protocol,port:i.port,href:i.href,pathname:r,locale:l,version:c,baseURI:h,staticBaseURI:d}}function k(e,t){var n=/\{\d+\}/g;return e&&e.length?e.replace(n,function(e){var n=parseInt(e.replace(/^\D+/g,""),10)-1;return t[n]?t[n]:e}):e}function C(e){return e.name.slice(0,e.name.lastIndexOf(".")).endsWith("360")}function P(e,t,n){e.style.width=t+"px",e.style.height=n+"px"}var S=n(151),x=n.n(S);t.b=a,t.e=s,t.c=l,t.p=c,t.o=u,t.m=h,t.s=f,t.d=v,t.g=g,t.h=m,t.i=y,t.l=b,t.j=E,t.k=w,t.f=_,t.a=O,t.n=k,t.q=C,t.r=P;var L="X-Box-Client-Name",R="X-Box-Client-Version",T="box_client_name",j="box_client_version",A="Box Content Preview",H="0.112.0",D=function(e){return 204===e.status?e:e.json()},M=function(e){return e.text()},N=function(e){return e.blob()},I=function(e){return e}},function(e,t,n){"use strict";var i=n(342),r=n.n(i),o=n(343),a=n.n(o),s=n(361),l=n.n(s),c=n(345),u=n.n(c),h=n(347),d=n.n(h),p=n(352),f=n.n(p),v=n(356),g=n.n(v),m=n(357),y=n.n(m),b=n(359),E=n.n(b),w=n(365),_=n.n(w),O=n(367),k=n.n(O),C=n(368),P=n.n(C),S=n(348),x=n.n(S),L=n(349),R=n.n(L),T=n(350),j=n.n(T),A=n(358),H=n.n(A),D=n(353),M=n.n(D),N=n(355),I=n.n(N),B=n(354),V=n.n(B),z=n(341),F=n.n(z),q=n(360),U=n.n(q),W=n(362),G=n.n(W),Q=n(363),X=n.n(Q),K=n(339),J=n.n(K),Z=n(340),Y=n.n(Z),$=n(344),ee=n.n($),te=n(346),ne=n.n(te),ie=n(351),re=n.n(ie),oe=n(366),ae=n.n(oe),se=n(364),le=n.n(se);n.d(t,"y",function(){return ce}),n.d(t,"p",function(){return ue}),n.d(t,"v",function(){return he}),n.d(t,"u",function(){return de}),n.d(t,"q",function(){return pe}),n.d(t,"d",function(){return fe}),n.d(t,"e",function(){return ve}),n.d(t,"x",function(){return ge}),n.d(t,"o",function(){return me}),n.d(t,"n",function(){return ye}),n.d(t,"m",function(){return be}),n.d(t,"t",function(){return Ee}),n.d(t,"s",function(){return we}),n.d(t,"l",function(){return _e}),n.d(t,"j",function(){return Oe}),n.d(t,"a",function(){return ke}),n.d(t,"b",function(){return Ce}),n.d(t,"c",function(){return Pe}),n.d(t,"i",function(){return Se}),n.d(t,"k",function(){return xe}),n.d(t,"h",function(){return Le}),n.d(t,"r",function(){return Re}),n.d(t,"g",function(){return Te}),n.d(t,"f",function(){return je}),n.d(t,"C",function(){return Ae}),n.d(t,"B",function(){return He}),n.d(t,"z",function(){return De}),n.d(t,"A",function(){return Me}),n.d(t,"w",function(){return Ne});var ce=(r.a,a.a),ue=l.a,he=u.a,de=d.a,pe=f.a,fe=g.a,ve=y.a,ge=E.a,me=_.a,ye=k.a,be=P.a,Ee=x.a,we=R.a,_e=j.a,Oe=H.a,ke=M.a,Ce=I.a,Pe=V.a,Se=F.a,xe=U.a,Le=G.a,Re=X.a,Te=J.a,je=Y.a,Ae=ee.a,He=ne.a,De=re.a,Me=ae.a,Ne=le.a},,,function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r='video/mp4; codecs="avc1.42E01E"',o='video/mp4; codecs="avc1.4D401E"',a='video/mp4; codecs="avc1.64001E"',s="OES_standard_derivatives",l=navigator.userAgent,c=void 0,u=void 0,h=void 0,d=function(){function t(){n(this,t)}return i(t,null,[{key:"getName",value:function(){return c?c:(l.indexOf("Edge/")>0?c="Edge":l.indexOf("OPR/")>0?c="Opera":l.indexOf("Chrome/")>0?c="Chrome":l.indexOf("Safari/")>0?c="Safari":l.indexOf("Trident/")>0?c="Explorer":l.indexOf("Firefox/")>0&&(c="Firefox"),c)}},{key:"canPlayType",value:function(e,t){var n=void 0;if(0===e.indexOf("audio/"))n=document.createElement("audio");else{if(0!==e.indexOf("video/"))return!1;n=document.createElement("video")}return!(!n.canPlayType||n.canPlayType(e).replace(/^no$/,"")!==t)}},{key:"canPlayH264",value:function(e){return t.canPlayType(e,"maybe")||t.canPlayType(e,"probably")}},{key:"canPlayH264Baseline",value:function(){return t.canPlayH264(r)}},{key:"canPlayH264Main",value:function(){return t.canPlayH264(o)}},{key:"canPlayH264High",value:function(){return t.canPlayH264(a)}},{key:"canPlayMP3",value:function(){return t.canPlayType("audio/mpeg","maybe")||t.canPlayType("audio/mpeg","probably")}},{key:"canPlayDash",value:function n(){var i=e.MediaSource,n=!1;return i&&(n="function"==typeof i.isTypeSupported?i.isTypeSupported(a):t.canPlayH264High()),n}},{key:"hasMSE",value:function(){return!!e.MediaSource}},{key:"hasWebGL",value:function(){if(!u){var e=document.createElement("canvas");try{u=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}h=null!==u&&void 0!==u}return h}},{key:"supportsModel3D",value:function(){return!!t.hasWebGL()&&!!u.getExtension(s)}},{key:"hasFlash",value:function t(){var t=!1;try{t=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(n){t=void 0!==e.navigator.mimeTypes["application/x-shockwave-flash"]}return t}},{key:"hasSVG",value:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}},{key:"isMobile",value:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}},{key:"isIOS",value:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)}},{key:"isAndroid",value:function(){return/Android/g.test(navigator.userAgent)}}]),t}();t.a=d}).call(t,n(32))},,,,function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.trace),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},,,,,function(e,t,n){"use strict";function i(e,t){for(var n=e;n&&n!==document;n=n.parentNode)if(n.classList&&n.classList.contains(t))return n;return null}function r(e,t){for(var n=t||"data-type",i=e;i&&i!==document;i=i.parentNode)if(i&&i.getAttribute(n))return i.getAttribute(n);return""}function o(e){var t=e;("string"==typeof e||e instanceof String)&&(t=document.querySelector(e)),t&&t.classList.remove(b.v)}function a(e){var t=e;("string"==typeof e||e instanceof String)&&(t=document.querySelector(e)),t&&t.classList.add(b.v)}function s(e){var t=e;("string"==typeof e||e instanceof String)&&(t=document.querySelector(e)),t&&t.classList.remove(b.H)}function l(e){var t=e;("string"==typeof e||e instanceof String)&&(t=document.querySelector(e)),t&&t.classList.add(b.H)}function c(e,t){var n=e;n.style.width="",n.style.height="",n.classList.remove(b.Q),t&&(n.value="")}function u(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth}function h(e,t,n){if(""!==e)return('<img src="'+e+'" alt="아바타">').trim();var i="";return"0"!==t&&(i=n.replace(/\W*(\w)\w*/g,"$1").toUpperCase().substring(0,3)),('<div class="bp-annotation-profile avatar-color-'+(parseInt(t,10)||0)%w+'">'+i+"</div>").trim()}function d(e){return parseFloat(e.getAttribute("data-scale"))||1}function p(e){return 1===e.length&&""===e[0].text}function f(e){return e===E.d||e===E.e}function v(e,t,n,i){var r=null;if(e&&void 0!==e.x&&void 0!==e.y){var o=t.width/n,a=(t.height-i)/n;(Math.abs(o-e.x)>1||Math.abs(a!==e.y)>1)&&(r={x:o/e.x,y:a/e.y})}return r}function g(e){return(""+e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}function m(e,t,n,i,r){var o=t<0,a=t+n>r,s=e.querySelector(".bp-annotation-caret");if(o&&!a){var l=Math.max(10,i);return s.style.left=l+"px",0}if(a&&!o){var c=Math.max(10,r-i);return s.style.left=n-c+"px",r-n}return s.style.left="50%",t}function y(e){return E.f.indexOf(e)>-1}var b=n(1),E=n(24);t.n=i,t.a=r,t.d=o,t.c=a,t.p=s,t.o=l,t.j=c,t.g=u,t.i=h,t.b=d,t.e=p,t.l=f,t.k=v,t.h=g,t.f=m,t.m=y;var w=9},,,,function(e,t,n){"use strict";function i(e,t){return t+"/2.0/files/"+e+"?fields="+p.join(",")}function r(e,t){return t+"/2.0/files/"+e+"?fields=download_url"}function o(e,t){return e.representations.entries.find(function(e){return e.representation===t})||null}function a(e,t){return!!e&&!!e.permissions&&!!e.permissions[t]}function s(e,t,n){return!!e&&"function"==typeof e[t]&&(!n||e[t](n))}function l(e){return!!e&&p.every(function(t){return void 0!==e[t]})}function c(e){o(e,d.J)||e.representations.entries.push({content:{url_template:e.authenticated_download_url+"?preview=true"},representation:d.J,status:{state:"success"}})}function u(e){e.representations&&c(e),h.a.set(e.id,e)}var h=n(40),d=n(1);t.f=i,t.e=r,t.g=o,t.c=a,t.d=s,t.a=l,t.b=u;var p=["permissions","parent","shared_link","sha1","file_version","name","size","extension","representations","watermark_info","authenticated_download_url"]},,function(e,t,n){"use strict";n.d(t,"l",function(){return i}),n.d(t,"w",function(){return r}),n.d(t,"x",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"k",function(){return c}),n.d(t,"j",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"i",function(){return v}),n.d(t,"o",function(){return g}),n.d(t,"s",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"g",function(){return b}),n.d(t,"c",function(){return E}),n.d(t,"t",function(){return w}),n.d(t,"b",function(){return _}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return k}),n.d(t,"f",function(){return C}),n.d(t,"q",function(){return P}),n.d(t,"p",function(){return S}),n.d(t,"u",function(){return x}),n.d(t,"v",function(){return L}),n.d(t,"r",function(){return R});var i="bp-annotation-dialog",r="bp-highlight-dialog",o="bp-is-text-highlighted",a="bp-point-annotation-mode",s="annotation-textarea",l="button-container",c="cannot-annotate",u="annotation-comments",h="reply-textarea",d="."+s,p="."+l,f="."+u,v="."+h,g="active",m="active-hover",y="hover",b="inactive",E="pending",w="pending-active",_="point",O="highlight",k="highlight-comment",C=[E,w],P=[g,m],S=[y,m],x="rgba(254, 217, 78, 0.5)",L="rgba(255, 201, 0, 0.5)",R="rgba(255, 245, 132, 1)"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:"canLoad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!this.determineViewer(e,t)}},{key:"getViewers",value:function(){return Array.isArray(this.viewers)?this.viewers:[]}},{key:"determineViewer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.viewers.find(function(n){return!(t.indexOf(n.NAME)>-1)&&(n.EXT.indexOf(e.extension)>-1&&e.representations.entries.some(function(e){return n.REP===e.representation}))})}},{key:"determineRepresentation",value:function(e,t){return e.representations.entries.find(function(e){return t.REP===e.representation})}}]),e}();t.a=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(13),u=n.n(c),h=n(152),d=n.n(h),p=n(33),f=n(120),v=n(5),g=n(9),m=n(1),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),b=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},E=18e4,w=300,_=l()(a=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.debouncedResizeHandler=d()(function(){n.resize()},w),n.handleAssetError=function(){n.triggerError(),n.destroyed=!0},n.options=e,n.repStatuses=[],n}return o(t,e),y(t,[{key:"setup",value:function(){var e=this.options.container;"string"==typeof e&&(e=document.querySelector(e)),this.containerEl=e.querySelector(m.m),this.addCommonListeners(),this.loadTimeout=E,g.a.isMobile()&&this.containerEl.classList.add(m.n)}},{key:"destroy",value:function(){this.repStatuses&&this.repStatuses.forEach(function(e){e.destroy()}),p.a.removeAllListeners(),document.defaultView.removeEventListener("resize",this.debouncedResizeHandler),this.removeAllListeners(),this.containerEl&&(this.containerEl.innerHTML=""),this.destroyed=!0,this.emit("destroy")}},{key:"load",value:function(){this.resetLoadTimeout()}},{key:"resetLoadTimeout",value:function(){var e=this;clearTimeout(this.loadTimeoutId),this.loadTimeoutId=setTimeout(function(){if(document.hidden)return void e.resetLoadTimeout();e.isLoaded()||e.isDestroyed()||e.triggerError()},this.loadTimeout)}},{key:"triggerError",value:function(e){this.emit("error",e instanceof Error?e:new Error("죄송합니다. 미리 보기가 로드되지 않았습니다. 페이지를 새로 고치십시오."))}},{key:"isLoaded",value:function(){return this.loaded}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"appendAuthParams",value:function(e){var t=this.options,i=t.token,r=t.sharedLink,o=t.sharedLinkPassword;return n.i(v.g)(e,i,r,o)}},{key:"createContentUrl",value:function(e,t){return n.i(v.h)(e,t)}},{key:"createContentUrlWithAuthParams",value:function(e,t){return this.appendAuthParams(this.createContentUrl(e,t))}},{key:"appendAuthHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.options,i=t.token,r=t.sharedLink,o=t.sharedLinkPassword;return n.i(v.d)(e,i,r,o)}},{key:"addCommonListeners",value:function(){var e=this;p.a.addListener("enter",function(){e.containerEl.classList.add(m.o),e.resize()}),p.a.addListener("exit",function(){e.containerEl.classList.remove(m.o),e.resize()}),document.defaultView.addEventListener("resize",this.debouncedResizeHandler)}},{key:"toggleFullscreen",value:function(){p.a.toggle(this.containerEl)}},{key:"resize",value:function(){this.emit("resize",{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight})}},{key:"allowNavigationArrows",value:function(){return!0}},{key:"emit",value:function(e,n){var i=this.options,r=i.file,o=i.viewer;b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).call(this,e,n),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).call(this,"viewerevent",{event:e,data:n,viewerName:o?o.NAME:"",fileId:r.id})}},{key:"mobileZoomStartHandler",value:function(e){g.a.isIOS()?(this._scaling=!0,e.preventDefault(),e.stopPropagation()):2===e.touches.length?(this._pinchScale={initial:{0:[e.touches[0].clientX,e.touches[0].clientY],1:[e.touches[1].clientX,e.touches[1].clientY]},end:{}},this._scaling=!0,e.preventDefault(),e.stopPropagation()):(this._scaling=!1,this._pinchScale=void 0)}},{key:"mobileZoomChangeHandler",value:function(e){2===e.touches.length&&this._scaling&&(this._pinchScale.end={0:[e.touches[0].clientX,e.touches[0].clientY],1:[e.touches[1].clientX,e.touches[1].clientY]})}},{key:"mobileZoomEndHandler",value:function(e){if(this._scaling){var t=0;if(g.a.isIOS())t=e.scale-1;else{var n=Math.sqrt((this._pinchScale.initial[0][0]-this._pinchScale.initial[1][0])*(this._pinchScale.initial[0][0]-this._pinchScale.initial[1][0])+(this._pinchScale.initial[0][1]-this._pinchScale.initial[1][1])*(this._pinchScale.initial[0][1]-this._pinchScale.initial[1][1]));t=Math.sqrt((this._pinchScale.end[0][0]-this._pinchScale.end[1][0])*(this._pinchScale.end[0][0]-this._pinchScale.end[1][0])+(this._pinchScale.end[0][1]-this._pinchScale.end[1][1])*(this._pinchScale.end[0][1]-this._pinchScale.end[1][1]))-n}t>0?this.zoomIn():t<0&&this.zoomOut(),this._scaling=!1,this._pinchScale=void 0}}},{key:"getViewerOption",value:function(e){var t=this.options,n=t.viewers,i=t.viewer;return n&&n[i.NAME]?n[i.NAME][e]:null}},{key:"loadAssets",value:function(e,t){var i=this.options.location,r=n.i(v.i)(i);return n.i(v.j)((t||[]).map(r)),n.i(v.k)((e||[]).map(r))}},{key:"prefetchAssets",value:function(e,t){var i=this.options.location,r=n.i(v.i)(i);n.i(v.l)((t||[]).map(r)),n.i(v.l)((e||[]).map(r))}},{key:"getRepStatus",value:function(e){var t=this.options,n=t.token,i=t.sharedLink,r=t.sharedLinkPassword,o=t.logger,a=new f.a({representation:e||this.options.representation,token:n,sharedLink:i,sharedLinkPassword:r,logger:e?null:o});return this.repStatuses.push(a),a}},{key:"isRepresentationReady",value:function(e){var t=f.a.getStatus(e);return t===m.p||t===m.q}}]),t}(u.a))||a;t.a=_},,,function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"i",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"c",function(){return h}),n.d(t,"k",function(){return d}),n.d(t,"a",function(){return p});var i="toggleVr",r="error",o="load",a="reset",s="sceneLoaded",l="showVrButton",c="toggleFullscreen",u="triggerRender",h="bp-box3d",d="bp-is-hidden",p="bp-invisible"},,,function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),l=n(1),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fullscreenchangeHandler=function(t){var n=!1;e.isSupported()?e.isFullscreen()&&(n=!0):e.isFullscreen(t)||(n=!0),n?e.emit("enter"):e.emit("exit")},document.addEventListener("webkitfullscreenchange",e.fullscreenchangeHandler),document.addEventListener("mozfullscreenchange",e.fullscreenchangeHandler),document.addEventListener("MSFullscreenChange",e.fullscreenchangeHandler),document.addEventListener("fullscreenchange",e.fullscreenchangeHandler),e}return o(t,e),c(t,[{key:"isSupported",value:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}},{key:"isFullscreen",value:function(e){return this.isSupported()?!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement):e instanceof HTMLElement&&e.classList.contains(l.o)}},{key:"toggle",value:function(e){var t=e||document.documentElement;this.isSupported()?this.isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():t.requestFullscreen?t.requestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.msRequestFullscreen?t.msRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):t.webkitRequestFullscreen&&t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):this.fullscreenchangeHandler(t)}}]),t}(s.a);t.a=new u},,,,,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.cache={}}return r(e,[{key:"set",value:function(e,t,n){this.cache[e]=t,n&&this.localStorageAvailable()&&localStorage.setItem(this.generateKey(e),JSON.stringify(t))}},{key:"unset",value:function(e){this.localStorageAvailable()&&localStorage.removeItem(this.generateKey(e)),delete this.cache[e]}},{key:"has",value:function(e){return this.inCache(e)||this.inLocalStorage(e)}},{key:"get",value:function(e){if(this.inCache(e))return this.cache[e];if(this.inLocalStorage(e)){var t=localStorage.getItem(this.generateKey(e));if(t)return t=JSON.parse(t),this.cache[e]=t,t}}},{key:"inCache",value:function(e){return{}.hasOwnProperty.call(this.cache,e)}},{key:"inLocalStorage",value:function(e){return!!this.localStorageAvailable()&&!!localStorage.getItem(this.generateKey(e))}},{key:"localStorageAvailable",value:function(){if(void 0===this.available)try{var e="__storage_test__";localStorage.setItem(e,e),localStorage.removeItem(e),this.available=!0}catch(e){this.available=!1}return this.available}},{key:"generateKey",value:function(e){return"bp-"+e}}]),e}();t.a=new o},function(e,t,n){"use strict";n.d(t,"j",function(){return i}),n.d(t,"z",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"w",function(){return f}),n.d(t,"v",function(){return v}),n.d(t,"x",function(){return g}),n.d(t,"y",function(){return m}),n.d(t,"H",function(){return y}),n.d(t,"n",function(){return b}),n.d(t,"o",function(){return E}),n.d(t,"m",function(){return w}),n.d(t,"q",function(){return _}),n.d(t,"p",function(){return O}),n.d(t,"D",function(){return k}),n.d(t,"E",function(){return C}),n.d(t,"F",function(){return P}),n.d(t,"l",function(){return S}),n.d(t,"A",function(){return x}),n.d(t,"C",function(){return L}),n.d(t,"B",function(){return R}),n.d(t,"k",function(){return T}),n.d(t,"r",function(){return j}),n.d(t,"s",function(){return A}),n.d(t,"t",function(){return H}),n.d(t,"u",function(){return D}),n.d(t,"G",function(){return M});var i="canvasClick",r="resetSkeletons",o="rotateOnAxis",a="selectAnimationClip",s="setRenderMode",l="setCameraProjection",c="setQualityLevel",u="setSkeletonsVisible",h="setWireframesVisible",d="toggleAnimation",p="toggleHelpers",f=10,v=10,g=4386,m=11184810,y="box3d-animation-clip-pullup",b="bp-overlay-panel",E="bp-pullup",w="bp-settings-panel-label",_="bp-settings-panel-row",O="bp-is-hidden",k="x",C="y",P="z",S="Perspective",x="Orthographic",L="autoQuality",R="fullQuality",T="Lit",j="Unlit",A="Normals",H="Shape",D="UV Overlay",M=90},,,,,function(e,t,n){(function(t){function n(e,t,n){function i(t){var n=v,i=g;return v=g=void 0,k=t,y=e.apply(i,n)}function o(e){return k=e,b=setTimeout(u,t),C?i(e):y}function a(e){var n=e-E,i=e-k,r=t-n;return P?_(r,m-i):r}function c(e){var n=e-E,i=e-k;return void 0===E||n>=t||n<0||P&&i>=m}function u(){var e=O();if(c(e))return h(e);b=setTimeout(u,a(e))}function h(e){return b=void 0,S&&v?i(e):(v=g=void 0,y)}function d(){void 0!==b&&clearTimeout(b),k=0,v=E=g=b=void 0}function p(){return void 0===b?y:h(O())}function f(){var e=O(),n=c(e);if(v=arguments,g=this,E=e,n){if(void 0===b)return o(E);if(P)return b=setTimeout(u,t),i(E)}return void 0===b&&(b=setTimeout(u,t)),y}var v,g,m,y,b,E,k=0,C=!1,P=!1,S=!0;if("function"!=typeof e)throw new TypeError(l);return t=s(t)||0,r(n)&&(C=!!n.leading,P="maxWait"in n,m=P?w(s(n.maxWait)||0,t):m,S="trailing"in n?!!n.trailing:S),f.cancel=d,f.flush=p,f}function i(e,t,i){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(l);return r(i)&&(o="leading"in i?!!i.leading:o,a="trailing"in i?!!i.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||o(e)&&E.call(e)==u}function s(e){if("number"==typeof e)return e;if(a(e))return c;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=p.test(e);return n||f.test(e)?v(e.slice(2),n?2:8):d.test(e)?c:+e}var l="Expected a function",c=NaN,u="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,f=/^0o[0-7]+$/i,v=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,y=g||m||Function("return this")(),b=Object.prototype,E=b.toString,w=Math.max,_=Math.min,O=function(){return y.Date.now()};e.exports=i}).call(t,n(32))},,,,,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(46),o=n.n(r),a=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l="box-show-preview-controls",c=1500,u=function(){function e(t){var n=this;i(this,e),this.mousemoveHandler=o()(function(){n.containerEl.classList.add(l),n.resetTimeout()},c-500),this.mouseenterHandler=function(){n.blockHiding=!0},this.mouseleaveHandler=function(){n.blockHiding=!1},this.focusinHandler=function(e){n.isPreviewControlButton(e.target)&&n.containerEl.classList.add(l)},this.focusoutHandler=function(e){n.isPreviewControlButton(e.target)&&!n.isPreviewControlButton(e.relatedTarget)&&n.containerEl.classList.remove(l)},this.buttonRefs=[],this.containerEl=t,this.controlsWrapperEl=this.containerEl.appendChild(document.createElement("div")),this.controlsWrapperEl.className="bp-controls-wrapper",this.controlsEl=this.controlsWrapperEl.appendChild(document.createElement("div")),this.controlsEl.className="bp-controls",this.containerEl.addEventListener("mousemove",this.mousemoveHandler),this.controlsEl.addEventListener("mouseenter",this.mouseenterHandler),this.controlsEl.addEventListener("mouseleave",this.mouseleaveHandler),this.controlsEl.addEventListener("focusin",this.focusinHandler),this.controlsEl.addEventListener("focusout",this.focusoutHandler)}return s(e,[{key:"destroy",value:function(){this.containerEl.removeEventListener("mousemove",this.mousemoveHandler),this.controlsEl.removeEventListener("mouseenter",this.mouseenterHandler),this.controlsEl.removeEventListener("mouseleave",this.mouseleaveHandler),this.controlsEl.removeEventListener("focusin",this.focusinHandler),this.controlsEl.removeEventListener("focusout",this.focusoutHandler),this.buttonRefs.forEach(function(e){e.button.removeEventListener("click",e.handler)})}},{key:"isPreviewControlButton",value:function(e){return!!e&&e.classList.contains("bp-controls-btn")}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.controlDisplayTimeoutId),this.controlDisplayTimeoutId=setTimeout(function(){clearTimeout(e.controlDisplayTimeoutId),e.blockHiding?e.resetTimeout():(e.containerEl.classList.remove(l),e.controlsEl.contains(document.activeElement)&&document.activeElement.blur())},c)}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=document.createElement("div");r.className="bp-controls-cell";var o=document.createElement("button");return o.setAttribute("aria-label",e),o.setAttribute("title",e),o.className="bp-controls-btn "+n,o.addEventListener("click",t),i&&(o.innerHTML=i),r.appendChild(o),this.controlsEl.appendChild(r),this.buttonRefs.push({button:o,handler:t}),o}},{key:"enable",value:function(){this.controlsEl.classList.remove(a.v)}},{key:"disable",value:function(){this.controlsEl.classList.add(a.v)}}]),e}();t.a=u},function(e,t,n){"use strict";function i(e){return e.classList.contains(y)}function r(e){var t=g.n(e,"page");return t?{pageEl:t,page:parseInt(t.getAttribute("data-page-number"),10)}:{pageEl:null,page:-1}}function o(e,t){if(!t)return!1;var n=e.clientX,i=e.clientY,r=t.getBoundingClientRect();return i>=r.top&&i<=r.bottom&&n>=r.left&&n<=r.right}function a(e){var t=e.querySelector(".bp-annotation-dialog:not(.bp-is-hidden)"),n=e.querySelector(".bp-highlight-dialog:not(.bp-is-hidden)");return!(!t&&!n)}function s(e,t,n,r){if(i(e)){var o=e.clientHeight,a=(o-n)/2,s=o-r-a-k;t.querySelector(".annotation-container").style.maxHeight=s+"px"}}function l(e,t,n){for(var i=!1,r=-1,o=e.length,a=o-1;++r<o;a=r)(e[r][1]<=n&&n<e[a][1]||e[a][1]<=n&&n<e[r][1])&&t<(e[a][0]-e[r][0])*(n-e[r][1])/(e[a][1]-e[r][1])+e[r][0]&&(i=!i);return i}function c(e,t){var n=e.highlightSelection("rangy-highlight",{containerElementId:t.id})[0],i=t.querySelector(".textLayer");return{highlight:n,highlightEls:[].slice.call(i.querySelectorAll(".rangy-highlight"),0).filter(function(e){return e.tagName&&"SPAN"===e.tagName&&""!==e.textContent.trim()})}}function u(){var e=window.getSelection();return!(!e||e.isCollapsed||e.rangeCount<1)}function h(e,t,n){var i=e.map(function(e){return e*_*n});if(2===i.length){var r=m(i,2);return[r[0],t-r[1]]}var o=m(i,8);return[o[0],t-o[1],o[2],t-o[3],o[4],t-o[5],o[6],t-o[7]]}function d(e,t,n){var i=[];if(2===e.length){var r=m(e,2);i=[r[0],t-r[1]]}else{var o=m(e,8);i=[o[0],t-o[1],o[2],t-o[3],o[4],t-o[5],o[6],t-o[7]]}return i.map(function(e){return(e*O/n).toFixed(4)})}function p(e,t){var n=t.querySelector('[data-page-number="'+e.page+'"]')||t,i=n.getBoundingClientRect(),r=i.height-E-b,o=g.b(t),a=e.x,s=e.y,l=g.k(e.dimensions,i,o,w);return l&&(a*=l.x,s*=l.y),h([a,s],r,o)}function f(e,t,n){var i=document.createElement("div");i.classList.add("bp-quad-corner-container"),i.innerHTML='\n        <div class="bp-quad-corner corner1"></div>\n        <div class="bp-quad-corner corner2"></div>\n        <div class="bp-quad-corner corner3"></div>\n        <div class="bp-quad-corner corner4"></div>'.trim(),e.appendChild(i);var r=i.querySelector(".corner1"),o=i.querySelector(".corner2"),a=i.querySelector(".corner3"),s=i.querySelector(".corner4"),l=r.getBoundingClientRect(),c=o.getBoundingClientRect(),u=a.getBoundingClientRect(),h=s.getBoundingClientRect(),p=t.getBoundingClientRect(),f=p.height-E-b,v=p.left,g=p.top+E;return e.removeChild(i),d([l.left-v,l.top-g,c.left-v,c.top-g,u.left-v,u.top-g,h.left-v,h.top-g],f,n)}function v(e){var t=m(e[e.length-1],8),n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7];return[Math.max(n,r,a,l),Math.min(i,o,s,c)]}var g=n(18);t.b=r,t.f=o,t.g=a,t.i=s,t.k=l,t.d=c,t.a=u,t.j=h,t.c=d,t.h=p,t.e=f,t.l=v;var m=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y="bp-doc-presentation",b=15,E=15,w=30,_=4/3,O=.75,k=48},,,,,,,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(13),l=n.n(s),c=n(151),u=n.n(c),h=n(0),d=n.n(h),p=n(121),f=n(5),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g={id:"0",name:"일부 사용자"},m=d()(a=function(e){function t(e){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._api=e.apiHost,o._fileId=e.fileId,o._headers=n.i(f.d)({},e.token),o._canAnnotate=e.canAnnotate,o._user=g,o}return o(t,e),v(t,null,[{key:"generateID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}}]),v(t,[{key:"create",value:function(e){var t=this;return new Promise(function(n,i){u()(t._api+"/2.0/annotations",{method:"POST",headers:t._headers,body:JSON.stringify({item:{type:"file_version",id:e.fileVersionID},details:{type:e.type,location:e.location,threadID:e.threadID},message:e.text,thread:e.thread})}).then(function(e){return e.json()}).then(function(e){if("error"!==e.type&&e.id){var r=e;r.permissions={can_edit:!0,can_delete:!0};var o=t.createAnnotation(r);"0"===t._user.id&&(t._user=o.user),n(o)}else i(new Error("Could not create annotation")),t.emit("annotationerror",{reason:"create"})}).catch(function(){i(new Error("Could not create annotation due to invalid or expired token")),t.emit("annotationerror",{reason:"authorization"})})})}},{key:"read",value:function(e){this._annotations=[];var t=void 0,n=void 0,i=new Promise(function(e,i){t=e,n=i});return this.readFromMarker(t,n,e),i}},{key:"delete",value:function(e){var t=this;return new Promise(function(n,i){u()(t._api+"/2.0/annotations/"+e,{method:"DELETE",headers:t._headers}).then(function(r){204===r.status?n():(i(new Error("Could not delete annotation with ID "+e)),t.emit("annotationerror",{reason:"delete"}))}).catch(function(){i(new Error("Could not delete annotation due to invalid or expired token")),t.emit("annotationerror",{reason:"authorization"})})})}},{key:"getThreadMap",value:function(e){return this.read(e).then(this.createThreadMap)}},{key:"createThreadMap",value:function(e){var t={};return e.forEach(function(e){var n=e.threadID;t[n]=t[n]||[],t[n].push(e)}),Object.keys(t).forEach(function(e){t[e].sort(function(e,t){return new Date(e.created)-new Date(t.created)})}),t}},{key:"createAnnotation",value:function(e){return new p.a({annotationID:e.id,fileVersionID:e.item.id,threadID:e.details.threadID,type:e.details.type,thread:e.thread,text:e.message,location:e.details.location,user:{id:e.created_by.id,name:e.created_by.name,avatarUrl:e.created_by.profile_image},permissions:e.permissions,created:e.created_at,modified:e.modified_at})}},{key:"getReadUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this._api+"/2.0/files/"+this._fileId+"/annotations?version="+e+"&fields=item,thread,details,message,created_by,created_at,modified_at,permissions";return t&&(i+="&marker="+t),n&&(i+="&limit="+n),i}},{key:"readFromMarker",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;u()(this.getReadUrl(n,r,o),{headers:this._headers}).then(function(e){return e.json()}).then(function(r){"error"!==r.type&&Array.isArray(r.entries)?(r.entries.forEach(function(e){i._annotations.push(i.createAnnotation(e))}),r.next_marker?i.readFromMarker(e,t,n,r.next_marker,o):e(i._annotations)):(t(new Error("Could not read annotations from file version with ID "+n)),i.emit("annotationerror",{reason:"read"}))}).catch(function(){t(new Error("Could not read annotations from file due to invalid or expired token")),i.emit("annotationerror",{reason:"authorization"})})}},{key:"canAnnotate",get:function(){return this._canAnnotate}},{key:"canDelete",get:function(){return this._canDelete}},{key:"user",get:function(){return this._user}}]),t}(l.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){var i="";if(n){i="&shared_link_password="+encodeURI(n)}e.setRequestHeader("boxapi","shared_link="+encodeURI(t)+i)}var s=n(13),l=n.n(s),c=n(29),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h="orbit_camera",d={x:0,y:0,z:0},p={x:0,y:0,z:0,w:1},f="oculusTouchLeft",v="oculusTouchRight",g="viveController",m=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.containerEl=e,o.assets=[],o.vrEnabled=!1,o.vrGamepads=[],o.box3d=null,o.boxSdk=n,o.on(c.j,o.handleOnRender),o.defaultCameraPosition=d,o.defaultCameraQuaternion=p,o}return o(t,e),u(t,[{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.staticBaseURI=t&&t.location?t.location.staticBaseURI:"",this.initBox3d(t)}},{key:"destroy",value:function(){this.removeListener(c.j,this.handleOnRender),this.box3d&&(this.disableVr(),this.box3d.destroy(),this.box3d=null)}},{key:"reset",value:function(){this.resetView()}},{key:"resetView",value:function(){var e=this.getCamera();e&&(e.setPosition(this.defaultCameraPosition.x,this.defaultCameraPosition.y,this.defaultCameraPosition.z),e.setQuaternion(this.defaultCameraQuaternion.x,this.defaultCameraQuaternion.y,this.defaultCameraQuaternion.z,this.defaultCameraQuaternion.w))}},{key:"getCamera",value:function(){return this.box3d?this.box3d.getObjectById("CAMERA_ID"):null}},{key:"getAspect",value:function(){return this.containerEl.clientWidth/this.containerEl.clientHeight}},{key:"getScene",value:function(){return this.box3d?this.box3d.getEntityById("SCENE_ID"):null}},{key:"getBox3D",value:function(){return this.box3d}},{key:"configureXHR",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new XMLHttpRequest;return i.open("GET",t),n.isExternal||(i.setRequestHeader("Authorization","Bearer "+e.token),e.sharedLink&&a(i,e.sharedLink,e.sharedLinkPassword)),Promise.resolve(i)}},{key:"initBox3d",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Box3D)return Promise.reject(new Error("Missing Box3D"));if(!e.file||!e.file.file_version)return Promise.reject(new Error("Missing file version"));var t=new Box3D.XhrResourceLoader(this.configureXHR.bind(this,e));return this.createBox3d(t,e.sceneEntities)}},{key:"createBox3d",value:function(e,t){var n=this,i=new Box3D.Engine({container:this.containerEl,engineName:"Default",resourceLoader:e});return new Promise(function(e){i.addEntities(t),i.getAssetById("APP_ASSET_ID").load(),n.box3d=i,e(n.box3d)})}},{key:"onSceneLoad",value:function(){this.reset(),this.emit(c.g),this.initVr()}},{key:"toggleVr",value:function(){this.vrEnabled?this.disableVr():this.enableVr()}},{key:"onDisableVr",value:function(){this.enableCameraControls(),this.box3d.trigger("resize"),this.box3d.getRenderer().setAttribute("renderOnDemand",!0),this.hideVrGamepads();var e=this.box3d.getVrDisplay();this.vrEnabled=e&&e.isPresenting,this.resetView()}},{key:"onEnableVr",value:function(){this.disableCameraControls(),this.box3d.getRenderer().setAttribute("renderOnDemand",!1),this.showVrGamepads();var e=this.box3d.getVrDisplay();this.vrEnabled=e&&e.isPresenting}},{key:"enableVr",value:function(){this.vrEnabled||this.box3d.trigger("enableVrRendering")}},{key:"disableVr",value:function(){this.vrEnabled&&this.box3d.trigger("disableVrRendering")}},{key:"handleOnRender",value:function(){this.box3d&&this.box3d.trigger("render")}},{key:"resize",value:function(){this.box3d&&this.box3d.trigger("resize")}},{key:"enableCameraControls",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=this.getCamera(),n=t.getComponentByScriptId(e);n&&n.enable()}},{key:"disableCameraControls",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=this.getCamera(),n=t.getComponentByScriptId(e);n&&n.disable()}},{key:"initVr",value:function(){var e=this;if(!Box3D.isTablet()){this.box3d.getApplication().getComponentByScriptId("vr_presenter").whenDisplaysAvailable(function(t){t.length&&(e.emit(c.h),e.box3d.listenTo(e.box3d,"vrRenderingDisabled",e.onDisableVr.bind(e)),e.box3d.listenTo(e.box3d,"vrRenderingEnabled",e.onEnableVr.bind(e)),e.createVrGamepads())})}}},{key:"createVrGamepads",value:function(){var e=this;this.vrGamepads.length||(this.vrGamepads=[Box3D.Handedness.Left,Box3D.Handedness.Right].map(function(t){return e.createVrGamepad(t)}))}},{key:"createVrGamepad",value:function(e){var t=this,n=this.box3d.createNode(),i=function(e){var i=e.find(function(e){return"prefab"===e.type}),r=t.box3d.getAssetById(i.id);n.addChild(r.createInstance()),t.vrEnabled?t.showVrGamepads():t.hideVrGamepads()},r=function(e){var n=null;if(e.id.indexOf("Oculus")>-1)switch(e.hand){case"left":n=f;break;default:n=v}else if(e.id.indexOf("OpenVR")>-1&&(n=g,t.vrGamepadLoadPromise))return void t.vrGamepadLoadPromise.then(i);t.vrGamepadLoadPromise=t.box3d.addRemoteEntities(t.staticBaseURI+"third-party/model3d/WebVR/"+n+"/entities.json",{isExternal:!0}),t.vrGamepadLoadPromise.then(i)},o=n.addComponent("motion_gamepad_device",{handPreference:e});return n.addComponent("intersection_checker",{objectTypeFilter:["mesh"]}),this.getScene().addChild(n),o.whenGamepadFound(r),n}},{key:"showVrGamepads",value:function(){this.vrGamepads.forEach(function(e){return e.setProperty("visible",!0)})}},{key:"hideVrGamepads",value:function(){this.vrGamepads.forEach(function(e){return e.setProperty("visible",!1)})}}]),t}(l.a);t.a=m},,,,,,function(e,t,n){var i,r;!function(o,a){i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r)}(function(){function e(e,t){var n=typeof e[t];return n==E||!(n!=b||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=b||!e[t])}function n(e,t){return typeof e[t]!=w}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function r(e){return e&&P(e,C)&&x(e,k)}function o(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(t){typeof console!=w&&e(console,"log")}function s(e,t){T&&t?alert(e):a(e)}function l(e){A.initialized=!0,A.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,A.config.alertOnFail)}function c(e){s("Rangy warning: "+e,A.config.alertOnWarn)}function u(e){return e.message||e.description||String(e)}function h(){if(T&&!A.initialized){var t,n=!1,i=!1;e(document,"createRange")&&(t=document.createRange(),P(t,O)&&x(t,_)&&(n=!0));var s=o(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),r(t)&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");A.initialized=!0,A.features={implementsDomRange:n,implementsTextRange:i};var c,h;for(var d in R)(c=R[d])instanceof v&&c.init(c,A);for(var p=0,f=M.length;p<f;++p)try{M[p](A)}catch(e){h="Rangy init listener threw an exception. Continuing. Detail: "+u(e),a(h)}}}function d(e,t,n){n&&(e+=" in module "+n.name),A.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function p(e,t,n,i){e[t]=function(){return d(t,n,i),e[n].apply(e,j.toArray(arguments))}}function f(e){e=e||window,h();for(var t=0,n=N.length;t<n;++t)N[t](e)}function v(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function g(e,t,n){var i=new v(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(A,t),t.supported=!0}catch(t){var i="Module '"+e+"' failed to load: "+u(t);a(i),t.stack&&a(t.stack)}}});return R[e]=i,i}function m(){}function y(){}var b="object",E="function",w="undefined",_=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],O=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],k=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],C=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],P=i(e),S=i(t),x=i(n),L=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,i=e.length;n<i;++n)t(e[n],n)},R={},T=typeof window!=w&&typeof document!=w,j={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:P,areHostObjects:S,areHostProperties:x,isTextRange:r,getBody:o,forEach:L},A={version:"1.3.0",initialized:!1,isBrowser:T,supported:!0,util:j,features:{},modules:R,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==w||rangyAutoInitialize}};A.fail=l,A.warn=c;var H;!{}.hasOwnProperty?l("hasOwnProperty not supported"):(j.extend=H=function(e,t,n){var i,r;for(var o in t)t.hasOwnProperty(o)&&(i=e[o],r=t[o],n&&null!==i&&"object"==typeof i&&null!==r&&"object"==typeof r&&H(i,r,!0),e[o]=r);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},j.createOptions=function(e,t){var n={};return H(n,t),e&&H(n,e),n}),T||l("Rangy can only run in a browser"),function(){var e;if(T){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],n=0,i=e.length;n<i;++n)t[n]=e[n];return t}),j.toArray=e}();var D;T&&(e(document,"addEventListener")?D=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?D=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),j.addListener=D);var M=[];j.deprecationNotice=d,j.createAliasForDeprecatedMethod=p,A.init=h,A.addInitListener=function(e){A.initialized?e(A):M.push(e)};var N=[];A.addShimListener=function(e){N.push(e)},T&&(A.shim=A.createMissingNativeApi=f,p(A,"createMissingNativeApi","shim")),v.prototype={init:function(){for(var e,t,n=this.dependencies||[],i=0,r=n.length;i<r;++i){if(t=n[i],!((e=R[t])&&e instanceof v))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){A.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){A.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},A.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var i=g(e,n,t);A.initialized&&A.supported&&i.init()},A.createCoreModule=function(e,t,n){g(e,t,n)},A.RangePrototype=m,A.rangePrototype=new m,A.selectionPrototype=new y,A.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==T||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)++t;return t}function o(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function a(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(M(i,n))return n;return null}function s(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t){return s(e,t,!0)}function c(e,t,n){for(var i,r=n?e:e.parentNode;r;){if((i=r.parentNode)===t)return r;r=i}return null}function u(e){var t=e.nodeType;return 3==t||4==t||8==t}function h(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function d(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function p(e,t,n){var i=e.cloneNode(!1);if(i.deleteData(0,t),e.deleteData(t,e.length-t),d(i,e),n)for(var o,a=0;o=n[a++];)o.node==e&&o.offset>t?(o.node=i,o.offset-=t):o.node==e.parentNode&&o.offset>r(e)&&++o.offset;return i}function f(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=T)return e.ownerDocument;if(typeof e.document!=T)return e.document;if(e.parentNode)return f(e.parentNode);throw t.createError("getDocument: no document found for node")}function v(e){var n=f(e);if(typeof n.defaultView!=T)return n.defaultView;if(typeof n.parentWindow!=T)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=T)return e.contentDocument;if(typeof e.contentWindow!=T)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function m(e){if(typeof e.contentWindow!=T)return e.contentWindow;if(typeof e.contentDocument!=T)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function y(e){return e&&j.isHostMethod(e,"setTimeout")&&j.isHostObject(e,"document")}function b(e,t,n){var i;if(e?j.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):f(e):y(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i}function E(e){for(var t;t=e.parentNode;)e=t;return e}function w(e,n,i,o){var s,l,u,h,d;if(e==i)return n===o?0:n<o?-1:1;if(s=c(i,e,!0))return n<=r(s)?-1:1;if(s=c(e,i,!0))return r(s)<o?-1:1;if(!(l=a(e,i)))throw new Error("comparePoints error: nodes have no common ancestor");if(u=e===l?l:c(e,l,!0),h=i===l?l:c(i,l,!0),u===h)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=l.firstChild;d;){if(d===u)return-1;if(d===h)return 1;d=d.nextSibling}}function _(e){try{return e.parentNode,!1}catch(e){return!0}}function O(e){if(!e)return"[No node]";if(N&&_(e))return"[Broken node]";if(u(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+r(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function k(e){for(var t,n=f(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function C(e,t,n){var i=A(e),r=e.createElement("div");r.contentEditable=""+!!n,t&&(r.innerHTML=t);var o=i.firstChild;return o?i.insertBefore(r,o):i.appendChild(r),r}function P(e){return e.parentNode.removeChild(e)}function S(e){this.root=e,this._next=e}function x(e){return new S(e)}function L(e,t){this.node=e,this.offset=t}function R(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var T="undefined",j=e.util,A=j.getBody;j.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),j.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var H=document.createElement("div");j.areHostMethods(H,["insertBefore","appendChild","cloneNode"]||!j.areHostObjects(H,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),j.isHostProperty(H,"innerHTML")||t.fail("Element is missing innerHTML property");var D=document.createTextNode("test");j.areHostMethods(D,["splitText","deleteData","insertData","appendData","cloneNode"]||!j.areHostObjects(H,["previousSibling","nextSibling","childNodes","parentNode"])||!j.areHostProperties(D,["data"]))||t.fail("Incomplete Text Node implementation");var M=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},N=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",N=_(n),e.features.crashyTextNodes=N}();var I;typeof window.getComputedStyle!=T?I=function(e,t){return v(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=T?I=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),S.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},L.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+O(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},R.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},R.prototype.toString=function(){return this.message},e.dom={arrayContains:M,isHtmlNamespace:n,parentElement:i,getNodeIndex:r,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:c,isCharacterDataNode:u,isTextOrCommentNode:h,insertAfter:d,splitDataNode:p,getDocument:f,getWindow:v,getIframeWindow:m,getIframeDocument:g,getBody:A,isWindow:y,getContentDocument:b,getRootContainer:E,comparePoints:w,isBrokenNode:_,inspectNode:O,getComputedStyleProperty:I,createTestElement:C,removeNode:P,fragmentFromNodeChildren:k,createIterator:x,DomPosition:L},e.DOMException=R}),A.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(z(e,t.startContainer)||z(e,t.endContainer))}function i(e){return e.document||F(e.startContainer)}function r(e){return X(e.startContainer)}function o(e){return new N(e.parentNode,V(e))}function a(e){return new N(e.parentNode,V(e)+1)}function s(e,t,n){var i=11==e.nodeType?e.firstChild:e;return B(t)?n==t.length?D.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:U(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function l(e,t,n){if(C(e),C(t),i(t)!=i(e))throw new I("WRONG_DOCUMENT_ERR");var r=q(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=q(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&o>=0:r<0&&o>0}function c(e){for(var t,n,r,o=i(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(r=e.getSubtreeIterator(),n.appendChild(c(r)),r.detach()),10==n.nodeType)throw new I("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function u(e,t,n){var i,r;n=n||{stop:!1};for(var o,a;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return void(n.stop=!0);if(a=e.getSubtreeIterator(),u(a,t,n),a.detach(),n.stop)return}else for(i=D.createIterator(o);r=i.next();)if(t(r)===!1)return void(n.stop=!0)}function h(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),h(t),t.detach()):e.remove()}function d(e){for(var t,n,r=i(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(d(n)),n.detach()):e.remove(),10==t.nodeType)throw new I("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function p(e,t,n){var i,r=!(!t||!t.length),o=!!n;r&&(i=new RegExp("^("+t.join("|")+")$"));var a=[];return u(new v(e,!1),function(t){if((!r||i.test(t.nodeType))&&(!o||n(t))){var s=e.startContainer;if(t!=s||!B(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&B(l)&&0==e.endOffset||a.push(t)}}}),a}function f(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+D.inspectNode(e.startContainer)+":"+e.startOffset+", "+D.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function v(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&B(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||B(this.sc)?W(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||B(this.ec)?W(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function g(e){return function(t,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.nodeType,Q(e,i))return r;r=r.parentNode}return null}}function m(e,t){if(re(e,t))throw new I("INVALID_NODE_TYPE_ERR")}function y(e,t){if(!Q(t,e.nodeType))throw new I("INVALID_NODE_TYPE_ERR")}function b(e,t){if(t<0||t>(B(e)?e.length:e.childNodes.length))throw new I("INDEX_SIZE_ERR")}function E(e,t){if(ne(e,!0)!==ne(t,!0))throw new I("WRONG_DOCUMENT_ERR")}function w(e){if(ie(e,!0))throw new I("NO_MODIFICATION_ALLOWED_ERR")}function _(e,t){if(!e)throw new I(t)}function O(e,t){return t<=(B(e)?e.length:e.childNodes.length)}function k(e){return!!e.startContainer&&!!e.endContainer&&!(K&&(D.isBrokenNode(e.startContainer)||D.isBrokenNode(e.endContainer)))&&X(e.startContainer)==X(e.endContainer)&&O(e.startContainer,e.startOffset)&&O(e.endContainer,e.endOffset)}function C(e){if(!k(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function P(e,t){C(e);var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,a=n===r;B(r)&&o>0&&o<r.length&&U(r,o,t),B(n)&&i>0&&i<n.length&&(n=U(n,i,t),a?(o-=i,r=n):r==n.parentNode&&o>=V(n)&&o++,i=0),e.setStartAndEnd(n,i,r,o)}function S(e){C(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function x(e){e.START_TO_START=ce,e.START_TO_END=ue,e.END_TO_END=he,e.END_TO_START=de,e.NODE_BEFORE=pe,e.NODE_AFTER=fe,e.NODE_BEFORE_AND_AFTER=ve,e.NODE_INSIDE=ge}function L(e){x(e),x(e.prototype)}function R(e,t){return function(){C(this);var n,i,r=this.startContainer,o=this.startOffset,s=this.commonAncestorContainer,l=new v(this,!0);r!==s&&(n=W(r,s,!0),i=a(n),r=i.node,o=i.offset),u(l,w),l.reset();var c=e(l);return l.detach(),t(this,r,o,r,o),c}}function T(t,i){function r(e,t){return function(n){y(n,Z),y(X(n),Y);var i=(e?o:a)(n);(t?s:l)(this,i.node,i.offset)}}function s(e,t,n){var r=e.endContainer,o=e.endOffset;t===e.startContainer&&n===e.startOffset||(X(t)==X(r)&&1!=q(t,n,r,o)||(r=t,o=n),i(e,t,n,r,o))}function l(e,t,n){var r=e.startContainer,o=e.startOffset;t===e.endContainer&&n===e.endOffset||(X(t)==X(r)&&q(t,n,r,o)!=-1||(r=t,o=n),i(e,r,o,t,n))}var c=function(){};c.prototype=e.rangePrototype,t.prototype=new c,M.extend(t.prototype,{setStart:function(e,t){m(e,!0),b(e,t),s(this,e,t)},setEnd:function(e,t){m(e,!0),b(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],r=t,o=n;switch(e.length){case 3:o=e[2];break;case 4:r=e[2],o=e[3]}i(this,t,n,r,o)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:r(!0,!0),setStartAfter:r(!1,!0),setEndBefore:r(!0,!1),setEndAfter:r(!1,!1),collapse:function(e){C(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){m(e,!0),i(this,e,0,e,G(e))},selectNode:function(e){m(e,!1),y(e,Z);var t=o(e),n=a(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:R(d,i),deleteContents:R(h,i),canSurroundContents:function(){C(this),w(this.startContainer),w(this.endContainer);var e=new v(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){P(this)},splitBoundariesPreservingPositions:function(e){P(this,e)},normalizeBoundaries:function(){C(this);var e,t=this.startContainer,n=this.startOffset,r=this.endContainer,o=this.endOffset,a=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(r=e,o=e.length,e.appendData(t.data),J(t))},s=function(e){var i=e.previousSibling;if(i&&i.nodeType==e.nodeType){t=e;var a=e.length;if(n=i.length,e.insertData(0,i.data),J(i),t==r)o+=n,r=t;else if(r==e.parentNode){var s=V(e);o==s?(r=e,o=a):o>s&&o--}}},l=!0;if(B(r))o==r.length?a(r):0==o&&(e=r.previousSibling)&&e.nodeType==r.nodeType&&(o=e.length,t==r&&(l=!1),e.appendData(r.data),J(r),r=e);else{if(o>0){var c=r.childNodes[o-1];c&&B(c)&&a(c)}l=!this.collapsed}if(l){if(B(t))0==n?s(t):n==t.length&&(e=t.nextSibling)&&e.nodeType==t.nodeType&&(r==e&&(r=t,o+=t.length),t.appendData(e.data),J(e));else if(n<t.childNodes.length){var u=t.childNodes[n];u&&B(u)&&s(u)}}else t=r,n=o;i(this,t,n,r,o)},collapseToPoint:function(e,t){m(e,!0),b(e,t),this.setStartAndEnd(e,t)}}),L(t)}function j(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:D.getCommonAncestor(e.startContainer,e.endContainer)}function A(e,t,n,i,r){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=r,e.document=D.getDocument(t),j(e)}function H(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,j(this)}var D=e.dom,M=e.util,N=D.DomPosition,I=e.DOMException,B=D.isCharacterDataNode,V=D.getNodeIndex,z=D.isOrIsAncestorOf,F=D.getDocument,q=D.comparePoints,U=D.splitDataNode,W=D.getClosestAncestorIn,G=D.getNodeLength,Q=D.arrayContains,X=D.getRootContainer,K=e.features.crashyTextNodes,J=D.removeNode;v.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,B(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!B(n)||n!==this.sc&&n!==this.ec?n.parentNode&&J(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){return n(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new H(i(this.range));var t=this._current,n=t,r=0,o=t,a=G(t);z(t,this.sc)&&(n=this.sc,r=this.so),z(t,this.ec)&&(o=this.ec,a=this.eo),A(e,n,r,o,a)}return new v(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],Y=[2,9,11],$=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=g([9,11]),ie=g($),re=g([6,10,12]),oe=document.createElement("style"),ae=!1;try{oe.innerHTML="<b>x</b>",ae=3==oe.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=ae;var se=ae?function(e){var t=this.startContainer,n=F(t);if(!t)throw new I("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:B(t)&&(i=D.parentElement(t)),i=null===i||"HTML"==i.nodeName&&D.isHtmlNamespace(F(i).documentElement)&&D.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,D.fragmentFromNodeChildren(i)}:function(e){var t=i(this),n=t.createElement("body");return n.innerHTML=e,D.fragmentFromNodeChildren(n)},le=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ce=0,ue=1,he=2,de=3,pe=0,fe=1,ve=2,ge=3;M.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){C(this),E(this.startContainer,t.startContainer);var n,i,r,o,a=e==de||e==ce?"start":"end",s=e==ue||e==ce?"start":"end";return n=this[a+"Container"],i=this[a+"Offset"],r=t[s+"Container"],o=t[s+"Offset"],q(n,i,r,o)},insertNode:function(e){if(C(this),y(e,ee),w(this.startContainer),z(e,this.startContainer))throw new I("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){C(this);var e,t;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&B(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=i(this).createDocumentFragment(),t.appendChild(e),t;var n=new v(this,!0);return e=c(n),n.detach(),e},canSurroundContents:function(){C(this),w(this.startContainer),w(this.endContainer);var e=new v(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(y(e,te),!this.canSurroundContents())throw new I("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){C(this);for(var e,t=new H(i(this)),n=le.length;n--;)e=le[n],t[e]=this[e];return t},toString:function(){C(this);var e=this.startContainer;if(e===this.endContainer&&B(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new v(this,!0);return u(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){C(this);var t=e.parentNode,n=V(e);if(!t)throw new I("NOT_FOUND_ERR");var i=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return i<0?r>0?ve:pe:r>0?fe:ge},comparePoint:function(e,t){return C(this),_(e,"HIERARCHY_REQUEST_ERR"),E(e,this.startContainer),q(e,t,this.startContainer,this.startOffset)<0?-1:q(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:se,toHtml:function(){return S(this)},intersectsNode:function(e,t){if(C(this),X(e)!=r(this))return!1;var n=e.parentNode,i=V(e);if(!n)return!0;var o=q(n,i,this.endContainer,this.endOffset),a=q(n,i+1,this.startContainer,this.startOffset);return t?o<=0&&a>=0:o<0&&a>0},isPointInRange:function(e,t){return C(this),_(e,"HIERARCHY_REQUEST_ERR"),E(e,this.startContainer),q(e,t,this.startContainer,this.startOffset)>=0&&q(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return l(this,e,!1)},intersectsOrTouchesRange:function(e){return l(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=q(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=q(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return t==-1&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return q(e.startContainer,e.startOffset,this.startContainer,this.startOffset)==-1&&t.setStart(e.startContainer,e.startOffset),1==q(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new I("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ge},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,G(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();return t.setEnd(i,i.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return C(this),p(this,e,t)},getDocument:function(){return i(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=i(this),r=e.createRange(n);t=t||D.getBody(n),r.selectNodeContents(t);var o=this.intersection(r),a=0,s=0;return o&&(r.setEnd(o.startContainer,o.startOffset),a=r.toString().length,s=a+o.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var i,r,o,a,s=[t],l=!1,c=!1;!c&&(i=s.pop());)if(3==i.nodeType)r=n+i.length,!l&&e.start>=n&&e.start<=r&&(this.setStart(i,e.start-n),l=!0),l&&e.end>=n&&e.end<=r&&(this.setEnd(i,e.end-n),c=!0),n=r;else for(a=i.childNodes,o=a.length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return H.rangesEqual(this,e)},isValid:function(){return k(this)},inspect:function(){return f(this)},detach:function(){}}),T(H,A),M.extend(H,{rangeProperties:le,RangeIterator:v,copyComparisonConstants:L,createPrototypeRange:T,inspect:f,toHtml:S,getRangeDocument:i,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=H}),A.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,i,r=e.dom,o=e.util,a=r.DomPosition,s=e.DomRange,l=r.getBody,c=r.getContentDocument,u=r.isCharacterDataNode;if(e.features.implementsDomRange&&function(){function i(e){for(var t,n=d.length;n--;)t=d[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function a(e,t,n,i,r){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==i||e.endOffset!=r,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(i,r),e.setStart(t,n))}var u,h,d=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},s.createPrototypeRange(n,a),u=n.prototype,u.selectNode=function(e){this.nativeRange.selectNode(e),i(this)},u.cloneContents=function(){return this.nativeRange.cloneContents()},u.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},u.collapse=function(e){this.nativeRange.collapse(e),i(this)},u.cloneRange=function(){return new n(this.nativeRange.cloneRange())},u.refresh=function(){i(this)},u.toString=function(){return this.nativeRange.toString()};var p=document.createTextNode("test");l(document).appendChild(p);var f=document.createRange();f.setStart(p,0),f.setEnd(p,0);try{f.setStart(p,1),u.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},u.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},h=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(e){u.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},u.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},h=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(i){this.nativeRange[t](n),this.nativeRange[e](n)}i(this)}}}u.setStartBefore=h("setStartBefore","setEndBefore"),u.setStartAfter=h("setStartAfter","setEndAfter"),u.setEndBefore=h("setEndBefore","setStartBefore"),u.setEndAfter=h("setEndAfter","setStartAfter"),u.selectNodeContents=function(e){this.setStartAndEnd(e,0,r.getNodeLength(e))},f.selectNodeContents(p),f.setEnd(p,3);var v=document.createRange();v.selectNodeContents(p),v.setEnd(p,4),v.setStart(p,2),f.compareBoundaryPoints(f.START_TO_END,v)==-1&&1==f.compareBoundaryPoints(f.END_TO_START,v)?u.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:u.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var g=document.createElement("div");g.innerHTML="123";var m=g.firstChild,y=l(document);y.appendChild(g),f.setStart(m,1),f.setEnd(m,2),f.deleteContents(),"13"==m.data&&(u.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},u.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),y.removeChild(g),y=null,o.isHostMethod(f,"createContextualFragment")&&(u.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(p),u.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var h=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();n=e.duplicate(),n.collapse(!1);var o=n.parentElement(),a=i==o?i:r.getCommonAncestor(i,o);return a==t?a:r.getCommonAncestor(t,a)},d=function(e){return 0==e.compareEndPoints("StartToEnd",e)},p=function(e,t,n,i,o){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(r.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var c=new a(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var h=r.getDocument(l).createElement("span");h.parentNode&&r.removeNode(h);for(var d,p,f,v,g,m=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==l?o.nodeIndex:0,b=l.childNodes.length,E=b,w=E;;){if(w==b?l.appendChild(h):l.insertBefore(h,l.childNodes[w]),s.moveToElementText(h),0==(d=s.compareEndPoints(m,e))||y==E)break;if(d==-1){if(E==y+1)break;y=w}else E=E==y+1?y:w;w=Math.floor((y+E)/2),l.removeChild(h)}if(g=h.nextSibling,d==-1&&g&&u(g)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var _;if(/[\r\n]/.test(g.data)){var O=s.duplicate(),k=O.text.replace(/\r\n/g,"\r").length;for(_=O.moveStart("character",k);(d=O.compareEndPoints("StartToEnd",O))==-1;)_++,O.moveStart("character",1)}else _=s.text.length;v=new a(g,_)}else p=(i||!n)&&h.previousSibling,f=(i||n)&&h.nextSibling,v=f&&u(f)?new a(f,0):p&&u(p)?new a(p,p.data.length):new a(l,r.getNodeIndex(h));return r.removeNode(h),{boundaryPosition:v,nodeInfo:{nodeIndex:w,containerElement:l}}},f=function(e,t){var n,i,o,a,s=e.offset,c=r.getDocument(e.node),h=l(c).createTextRange(),d=u(e.node);return d?(n=e.node,i=n.parentNode):(a=e.node.childNodes,n=s<a.length?a[s]:null,i=e.node),o=c.createElement("span"),o.innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),h.moveToElementText(o),h.collapse(!t),i.removeChild(o),d&&h[t?"moveStart":"moveEnd"]("character",s),h};i=function(e){this.textRange=e,this.refresh()},i.prototype=new s(document),i.prototype.refresh=function(){var e,t,n,i=h(this.textRange);d(this.textRange)?t=e=p(this.textRange,i,!0,!0).boundaryPosition:(n=p(this.textRange,i,!0,!1),e=n.boundaryPosition,t=p(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(i);var v=function(e){if(e.collapsed)return f(new a(e.startContainer,e.startOffset),!0);var t=f(new a(e.startContainer,e.startOffset),!0),n=f(new a(e.endContainer,e.endOffset),!1),i=l(s.getRangeDocument(e)).createTextRange();return i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i};if(i.rangeToTextRange=v,i.prototype.toTextRange=function(){return v(this)},e.WrappedTextRange=i,!e.features.implementsDomRange||e.config.preferTextRange){var g=function(e){return e("return this;")()}(Function);void 0===g.Range&&(g.Range=i),e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=i}}e.createRange=function(n){return n=c(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=c(e,t,"createRangyRange"),new s(e)},o.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),A.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function i(e,n){if(e){if(x.isWindow(e))return e;if(e instanceof m)return e.win;var i=x.getContentDocument(e,t,n);return x.getWindow(i)}return window}function r(e){return i(e,"getWinSelection").getSelection()}function o(e){return i(e,"getDocSelection").document.selection}function a(e){var t=!1;return e.anchorNode&&(t=1==x.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var i=n?"end":"start",r=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function c(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function u(t){var n;return t instanceof T?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof j?n=t.nativeRange:D.implementsDomRange&&t instanceof x.getWindow(t.startContainer).Range&&(n=t),n}function h(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!x.isAncestorOf(e[0],e[t]))return!1;return!0}function d(e){var n=e.getNodes();if(!h(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function p(e){return!!e&&void 0!==e.text}function f(e,t){var n=new j(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function v(t){if(t._ranges.length=0,"None"==t.docSelection.type)c(t);else{var n=t.docSelection.createRange();if(p(n))f(t,n);else{t.rangeCount=n.length;for(var i,r=N(n.item(0)),o=0;o<t.rangeCount;++o)i=e.createRange(r),i.selectNode(n.item(o)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function g(e,n){for(var i=e.docSelection.createRange(),r=d(n),o=N(i.item(0)),a=I(o).createControlRange(),s=0,l=i.length;s<l;++s)a.add(i.item(s));try{a.add(r)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),v(e)}function m(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function y(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function b(e,t){for(var n,i,r=te.length;r--;)if(n=te[r],i=n.selection,"deleteAll"==t)y(i);else if(n.win==e)return"delete"==t?(te.splice(r,1),!0):i;return"deleteAll"==t&&(te.length=0),null}function E(e,n){for(var i,r=N(n[0].startContainer),o=I(r).createControlRange(),a=0,s=n.length;a<s;++a){i=d(n[a]);try{o.add(i)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),v(e)}function w(e,t){if(e.win.document!=N(t))throw new A("WRONG_DOCUMENT_ERR")}function _(t){return function(n,i){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(t?"Start":"End")](n,i)):(r=e.createRange(this.win.document),r.setStartAndEnd(n,i)),this.setSingleRange(r,this.isBackward())}}function O(e){var t=[],n=new H(e.anchorNode,e.anchorOffset),i=new H(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var o=0,a=e.rangeCount;o<a;++o)t[o]=T.inspect(e.getRangeAt(o));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.config.checkSelectionRanges=!0;var k,C,P="boolean",S="number",x=e.dom,L=e.util,R=L.isHostMethod,T=e.DomRange,j=e.WrappedRange,A=e.DOMException,H=x.DomPosition,D=e.features,M="Control",N=x.getDocument,I=x.getBody,B=T.rangesEqual,V=R(window,"getSelection"),z=L.isHostObject(document,"selection");D.implementsWinGetSelection=V,D.implementsDocSelection=z;var F=z&&(!V||e.config.preferTextRange);if(F)k=o,e.isSelectionValid=function(e){var t=i(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||N(n.createRange().parentElement())==t};else{if(!V)return t.fail("Neither document.selection or window.getSelection() detected."),!1;k=r,e.isSelectionValid=function(){return!0}}e.getNativeSelection=k;var q=k();if(!q)return t.fail("Native selection was null (possibly issue 138?)"),!1;var U=e.createNativeRange(document),W=I(document),G=L.areHostProperties(q,["anchorNode","focusNode","anchorOffset","focusOffset"]);D.selectionHasAnchorAndFocus=G;var Q=R(q,"extend");D.selectionHasExtend=Q;var X=typeof q.rangeCount==S;D.selectionHasRangeCount=X;var K=!1,J=!0,Z=Q?function(t,n){var i=T.getRangeDocument(n),r=e.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),t.addRange(u(r)),t.extend(n.startContainer,n.startOffset)}:null;L.areHostMethods(q,["addRange","getRangeAt","removeAllRanges"])&&typeof q.rangeCount==S&&D.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,i=n>1,r=[],o=a(t),s=0;s<n;++s)r[s]=t.getRangeAt(s);var l=x.createTestElement(document,"",!1),c=l.appendChild(document.createTextNode("   ")),u=document.createRange();if(u.setStart(c,1),u.collapse(!0),t.removeAllRanges(),t.addRange(u),J=1==t.rangeCount,t.removeAllRanges(),!i){var h=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(h&&parseInt(h[1])>=36)K=!1;else{var d=u.cloneRange();u.setStart(c,0),d.setEnd(c,3),d.setStart(c,2),t.addRange(u),t.addRange(d),K=2==t.rangeCount}}for(x.removeNode(l),t.removeAllRanges(),s=0;s<n;++s)0==s&&o?Z?Z(t,r[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(r[s])):t.addRange(r[s])}}(),D.selectionSupportsMultipleRanges=K,D.collapsedNonEditableSelectionsSupported=J;var Y,$=!1;W&&R(W,"createControlRange")&&(Y=W.createControlRange(),L.areHostProperties(Y,["item","add"])&&($=!0)),D.implementsControlRange=$,C=G?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var ee;R(q,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:G&&(ee=function(t){var n=N(t.anchorNode),i=e.createRange(n);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),m.prototype=e.selectionPrototype;var te=[],ne=function(e){if(e&&e instanceof m)return e.refresh(),e;e=i(e,"getNativeSelection");var t=b(e),n=k(e),r=z?o(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new m(n,r,e),te.push({win:e,selection:t})),t};e.getSelection=ne,L.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var ie=m.prototype;if(!F&&G&&L.areHostMethods(q,["removeAllRanges","addRange"])){ie.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)};var re=function(e,t){Z(e.nativeSelection,t),e.refresh()};ie.addRange=X?function(t,i){if($&&z&&this.docSelection.type==M)g(this,t);else if(n(i)&&Q)re(this,t);else{var r;K?r=this.rangeCount:(this.removeAllRanges(),r=0);var o=u(t).cloneRange();try{this.nativeSelection.addRange(o)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(e.config.checkSelectionRanges){var a=ee(this.nativeSelection,this.rangeCount-1);a&&!B(a,t)&&(t=new j(a))}this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=C(this)}else this.refresh()}}:function(e,t){n(t)&&Q?re(this,e):(this.nativeSelection.addRange(u(e)),this.refresh())},ie.setRanges=function(e){if($&&z&&e.length>1)E(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(R(q,"empty")&&R(U,"select")&&$&&F))return t.fail("No means of selecting a Range or TextRange was found"),!1;ie.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=N(this.anchorNode);else if(this.docSelection.type==M){var t=this.docSelection.createRange();t.length&&(e=N(t.item(0)))}if(e){I(e).createTextRange().select(),this.docSelection.empty()}}}catch(e){}c(this)},ie.addRange=function(t){this.docSelection.type==M?g(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},ie.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?E(this,e):t&&this.addRange(e[0])}}ie.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new A("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var oe;if(F)oe=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=I(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==M?v(t):p(n)?f(t,n):c(t)};else if(R(q,"getRangeAt")&&typeof q.rangeCount==S)oe=function(t){if($&&z&&t.docSelection.type==M)v(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;n<i;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=C(t)}else c(t)};else{if(!G||typeof q.isCollapsed!=P||typeof U.collapsed!=P||!D.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;oe=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=C(e)):c(e)}}ie.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(oe(this),e){var r=t.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;r--;)if(!B(t[r],this._ranges[r]))return!0;return!1}};var ae=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var i=0,r=n.length;i<r;++i)B(t,n[i])||e.addRange(n[i]);e.rangeCount||c(e)};ie.removeRange=$&&z?function(e){if(this.docSelection.type==M){for(var t,n=this.docSelection.createRange(),i=d(e),r=N(n.item(0)),o=I(r).createControlRange(),a=!1,s=0,l=n.length;s<l;++s)t=n.item(s),t!==i||a?o.add(n.item(s)):a=!0;o.select(),v(this)}else ae(this,e)}:function(e){ae(this,e)};var se;!F&&G&&D.implementsDomRange?(se=a,ie.isBackward=function(){return se(this)}):se=ie.isBackward=function(){return!1},ie.isBackwards=ie.isBackward,ie.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},ie.collapse=function(t,n){w(this,t);var i=e.createRange(t);i.collapseToPoint(t,n),this.setSingleRange(i),this.isCollapsed=!0},ie.collapseToStart=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ie.collapseToEnd=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ie.selectAllChildren=function(t){w(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},ie.deleteFromDocument=function(){if($&&z&&this.docSelection.type==M){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),x.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,r=n.length;i<r;++i)n[i].deleteContents();this.addRange(n[r-1])}}},ie.eachRange=function(e,t){for(var n=0,i=this._ranges.length;n<i;++n)if(e(this.getRangeAt(n)))return t},ie.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},ie.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ie.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(i){n.push(i[e].apply(i,t||[]))}),n},ie.setStart=_(!0),ie.setEnd=_(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},ie.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ie.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},ie.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ie.moveToBookmark=function(t){for(var n,i,r=[],o=0;n=t.rangeBookmarks[o++];)i=e.createRange(this.win),i.moveToBookmark(n),r.push(i);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},ie.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ie.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},ie.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(T.toHtml(t))}),e.join("")},D.implementsTextRange&&(ie.getNativeTextRange=function(){var n;if(n=this.docSelection){var i=n.createRange();if(p(i))return i;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ie.getName=function(){return"WrappedSelection"},ie.inspect=function(){return O(this)},ie.detach=function(){b(this.win,"delete"),y(this)},m.detachAll=function(){b(null,"deleteAll")},m.inspect=O,m.isDirectionBackward=n,e.Selection=m,e.selectionPrototype=ie,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})});var I=!1,B=function(e){I||(I=!0,!A.initialized&&A.config.autoInitialize&&h())};return T&&("complete"==document.readyState?B():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",B,!1),D(window,"load",B))),A})},,,,,,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(1),o=n(6),a=n(5),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t){var r=this;i(this,e),this.popupClickHandler=function(e){e.preventDefault(),e.stopPropagation(),e.target===r.closeButtonEl||e.target===r.backdropEl?r.hide():e.target!==r.buttonEl||r.isButtonDisabled()||("function"==typeof r.buttonEl.handler?r.buttonEl.handler():r.hide())},this.keydownHandler=function(e){switch(n.i(a.f)(e)){case"Esc":case"Escape":r.hide();break;default:return!1}return!0},this.containerEl=t;var s="popup_"+(new Date).getTime()+"_label";this.popupEl=document.createElement("div"),this.popupEl.className="bp-modal-dialog bp-is-hidden",this.popupEl.setAttribute("role","alert"),this.popupEl.setAttribute("aria-labeledby",s),this.popupEl.innerHTML=("\n            <div class='bp-modal-header'>\n                <button class='bp-modal-close-button'>\n                    "+o.z+"\n                </button>\n            </div>\n            <div class='bp-modal-content'>\n                <p class='bp-modal-message' id="+s+"></p>\n                <div class='bp-modal-actions'>\n                    <button class='bp-btn bp-btn-primary bp-popup-btn'> </button>\n                </div>\n            </div>\n            <div class='bp-modal-backdrop'> </div>\n        ").trim(),this.messageEl=this.popupEl.querySelector("#"+s),this.buttonEl=this.popupEl.querySelector("button.bp-popup-btn"),this.closeButtonEl=this.popupEl.querySelector("button.bp-modal-close-button"),this.contentEl=this.popupEl.querySelector("div.bp-modal-content"),this.backdropEl=this.popupEl.querySelector("div.bp-modal-backdrop"),this.buttonDisabled=!1,this.popupEl.addEventListener("click",this.popupClickHandler),document.addEventListener("keydown",this.keydownHandler);var l=document.createElement("div");l.className="bp-popup-modal",l.appendChild(this.popupEl),t.appendChild(l)}return s(e,[{key:"destroy",value:function(){if(this.popupEl){this.popupEl.removeEventListener("click",this.popupClickHandler),document.removeEventListener("keydown",this.keydownHandler);var e=this.popupEl.parentNode;e.parentNode.removeChild(e),this.popupEl=null}}},{key:"show",value:function(e,t,n){this.messageEl.textContent=e,this.buttonEl.textContent=t?t:"확인",n&&"function"==typeof n&&(this.buttonEl.handler=n),this.popupEl.classList.remove(r.v),this.popupEl.focus()}},{key:"hide",value:function(){this.popupEl.classList.add(r.v)}},{key:"addContent",value:function(e,t){var n=this.contentEl;t?n.insertBefore(e,n.firstChild):n.appendChild(e)}},{key:"isVisible",value:function(){return!this.popupEl.classList.contains(r.v)}},{key:"isButtonDisabled",value:function(){return this.buttonDisabled}},{key:"disableButton",value:function(){this.buttonDisabled=!0,this.buttonEl.classList.add("is-disabled")}},{key:"enableButton",value:function(){this.buttonDisabled=!1,this.buttonEl.classList.remove("is-disabled")}}]),e}();t.a=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(13),u=n.n(c),h=n(18),d=n(24),p=n(1),f=n(5),v=n(6),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=l()(a=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._annotatedElement=e.annotatedElement,n._location=e.location,n._hasAnnotations=e.annotations.length>0,n._canAnnotate=e.canAnnotate,n._locale=e.locale,n}return o(t,e),g(t,[{key:"destroy",value:function(){this._element&&(this.unbindDOMListeners(),this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null)}},{key:"show",value:function(){var e=this._hasAnnotations?this._element.querySelector(d.i):this._element.querySelector(d.j);e.classList.contains(p.Q)&&this._element.parentNode||(this.position(),this._hasAnnotations?this.activateReply():e.classList.add(p.Q),e.selectionStart&&(e.selectionEnd=e.value.length,e.selectionStart=e.selectionEnd),this._canAnnotate||this._element.classList.add(d.k),h.g(e)&&e.focus())}},{key:"hide",value:function(){h.c(this._element),this.deactivateReply()}},{key:"addAnnotation",value:function(e){if(!this._hasAnnotations){var t=this._element.querySelector('[data-section="create"]'),n=this._element.querySelector('[data-section="show"]');h.c(t),h.d(n),this._hasAnnotations=!0}this.addAnnotationElement(e),this.deactivateReply(!0)}},{key:"removeAnnotation",value:function(e){var t=this._element.querySelector('[data-annotation-id="'+e+'"]');t&&(t.parentNode.removeChild(t),this.deactivateReply())}},{key:"position",value:function(){}},{key:"setup",value:function(e){var t=this;this._element=document.createElement("div"),this._element.setAttribute("data-type","annotation-dialog"),this._element.classList.add(d.l),this._element.innerHTML=('\n            <div class="bp-annotation-caret"></div>\n            <div class="annotation-container">\n                <section class="'+(e.length?p.v:"")+'" data-section="create">\n                    <textarea class="bp-textarea annotation-textarea"\n                        placeholder="여기에 코멘트 추가..."></textarea>\n                    <div class="button-container">\n                        <button class="bp-btn cancel-annotation-btn" data-type="cancel-annotation-btn">\n                            취소\n                        </button>\n                        <button class="bp-btn bp-btn-primary post-annotation-btn" data-type="post-annotation-btn">\n                            게시\n                        </button>\n                    </div>\n                </section>\n                <section class="'+(e.length?"":p.v)+'" data-section="show">\n                    <div class="annotation-comments"></div>\n                    <div class="reply-container">\n                        <textarea class="bp-textarea reply-textarea"\n                            placeholder="회신 게시..." data-type="reply-textarea"></textarea>\n                        <div class="button-container '+p.v+'">\n                            <button class="bp-btn cancel-annotation-btn" data-type="cancel-reply-btn">\n                                취소\n                            </button>\n                            <button class="bp-btn bp-btn-primary post-annotation-btn" data-type="post-reply-btn">\n                                게시\n                            </button>\n                        </div>\n                    </div>\n                </section>\n            </section>').trim(),e.length>0&&(this._element.dataset.threadNumber=e[0].thread),e.forEach(function(e){t.addAnnotationElement(e)}),this.bindDOMListeners()}},{key:"bindDOMListeners",value:function(){this._element.addEventListener("keydown",this.keydownHandler),this._element.addEventListener("click",this.clickHandler),this._element.addEventListener("mouseup",this.stopPropagation),this._element.addEventListener("mouseenter",this.mouseenterHandler),this._element.addEventListener("mouseleave",this.mouseleaveHandler),this._element.addEventListener("wheel",this.stopPropagation)}},{key:"unbindDOMListeners",value:function(){this._element.removeEventListener("keydown",this.keydownHandler),this._element.removeEventListener("click",this.clickHandler),this._element.removeEventListener("mouseup",this.stopPropagation),this._element.removeEventListener("mouseenter",this.mouseenterHandler),this._element.removeEventListener("mouseleave",this.mouseleaveHandler),this._element.removeEventListener("wheel",this.stopPropagation)}},{key:"keydownHandler",value:function(e){e.stopPropagation(),"Escape"===n.i(f.f)(e)?this.hide():"reply-textarea"===h.a(e.target)&&this.activateReply()}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"mouseenterHandler",value:function(){if(this._element.classList.contains(p.v)){h.d(this._element);var e=this._element.querySelector(d.i),t=this._element.querySelector(d.j);""===e.textContent&&""===t.textContent||this.emit("annotationcommentpending"),this.activateReply()}}},{key:"mouseleaveHandler",value:function(){this._hasAnnotations&&this.hide()}},{key:"clickHandler",value:function(e){e.stopPropagation();var t=e.target,n=h.a(t),i=h.a(t,"data-annotation-id");switch(n){case"post-annotation-btn":this.postAnnotation();break;case"cancel-annotation-btn":this.cancelAnnotation(),this.deactivateReply(!0);break;case"reply-textarea":this.activateReply();break;case"cancel-reply-btn":this.deactivateReply(!0);break;case"post-reply-btn":this.postReply();break;case"delete-btn":this.showDeleteConfirmation(i);break;case"cancel-delete-btn":this.hideDeleteConfirmation(i);break;case"confirm-delete-btn":this.deleteAnnotation(i)}}},{key:"addAnnotationElement",value:function(e){var t=h.h(e.user.id||"0"),n=void 0;n="0"===t?"게시 중...":h.h(e.user.name)||"일부 사용자";var i=h.h(e.user.avatarUrl||""),r=h.i(i,t,n),o=new Date(e.created).toLocaleString(this._locale,{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),a=h.h(e.text),s=document.createElement("div");s.classList.add("annotation-comment"),s.setAttribute("data-annotation-id",e.annotationID),s.innerHTML=('\n            <div class="profile-image-container">'+r+'</div>\n            <div class="profile-container">\n                <div class="user-name">'+n+'</div>\n                <div class="comment-date">'+o+'</div>\n            </div>\n            <div class="comment-text">'+a+'</div>\n            <button class="bp-btn-plain delete-comment-btn '+(e.permissions.can_delete?"":"bp-is-hidden")+'" data-type="delete-btn" title="삭제">\n                '+v.q+'\n            </button>\n            <div class="delete-confirmation '+p.v+'">\n                <div class="delete-confirmation-message">\n                    이 주석을 삭제하시겠습니까?\n                </div>\n                <div class="button-container">\n                    <button class="bp-btn cancel-delete-btn" data-type="cancel-delete-btn">\n                        취소\n                    </button>\n                    <button class="bp-btn bp-btn-primary confirm-delete-btn" data-type="confirm-delete-btn">\n                        삭제\n                    </button>\n                </div>\n            </div>').trim(),this._element.querySelector(d.m).appendChild(s)}},{key:"postAnnotation",value:function(){var e=this._element.querySelector(d.j),t=e.value;""!==t.trim()&&(this.emit("annotationcreate",{text:t}),e.value="")}},{key:"cancelAnnotation",value:function(){this.emit("annotationcancel")}},{key:"activateReply",value:function(){var e=this._element.querySelector(d.i);if(!e.classList.contains(p.Q)){var t=e.parentNode.querySelector(d.n);e.classList.add(p.Q),h.d(t);var n=this._element.querySelector(".annotation-container");n.scrollTop=n.scrollHeight-n.clientHeight}}},{key:"deactivateReply",value:function(e){if(this._element){var t=this._element.querySelector(d.i),n=t.parentNode.querySelector(d.n);h.j(t,e),h.c(n),h.g(t)&&t.focus();var i=this._element.querySelector(".annotation-container");i.scrollTop=i.scrollHeight-i.clientHeight}}},{key:"postReply",value:function(){var e=this._element.querySelector(d.i),t=e.value;""!==t.trim()&&(this.emit("annotationcreate",{text:t}),e.value="")}},{key:"showDeleteConfirmation",value:function(e){var t=this._element.querySelector('[data-annotation-id="'+e+'"]'),n=t.querySelector(".delete-confirmation"),i=t.querySelector(".cancel-delete-btn"),r=t.querySelector(".delete-comment-btn");h.c(r),h.d(n),i.focus()}},{key:"hideDeleteConfirmation",value:function(e){var t=this._element.querySelector('[data-annotation-id="'+e+'"]'),n=t.querySelector(".delete-confirmation"),i=t.querySelector(".delete-comment-btn");h.d(i),h.c(n),i.focus()}},{key:"deleteAnnotation",value:function(e){this.emit("annotationdelete",{annotationID:e})}},{key:"element",get:function(){return this._element}}]),t}(u.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(13),l=n.n(s),c=n(0),u=n.n(c),h=n(121),d=n(63),p=n(18),f=n(24),v=n(6),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=u()(a=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._annotatedElement=e.annotatedElement,n._annotations=e.annotations||[],n._annotationService=e.annotationService,n._fileVersionID=e.fileVersionID,n._location=e.location,n._threadID=e.threadID||d.a.generateID(),n._thread=e.thread||"",n._type=e.type,n._locale=e.locale,n.setup(),n}return o(t,e),g(t,[{key:"destroy",value:function(){this._dialog&&(this.unbindCustomListenersOnDialog(),this._dialog.destroy()),this._element&&(this.unbindDOMListeners(),this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null),this.emit("threaddeleted")}},{key:"hide",value:function(){p.c(this._element)}},{key:"reset",value:function(){this._state=f.g}},{key:"showDialog",value:function(){this._dialog._element||this._dialog.setup(this._annotations),this._dialog.show()}},{key:"hideDialog",value:function(){this._dialog&&this._dialog.hide()}},{key:"saveAnnotation",value:function(e,t){var n=this,i=this.createAnnotationData(e,t),r=d.a.generateID(),o=i;o.annotationID=r,o.permissions={can_edit:!0,can_delete:!0},o.created=(new Date).getTime(),o.modified=o.created;var a=new h.a(o);this.saveAnnotationToThread(a),this._state=f.h,this._annotationService.create(i).then(function(e){var t=n._annotations.indexOf(a);t===-1&&n.saveAnnotationToThread(e),n._thread=n._thread||e._thread,n._dialog._element.dataset.threadNumber=n._thread,n._annotations[t]=e,n._dialog&&(n._dialog.addAnnotation(e),n._dialog.removeAnnotation(r))}).catch(function(){n.deleteAnnotation(r,!1),n.emit("annotationcreateerror")})}},{key:"deleteAnnotation",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._annotations.find(function(t){return t.annotationID===e});if(i&&(!i.permissions||i.permissions.can_delete)){this._annotations=this._annotations.filter(function(t){return t.annotationID!==e});var r=this._annotations.length>0&&this._annotations[0].permissions&&this._annotations[0].permissions.can_delete;p.e(this._annotations)&&!r?this.cancelFirstComment():0===this._annotations.length||p.e(this._annotations)?this.destroy():this._dialog&&this._dialog.removeAnnotation(e),n&&this._annotationService.delete(e).then(function(){r=t._annotations.length>0&&t._annotations[0].permissions&&t._annotations[0].permissions.can_delete,p.e(t._annotations)&&r&&t._annotationService.delete(t._annotations[0].annotationID),0===t._annotations.length&&t.emit("threadcleanup")}).catch(function(){t.emit("annotationdeleteerror")})}}},{key:"cancelFirstComment",value:function(){}},{key:"show",value:function(){}},{key:"createDialog",value:function(){}},{key:"setup",value:function(){0===this._annotations.length?this._state=f.c:this._state=f.g,this.createDialog(),this.bindCustomListenersOnDialog(),this.setupElement()}},{key:"setupElement",value:function(){this._element=this.createElement(),this.bindDOMListeners()}},{key:"bindDOMListeners",value:function(){this._element&&(this._element.addEventListener("click",this.showDialog),this._element.addEventListener("mouseenter",this.showDialog),this._element.addEventListener("mouseleave",this.mouseoutHandler))}},{key:"unbindDOMListeners",value:function(){this._element&&(this._element.removeEventListener("click",this.showDialog),this._element.removeEventListener("mouseenter",this.showDialog),this._element.removeEventListener("mouseleave",this.mouseoutHandler))}},{key:"bindCustomListenersOnDialog",value:function(){this._dialog&&(this._dialog.addListener("annotationcreate",this.createAnnotation),this._dialog.addListener("annotationcancel",this.destroy),this._dialog.addListener("annotationdelete",this.deleteAnnotationWithID))}},{key:"unbindCustomListenersOnDialog",value:function(){this._dialog&&(this._dialog.removeAllListeners("annotationcreate"),this._dialog.removeAllListeners("annotationcancel"),this._dialog.removeAllListeners("annotationdelete"))}},{key:"createElement",value:function(){var e=document.createElement("button");return e.classList.add("bp-point-annotation-btn"),e.setAttribute("data-type","annotation-indicator"),e.innerHTML=v.p,e}},{key:"mouseoutHandler",value:function(){0!==this._annotations.length&&this.hideDialog()}},{key:"saveAnnotationToThread",value:function(e){this._annotations.push(e),this._dialog&&this._dialog.addAnnotation(e)}},{key:"createAnnotationData",value:function(e,t){return{fileVersionID:this._fileVersionID,type:e,text:t,location:this._location,user:this._annotationService.user,threadID:this._threadID,thread:this._thread}}},{key:"createAnnotation",value:function(e){this.saveAnnotation(f.b,e.text)}},{key:"deleteAnnotationWithID",value:function(e){this.deleteAnnotation(e.annotationID)}},{key:"location",get:function(){return this._location}},{key:"threadID",get:function(){return this._threadID}},{key:"thread",get:function(){return this._thread}},{key:"type",get:function(){return this._type}},{key:"state",get:function(){return this._state}}]),t}(l.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t,n,i,r){var o=i.height,a=i.width;switch(n){case u:return[t,o/r-e];case h:return[a/r-e,o/r-t];case d:return[a/r-t,e]}return[e,t]}function r(e,t,n,i,r){var o=i.height,a=i.width;switch(n){case u:return[a/r-t,e];case h:return[a/r-e,o/r-t];case d:return[t,o/r-e]}return[e,t]}function o(e,t){return t?e.offsetLeft-3*c/2:e.offsetTop}function a(e,t){var n=t.querySelector("img"),r=t.getBoundingClientRect(),a=n.getBoundingClientRect(),u=s.b(t),d=a.top-r.top,p=a.left-r.left,f=Number(n.getAttribute("data-rotation-angle")),v=Math.abs(f)%180==90,g=i(e.x,e.y,f,a,u),m=l(g,2),y=m[0],b=m[1],E=o(n,v),w={x:e.dimensions.y,y:e.dimensions.x},_=v?w:e.dimensions,O=s.k(_,a,u,E);return O&&(y*=O.x,b*=O.y),y*=u,b*=u,p>=0&&(y+=p),d>=0&&(b+=d),f===h&&(b-=c/2),[y,b]}var s=n(18);t.a=r,t.b=a;var l=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=15,u=-90,h=-180,d=-270},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(13),l=n.n(s),c=n(0),u=n.n(c),h=n(53),d=n(29),p=n(6),f=n(1),v=n(83),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=u()(a=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.el=e,n.controls=new h.a(n.el),n.uiRegistry=new v.a,n}return o(t,e),g(t,[{key:"addUi",value:function(){this.addVrButton(),this.addFullscreenButton(),this.hideVrButton()}},{key:"addFullscreenButton",value:function(){this.controls.add("전체 화면 시작",this.handleToggleFullscreen,"bp-enter-fullscreen-icon",p.d),this.controls.add("전체 화면 종료",this.handleToggleFullscreen,"bp-exit-fullscreen-icon",p.e)}},{key:"addVrButton",value:function(){this.vrButtonEl=this.controls.add("VR 디스플레이 전환",this.handleToggleVr,"",p.f)}},{key:"handleSceneLoaded",value:function(){this.emit(d.g)}},{key:"handleToggleVr",value:function(){this.emit(d.e)}},{key:"handleToggleFullscreen",value:function(){this.emit(d.d)}},{key:"handleReset",value:function(){this.emit(d.f)}},{key:"showVrButton",value:function(){this.vrButtonEl&&this.vrButtonEl.classList.remove(f.v)}},{key:"hideVrButton",value:function(){this.vrButtonEl&&this.vrButtonEl.classList.add(f.v)}},{key:"setElementVisibility",value:function(e,t){t?e.classList.remove(f.v):e.classList.add(f.v)}},{key:"toggleElementVisibility",value:function(e){e.classList.toggle(f.v)}},{key:"destroy",value:function(){this.controls&&this.controls.destroy(),this.uiRegistry&&this.uiRegistry.unregisterAll(),this.controls=null,this.uiRegistry=null}}]),t}(l.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");return t.classList.add(u.m),t.textContent=e,t}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("button");return t.textContent=e,t.classList.add(h.K),t}function a(){var e=document.createElement("input");return e.type="checkbox",e}function s(){var e=document.createElement("div");return e.classList.add(u.n),e.classList.add(u.o),e.classList.add(u.p),e}function l(e){var t=document.createElement("div");if(t.classList.add(u.q),e){var n=r(e);t.appendChild(n)}return t}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=l(e),r=document.createElement("div");r.classList.add(h.L);var a=document.createElement("div");a.classList.add(h.M),a.innerHTML="<div class="+h.N+">\n                                        <menu class="+h.O+'>\n                                            <div class="link-group">\n                                                <ul></ul>\n                                            </div>\n                                        </menu>\n                                    </div>';var s=o(t);s.addEventListener("click",function(){a.classList.toggle(h.l)});var c=a.querySelector("ul");return n.forEach(function(e){var t=document.createElement("li"),n=document.createElement("a");n.classList.add(h.P),n.textContent=e.text,n.addEventListener("click",function(){s.textContent=e.text,a.classList.toggle(h.l),e.callback()}),t.appendChild(n),c.appendChild(t)}),r.appendChild(s),r.appendChild(a),i.appendChild(r),i}var u=n(41),h=n(1);n.d(t,"e",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return p});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(){function e(){i(this,e),this.registry={}}return d(e,[{key:"registerItem",value:function(e,t,n,i){if(!e)throw new Error("registerItem() requires a unique id");if(!t)throw new Error("registerItem() requires an element");if(this.registry[e]||(this.registry[e]={el:t,uuid:e,events:{}}),n&&i){t.addEventListener(n,i);var r=this.registry[e].events;r[n]=r[n]||[],r[n].push(i)}}},{key:"unregisterItem",value:function(e){var t=e;this.registry[t.uuid]&&(t.el.parentElement&&t.el.parentElement.removeChild(t.el),Object.keys(t.events).forEach(function(e){t.events[e].forEach(function(n){t.el.removeEventListener(e,n)}),delete t.events[e],delete t.el}),delete this.registry[t.uuid])}},{key:"unregisterAll",value:function(){var e=this;Object.keys(this.registry).forEach(function(t){e.unregisterItem(e.registry[t])})}}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(5),o=n(1),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=2e3,c=function(){function e(t){var o=this,a=t.representation,s=t.token,l=t.sharedLink,c=t.sharedLinkPassword,u=t.logger;i(this,e),this.representation=a,this.logger=u;var h=this.representation.info;this.infoUrl=h?n.i(r.g)(h.url,s,l,c):"",this.promise=new Promise(function(e,t){o.resolve=e,o.reject=t})}return s(e,null,[{key:"getStatus",value:function(e){var t=e.status;return t="object"===(void 0===t?"undefined":a(t))?t.state:e.temp_status.state}}]),s(e,[{key:"destroy",value:function(){clearTimeout(this.statusTimeout)}},{key:"updateStatus",value:function(){var e=this;return this.infoUrl?n.i(r.b)(this.infoUrl).then(function(t){clearTimeout(e.statusTimeout);var n="object"===a(t.status)?t.status.state:t.temp_status.state;"object"===a(e.representation.status)?e.representation.status.state=n:e.representation.temp_status.state=n,e.handleResponse()}):Promise.resolve()}},{key:"handleResponse",value:function(){var t=this;switch(e.getStatus(this.representation)){case"error":this.reject();break;case o.p:case o.q:this.resolve();break;case"none":case"pending":this.logger&&this.logger.setUnConverted(),this.statusTimeout=setTimeout(function(){t.updateStatus()},l)}}},{key:"getPromise",value:function(){return this.handleResponse(),this.promise}}]),e}();t.a=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,o=n(0),a=n.n(o),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=a()(r=function(){function e(t){i(this,e),this._annotationID=t.annotationID,this._fileVersionID=t.fileVersionID,this._threadID=t.threadID,this._thread=t.thread,this._type=t.type,this._text=t.text,this._location=t.location,this._user=t.user,this._permissions=t.permissions,this._created=t.created,this._modified=t.modified}return s(e,[{key:"annotationID",get:function(){return this._annotationID}},{key:"fileVersionID",get:function(){return this._fileVersionID}},{key:"threadID",get:function(){return this._threadID}},{key:"thread",get:function(){return this._thread}},{key:"type",get:function(){return this._type}},{key:"text",get:function(){return this._text}},{key:"location",get:function(){return this._location}},{key:"user",get:function(){return this._user}},{key:"permissions",get:function(){return this._permissions}},{key:"created",get:function(){return this._created}},{key:"modified",get:function(){return this._modified}}]),e}())||r;t.a=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(13),l=n.n(s),c=n(0),u=n.n(c),h=n(204),d=n(63),p=n(24),f=n(1),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=u()(a=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._annotatedElement=e.annotatedElement,n._annotationService=e.annotationService,n._fileVersionID=e.fileVersionID,n._locale=e.locale,n.notification=new h.a(n._annotatedElement),n}return o(t,e),v(t,[{key:"destroy",value:function(){var e=this;this._threads&&Object.keys(this._threads).forEach(function(t){e._threads[t].forEach(function(t){e.unbindCustomListenersOnThread(t)})}),this.unbindDOMListeners(),this.unbindCustomListenersOnService()}},{key:"init",value:function(){this.setScale(1),this.setupAnnotations()}},{key:"showAnnotations",value:function(){this.fetchAnnotations().then(this.renderAnnotations)}},{key:"hideAnnotations",value:function(){var e=this;Object.keys(this._threads).forEach(function(t){e._threads[t].forEach(function(e){e.hide()})})}},{key:"hideAnnotationsOnPage",value:function(e){this._threads[e]&&this._threads[e].forEach(function(e){e.hide()})}},{key:"renderAnnotations",value:function(){var e=this;Object.keys(this._threads).forEach(function(t){e._threads[t].forEach(function(e){e.show()})})}},{key:"renderAnnotationsOnPage",value:function(e){this._threads[e]&&this._threads[e].forEach(function(e){e.show()})}},{key:"setScale",value:function(e){this._annotatedElement.setAttribute("data-scale",e)}},{key:"togglePointModeHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target;if(!t){var n=document.querySelector(".bp-header");t=n?n.querySelector(".bp-btn-annotate"):null}this.destroyPendingThreads(),this.isInPointMode()?(this.notification.hide(),this.emit("pointmodeexit"),this._annotatedElement.classList.remove(p.a),t&&t.classList.remove(f.Q),this.unbindPointModeListeners(),this.bindDOMListeners()):(this.notification.show("아무 곳이나 클릭하여 문서에 코멘트를 추가하십시오."),this.emit("pointmodeenter"),this._annotatedElement.classList.add(p.a),t&&t.classList.add(f.Q),this.unbindDOMListeners(),this.bindPointModeListeners())}},{key:"getLocationFromEvent",value:function(e,t){}},{key:"createAnnotationThread",value:function(e,t,n){}},{key:"setupAnnotations",value:function(){this._threads={},this.bindDOMListeners(),this.bindCustomListenersOnService(this._annotationService)}},{key:"fetchAnnotations",value:function(){var e=this;return this._threads={},this._annotationService.getThreadMap(this._fileVersionID).then(function(t){Object.keys(t).forEach(function(n){var i=t[n],r=i[0],o=e.createAnnotationThread(i,r.location,r.type);e.bindCustomListenersOnThread(o)})})}},{key:"bindDOMListeners",value:function(){}},{key:"unbindDOMListeners",value:function(){}},{key:"bindCustomListenersOnService",value:function(){var e=this,t=this._annotationService;t&&t instanceof d.a&&t.addListener("annotationerror",function(t){var n="";switch(t.reason){case"read":n="죄송합니다. 이 파일에 대한 주석을 로드하지 못했습니다.";break;case"create":n="죄송합니다. 주석을 생성할 수 없습니다.",e.showAnnotations();break;case"delete":n="죄송합니다. 주석을 삭제할 수 없습니다.",e.showAnnotations();break;case"authorization":n="세션이 만료되었습니다. 페이지를 새로 고치십시오."}e.notification.show(n)})}},{key:"unbindCustomListenersOnService",value:function(){var e=this._annotationService;e&&e instanceof d.a&&e.removeAllListeners("annotationerror")}},{key:"bindCustomListenersOnThread",value:function(e){var t=this;e.addListener("threaddeleted",function(){var n=e.location.page||1;t._threads[n]instanceof Array&&(t._threads[n]=t._threads[n].filter(function(t){return t.threadID!==e.threadID}))}),e.addListener("threadcleanup",function(){t.unbindCustomListenersOnThread(e)})}},{key:"unbindCustomListenersOnThread",value:function(e){e.removeAllListeners("threaddeleted"),e.removeAllListeners("threadcleanup")}},{key:"bindPointModeListeners",value:function(){this._annotatedElement.addEventListener("click",this.pointClickHandler)}},{key:"unbindPointModeListeners",value:function(){this._annotatedElement.removeEventListener("click",this.pointClickHandler)}},{key:"pointClickHandler",value:function(e){if(e.stopPropagation(),!this.destroyPendingThreads()){var t=this.getLocationFromEvent(e,p.b);if(!t)return void this.togglePointModeHandler();this.togglePointModeHandler();var n=this.createAnnotationThread([],t,p.b);n.show(),this.bindCustomListenersOnThread(n)}}},{key:"addThreadToMap",value:function(e){var t=e.location.page||1;this._threads[t]=this._threads[t]||[],this._threads[t].push(e)}},{key:"isInPointMode",value:function(){return this._annotatedElement.classList.contains(p.a)}},{key:"destroyPendingThreads",value:function(){var e=this,t=!1;return Object.keys(this._threads).forEach(function(n){e._threads[n].forEach(function(e){e.state===p.c&&(t=!0,e.destroy())})}),t}}]),t}(l.a))||a;t.a=g},function(e,t,n){"use strict";function i(e,t){var n=b.firstElementChild;if(n.className=m.r,E.classList.add(m.s),"dark"===e&&b.classList.add(m.t),t){n.querySelector(m.u).classList.add(m.v);var i=n.querySelector(m.w);i.src=t,i.classList.remove(m.v)}}function r(){var e=b.querySelector(m.x);if(e){e.querySelector(m.y).innerHTML=y.a;e.querySelector(m.z).textContent="미리 보기 생성 중...";e.querySelector(m.A).textContent="파일 다운로드"}}function o(){E&&E.removeEventListener("mousemove",O),b&&(b.innerHTML=""),document.removeEventListener("keydown",k)}function a(e,t,a,s,l){return b=e.container,w=a,_=s,O=l,k=t,"string"==typeof b?b=document.querySelector(b):b||(b=document.body),o(),n.i(g.m)(b,v.a),b=b.querySelector(m.B),E=b.querySelector(m.m),"none"!==e.header&&i(e.header,e.logoUrl),r(),document.addEventListener("keydown",k),b}function s(e,t){if(b){var n=b.querySelector(m.C),i=b.querySelector(m.D);if(n&&i&&(n.title="이전 파일",i.title="다음 파일",n.classList.add(m.v),i.classList.add(m.v),n.removeEventListener("click",w),i.removeEventListener("click",_),E.removeEventListener("mousemove",O),!(t.length<2))){n.addEventListener("click",w),i.addEventListener("click",_),E.addEventListener("mousemove",O);var r=t.indexOf(e);r>0&&n.classList.remove(m.v),r<t.length-1&&i.classList.remove(m.v)}}}function l(e){var t=b.querySelector(m.E);t&&(t.title="지점 주석 모드",t.classList.remove(m.v),t.addEventListener("click",e))}function c(e){var t=b.querySelector(m.F);t&&(t.title="인쇄",t.classList.remove(m.v),t.addEventListener("click",e))}function u(e){var t=b.querySelector(m.G);t&&(t.title="다운로드",t.classList.remove(m.v),t.addEventListener("click",e))}function h(e){var t=b.querySelector(m.A);t&&(t.title="다운로드",t.classList.remove(m.H),t.addEventListener("click",e))}function d(){E&&E.classList.remove(m.I)}function p(){E&&E.classList.add(m.I)}var f=n(369),v=n.n(f),g=n(5),m=n(1),y=n(6);t.a=o,t.c=a,t.b=s,t.h=l,t.g=c,t.f=u,t.e=h,t.d=d,t.i=p;var b=void 0,E=void 0,w=void 0,_=void 0,O=void 0,k=void 0},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(5),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"determineViewer",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"determineViewer",this).call(this,e,i);if(r&&n.i(s.q)(e))return r}}]),t}(a.a);t.a=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(26),u=n(33),h=n(82),d=n(64),p=n(9),f=n(5),v=n(29),g=n(126),m=n(308),y=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),b=function(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:n.i(f.b)(o,t,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},E=5e4,w="vr-enabled",_=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"setup",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.renderer=null,this.controls=null,this.destroyed=!1,this.wrapperEl=this.containerEl.appendChild(document.createElement("div")),this.wrapperEl.className=v.c,this.loadTimeout=E}},{key:"createSubModules",value:function(){this.controls=new h.a(this.wrapperEl),this.renderer=new d.a(this.wrapperEl,this.boxSdk)}},{key:"attachEventHandlers",value:function(){this.controls&&(this.controls.on(v.d,this.toggleFullscreen),this.controls.on(v.e,this.handleToggleVr),this.controls.on(v.f,this.handleReset)),this.renderer&&(this.renderer.on(v.g,this.handleSceneLoaded),this.renderer.on(v.h,this.handleShowVrButton),this.renderer.on(v.i,this.handleError)),window.addEventListener("vrdisplaypresentchange",this.onVrPresentChange)}},{key:"detachEventHandlers",value:function(){this.controls&&(this.controls.removeListener(v.d,this.toggleFullscreen),this.controls.removeListener(v.e,this.handleToggleVr),this.controls.removeListener(v.f,this.handleReset)),this.renderer&&(this.renderer.removeListener(v.g,this.handleSceneLoaded),this.renderer.removeListener(v.h,this.handleShowVrButton),this.renderer.removeListener(v.i,this.handleError)),window.removeEventListener("vrdisplaypresentchange",this.onVrPresentChange)}},{key:"resize",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this),this.renderer&&this.renderer.resize()}},{key:"destroy",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.detachEventHandlers(),this.controls&&this.controls.destroy(),this.renderer&&this.renderer.destroy(),this.destroyed=!0}},{key:"load",value:function(){return this.setup(),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this),Promise.all([this.loadAssets(g.a),this.getRepStatus().getPromise()]).then(this.postLoad).catch(this.handleAssetError)}},{key:"postLoad",value:function(){var e=this.options,t=e.representation,n=e.token,i=e.apiHost,r=e.sharedLink,o=t.content.url_template;this.boxSdk=new BoxSDK({token:n,sharedLink:r,apiBase:i}),this.createSubModules(),this.attachEventHandlers(),this.renderer.load(this.createContentUrl(o,"entities.json"),this.options).catch(this.handleError)}},{key:"prefetch",value:function(e){var t=e.assets,i=void 0===t||t,r=e.content,o=void 0===r||r;i&&this.prefetchAssets(g.a);var a=this.options.representation;if(o&&this.isRepresentationReady(a)){var s=a.content.url_template;n.i(f.b)(this.createContentUrl(s,"entities.json"),this.appendAuthHeader(),"any")}}},{key:"toggleFullscreen",value:function(){u.a.toggle(this.containerEl)}},{key:"handleToggleVr",value:function(){this.renderer.toggleVr()}},{key:"onVrPresentChange",value:function(){var e=this.renderer.box3d.getVrDisplay();p.a.isMobile()&&(e&&e.isPresenting?this.wrapperEl.classList.add(w):this.wrapperEl.classList.remove(w),this.controls&&(this.controls.vrEnabled=e&&e.isPresenting))}},{key:"handleSceneLoaded",value:function(){this.controls&&this.controls.addUi(),this.emit(v.b),this.loaded=!0}},{key:"handleShowVrButton",value:function(){this.controls.showVrButton()}},{key:"handleReset",value:function(){this.renderer&&this.renderer.reset()}},{key:"handleError",value:function(e){this.emit(v.i,e)}}]),t}(c.a))||a;t.a=_},function(e,t,n){"use strict";var i="third-party/model3d/",r=[i+"boxsdk.min.js",i+"three.min.js",i+"box3d-runtime.min.js",i+"webvr-polyfill.js",i+"WebVR/VRConfig.js"];t.a=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(46),u=n.n(c),h=n(63),d=n(26),p=n(9),f=n(40),v=n(53),g=n(206),m=n(234),y=n(33),b=n(78),E=n(1),w=n(22),_=n(5),O=n(6),k=n(239),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),P=function(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:n.i(_.b)(o,t,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},S="doc-current-page-map",x=1.1,L=3e5,R=1e3,T=500,j=10,A=.1,H=262144,D=1048576,M="show-page-number-input",N="is-safari",I=200,B=p.a.isMobile()?500:250,V=l()(a=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.postload=function(){o.setupPdfjs(),o.initViewer(o.pdfUrl),o.initPrint(),o.initFind()},o.scrollHandler=u()(function(){o.scrollTimer&&clearTimeout(o.scrollTimer),o.scrollStarted||(o.emit("scrollstart",{scrollTop:o.docEl.scrollTop,scrollLeft:o.docEl.scrollLeft}),o.scrollStarted=!0),o.scrollTimer=setTimeout(function(){o.emit("scrollend",{scrollTop:o.docEl.scrollTop,scrollLeft:o.docEl.scrollLeft}),o.scrollStarted=!1},B)},I),a=n,r(o,a)}return o(t,e),C(t,[{key:"setup",value:function(){P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.docEl=this.containerEl.appendChild(document.createElement("div")),this.docEl.classList.add("bp-doc"),"Safari"===p.a.getName()&&this.docEl.classList.add(N),this.viewerEl=this.docEl.appendChild(document.createElement("div")),this.viewerEl.classList.add("pdfViewer"),this.loadTimeout=L,this.scaling=!1}},{key:"destroy",value:function(){if(this.unbindDOMListeners(),this.printBlob=null,this.controls&&"function"==typeof this.controls.destroy&&this.controls.destroy(),this.annotator&&"function"==typeof this.annotator.destroy&&(this.annotator.removeAllListeners("pointmodeenter"),this.annotator.removeAllListeners("pointmodeexit"),this.annotator.destroy()),this.findBar&&this.findBar.destroy(),this.pdfLoadingTask)try{this.pdfLoadingTask.destroy()}catch(e){}this.pdfViewer&&(this.pdfViewer.cleanup(),this.pdfViewer.pdfDocument&&this.pdfViewer.pdfDocument.destroy()),this.printPopup&&this.printPopup.destroy(),P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"prefetch",value:function(e){var t=e.assets,i=void 0===t||t,r=e.preload,o=void 0===r||r,a=e.content,s=void 0===a||a,l=this.options,c=l.file,u=l.representation;if(i&&this.prefetchAssets(k.a,k.b),o){var h=n.i(w.g)(c,E.T);if(h&&this.isRepresentationReady(h)){var d=h.content.url_template;n.i(_.b)(this.createContentUrlWithAuthParams(d),"blob")}}if(s&&this.isRepresentationReady(u)){var p=u.content.url_template;n.i(_.b)(this.createContentUrlWithAuthParams(p),"any")}}},{key:"showPreload",value:function(){}},{key:"hidePreload",value:function(){}},{key:"load",value:function(){this.setup(),P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this),this.showPreload();var e=this.options.representation.content.url_template;return this.pdfUrl=this.createContentUrlWithAuthParams(e),Promise.all([this.loadAssets(k.a,k.b),this.getRepStatus().getPromise()]).then(this.postload).catch(this.handleAssetError)}},{key:"initFind",value:function(){this.findBarEl=this.containerEl.appendChild(document.createElement("div")),this.findBarEl.classList.add(E.U),this.findController=new PDFJS.PDFFindController({pdfViewer:this.pdfViewer}),this.pdfViewer.setFindController(this.findController),this.findBar=new m.a(this.findBarEl,this.findController)}},{key:"initPrint",value:function(){this.printPopup=new b.a(this.containerEl);var e=document.createElement("div");e.className="bp-print-check "+E.v,e.innerHTML=O.w.trim();var t=document.createElement("div");t.classList.add("bp-crawler"),t.innerHTML="\n            <div></div>\n            <div></div>\n            <div></div>".trim(),this.printPopup.addContent(t,!0),this.printPopup.addContent(e,!0),this.printPopup.loadingIndicator=t,this.printPopup.printCheckmark=e}},{key:"print",value:function(){var e=this;if(!this.printBlob)return this.fetchPrintBlob(this.pdfUrl).then(this.print),void(this.printDialogTimeout=setTimeout(function(){e.printPopup.show("인쇄 준비 중...","인쇄",function(){e.printPopup.hide(),e.browserPrint()}),e.printPopup.disableButton(),e.printDialogTimeout=null},T));this.printDialogTimeout||!this.printPopup.isVisible()?(clearTimeout(this.printDialogTimeout),this.browserPrint()):(this.printPopup.enableButton(),this.printPopup.messageEl.textContent="인쇄할 준비가 되었습니다.",this.printPopup.loadingIndicator.classList.add(E.v),this.printPopup.printCheckmark.classList.remove(E.v))}},{key:"resize",value:function(){if(this.pdfViewer&&this.pdfViewer.pageViewsReady){var e=this.pdfViewer.currentPageNumber;this.pdfViewer.currentScaleValue=this.pdfViewer.currentScaleValue||"auto",this.pdfViewer.update(),this.setPage(e),this.annotator&&this.annotator.setScale(this.pdfViewer.currentScale),P(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this)}}},{key:"previousPage",value:function(){this.setPage(this.pdfViewer.currentPageNumber-1)}},{key:"nextPage",value:function(){this.setPage(this.pdfViewer.currentPageNumber+1)}},{key:"setPage",value:function(e){e<=0||e>this.pdfViewer.pagesCount||(this.pdfViewer.currentPageNumber=e,this.cachePage(this.pdfViewer.currentPageNumber))}},{key:"getCachedPage",value:function(){var e=1;if(f.a.has(S)){e=f.a.get(S)[this.options.file.id]||e}return e}},{key:"cachePage",value:function(e){var t={};f.a.has(S)&&(t=f.a.get(S)),t[this.options.file.id]=e,f.a.set(S,t,!0)}},{key:"checkPaginationButtons",value:function(){var e=this.pdfViewer.pagesCount,t=this.pdfViewer.currentPageNumber,n=this.containerEl.querySelector(".bp-doc-page-num"),i=this.containerEl.querySelector(".bp-previous-page"),r=this.containerEl.querySelector(".bp-next-page"),o="Safari"===p.a.getName()&&y.a.isFullscreen(this.containerEl);n&&(n.disabled=!!(e<=1||o)),i&&(i.disabled=1===t),r&&(t===this.pdfViewer.pagesCount?r.disabled=!0:r.disabled=!1)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=e,n=this.pdfViewer.currentScale;do{n=(n*x).toFixed(3),n=Math.min(j,n),t-=1}while(t>0&&n<j);this.pdfViewer.currentScale!==n&&this.emit("zoom",{zoom:n,canZoomOut:!0,canZoomIn:n<j}),this.setScale(n)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=e,n=this.pdfViewer.currentScale;do{n=(n/x).toFixed(3),n=Math.max(A,n),t-=1}while(t>0&&n>A);this.pdfViewer.currentScale!==n&&this.emit("zoom",{zoom:n,canZoomOut:n>A,canZoomIn:!0}),this.setScale(n)}},{key:"setScale",value:function(e){this.annotator&&this.annotator.setScale(e),this.pdfViewer.currentScaleValue=e}},{key:"rotateLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-90,t=this.pdfViewer.currentPageNumber;this.pageRotation=this.pageRotation||0,this.pageRotation=(this.pageRotation+360+e)%360,this.pdfViewer.pagesRotation=this.pageRotation,this.pdfViewer.update(),this.setPage(t)}},{key:"isAnnotatable",value:function(e){if("string"==typeof e&&"point"!==e&&"highlight"!==e)return!1;var t=this.getViewerOption("annotations");return"boolean"==typeof t?t:this.options.showAnnotations}},{key:"getPointModeClickHandler",value:function(){return this.isAnnotatable("point")?this.annotator.togglePointModeHandler:null}},{key:"onKeydown",value:function(e){switch(e){case"ArrowLeft":this.previousPage();break;case"ArrowRight":this.nextPage();break;case"[":this.previousPage();break;case"]":this.nextPage();break;default:return!1}return!0}},{key:"initViewer",value:function(e){var t=this;this.pdfViewer=new PDFJS.PDFViewer({container:this.docEl,linkService:new PDFJS.PDFLinkService,enhanceTextSelection:!0});var n=this.getViewerOption("rangeChunkSize");return n||(n="en-US"===this.options.location.locale?D:H),this.bindDOMListeners(),this.pdfLoadingTask=PDFJS.getDocument({url:e,rangeChunkSize:n}),this.pdfLoadingTask.then(function(n){t.pdfViewer.setDocument(n);var i=t.pdfViewer.linkService;i instanceof PDFJS.PDFLinkService&&(i.setDocument(n,e),i.setViewer(t.pdfViewer))}).catch(function(e){var n=e;e instanceof Error&&(n.displayMessage="죄송합니다. 미리 보기가 로드되지 않았습니다. 이 문서는 보호받는 문서일 수 있습니다."),t.triggerError(e)})}},{key:"setupPdfjs",value:function(){var e=this.options,t=e.file,i=e.location,r=n.i(_.i)(i);PDFJS.workerSrc=r("third-party/doc/pdf.worker.min.js"),PDFJS.cMapUrl=i.staticBaseURI+"third-party/doc/cmaps/",PDFJS.cMapPacked=!0,PDFJS.externalLinkTarget=PDFJS.LinkTarget.BLANK,PDFJS.disableRange=PDFJS.disableRange||p.a.isIOS()&&"Safari"===p.a.getName(),PDFJS.disableRange=PDFJS.disableRange||t.watermark_info&&t.watermark_info.is_watermarked,PDFJS.disableTextLayer=!n.i(w.c)(t,E.a)}},{key:"initAnnotations",value:function(){var e=this;this.setupPageIds();var t=this.options,i=t.apiHost,r=t.file,o=t.location,a=t.token,s=r.file_version.id,l=n.i(w.c)(r,E.e)&&!p.a.isMobile(),c=new h.a({apiHost:i,fileId:r.id,token:a,canAnnotate:l});this.annotator=new g.a({annotatedElement:this.docEl,annotationService:c,fileVersionID:s,locale:o.locale}),this.annotator.init(),this.annotator.setScale(this.pdfViewer.currentScale),this.annotator.addListener("pointmodeenter",function(){e.controls&&e.controls.disable()}),this.annotator.addListener("pointmodeexit",function(){e.controls&&e.controls.enable()})}},{key:"setupPageIds",value:function(){var e=this.containerEl.querySelectorAll(".page");[].forEach.call(e,function(e){var t=e.dataset.pageNumber;t&&(e.id="bp-page-"+t)})}},{key:"initPageNumEl",value:function(){var e=this.controls.controlsEl.querySelector(".bp-doc-page-num");e.querySelector(".bp-doc-total-pages").textContent=this.pdfViewer.pagesCount,this.pageNumInputEl=e.querySelector(".bp-doc-page-num-input"),this.currentPageEl=e.querySelector(".bp-doc-current-page")}},{key:"fetchPrintBlob",value:function(e){var t=this;return n.i(_.b)(e,"blob").then(function(e){t.printBlob=e})}},{key:"browserPrint",value:function(){if("function"==typeof window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(this.printBlob,"print.pdf")?this.emit("printsuccess"):this.emit("printerror")}else{var e=URL.createObjectURL(this.printBlob),t=window.open(e);if(t&&"function"==typeof t.print){var n=p.a.getName();"Chrome"===n?t.addEventListener("load",function(){t.print()}):"Safari"===n&&setTimeout(function(){t.print()},R)}!t||t.closed||void 0===t.closed?this.emit("printerror"):this.emit("printsuccess"),URL.revokeObjectURL(e)}}},{key:"loadUI",value:function(){this.controls=new v.a(this.containerEl),this.bindControlListeners(),this.initPageNumEl()}},{key:"showPageNumInput",value:function(){this.controls.controlsEl.classList.add(M),this.pageNumInputEl.value=this.currentPageEl.textContent,this.pageNumInputEl.focus(),this.pageNumInputEl.select(),this.pageNumInputEl.addEventListener("blur",this.pageNumInputBlurHandler),this.pageNumInputEl.addEventListener("keydown",this.pageNumInputKeydownHandler)}},{key:"hidePageNumInput",value:function(){this.controls.controlsEl.classList.remove(M),this.pageNumInputEl.removeEventListener("blur",this.pageNumInputBlurHandler),this.pageNumInputEl.removeEventListener("keydown",this.pageNumInputKeydownHandler)}},{key:"updateCurrentPage",value:function(e){var t=e,n=this.pdfViewer.pagesCount;e>n?t=n:e<1&&(t=1),this.pageNumInputEl&&(this.pageNumInputEl.value=t),this.currentPageEl&&(this.currentPageEl.textContent=t),this.checkPaginationButtons()}},{key:"bindDOMListeners",value:function(){this.docEl.addEventListener("pagesinit",this.pagesinitHandler),this.docEl.addEventListener("pagerendered",this.pagerenderedHandler),this.docEl.addEventListener("textlayerrendered",this.textlayerrenderedHandler),this.docEl.addEventListener("pagechange",this.pagechangeHandler),this.docEl.addEventListener("scroll",this.scrollHandler),y.a.addListener("enter",this.enterfullscreenHandler),y.a.addListener("exit",this.exitfullscreenHandler),p.a.isMobile()&&(p.a.isIOS()?(this.docEl.addEventListener("gesturestart",this.mobileZoomStartHandler),this.docEl.addEventListener("gestureend",this.mobileZoomEndHandler)):(this.docEl.addEventListener("touchstart",this.mobileZoomStartHandler),this.docEl.addEventListener("touchmove",this.mobileZoomChangeHandler),this.docEl.addEventListener("touchend",this.mobileZoomEndHandler)))}},{key:"unbindDOMListeners",value:function(){this.docEl&&(this.docEl.removeEventListener("pagesinit",this.pagesinitHandler),this.docEl.removeEventListener("pagerendered",this.pagerenderedHandler),this.docEl.removeEventListener("pagechange",this.pagechangeHandler),this.docEl.removeEventListener("textlayerrendered",this.textlayerrenderedHandler),this.docEl.removeEventListener("scroll",this.scrollHandler),p.a.isMobile()&&(p.a.isIOS()?(this.docEl.removeEventListener("gesturestart",this.mobileZoomStartHandler),this.docEl.removeEventListener("gestureend",this.mobileZoomEndHandler)):(this.docEl.removeEventListener("touchstart",this.mobileZoomStartHandler),this.docEl.removeEventListener("touchmove",this.mobileZoomChangeHandler),this.docEl.removeEventListener("touchend",this.mobileZoomEndHandler)))),y.a.removeListener("enter",this.enterfullscreenHandler),y.a.removeListener("exit",this.exitfullscreenHandler)}},{key:"bindControlListeners",value:function(){}},{key:"pageNumInputBlurHandler",value:function(e){var t=e.target,n=parseInt(t.value,10);isNaN(n)||this.setPage(n),this.hidePageNumInput()}},{key:"pageNumInputKeydownHandler",value:function(e){switch(n.i(_.f)(e)){case"Enter":"Explorer"===p.a.getName()?this.docEl.focus():e.target.blur(),e.stopPropagation(),e.preventDefault();break;case"Esc":this.hidePageNumInput(),this.docEl.focus(),e.stopPropagation(),e.preventDefault()}}},{key:"pagesinitHandler",value:function(){this.pdfViewer.currentScaleValue="auto",this.isAnnotatable()&&this.initAnnotations(),this.loadUI(),this.checkPaginationButtons(),this.setPage(this.getCachedPage()),this.docEl.classList.add(E.V),this.loaded||(this.loaded=!0,this.emit("load",{numPages:this.pdfViewer.pagesCount,endProgress:!1}))}},{key:"pagerenderedHandler",value:function(e){var t=e.detail?e.detail.pageNumber:void 0;this.annotator&&(t?this.annotator.renderAnnotationsOnPage(t):this.annotator.renderAnnotations()),PDFJS.disableTextLayer&&this.textlayerrenderedHandler(),t&&(this.emit("pagerender",t),this.somePageRendered||(this.hidePreload(),this.emit("progressend"),this.somePageRendered=!0))}},{key:"textlayerrenderedHandler",value:function(){this.annotator&&!this.annotationsLoaded&&(this.annotator.showAnnotations(),this.annotationsLoaded=!0)}},{key:"pagechangeHandler",value:function(e){var t=e.pageNumber;this.updateCurrentPage(t),this.loaded&&this.cachePage(t),this.emit("pagefocus",t)}},{key:"enterfullscreenHandler",value:function(){this.pdfViewer.currentScaleValue="page-fit",this.resize()}},{key:"exitfullscreenHandler",value:function(){this.pdfViewer.currentScaleValue="auto",this.resize()}}]),t}(d.a))||a;t.a=V},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(53),u=n(26),h=n(9),d=n(6),p=n(1),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},g="panning",m="zoomable",y="pannable",b=l()(a=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.errorHandler=function(e){var t=e;e instanceof Error&&(t.displayMessage="죄송합니다. 미리 보기가 로드되지 않았습니다. 페이지를 새로 고치십시오."),o.emit("error",t)},a=n,r(o,a)}return o(t,e),f(t,[{key:"destroy",value:function(){this.unbindDOMListeners(),this.controls&&"function"==typeof this.controls.destroy&&this.controls.destroy(),this.imageEl&&this.imageEl.removeEventListener("mouseup",this.handleMouseUp),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"finishLoading",value:function(){this.isDestroyed()||(this.zoom(),this.loadUI(),this.imageEl.classList.remove(p.H),this.loaded=!0,this.emit("load"))}},{key:"zoomIn",value:function(){this.zoom("in")}},{key:"zoomOut",value:function(){this.zoom("out")}},{key:"resize",value:function(){this.zoom(),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this)}},{key:"startPanning",value:function(e,t){this.isPannable&&(this.panStartX=e,this.panStartY=t,this.panStartScrollLeft=this.wrapperEl.scrollLeft,this.panStartScrollTop=this.wrapperEl.scrollTop,document.addEventListener("mousemove",this.pan),document.addEventListener("mouseup",this.stopPanning),this.imageEl.classList.add(g),this.isPanning=!0,this.emit("panstart"))}},{key:"pan",value:function(e){if(this.isPanning){var t=e.clientX-this.panStartX,n=e.clientY-this.panStartY;this.wrapperEl.scrollLeft=this.panStartScrollLeft-t,this.wrapperEl.scrollTop=this.panStartScrollTop-n,this.didPan=!0,this.emit("pan")}}},{key:"stopPanning",value:function(){document.removeEventListener("mousemove",this.pan),document.removeEventListener("mouseup",this.stopPanning),this.imageEl.classList.remove(g),this.isPanning=!1,this.emit("panend")}},{key:"updateCursor",value:function(){this.isPannable?(this.isZoomable=!1,this.imageEl.classList.add(y),this.imageEl.classList.remove(m)):(this.isZoomable=!0,this.imageEl.classList.remove(y),this.imageEl.classList.add(m))}},{key:"loadUI",value:function(){this.controls=new c.a(this.containerEl),this.controls.add("축소",this.zoomOut,"bp-image-zoom-out-icon",d.m),this.controls.add("확대",this.zoomIn,"bp-image-zoom-in-icon",d.n)}},{key:"bindDOMListeners",value:function(){this.imageEl.addEventListener("mousedown",this.handleMouseDown),this.imageEl.addEventListener("mouseup",this.handleMouseUp),this.imageEl.addEventListener("dragstart",this.cancelDragEvent),h.a.isMobile()&&(h.a.isIOS()?(this.imageEl.addEventListener("gesturestart",this.mobileZoomStartHandler),this.imageEl.addEventListener("gestureend",this.mobileZoomEndHandler)):(this.imageEl.addEventListener("touchstart",this.mobileZoomStartHandler),this.imageEl.addEventListener("touchmove",this.mobileZoomChangeHandler),this.imageEl.addEventListener("touchend",this.mobileZoomEndHandler)))}},{key:"unbindDOMListeners",value:function(){document.removeEventListener("mousemove",this.pan),document.removeEventListener("mouseup",this.stopPanning),this.imageEl&&(this.imageEl.removeEventListener("mousedown",this.handleMouseDown),this.imageEl.removeEventListener("mouseup",this.handleMouseUp),this.imageEl.removeEventListener("dragstart",this.cancelDragEvent),this.imageEl.removeEventListener("gesturestart",this.mobileZoomStartHandler),this.imageEl.removeEventListener("gestureend",this.mobileZoomEndHandler),this.imageEl.removeEventListener("touchstart",this.mobileZoomStartHandler),this.imageEl.removeEventListener("touchmove",this.mobileZoomChangeHandler),this.imageEl.removeEventListener("touchend",this.mobileZoomEndHandler))}},{key:"onKeydown",value:function(e){return!!this.controls&&("Shift++"===e?(this.zoomIn(),!0):"Shift+_"===e&&(this.zoomOut(),!0))}},{key:"handleMouseDown",value:function(e){var t=e.button,n=e.ctrlKey,i=e.metaKey,r=e.clientX,o=e.clientY;this.didPan=!1,!("number"!=typeof t||t<2)||n||i||(this.startPanning(r,o),e.preventDefault())}},{key:"handleMouseUp",value:function(e){var t=e.button,n=e.ctrlKey,i=e.metaKey;!("number"!=typeof t||t<2)||n||i||(!this.isPannable&&this.isZoomable?this.zoom("in"):this.didPan||this.zoom("reset"),e.preventDefault())}},{key:"cancelDragEvent",value:function(e){e.preventDefault(),e.stopPropogation()}},{key:"zoom",value:function(){}}]),t}(u.a))||a;t.a=b},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(131),u=n(40),h=n(33),d=n(5),p=n(22),f=n(317),v=(n.n(f),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),g=function(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:n.i(d.b)(o,t,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},m="bp-media-dash",y="bp-media-controls-is-hd",b=5,E=12*b,w="manifest.mpd",_=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"setup",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.bandwidthHistory=[],this.switchHistory=[],this.hdRepresentation={},this.sdRepresentation={},this.wrapperEl.classList.add(m)}},{key:"destroy",value:function(){this.emit("bandwidthhistory",this.bandwidthHistory),this.emit("switchhistory",this.switchHistory),this.filmstripStatus&&this.filmstripStatus.destroy(),clearInterval(this.statsIntervalId),this.player&&(this.player.destroy(),this.player=void 0),this.mediaControls&&this.mediaControls.removeListener("qualitychange",this.handleQuality),this.removeStats(),g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(){var e=this;return this.setup(),this.mediaUrl=this.options.representation.content.url_template,this.mediaEl.addEventListener("loadeddata",this.loadeddataHandler),Promise.all([this.loadAssets(this.getJSAssets()),this.getRepStatus().getPromise()]).then(function(){e.loadDashPlayer(),e.resetLoadTimeout()}).catch(this.handleAssetError)}},{key:"prefetch",value:function(e){var t=e.assets,i=void 0===t||t,r=e.content,o=void 0===r||r;i&&this.prefetchAssets(this.getJSAssets());var a=this.options.representation;if(o&&this.isRepresentationReady(a)){var s=a.content.url_template;n.i(d.b)(this.createContentUrlWithAuthParams(s,w),"any")}}},{key:"getJSAssets",value:function(){return["third-party/media/shaka-player.compiled.js"]}},{key:"loadDashPlayer",value:function(){shaka.polyfill.installAll(),this.adapting=!0,this.player=new shaka.Player(this.mediaEl),this.player.addEventListener("adaptation",this.adaptationHandler),this.player.configure({abr:{enabled:!0},streaming:{bufferingGoal:E,retryParameters:{timeout:0,maxAttempts:100,baseDelay:500,backoffFactor:2,fuzzFactor:.5}}}),this.player.getNetworkingEngine().registerRequestFilter(this.requestFilter),this.player.load(this.mediaUrl)}},{key:"requestFilter",value:function(e,t){var n=this,i=e===shaka.net.NetworkingEngine.RequestType.MANIFEST?w:void 0;t.uris=t.uris.map(function(e){return n.createContentUrlWithAuthParams(e,i)})}},{key:"getActiveTrack",value:function(){return this.player.getTracks().find(function(e){return e.active})}},{key:"showLoadingIcon",value:function(e){this.getActiveTrack().id!==e&&g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"showLoadingIcon",this).call(this)}},{key:"enableHD",value:function(){this.showLoadingIcon(this.hdRepresentation.id),this.player.selectTrack(this.hdRepresentation,!0)}},{key:"enableSD",value:function(){this.showLoadingIcon(this.sdRepresentation.id),this.player.selectTrack(this.sdRepresentation,!0)}},{key:"enableAdaptation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.adapting=e,this.player.configure({abr:{enabled:e}})}},{key:"handleQuality",value:function(){var e=u.a.get("media-quality");switch(e){case"hd":this.enableHD();break;case"sd":this.enableSD();break;case"auto":default:this.enableAdaptation()}e&&this.emit("qualitychange",e)}},{key:"adaptationHandler",value:function(){var e=this.getActiveTrack();e.id===this.hdRepresentation.id?this.wrapperEl.classList.add(y):this.wrapperEl.classList.remove(y),this.isLoaded()&&(this.adapting&&this.emit("adaptation",e.bandwidth),this.hideLoadingIcon())}},{key:"addEventListenersForMediaControls",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addEventListenersForMediaControls",this).call(this),this.mediaControls.addListener("qualitychange",this.handleQuality)}},{key:"loadeddataHandler",value:function(){this.isDestroyed()||(this.calculateVideoDimensions(),this.loadUI(),this.loadFilmStrip(),this.resize(),this.handleVolume(),this.startBandwidthTracking(),this.handleQuality(),this.showPlayButton(),this.loaded=!0,this.emit("load"),this.showMedia())}},{key:"loadFilmStrip",value:function(){var e=n.i(p.g)(this.options.file,"filmstrip");if(e){var t=this.createContentUrlWithAuthParams(e.content.url_template);this.filmstripStatus=this.getRepStatus(e),this.mediaControls.initFilmstrip(t,this.filmstripStatus,this.aspect)}}},{key:"calculateVideoDimensions",value:function(){var e=this.player.getTracks(),t=e.reduce(function(e,t){return e.width>t.width?e:t}),n=e.reduce(function(e,t){return e.width<t.width?e:t});this.videoWidth=t.width,this.videoHeight=t.height,this.aspect=this.videoWidth/this.videoHeight,this.hdRepresentation=t,this.sdRepresentation=n}},{key:"resize",value:function(){var e=this.videoWidth||0,n=this.videoHeight||0,i=this.wrapperEl.getBoundingClientRect();if(e<420&&(e=420,n=e/this.aspect),this.mediaEl.style.width="",h.a.isFullscreen(this.containerEl))this.aspect>=1?this.mediaEl.style.width=i.width+"px":this.mediaEl.style.width=i.height*this.aspect+"px";else if(e<=i.width&&n<=i.height)this.aspect>=1?this.mediaEl.style.width=e+"px":this.mediaEl.style.width=n*this.aspect+"px";else{var r=(i.height-n)/n,o=e+e*r,a=(i.width-e)/e,s=n+n*a;s<=i.height?this.mediaEl.style.width=i.width+"px":o<=i.width&&(this.mediaEl.style.width=i.height*this.aspect+"px")}g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this)}},{key:"getBandwidthInterval",value:function(){if(!this.isDestroyed()&&this.player&&this.player.getStats&&!this.mediaEl.paused&&!this.mediaEl.ended){var e=this.player.getStats(),t=e.estimatedBandwidth,n=e.streamBandwidth,i=e.switchHistory;this.bandwidthHistory.push({bandwidth:t,stream:n}),this.switchHistory.push({switchHistory:i,stream:n}),this.statsEl&&(this.statsEl.textContent=Math.round(t/1e3)+" kbps")}}},{key:"startBandwidthTracking",value:function(){this.statsIntervalId=setInterval(this.getBandwidthInterval,3e3)}},{key:"removeStats",value:function(){this.statsEl&&this.mediaContainerEl&&this.mediaContainerEl.removeChild(this.statsEl),this.statsEl=void 0}},{key:"toggleStats",value:function(){if(this.statsEl)return void this.removeStats();this.statsEl=this.mediaContainerEl.appendChild(document.createElement("div")),this.statsEl.className="bp-media-dash-stats",this.statsEl.textContent="?!? kbps"}},{key:"onKeydown",value:function(e){return"Shift+I"===e&&this.player?(this.toggleStats(),!0):g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onKeydown",this).call(this,e)}}]),t}(c.a))||a;t.a=_},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(152),u=n.n(c),h=n(26),d=n(40),p=n(9),f=n(248),v=n(1),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},y="bp-media",b="bp-media-container",E=1,w="media-volume",_=.05,O=100,k=l()(a=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.errorHandler=function(e){var t=e;e instanceof Error&&(t.displayMessage="죄송합니다. 미리 보기가 로드되지 않았습니다. 페이지를 새로 고치십시오."),o.emit("error",t)},o.debouncedEmit=u()(function(e,t){o.emit(e,t)},O),a=n,r(o,a)}return o(t,e),g(t,[{key:"setup",value:function(){m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.wrapperEl=this.containerEl.appendChild(document.createElement("div")),this.wrapperEl.className=y,this.mediaContainerEl=this.wrapperEl.appendChild(document.createElement("div")),this.mediaContainerEl.className=b,this.loadTimeout=1e5}},{key:"destroy",value:function(){this.mediaControls&&(this.mediaControls.removeAllListeners(),this.mediaControls.destroy());try{this.mediaEl&&(this.mediaEl.removeEventListener("timeupdate",this.setTimeCode),this.mediaEl.removeEventListener("progress",this.progressHandler),this.mediaEl.removeEventListener("volumechange",this.updateVolumeIcon),this.mediaEl.removeEventListener("playing",this.playingHandler),this.mediaEl.removeEventListener("pause",this.pauseHandler),this.mediaEl.removeEventListener("ended",this.resetPlayIcon),this.mediaEl.removeEventListener("seeked",this.seekHandler),this.mediaEl.removeEventListener("loadeddata",this.loadeddataHandler),this.mediaEl.removeEventListener("error",this.errorHandler),this.mediaEl.removeAttribute("src"),this.mediaEl.load()),this.mediaContainerEl&&this.mediaContainerEl.removeChild(this.mediaEl)}catch(e){}m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(){var e=this;this.setup(),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this);var n=this.options.representation.content.url_template;return this.mediaUrl=this.createContentUrlWithAuthParams(n),this.mediaEl.addEventListener("loadeddata",this.loadeddataHandler),this.mediaEl.addEventListener("error",this.errorHandler),p.a.isIOS()&&(this.mediaEl.autoplay=!0),this.getRepStatus().getPromise().then(function(){e.mediaEl.src=e.mediaUrl}).catch(this.handleAssetError)}},{key:"loadeddataHandler",value:function(){this.destroyed||(this.handleVolume(),this.loaded=!0,this.emit("load"),this.loadUI(),this.resize(),this.showMedia())}},{key:"showMedia",value:function(){this.wrapperEl.classList.add(v.l)}},{key:"handleRate",value:function(){var e=d.a.get("media-speed")-0;e&&this.mediaEl.playbackRate!==e&&this.mediaEl.playbackRate>0&&this.emit("ratechange",e),this.mediaEl.playbackRate=e}},{key:"handleVolume",value:function(){var e=d.a.has(w)?d.a.get(w):E;this.mediaEl.volume!==e&&(this.debouncedEmit("volume",e),this.mediaEl.volume=e)}},{key:"loadUI",value:function(){this.mediaControls=new f.a(this.mediaContainerEl,this.mediaEl),this.mediaControls.setDuration(this.mediaEl.duration),this.addEventListenersForMediaControls(),this.addEventListenersForMediaElement()}},{key:"addEventListenersForMediaControls",value:function(){this.mediaControls.addListener("timeupdate",this.setMediaTime),this.mediaControls.addListener("volumeupdate",this.setVolume),this.mediaControls.addListener("toggleplayback",this.togglePlay),this.mediaControls.addListener("togglemute",this.toggleMute),this.mediaControls.addListener("ratechange",this.handleRate)}},{key:"setTimeCode",value:function(){this.mediaControls.setTimeCode(this.mediaEl.currentTime)}},{key:"setMediaTime",value:function(e){this.mediaEl.currentTime=e}},{key:"setVolume",value:function(e){d.a.set(w,e),this.handleVolume()}},{key:"updateVolumeIcon",value:function(){this.mediaControls.updateVolumeIcon(this.mediaEl.volume)}},{key:"playingHandler",value:function(){this.mediaControls.showPauseIcon(),this.hideLoadingIcon(),this.handleRate(),this.handleVolume()}},{key:"progressHandler",value:function(){this.mediaControls.updateProgress()}},{key:"pauseHandler",value:function(){this.mediaControls.showPlayIcon()}},{key:"seekHandler",value:function(){this.hideLoadingIcon(),this.debouncedEmit("seeked",this.mediaEl.currentTime)}},{key:"showPlayButton",value:function(){this.playButtonEl&&this.playButtonEl.classList.remove(v.v)}},{key:"hidePlayButton",value:function(){this.playButtonEl&&this.playButtonEl.classList.add(v.v)}},{key:"resetPlayIcon",value:function(){this.mediaControls.setTimeCode(0),this.hideLoadingIcon(),this.pauseHandler()}},{key:"togglePlay",value:function(){this.mediaEl.paused?(this.mediaEl.play(),this.emit("play"),this.handleRate(),this.handleVolume()):(this.mediaEl.pause(),this.emit("pause"))}},{key:"toggleMute",value:function(){this.mediaEl.volume?(this.oldVolume=this.mediaEl.volume,d.a.set(w,0)):d.a.set(w,this.oldVolume),this.handleVolume()}},{key:"hideLoadingIcon",value:function(){this.containerEl&&this.containerEl.classList.remove(v.R)}},{key:"showLoadingIcon",value:function(){this.containerEl&&this.mediaEl&&!this.mediaEl.paused&&!this.mediaEl.ended&&(this.containerEl.classList.add(v.R),this.hidePlayButton())}},{key:"addEventListenersForMediaElement",value:function(){this.mediaEl.addEventListener("timeupdate",this.setTimeCode),this.mediaEl.addEventListener("progress",this.progressHandler),this.mediaEl.addEventListener("volumechange",this.updateVolumeIcon),this.mediaEl.addEventListener("playing",this.playingHandler),this.mediaEl.addEventListener("pause",this.pauseHandler),this.mediaEl.addEventListener("ended",this.resetPlayIcon),this.mediaEl.addEventListener("seeked",this.seekHandler)}},{key:"quickSeek",value:function(e){var t=this.mediaEl.currentTime+e;t=Math.max(0,Math.min(t,this.mediaEl.duration)),this.setMediaTime(t)}},{key:"increaseVolume",value:function(){var e=Math.round(100*(this.mediaEl.volume+_))/100;e=Math.min(1,e),this.setVolume(e)}},{key:"decreaseVolume",value:function(){var e=Math.round(100*(this.mediaEl.volume-_))/100;e=Math.max(0,e),this.setVolume(e)}},{key:"onKeydown",value:function(e){if(!this.mediaControls||this.mediaControls.isFocused())return!1;switch(e.toLowerCase()){case"space":case"k":this.togglePlay();break;case"arrowleft":this.quickSeek(-5);break;case"j":this.quickSeek(-10);break;case"arrowright":this.quickSeek(5);break;case"l":this.quickSeek(10);break;case"0":case"home":this.setMediaTime(0);break;case"arrowup":this.increaseVolume();break;case"arrowdown":this.decreaseVolume();break;case"shift+>":this.mediaControls.increaseSpeed();break;case"shift+<":this.mediaControls.decreaseSpeed();break;case"f":case"shift+f":this.mediaControls.toggleFullscreen();break;case"m":case"shift+m":this.toggleMute();break;default:return!1}return this.mediaControls.show(),!0}}]),t}(h.a))||a;t.a=k},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(46),u=n.n(c),h=n(130),d=n(1),p=n(6),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},g=1e3,m="bp-media-play-button",y=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"setup",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.mediaEl=this.mediaContainerEl.appendChild(document.createElement("video")),this.mediaEl.setAttribute("preload","auto"),this.playButtonEl=this.mediaContainerEl.appendChild(document.createElement("div")),this.playButtonEl.classList.add(m),this.playButtonEl.classList.add(d.v),this.playButtonEl.innerHTML=p.r,this.lowerLights()}},{key:"destroy",value:function(){this.mediaEl&&(this.mediaEl.removeEventListener("mousemove",this.mousemoveHandler),this.mediaEl.removeEventListener("click",this.togglePlay),this.mediaEl.removeEventListener("waiting",this.waitingHandler)),this.playButtonEl&&this.playButtonEl.removeEventListener("click",this.togglePlay),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"loadeddataHandler",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"loadeddataHandler",this).call(this),this.showPlayButton()}},{key:"playingHandler",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"playingHandler",this).call(this),this.hidePlayButton()}},{key:"pauseHandler",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pauseHandler",this).call(this),this.showPlayButton()}},{key:"waitingHandler",value:function(){this.containerEl&&this.containerEl.classList.add(d.R)}},{key:"addEventListenersForMediaControls",value:function(){var e=this;v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addEventListenersForMediaControls",this).call(this),this.mediaControls.on("togglefullscreen",function(){e.toggleFullscreen()})}},{key:"showLoadingIcon",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"showLoadingIcon",this).call(this)}},{key:"addEventListenersForMediaElement",value:function(){var e=this;v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addEventListenersForMediaElement",this).call(this),this.mousemoveHandler=u()(function(){e.mediaControls.show()},g),this.mediaEl.addEventListener("mousemove",this.mousemoveHandler),this.mediaEl.addEventListener("click",this.togglePlay),this.mediaEl.addEventListener("waiting",this.waitingHandler),this.playButtonEl.addEventListener("click",this.togglePlay)}},{key:"resize",value:function(){this.mediaControls&&this.mediaControls.resizeTimeScrubber(),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this)}},{key:"allowNavigationArrows",value:function(){return!this.mediaControls||!this.mediaControls.isSettingsVisible()}},{key:"lowerLights",value:function(){this.containerEl&&this.containerEl.classList.add(d.S)}},{key:"onKeydown",value:function(e){return v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onKeydown",this).call(this,e)}}]),t}(h.a))||a;t.a=y},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(322),s=(n.n(a),n(133)),l=n(9),c=n(78),u=n(1),h=n(6),d=n(134),p=n(5),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=function(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:n.i(p.b)(o,t,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},g="onmessage=function(e){importScripts(e.data.highlightSrc);postMessage(self.hljs.highlightAuto(e.data.text).value)};",m=196608,y=5e3,b="third-party/text/",E=[b+"highlight.min.js"],w=[b+"github.css"],_=function(e){function t(){var e,o,a,s;i(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return o=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.postLoad=function(){var e=a.options,t=e.representation,i=e.file,r=t.content.url_template,o=i.extension,s=i.size;a.truncated=s>m;var l=a.truncated?{Range:"bytes=0-"+m}:{};n.i(p.b)(a.createContentUrlWithAuthParams(r),l,"text").then(function(e){if(!a.isDestroyed()){var t=e;a.truncated&&(t+="..."),d.c.indexOf(o)===-1?a.finishLoading(t,!1):a.initHighlightJs(t)}})},s=o,r(a,s)}return o(t,e),f(t,[{key:"destroy",value:function(){if(this.textEl){var e=this.textEl.querySelector(".bp-btn-download");e&&e.removeEventListener("click",this.download.bind(this))}this.printIframe=null,v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(){this.setup(),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this);var e=this.loadAssets(this.getJS(),this.getCSS());return Promise.all([e,this.getRepStatus().getPromise()]).then(this.postLoad).catch(this.handleAssetError)}},{key:"prefetch",value:function(e){var t=e.assets,i=void 0===t||t,r=e.content,o=void 0===r||r;i&&this.prefetchAssets(this.getJS(),this.getCSS());var a=this.options.representation;if(o&&this.isRepresentationReady(a)){var s=a.content.url_template;n.i(p.b)(this.createContentUrlWithAuthParams(s),"any")}}},{key:"print",value:function(){var e=this;if(!this.printReady)return this.preparePrint(this.getCSS().concat("preview.css")),this.printPopup.show("인쇄 준비 중...","인쇄",function(){e.printPopup.hide(),e.printIframe()}),void this.printPopup.disableButton();this.printIframe(),this.emit("printsuccess")}},{key:"setup",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.textEl=this.containerEl.appendChild(document.createElement("pre")),this.textEl.className="bp-text bp-text-plain hljs",this.textEl.classList.add(u.v),this.codeEl=this.textEl.appendChild(document.createElement("code")),this.codeEl.classList.add(this.options.file.extension),this.truncated=!1,this.initPrint()}},{key:"getJS",value:function(){return E}},{key:"getCSS",value:function(){return w}},{key:"finishLoading",value:function(e,t){t?this.codeEl.innerHTML=e:this.codeEl.textContent=e,this.loadUI(),this.textEl.classList.remove(u.v),this.loaded=!0,this.emit("load"),this.truncated&&this.showTruncatedDownloadButton(),this.workerSrc&&URL.revokeObjectURL(this.workerSrc)}},{key:"initHighlightJs",value:function(e){var t=this,i=new Blob([g],{type:"application/javascript"});this.workerSrc=URL.createObjectURL(i);var r=new Worker(this.workerSrc);r.onmessage=function(e){t.finishLoading(e.data,!0)};var o=n.i(p.i)(this.options.location),a=o("third-party/text/highlight.min.js");r.postMessage({highlightSrc:a,text:e})}},{key:"initPrint",value:function(){this.printPopup=new c.a(this.containerEl);var e=document.createElement("div");e.className="bp-print-check "+u.v,e.innerHTML=h.w.trim();var t=document.createElement("div");t.classList.add("bp-crawler"),t.innerHTML="\n            <div></div>\n            <div></div>\n            <div></div>".trim(),this.printPopup.addContent(t,!0),this.printPopup.addContent(e,!0),this.printPopup.loadingIndicator=t,this.printPopup.printCheckmark=e}},{key:"preparePrint",value:function(e){var t=this,i=n.i(p.i)(this.options.location);this.printframe=n.i(p.p)(this.textEl.outerHTML),e.forEach(function(e){t.printframe.contentDocument.head.appendChild(n.i(p.s)(i(e)))}),setTimeout(function(){t.printPopup&&(t.printPopup.enableButton(),t.printPopup.messageEl.textContent="인쇄할 준비가 되었습니다.",t.printPopup.loadingIndicator.classList.add(u.v),t.printPopup.printCheckmark.classList.remove(u.v)),t.printReady=!0},y)}},{key:"printIframe",value:function(){this.printframe.contentWindow.focus(),"Explorer"===l.a.getName()||"Edge"===l.a.getName()?this.printframe.contentWindow.document.execCommand("print",!1,null):this.printframe.contentWindow.print()}},{key:"showTruncatedDownloadButton",value:function(){var e=document.createElement("div");e.classList.add("bp-text-truncated");var t=document.createElement("p");t.textContent="크기 제한으로 인해 이 파일이 잘렸습니다. 전체 파일을 보려면 다운로드하십시오.";var n=document.createElement("button");n.className="bp-btn bp-btn-primary bp-btn-download",n.textContent="파일 다운로드",e.appendChild(t),e.appendChild(n),this.textEl.appendChild(e),n.addEventListener("click",this.download.bind(this))}},{key:"download",value:function(){this.emit("download")}}]),t}(s.a);t.a=_},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(53),u=n(26),h=n(22),d=n(1),p=n(6),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},g=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"setup",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this)}},{key:"destroy",value:function(){this.controls&&"function"==typeof this.controls.destroy&&this.controls.destroy(),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"zoom",value:function(e){var t=this.containerEl.querySelector(".bp-text"),n=parseInt(t.style.fontSize,10)||100,i=0;"in"===e?i=n+10+"%":"out"===e&&(i=n-10+"%"),t.style.fontSize=i,this.emit("zoom",{zoom:i,canZoomIn:!0,canZoomOut:!0})}},{key:"zoomIn",value:function(){this.zoom("in")}},{key:"zoomOut",value:function(){this.zoom("out")}},{key:"load",value:function(){n.i(h.c)(this.options.file,d.a)&&this.containerEl.classList.add(d.Z),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this)}},{key:"loadUI",value:function(){this.controls=new c.a(this.containerEl),this.controls.add("축소",this.zoomOut,"bp-text-zoom-out-icon",p.m),this.controls.add("확대",this.zoomIn,"bp-text-zoom-in-icon",p.n),this.controls.add("전체 화면 시작",this.toggleFullscreen,"bp-enter-fullscreen-icon",p.d),this.controls.add("전체 화면 종료",this.toggleFullscreen,"bp-exit-fullscreen-icon",p.e)}},{key:"resize",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this)}},{key:"onKeydown",value:function(e){return!!this.controls&&("Shift++"===e?(this.zoomIn(),!0):"Shift+_"===e&&(this.zoomOut(),!0))}}]),t}(u.a))||a;t.a=g},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var i=["csv","log","md","tsv","txt"],r=["htm","html","xhtml","xml","xsd","xsl"],o=["as","as3","asm","bat","c","cc","cmake","cpp","cs","css","cxx","diff","erb","groovy","h","haml","hh","java","js","less","m","make","ml","mm","php","pl","plist","properties","py","rb","rst","sass","scala","script","scm","sml","sql","sh","vi","vim","webdoc","yaml"],a=o.concat(i),s=o.concat(r)},,,,,,,,,,,,,,,,,function(e,t,n){n(473),e.exports=self.fetch.bind(self)},function(e,t,n){(function(t){function n(e,t,n){function r(t){var n=v,i=g;return v=g=void 0,k=t,y=e.apply(i,n)}function o(e){return k=e,b=setTimeout(u,t),C?r(e):y}function l(e){var n=e-O,i=e-k,r=t-n;return P?w(r,m-i):r}function c(e){var n=e-O,i=e-k;return void 0===O||n>=t||n<0||P&&i>=m}function u(){var e=_();if(c(e))return h(e);b=setTimeout(u,l(e))}function h(e){return b=void 0,S&&v?r(e):(v=g=void 0,y)}function d(){void 0!==b&&clearTimeout(b),k=0,v=O=g=b=void 0}function p(){return void 0===b?y:h(_())}function f(){var e=_(),n=c(e);if(v=arguments,g=this,O=e,n){if(void 0===b)return o(O);if(P)return b=setTimeout(u,t),r(O)}return void 0===b&&(b=setTimeout(u,t)),y}var v,g,m,y,b,O,k=0,C=!1,P=!1,S=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,i(n)&&(C=!!n.leading,P="maxWait"in n,m=P?E(a(n.maxWait)||0,t):m,S="trailing"in n?!!n.trailing:S),f.cancel=d,f.flush=p,f}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||r(e)&&b.call(e)==c}function a(e){if("number"==typeof e)return e;if(o(e))return l;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=d.test(e);return n||p.test(e)?f(e.slice(2),n?2:8):h.test(e)?l:+e}var s="Expected a function",l=NaN,c="[object Symbol]",u=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,m=v||g||Function("return this")(),y=Object.prototype,b=y.toString,E=Math.max,w=Math.min,_=function(){return m.Date.now()};e.exports=n}).call(t,n(32))},,function(e,t){e.exports='<span class="bp-doc-current-page">1</span>\n<input type="text" value="" size="3" class="bp-doc-page-num-input">\n<span class="bp-doc-page-num-divider">&nbsp;/&nbsp;</span>\n<span class="bp-doc-total-pages">1</span>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(215),l=(n.n(s),n(0)),c=n.n(l),u=n(13),h=n.n(u),d=n(46),p=n.n(d),f=n(335),v=n.n(f),g=n(9),m=n(203),y=n(214),b=n(40),E=n(205),w=n(240),_=n(5),O=n(216),k=n(22),C=n(123),P=n(1),S=n(307),x=(n.n(S),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),L=["Office"],R=4,T=1500,j=500,A=5,H=["INPUT","SELECT","TEXTAREA"],D=500,M=3,N=e.Box||{},I=c()(a=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.open=!1,e.count={success:0,error:0,navigation:0},e.file={},e.options={},e.disabledViewers={},L.forEach(function(t){e.disabledViewers[t]=1}),e.token="",e.loaders=y.a,e.location=n.i(_.a)("preview.js",document.currentScript),e}return o(t,e),x(t,[{key:"destroy",value:function(){this.progressBar&&this.progressBar.destroy(),this.viewer&&"function"==typeof this.viewer.destroy&&this.viewer.destroy(),this.viewer=void 0}},{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t||"function"==typeof t)this.previewOptions=Object.assign({},n,{token:t});else{if(!t)throw new Error("Missing Auth Token!");this.previewOptions=Object.assign({},t||{})}this.load(e)}},{key:"hide",value:function(){this.open=!1,this.destroy(),n.i(C.a)(),this.file=void 0}},{key:"updateCollection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.collection=Array.isArray(e)?e:[],this.previewOptions.collection=this.collection,this.file&&n.i(C.b)(this.file.id,this.collection)}},{key:"updateFileCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e;Array.isArray(t)||(t=[e]),t.forEach(function(e){e.watermark_info&&e.watermark_info.is_watermarked||n.i(k.a)(e)&&n.i(k.b)(e)})}},{key:"getCurrentViewer",value:function(){return this.viewer}},{key:"getCurrentFile",value:function(){return this.file}},{key:"getCurrentCollection",value:function(){return this.collection}},{key:"getViewers",value:function(){var e=[];return this.loaders.forEach(function(t){e=e.concat(t.getViewers())}),e}},{key:"disableViewers",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){t.disabledViewers[e]=1}):e&&(this.disabledViewers[e]=1)}},{key:"enableViewers",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){delete t.disabledViewers[e]}):e&&delete this.disabledViewers[e]}},{key:"disableHotkeys",value:function(){this.options.useHotkeys=!1}},{key:"enableHotkeys",value:function(){this.options.useHotkeys=!0}},{key:"resize",value:function(){this.viewer&&"function"==typeof this.viewer.resize&&this.viewer.resize()}},{key:"print",value:function(){n.i(k.c)(this.file,P.a)&&n.i(k.d)(this.viewer,"print")&&this.viewer.print()}},{key:"download",value:function(){n.i(k.c)(this.file,P.a)&&n.i(_.b)(n.i(k.e)(this.file.id,this.options.apiHost),this.getRequestHeaders()).then(function(e){n.i(_.c)(e.download_url)})}},{key:"updateToken",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.previewOptions.token=e,t&&this.load(this.file)}},{key:"prefetch",value:function(e){var t=e.fileId,n=e.token,i=e.sharedLink,r=void 0===i?"":i,o=e.sharedLinkPassword,a=void 0===o?"":o,s=e.preload,l=void 0!==s&&s,c=void 0,u=void 0,h=void 0;try{if(c=b.a.get(t),u=this.getLoader(c),!(h=u.determineViewer(c)))return}catch(e){return}var d={viewer:h,file:c,token:n,representation:u.determineRepresentation(c,h)};l&&(d.sharedLink=r,d.sharedLinkPassword=a);var p=new h.CONSTRUCTOR(this.createViewerOptions(d));"function"==typeof p.prefetch&&p.prefetch({assets:!0,preload:l||p.getViewerOption("preload"),content:!l})}},{key:"prefetchViewers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.getViewers().filter(function(e){return t.indexOf(e.NAME)!==-1}).forEach(function(t){var n=new t.CONSTRUCTOR(e.createViewerOptions({viewer:t}));"function"==typeof n.prefetch&&n.prefetch({assets:!0,preload:!1,content:!1})})}},{key:"load",value:function(e){this.destroy(),this.open=!0,this.logger=new m.a(this.location.locale),clearTimeout(this.retryTimeout);var t=this.file?this.file.id:void 0;this.file="string"==typeof e?b.a.get(e)||{id:e}:e,this.file.id===t?this.retryCount+=1:this.retryCount=0,n.i(O.a)(this.file.id,this.previewOptions.token).then(this.loadPreviewWithTokens).catch(this.triggerFetchError)}},{key:"loadPreviewWithTokens",value:function(e){if(this.retryCount>0)return void this.loadFromServer();this.parseOptions(this.previewOptions,e),this.container=n.i(C.c)(this.options,this.keydownHandler,this.navigateLeft,this.navigateRight,this.getGlobalMousemoveHandler()),n.i(C.d)(),this.startProgressBar(),n.i(C.b)(this.file.id,this.collection),n.i(k.b)(this.file),0===this.collection.length&&(this.collection=[this.file.id]),n.i(k.a)(this.file)?this.loadFromCache():this.loadFromServer()}},{key:"parseOptions",value:function(e,t){var n=this,i=Object.assign({},e);this.options={},this.options.container=i.container,this.options.token=t[this.file.id],this.options.sharedLink=i.sharedLink,this.options.sharedLinkPassword=i.sharedLinkPassword,this.options.apiHost=i.apiHost?i.apiHost.replace(/\/$/,""):P.b,this.options.appHost=i.appHost?i.appHost.replace(/\/$/,""):P.c,this.options.header=i.header||"light",this.options.logoUrl=i.logoUrl||"",this.options.showDownload=!!i.showDownload,this.options.showAnnotations=!!i.showAnnotations,this.options.useHotkeys=i.useHotkeys!==!1,this.collection=i.collection||[],this.options.viewers=i.viewers||{},this.loaders=(i.loaders||[]).concat(y.a),Object.keys(this.options.viewers).forEach(function(e){var t=n.options.viewers[e].disabled;t===!0?n.disableViewers(e):t===!1&&n.enableViewers(e)})}},{key:"createViewerOptions",value:function(e){return v()(Object.assign({location:this.location},this.options,e))}},{key:"loadFromCache",value:function(){this.logger.setCached(),this.loadViewer(),this.loadFromServer()}},{key:"loadFromServer",value:function(){n.i(_.b)(n.i(k.f)(this.file.id,this.options.apiHost),this.getRequestHeaders()).then(this.handleLoadResponse).catch(this.triggerFetchError)}},{key:"handleLoadResponse",value:function(e){if(this.open&&(!this.file||this.file.id===e.id))try{this.file=e,this.logger.setFile(e);var t=b.a.get(e.id),i=e.watermark_info&&e.watermark_info.is_watermarked,r=!t||!t.file_version||t.file_version.sha1!==e.file_version.sha1;i?b.a.unset(e.id):n.i(k.b)(e),(r||i)&&(this.logger.setCacheStale(),this.loadViewer())}catch(e){this.triggerError(e instanceof Error?e:new Error("죄송합니다. 미리 보기가 로드되지 않았습니다. 페이지를 새로 고치십시오."))}}},{key:"loadViewer",value:function(){if(this.open){if(!n.i(k.c)(this.file,P.d))throw new Error("죄송합니다. 이 파일을 미리 볼 수 있는 권한이 없습니다.");n.i(k.c)(this.file,P.a)&&this.options.showDownload&&n.i(C.e)(this.download);var e=this.getLoader(this.file);if(!e)throw new Error;var t=e.determineViewer(this.file,Object.keys(this.disabledViewers));this.logger.setType(t.NAME);var i=e.determineRepresentation(this.file,t),r=this.createViewerOptions({viewer:t,representation:i,container:this.container,file:this.file});r.logger=this.logger,this.viewer=new t.CONSTRUCTOR(r),this.attachViewerListeners(),this.viewer.load(),this.emit("viewer",this.viewer)}}},{key:"attachViewerListeners",value:function(){var e=this;this.viewer.addListener("error",this.triggerError),this.viewer.addListener("viewerevent",function(t){switch(t.event){case"download":e.download();break;case"reload":e.show(e.file.id,e.previewOptions);break;case"load":e.finishLoading(t.data);break;case"progressend":e.finishProgressBar();break;default:e.emit(t.event,t.data),e.emit("viewerevent",t)}})}},{key:"finishLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.i(k.c)(this.file,P.a)&&this.options.showDownload&&!g.a.isMobile()&&(n.i(C.f)(this.download),n.i(k.d)(this.viewer,"print")&&n.i(C.g)(this.print)),n.i(k.c)(this.file,P.e)&&!g.a.isMobile()&&n.i(k.d)(this.viewer,"isAnnotatable","point")&&n.i(C.h)(this.viewer.getPointModeClickHandler());var t=e.error;t?(this.count.error+=1,this.emit("load",{error:t,metrics:this.logger.done(this.count),file:this.file}),"function"==typeof window.callPhantom&&window.callPhantom(0)):(this.count.success+=1,this.emit("load",{viewer:this.viewer,metrics:this.logger.done(this.count),file:this.file}),this.logPreviewEvent(this.file.id,this.options),"function"==typeof window.callPhantom&&window.callPhantom(1)),e.endProgress!==!1&&this.finishProgressBar(),this.viewer&&this.viewer.containerEl&&this.viewer.containerEl.focus(),n.i(C.i)(),this.prefetchNextFiles()}},{key:"logPreviewEvent",value:function(e,t){var i=this;this.logRetryCount=this.logRetryCount||0;var r=t.apiHost,o=t.token,a=t.sharedLink,s=t.sharedLinkPassword,l=n.i(_.d)({},o,a,s);n.i(_.e)(r+"/2.0/events",l,{event_type:"preview",source:{type:"file",id:e}}).then(function(){i.logRetryCount=0}).catch(function(){if(i.logRetryCount+=1,i.logRetryCount>M)return void(i.logRetryCount=0);clearTimeout(i.logRetryTimeout),i.logRetryTimeout=setTimeout(function(){i.logPreviewEvent(e,t)},D*i.logRetryCount)})}},{key:"triggerFetchError",value:function(){var e=this;if(this.open){if(b.a.unset(this.file.id),this.retryCount>A)return void this.triggerError(new Error("죄송합니다. 미리 보기가 로드되지 않았습니다. 페이지를 새로 고치십시오."));clearTimeout(this.retryTimeout),this.retryTimeout=setTimeout(function(){e.load(e.file.id)},j*this.retryCount)}}},{key:"getErrorViewer",value:function(){return new w.a(this.createViewerOptions({viewer:{NAME:"Error"},container:this.container,file:this.file}))}},{key:"triggerError",value:function(e){if(this.open){this.open=!1,b.a.unset(this.file.id),this.destroy();var t=e instanceof Error?e.message:"죄송합니다. 미리 보기가 로드되지 않았습니다. 이 파일 유형이 지원되지 않을 수 있습니다.",n=e&&e.displayMessage?e.displayMessage:t;this.viewer=this.getErrorViewer(),this.attachViewerListeners(),this.viewer.load(n)}}},{key:"getRequestHeaders",value:function(e){var t=g.a.canPlayDash()?P.f:P.g,i={"X-Rep-Hints":""+P.h+P.i+P.j+t};return n.i(_.d)(i,e||this.options.token,this.options.sharedLink,this.options.sharedLinkPassword)}},{key:"prefetchNextFiles",value:function(){var e=this;if(!(this.collection.length<2)){this.prefetchedCollection=this.prefetchedCollection||[];var t=this.collection.indexOf(this.file.id),i=this.collection.slice(t+1,t+R+1).filter(function(t){return e.prefetchedCollection.indexOf(t)===-1});0!==i.length&&n.i(O.a)(i,this.previewOptions.token).then(function(t){i.forEach(function(i){var r=t[i];n.i(_.b)(n.i(k.f)(i,e.options.apiHost),e.getRequestHeaders(r)).then(function(t){n.i(k.b)(t),e.prefetchedCollection.push(t.id),e.prefetch({fileId:t.id,token:r})}).catch(function(e){})})}).catch(function(){})}}},{key:"startProgressBar",value:function(){this.progressBar=new E.a(this.container),this.progressBar.start()}},{key:"finishProgressBar",value:function(){this.progressBar&&this.progressBar.finish()}},{key:"getGlobalMousemoveHandler",value:function(){var e=this;return this.throttledMousemoveHandler?this.throttledMousemoveHandler:(this.throttledMousemoveHandler=p()(function(){if(clearTimeout(e.timeoutHandler),e.container){var t=!!e.viewer;e.container.classList.remove(P.k),t&&!e.viewer.allowNavigationArrows()||e.container.classList.add(P.k),e.timeoutHandler=setTimeout(function(){e.container&&e.container.classList.remove(P.k)},T)}},T-500,!0),this.throttledMousemoveHandler)}},{key:"navigateToIndex",value:function(e){var t=this.collection[e];this.emit("navigate",t),this.count.navigation+=1,this.load(t)}},{key:"navigateLeft",value:function(){var e=this.collection.indexOf(this.file.id),t=0===e?0:e-1;t!==e&&this.navigateToIndex(t)}},{key:"navigateRight",value:function(){var e=this.collection.indexOf(this.file.id),t=e===this.collection.length-1?this.collection.length-1:e+1;t!==e&&this.navigateToIndex(t)}},{key:"getLoader",value:function(e){var t=this;return this.loaders.find(function(n){return n.canLoad(e,Object.keys(t.disabledViewers))})}},{key:"keydownHandler",value:function(e){var t=e.target;if(this.options.useHotkeys&&!(!t||H.indexOf(t.nodeName)>-1||"DIV"===t.nodeName&&t.getAttribute("contenteditable"))){var i=!1,r=n.i(_.f)(e);if(r){if(this.viewer&&"function"==typeof this.viewer.onKeydown&&(i=!!this.viewer.onKeydown(r)),!i)switch(r){case"ArrowLeft":this.navigateLeft(),i=!0;break;case"ArrowRight":this.navigateRight(),i=!0}i&&(e.preventDefault(),e.stopPropagation())}}}}]),t}(h.a))||a;N.Preview=new I,e.Box=N,t.default=I}).call(t,n(32))},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(9),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a={name:r.a.getName(),swf:r.a.hasFlash(),svg:r.a.hasSVG(),mse:r.a.hasMSE(),webgl:r.a.hasWebGL(),mp3:r.a.canPlayMP3(),dash:r.a.canPlayDash(),box3d:r.a.supportsModel3D(),h264:{baseline:r.a.canPlayH264Baseline(),main:r.a.canPlayH264Main(),high:r.a.canPlayH264High()}},s=function(){function e(t){i(this,e),this.start=Date.now(),this.log={locale:t,event:"preview",browser:a,converted:!0,cache:{hit:!1,stale:!1},time:{conversion:0,rendering:0,total:0}}}return o(e,[{key:"setCached",value:function(){this.log.cache.hit=!0}},{key:"setCacheStale",value:function(){this.log.cache.stale=!0}},{key:"setUnConverted",value:function(){this.log.converted=!1,this.log.time.conversion=Date.now()-this.start}},{key:"setPreloaded",value:function(){this.log.time.preload=Date.now()-this.start}},{key:"setFile",value:function(e){this.log.file=e}},{key:"setType",value:function(e){this.log.type=e}},{key:"done",value:function(e){return this.log.count=e,this.log.time.total=Date.now()-this.start,this.log.time.rendering=this.log.time.total-this.log.time.conversion,this.log}}]),e}();t.a=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(1),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=5e3,s=function(){function e(t){var n=this;i(this,e),this.clickHandler=function(e){e.stopPropagation(),e.target===n.buttonEl&&n.hide()};var r="notification_"+(new Date).getTime()+"_label";this.notificationEl=document.createElement("div"),this.notificationEl.className="bp-notification bp-is-hidden",this.notificationEl.addEventListener("click",this.clickHandler),this.notificationEl.setAttribute("role","alert"),this.notificationEl.setAttribute("aria-labeledby",r),this.notificationEl.innerHTML=('\n            <span id="'+r+'"></span>\n            <button class="close-btn">확인</button>\n        ').trim(),this.messageEl=this.notificationEl.querySelector("#"+r),this.buttonEl=this.notificationEl.querySelector("button");var o=document.createElement("div");o.className="bp-notifications-wrapper",o.appendChild(this.notificationEl),t.appendChild(o)}return o(e,[{key:"show",value:function(e,t){this.messageEl.textContent=e,this.buttonEl.textContent=t?t:"확인",this.notificationEl.classList.remove(r.v),this.notificationEl.focus(),setTimeout(this.hide,a)}},{key:"hide",value:function(){this.notificationEl.classList.add(r.v)}}]),e}();t.a=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(1),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a="bp-progress-bar-container",s="bp-progress-bar",l=150,c=function(){function e(t){i(this,e),this.mountEl=t,this.containerEl=document.createElement("div"),this.containerEl.classList.add(a),this.progressBarEl=document.createElement("div"),this.progressBarEl.classList.add(s),this.containerEl.appendChild(this.progressBarEl),this.mountEl.appendChild(this.containerEl)}return o(e,[{key:"destroy",value:function(){this.progressBarEl&&(clearInterval(this.progressInterval),this.mountEl.removeChild(this.containerEl),this.containerEl=null,this.progressBarEl=null)}},{key:"start",value:function(){var e=this;this.showProgress(),this.progress=0,this.progressInterval=setInterval(function(){if(e.progress>=95)return void clearInterval(e.progressInterval);e.progress>=80?e.progress+=Math.random():e.progress+=5*Math.random(),e.updateProgress(e.progress)},l)}},{key:"finish",value:function(){this.hideProgress(),clearInterval(this.progressInterval),this.updateProgress(100)}},{key:"updateProgress",value:function(e){this.progressBarEl&&(this.progressBarEl.style.width=e+"%")}},{key:"showProgress",value:function(){this.progressBarEl&&this.progressBarEl.classList.add(r.l)}},{key:"hideProgress",value:function(){this.progressBarEl&&this.progressBarEl.classList.remove(r.l)}}]),e}();t.a=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(70),l=n.n(s),c=n(336),u=(n.n(c),n(337)),h=(n.n(u),n(338)),d=(n.n(h),n(46)),p=n.n(d),f=n(0),v=n.n(f),g=n(122),m=n(9),y=n(208),b=n(210),E=n(18),w=n(24),_=n(54),O=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),C=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},P=50,S=15,x=15,L=75,R=v()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"getLocationFromEvent",value:function(e,t){var n=null,i=E.b(this._annotatedElement);if(t===w.b){if(_.a())return n;var r=e.target,o=_.b(r),a=o.pageEl,s=o.page;if(!a)return n;var c=E.a(r);if("annotation-dialog"===c||"annotation-indicator"===c)return n;var u=a.getBoundingClientRect(),h=u.width,d=u.height-x-S,p=[e.clientX-u.left,e.clientY-u.top-x],f=_.c(p,d,i),v=O(f,2);n={x:v[0],y:v[1],page:s,dimensions:{x:h/i,y:d/i}}}else if(E.l(t)){if(!_.a())return n;var g=_.b(e.target),m=g.pageEl,y=g.page;if(y===-1){var b=_.b(window.getSelection().anchorNode);m=b.pageEl,y=b.page}var k=l.a.saveSelection(),C=_.d(this._highlighter,m),P=C.highlight,L=C.highlightEls;if(0===L.length)return n;var R=[];L.forEach(function(e){R.push(_.e(e,m,i))}),this.removeRangyHighlight(P),l.a.restoreSelection(k);var T=m.getBoundingClientRect(),j=T.width,A=T.height-x-S,H={x:j/i,y:A/i};n={page:y,quadPoints:R,dimensions:H}}return n}},{key:"createAnnotationThread",value:function(e,t,n){var i=void 0,r={annotatedElement:this._annotatedElement,annotations:e,annotationService:this._annotationService,fileVersionID:this._fileVersionID,locale:this._locale,location:t,type:n};return e.length>0&&(r.threadID=e[0].threadID,r.thread=e[0]._thread),i=E.l(n)?new y.a(r):new b.a(r),this.addThreadToMap(i),i}},{key:"renderAnnotationsOnPage",value:function(e){C(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderAnnotationsOnPage",this).call(this,e),this.getHighlightThreadsOnPage(e).forEach(function(e){E.m(e.state)&&e.destroy()})}},{key:"setupAnnotations",value:function(){C(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupAnnotations",this).call(this),this._highlighter=l.a.createHighlighter(),this._highlighter.addClassApplier(l.a.createClassApplier("rangy-highlight",{ignoreWhiteSpace:!0,tagNames:["span","a"]}))}},{key:"bindDOMListeners",value:function(){this._annotatedElement.addEventListener("mouseup",this.highlightMouseupHandler),this._annotationService.canAnnotate&&(this._annotatedElement.addEventListener("dblclick",this.highlightMouseupHandler),this._annotatedElement.addEventListener("mousedown",this.highlightMousedownHandler),this._annotatedElement.addEventListener("contextmenu",this.highlightMousedownHandler),this._annotatedElement.addEventListener("mousemove",this.highlightMousemoveHandler()))}},{key:"unbindDOMListeners",value:function(){this._annotatedElement.removeEventListener("mouseup",this.highlightMouseupHandler),this._annotationService.canAnnotate&&(this._annotatedElement.removeEventListener("dblclick",this.highlightMouseupHandler),this._annotatedElement.removeEventListener("mousedown",this.highlightMousedownHandler),this._annotatedElement.removeEventListener("contextmenu",this.highlightMousedownHandler),this._annotatedElement.removeEventListener("mousemove",this.highlightMousemoveHandler()))}},{key:"bindCustomListenersOnThread",value:function(e){var n=this;C(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindCustomListenersOnThread",this).call(this,e),e.addListener("threaddeleted",function(){n.showHighlightsOnPage(e.location.page)})}},{key:"isInDialogOnPage",value:function(e,t){var n=this.getThreadsOnPage(t),i=!1;return n.some(function(t){return i=_.f(e,t._dialog.element)}),i}},{key:"getThreadsOnPage",value:function(e){return this._threads?this._threads[e]:[]}},{key:"highlightMousedownHandler",value:function(e){var t=this;this._didMouseMove=!1,this._isCreatingHighlight=!0,this._mouseX=e.clientX,this._mouseY=e.clientY,Object.keys(this._threads).forEach(function(e){t.getHighlightThreadsOnPage(e).forEach(function(e){e.onMousedown()})})}},{key:"highlightMousemoveHandler",value:function(){var e=this;return this._throttledHighlightMousemoveHandler?this._throttledHighlightMousemoveHandler:(this._throttledHighlightMousemoveHandler=p()(function(t){var n=_.b(t.target).page,i=e.getHighlightThreadsOnPage(n),r=[];i.forEach(function(e){if(e.state!==w.c&&e.state!==w.o){e.onMousemove(t)&&r.push(e)}}),(Math.abs(t.clientX-e._mouseX)>5||Math.abs(t.clientY-e._mouseY)>5)&&(e._didMouseMove=!0),e._isCreatingHighlight||(r.some(function(e){return w.p.indexOf(e.state)>1})?(e.useDefaultCursor(),clearTimeout(e.cursorTimeout)):e.cursorTimeout=setTimeout(function(){e.removeDefaultCursor()},L),r.forEach(function(e,t){0===t?e.show():e.hideDialog()}))},P),this._throttledHighlightMousemoveHandler)}},{key:"highlightMouseupHandler",value:function(e){m.a.isMobile()||!this._didMouseMove&&"dblclick"!==e.type?this.highlightClickHandler(e):this.highlightCreateHandler(e),this._isCreatingHighlight=!1}},{key:"highlightCreateHandler",value:function(e){if(e.stopPropagation(),!_.g(this._annotatedElement)){var t=_.b(e.target).page;this.getHighlightThreadsOnPage(t).filter(function(e){return w.q.indexOf(e.state)>-1}).forEach(function(e){e.reset()});var n=this.getLocationFromEvent(e,w.d);if(n){var i=this.createAnnotationThread([],n,w.d);i.show(),this.bindCustomListenersOnThread(i)}}}},{key:"highlightClickHandler",value:function(e){var t=!1,n=null;this.getThreadsWithStates(w.f).forEach(function(e){e.type===w.b?e.destroy():e.cancelFirstComment()});var i=_.b(e.target).page;this.getHighlightThreadsOnPage(i).forEach(function(i){var r=i.onClick(e,t);r&&(n=i),t=t||r}),n&&n.show()}},{key:"getThreadsWithStates",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=[];return Object.keys(this._threads).forEach(function(t){[].push.apply(r,e._threads[t].filter(function(e){return n.indexOf(e.state)>-1}))}),r}},{key:"useDefaultCursor",value:function(){this._annotatedElement.classList.add("bp-use-default-cursor")}},{key:"removeDefaultCursor",value:function(){this._annotatedElement.classList.remove("bp-use-default-cursor")}},{key:"getHighlightThreadsOnPage",value:function(e){return(this._threads[e]||[]).filter(function(e){return E.l(e.type)})}},{key:"showHighlightsOnPage",value:function(e){var t=this._annotatedElement.querySelector('[data-page-number="'+e+'"]'),n=t.querySelector(".bp-annotation-layer");if(n){n.getContext("2d").clearRect(0,0,n.width,n.height)}this.getHighlightThreadsOnPage(e).forEach(function(e){e.show()})}},{key:"removeRangyHighlight",value:function(e){var t=this._highlighter.highlights;if(Array.isArray(t)){var n=t.filter(function(t){return t.id===e.id});this._highlighter.removeHighlights(n)}}}]),t}(g.a))||a;t.a=R},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(79),u=n(18),h=n(54),d=n(1),p=n(24),f=n(5),v=n(6),g=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),y=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},b=38,E=15,w=15,_=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"addAnnotation",value:function(e){if(""===e.text&&"0"!==e.user.id){var i=this._element.querySelector(".bp-annotation-highlight-label");i.textContent=n.i(f.n)("{1} 강조 표시",[e.user.name]),u.d(i),this.position()}y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addAnnotation",this).call(this,e)}},{key:"position",value:function(){var e=this._annotatedElement.querySelector('[data-page-number="'+this._location.page+'"]'),t=e.getBoundingClientRect(),n=t.height-w-E,i=this.getScaledPDFCoordinates(t,n),r=g(i,2),o=r[0],a=r[1];e.appendChild(this._element);var s=this.getDialogWidth(),l=o-s/2,c=this._hasComments?a-10:a;c-=10,this._hasComments&&(this._element.style.borderTopWidth="30px"),l=u.f(this._element,l,s,o,t.width),c<0?c=0:c+b>n&&(c=n-b),this._element.style.left=l+"px",this._element.style.top=c+w+"px",h.i(this._annotatedElement,this._element,t.height,c),u.d(this._element)}},{key:"toggleHighlightDialogs",value:function(){var e=this._element.querySelector(".bp-annotation-highlight-dialog"),t=this._element.querySelector(".annotation-container");t.classList.contains(d.v)?(this._element.classList.remove(p.w),u.c(e),this._element.classList.add(p.l),u.d(t),this._hasComments=!0,this._element.querySelector(p.j).classList.add(d.Q)):(this._element.classList.remove(p.l),u.c(t),this._element.classList.add(p.w),u.d(e),this._hasComments=!1);this.position()}},{key:"toggleHighlightCommentsReply",value:function(e){var t=this._element.querySelector(".annotation-container"),n=t.querySelector("[data-section='create']"),i=t.querySelector("[data-section='show']");e?(u.c(n),u.d(i),this.deactivateReply()):(u.c(i),u.d(n),this.activateReply()),this.position()}},{key:"setup",value:function(e){var t=this;this._element||(this._element=document.createElement("div")),e.length>0&&(this._hasComments=""!==e[0].text||e.length>1,this._element.dataset.threadNumber=e[0]._thread);var i=this._hasComments?p.l:p.w;if(this._element.classList.add(i),e.length>0&&this._element.classList.add(p.x),this._element.innerHTML=('\n            <div class="bp-annotation-caret"></div>\n            <div class="bp-annotation-highlight-dialog '+(this._hasComments?d.v:"")+'">\n                <span class="bp-annotation-highlight-label '+d.v+'"></span>\n                <button class="bp-btn-plain bp-add-highlight-btn"\n                    data-type="highlight-btn"\n                    title="텍스트 강조 표시">\n                    '+v.x+'\n                </button>\n                <button class="bp-btn-plain bp-highlight-comment-btn"\n                    data-type="add-highlight-comment-btn"\n                    title="강조 표시된 텍스트에 코멘트 추가">\n                    '+v.y+'\n                </button>\n            </div>\n            <div class="annotation-container '+(this._hasComments?"":d.v)+'">\n                <section class="'+(e.length?d.v:"")+'" data-section="create">\n                    <textarea class="bp-textarea annotation-textarea"\n                        placeholder="여기에 코멘트 추가..."></textarea>\n                    <div class="button-container">\n                        <button class="bp-btn cancel-annotation-btn" data-type="cancel-annotation-btn">\n                            취소\n                        </button>\n                        <button class="bp-btn bp-btn-primary post-annotation-btn" data-type="post-annotation-btn">\n                            게시\n                        </button>\n                    </div>\n                </section>\n                <section class="'+(e.length?"":d.v)+'" data-section="show">\n                    <div class="annotation-comments"></div>\n                    <div class="reply-container">\n                        <textarea class="bp-textarea reply-textarea"\n                            placeholder="회신 게시..." data-type="reply-textarea"></textarea>\n                        <div class="button-container '+d.v+'">\n                            <button class="bp-btn cancel-annotation-btn" data-type="cancel-reply-btn">\n                                취소\n                            </button>\n                            <button class="bp-btn bp-btn-primary post-annotation-btn" data-type="post-reply-btn">\n                                게시\n                            </button>\n                        </div>\n                    </div>\n                </section>\n            </section>').trim(),u.e(e)&&"0"!==e[0].user.id){var r=this._element.querySelector(".bp-annotation-highlight-label");if(r.textContent=n.i(f.n)("{1} 강조 표시",[e[0].user.name]),u.d(r),e[0].permissions&&!e[0].permissions.can_delete){var o=this._element.querySelector(".bp-add-highlight-btn");u.c(o)}}e.forEach(function(e){t.addAnnotationElement(e)}),this.bindDOMListeners()}},{key:"bindDOMListeners",value:function(){this._element.addEventListener("mousedown",this.mousedownHandler),this._element.addEventListener("mouseup",this.mouseupHandler),this._element.addEventListener("keydown",this.keydownHandler),this._element.addEventListener("mouseenter",this.mouseenterHandler),this._element.addEventListener("mouseleave",this.mouseleaveHandler)}},{key:"unbindDOMListeners",value:function(){this._element.removeEventListener("mousedown",this.mousedownHandler),this._element.removeEventListener("mouseup",this.mouseupHandler),this._element.removeEventListener("keydown",this.keydownHandler),this._element.removeEventListener("mouseenter",this.mouseenterHandler),this._element.removeEventListener("mouseleave",this.mouseleaveHandler)}},{key:"keydownHandler",value:function(e){e.stopPropagation(),"Enter"===n.i(f.f)(e)&&this.mousedownHandler(e),y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"keydownHandler",this).call(this,e)}},{key:"mousedownHandler",value:function(e){switch(e.stopPropagation(),u.a(e.target)){case"highlight-btn":this.emit("annotationdraw"),this.toggleHighlight();break;case"add-highlight-comment-btn":this.emit("annotationdraw"),this.toggleHighlightCommentsReply(!1),this.toggleHighlightDialogs(),e.preventDefault(),this.focusAnnotationsTextArea();break;default:y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickHandler",this).call(this,e)}}},{key:"toggleHighlightIcon",value:function(e){var t=this._element.querySelector(".bp-add-highlight-btn");e===p.v?t.classList.add("highlight-active"):t.classList.remove("highlight-active")}},{key:"toggleHighlight",value:function(){this._element.classList.contains(p.x)?(this._hasComments=!0,this.emit("annotationdelete")):(this._hasComments=!1,this._element.classList.add(p.x),this.emit("annotationcreate"))}},{key:"focusAnnotationsTextArea",value:function(){var e=this._element.querySelector(p.j);u.g(e)&&e.focus()}},{key:"getDialogWidth",value:function(){return u.o(this._element),u.d(this._element),this.highlightDialogWidth=this._element.getBoundingClientRect().width,u.c(this._element),u.p(this._element),this.highlightDialogWidth}},{key:"getScaledPDFCoordinates",value:function(e,t){var n=u.b(this._annotatedElement),i=h.l(this._location.quadPoints),r=g(i,2),o=r[0],a=r[1],s=u.k(this._location.dimensions,e,n,w+E);return s&&(o*=s.x,a*=s.y),h.j([o,a],t,n)}},{key:"addAnnotationElement",value:function(e){if(""===e.text){this._element.querySelector(".bp-annotation-highlight-dialog").dataset.annotationId=e.annotationID}else y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addAnnotationElement",this).call(this,e)}}]),t}(c.a))||a;t.a=_},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(80),u=n(207),h=n(18),d=n(24),p=n(54),f=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},m=15,y=15,b=75,E=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"cancelFirstComment",value:function(){h.e(this._annotations)?(this._dialog.toggleHighlightDialogs(),this.reset(),this._type=d.d):this.destroy()}},{key:"destroy",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._state===d.c&&window.getSelection().removeAllRanges()}},{key:"hide",value:function(){this.draw(d.r)}},{key:"reset",value:function(){this._state=d.g,this.show()}},{key:"saveAnnotation",value:function(e,n){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"saveAnnotation",this).call(this,e,n),window.getSelection().removeAllRanges()}},{key:"deleteAnnotation",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAnnotation",this).call(this,e,n),this._annotations.length&&this._annotations[0].permissions&&!this._annotations[0].permissions.can_delete){var i=this._dialog._element.querySelector(".bp-add-highlight-btn");h.c(i)}}},{key:"onMousedown",value:function(){this._state===d.c&&this.destroy()}},{key:"onClick",value:function(e,t){return t||this._state!==d.h&&this._state!==d.s&&!this.isOnHighlight(e)?(this.reset(),!1):(this._state=d.o,!0)}},{key:"isOnHighlight",value:function(e){return p.f(e,this._dialog.element)||this.isInHighlight(e)}},{key:"activateDialog",value:function(){this._state===d.o||this._state===d.s?this._state=d.s:this._state=d.h,this._dialog._element||this._dialog.setup(this._annotations),this._dialog.mouseenterHandler(),clearTimeout(this.hoverTimeoutHandler)}},{key:"onMousemove",value:function(e){var t=this;if(p.f(e,this._dialog.element)){if(this._state===d.t)return!1;this._state=d.h}else if(this.isInHighlight(e))this.activateDialog();else if(this._state!==d.o)return this._state!==d.g&&(this.hoverTimeoutHandler=setTimeout(function(){t.reset()},b),!1);return!0}},{key:"show",value:function(){switch(this._state){case d.c:this.showDialog();break;case d.g:this.hideDialog(),this.draw(d.u);break;case d.h:case d.o:case d.t:case d.s:this.showDialog(),this.draw(d.v)}}},{key:"createDialog",value:function(){this._dialog=new u.a({annotatedElement:this._annotatedElement,annotations:this._annotations,locale:this._locale,location:this._location,canAnnotate:this._annotationService.canAnnotate}),this._annotations.length&&(""!==this._annotations[0].text||this._annotations.length>1)&&this._type===d.d&&(this._type=d.e)}},{key:"setupElement",value:function(){}},{key:"bindCustomListenersOnDialog",value:function(){var e=this;this._dialog.addListener("annotationdraw",function(){e._state=d.t,window.getSelection().removeAllRanges(),e.show()}),this._dialog.addListener("annotationcommentpending",function(){e._state=d.t}),this._dialog.addListener("annotationcreate",function(t){t?(e._type=d.e,e._dialog.toggleHighlightCommentsReply(e._annotations.length)):e._type=d.d,e.saveAnnotation(e._type,t?t.text:"")}),this._dialog.addListener("annotationcancel",function(){e.cancelFirstComment()}),this._dialog.addListener("annotationdelete",function(t){t?e.deleteAnnotation(t.annotationID):e.deleteAnnotation(e._annotations[0].annotationID)})}},{key:"unbindCustomListenersOnDialog",value:function(){this.removeAllListeners("annotationdraw"),this.removeAllListeners("annotationcommentpending"),this.removeAllListeners("annotationcreate"),this.removeAllListeners("annotationcancel"),this.removeAllListeners("annotationdelete")}},{key:"draw",value:function(e){var t=this,n=this.getContext();if(n){var i=this.getPageEl().getBoundingClientRect(),r=i.height-y-m,o=h.b(this._annotatedElement),a=h.k(this._location.dimensions,i,o,y+m);this._location.quadPoints.forEach(function(i){var s=i;a&&(s=i.map(function(e,t){return t%2?e*a.y:e*a.x}));var l=p.j(s,r,o),c=f(l,8),u=c[0],h=c[1],v=c[2],g=c[3],m=c[4],y=c[5],b=c[6],E=c[7];n.fillStyle=e,n.beginPath(),n.moveTo(u,h),n.lineTo(v,g),n.lineTo(m,y),n.lineTo(b,E),n.closePath(),n.save(),n.globalCompositeOperation="destination-out",n.fillStyle=d.r,n.fill(),n.restore(),e!==d.r&&(n.fill(),t._dialog._element&&t._dialog.toggleHighlightIcon(e))})}}},{key:"isInHighlight",value:function(e){var t=this.getPageEl(),n=t.getBoundingClientRect(),i=n.height-y-m,r=n.top+y,o=h.b(this._annotatedElement),a=h.k(this._location.dimensions,n,o,y+m),s=e.clientX-n.left,l=e.clientY-r;return this._location.quadPoints.some(function(e){var t=e;a&&(t=e.map(function(e,t){return t%2?e*a.y:e*a.x}));var n=p.j(t,i,o),r=f(n,8),c=r[0],u=r[1],h=r[2],d=r[3],v=r[4],g=r[5],m=r[6],y=r[7];return p.k([[c,u],[h,d],[v,g],[m,y]],s,l)})}},{key:"getPageEl",value:function(){return this._annotatedElement.querySelector('[data-page-number="'+this._location.page+'"]')}},{key:"getContext",value:function(){var e=this.getPageEl();if(!e)return null;var t=e.querySelector(".bp-annotation-layer");if(!t){t=document.createElement("canvas"),t.classList.add("bp-annotation-layer");var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height-y-m;var i=e.querySelector(".textLayer");e.insertBefore(t,i)}return t.getContext("2d")}}]),t}(c.a))||a;t.a=E},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(79),u=n(18),h=n(54),d=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=15,v=8,g=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"position",value:function(){var e=this._annotatedElement.querySelector('[data-page-number="'+this._location.page+'"]')||this._annotatedElement,t=h.h(this._location,this._annotatedElement),n=d(t,2),i=n[0],r=n[1];e.appendChild(this._element),u.d(this._element);var o=this._element.getBoundingClientRect(),a=o.width,s=e.getBoundingClientRect(),l=i-a/2,c=r-v/2;l=u.f(this._element,l,a,i,s.width),this._element.style.left=l+"px",this._element.style.top=c+f+"px",h.i(this._annotatedElement,this._element,s.height,c)}}]),t}(c.a))||a;t.a=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(80),u=n(209),h=n(18),d=n(24),p=n(54),f=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},m=15,y=31,b=8,E=24,w=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"showDialog",value:function(){this._annotationService.canAnnotate&&p.a()||g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"showDialog",this).call(this)}},{key:"show",value:function(){var e=this._annotatedElement.querySelector('[data-page-number="'+this._location.page+'"]')||this._annotatedElement,t=p.h(this._location,this._annotatedElement),n=f(t,2),i=n[0],r=n[1];this._element.style.left=i-E/2+"px",this._element.style.top=r-y+b/2+m+"px",e.appendChild(this._element),h.d(this._element),this._state===d.c&&this.showDialog()}},{key:"createDialog",value:function(){this._dialog=new u.a({annotatedElement:this._annotatedElement,annotations:this._annotations,locale:this._locale,location:this._location,canAnnotate:this._annotationService.canAnnotate})}}]),t}(c.a))||a;t.a=w},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(122),u=n(213),h=n(18),d=n(81),p=n(1),f=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},m=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"getLocationFromEvent",value:function(e){var t=null,n=this._annotatedElement.querySelector("img");if(!n)return t;var i=h.a(this._annotatedElement);if("annotation-dialog"===i||"annotation-indicator"===i)return t;var r=n.getBoundingClientRect(),o=e.clientX-r.left,a=e.clientY-r.top;if(e.clientX>r.right||e.clientX<r.left||e.clientY>r.bottom||e.clientY<r.top)return t;var s=h.b(this._annotatedElement),l=Number(n.getAttribute("data-rotation-angle")),c=d.a(o/s,a/s,l,r,s),u=f(c,2);return o=u[0],a=u[1],t={x:o,y:a,imageEl:n,dimensions:{x:r.width/s,y:r.height/s}}}},{key:"createAnnotationThread",value:function(e,t,n){var i={annotatedElement:this._annotatedElement,annotations:e,annotationService:this._annotationService,fileVersionID:this._fileVersionID,location:t,type:n,locale:this.locale};e.length>0&&(i.threadID=e[0].threadID);var r=new u.a(i);return this.addThreadToMap(r),r}},{key:"hideAllAnnotations",value:function(){for(var e=document.querySelector(p.E),t=this._annotatedElement.getElementsByClassName("bp-point-annotation-btn"),n=0;n<t.length;n++)h.c(t[n]);h.c(e)}},{key:"showAllAnnotations",value:function(){for(var e=document.querySelector(p.E),t=this._annotatedElement.getElementsByClassName("bp-point-annotation-btn"),n=0;n<t.length;n++)h.d(t[n]);h.d(e)}},{key:"renderAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderAnnotations",this).call(this),this._annotationService.canAnnotate){var n=document.querySelector(p.E);0!==e?h.c(n):h.d(n)}}}]),t}(c.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(79),u=n(18),h=n(81),d=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=15,v=31,g=8,m=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"position",value:function(){var e=h.b(this._location,this._annotatedElement),t=d(e,2),n=t[0],i=t[1];this._annotatedElement.appendChild(this._element),u.d(this._element);var r=this._element.getBoundingClientRect(),o=r.width,a=this._annotatedElement.querySelector("img");if(a){var s=n-o/2,l=i+7,c=a.clientWidth>this._annotatedElement.clientWidth?a.clientWidth:this._annotatedElement.clientWidth;s=u.f(this._element,s,o,n,c),this._element.style.left=s+"px",this._element.style.top=l+f-v+g+"px"}}}]),t}(c.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(80),u=n(212),h=n(18),d=n(81),p=n(24),f=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=31,m=8,y=24,b=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"show",value:function(){var e=d.b(this._location,this._annotatedElement),t=f(e,2),n=t[0],i=t[1];this._element.style.left=n-y/2+"px",this._element.style.top=i-g+m+"px",this._annotatedElement.appendChild(this._element),h.d(this._element),this._state===p.c&&this.showDialog()}},{key:"createDialog",value:function(){this._dialog=new u.a({annotatedElement:this._annotatedElement,annotations:this._annotations,location:this._location,locale:this._locale,canAnnotate:this._annotationService.canAnnotate})}}]),t}(c.a))||a;t.a=b},function(e,t,n){"use strict";var i=n(244),r=n(218),o=n(255),a=n(258),s=n(249),l=n(232),c=n(235),u=n(224),h=n(242),d=n(253);t.a=[a.a,d.a,c.a,o.a,l.a,s.a,r.a,i.a,u.a,h.a]},function(e,t){!function(){var e={};if(!Object.setPrototypeOf&&!e.__proto__){var t=Object.getPrototypeOf;Object.getPrototypeOf=function(e){return e.__proto__?e.__proto__:t.call(Object,e)}}}(),"function"!=typeof Object.assign&&function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}}(),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,enumerable:!1,writable:!0,value:function e(t){"use strict";if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(e=n[o],t.call(r,e,o,n))return e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,enumerable:!1,writable:!0,value:function e(t){"use strict";if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(e=n[o],t.call(r,e,o,n))return o;return-1}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{configurable:!0,enumerable:!1,writable:!0,value:function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return i!==-1&&i===t}})},function(e,t,n){"use strict";function i(e,t){var n={};return e.forEach(function(e){n[e]=t}),n}function r(e,t){if(!t||!e)return Promise.reject(o);var n=[e];return Array.isArray(e)&&(n=e),new Promise(function(e,r){"function"==typeof t?t(n).then(function(t){"string"==typeof t?e(i(n,t)):(n.every(function(e){return!!t[e]})||r(o),e(t))}):e(i(n,t))})}t.a=r;var o=new Error("Missing Auth Token!")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(309),s=(n.n(a),n(125)),l=n(82),c=n(219),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},d="bp-image-360",p=12e4,f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"setup",value:function(){h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.wrapperEl.classList.add(d),this.loadTimeout=p}},{key:"createSubModules",value:function(){this.controls=new l.a(this.wrapperEl),this.renderer=new c.a(this.wrapperEl,this.boxSdk)}}]),t}(s.a);t.a=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(124),s=n(9),l=n(5),c=n(217),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},d=[{NAME:"Image360",CONSTRUCTOR:c.a,REP:"3d",EXT:["jpg","jpeg","png","ai","bmp","dcm","eps","gif","ps","psd","svg","svs","tga","tif","tiff"]}],p=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=d,e}return o(t,e),u(t,[{key:"determineViewer",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"determineViewer",this).call(this,e,i);if(r&&!s.a.hasWebGL()){var o=n.i(l.n)("죄송합니다. 브라우저에서 {1}에 대한 미리 보기를 지원하지 않습니다.",["360도 이미지"]);throw new Error(o)}return r}}]),t}(a.a);t.a=new p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(64),s=n(220),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},u=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.textureAsset=null,o.imageAsset=null,o.skybox=null,o}return o(t,e),l(t,[{key:"destroy",value:function(){this.cleanupTexture(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"cleanupTexture",value:function(){this.imageAsset&&(this.imageAsset.destroy(),this.imageAsset=null),this.textureAsset&&(this.textureAsset.destroy(),this.textureAsset=null),this.skybox&&(this.getSkyboxComponent().setAttribute("skyboxTexture",null),this.skybox=null)}},{key:"getSkyboxComponent",value:function(){return this.skybox||(this.skybox=this.getScene().getComponentByScriptId("skybox_renderer")),this.skybox}},{key:"load",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n;return i.sceneEntities=i.sceneEntities||s.a,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e,i).then(this.loadPanoramaFile.bind(this,e)).then(this.onSceneLoad.bind(this))}},{key:"loadPanoramaFile",value:function(e){var t=this;return this.box3d.addRemoteEntities(e).then(function(){return t.imageAsset=t.box3d.getAssetByClass(Box3D.ImageAsset),t.textureAsset=t.box3d.createTexture2d(),t.textureAsset.setProperties({imageId:t.imageAsset.id,uMapping:"clamp",vMapping:"clamp"}),new Promise(function(e){t.textureAsset.load(function(){t.skybox=t.getSkyboxComponent(),t.skybox.enable(),t.skybox.setAttribute("skyboxTexture",t.textureAsset.id),e()})})},function(){return t.onUnsupportedRepresentation()})}},{key:"enableVr",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableVr",this).call(this),this.getSkyboxComponent().setAttribute("stereoEnabled",!0)}},{key:"disableVr",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disableVr",this).call(this),this.getSkyboxComponent().setAttribute("stereoEnabled",!1)}}]),t}(a.a);t.a=u},function(e,t,n){"use strict";var i=n(9);t.a=[{id:"CAMERA_ID",type:"camera",parentId:"SCENE_ID",properties:{near:.05,far:200,fov:70},components:[{name:"Render View",enabled:!0,scriptId:"vr_render_view"},{name:"Orbit Camera",attributes:{panEnabled:!1,zoomEnabled:!0,inertialDamping:.2,lookSpeed:.5},enabled:!0,scriptId:"orbit_camera"},{name:"VR Camera Controller",enabled:!0,scriptId:"vr_camera_controller"}]},{id:"SCENE_ID",type:"scene",children:["CAMERA_ID"],components:[{name:"Skybox",attributes:{size:100},scriptId:"skybox_renderer",enabled:!1}]},{id:"APP_ASSET_ID",type:"application",properties:{startupSceneId:"SCENE_ID"},components:[{name:"Renderer",attributes:{antialias:!i.a.isMobile(),maxTextureSize2d:8192,renderOnDemand:!0},scriptId:"box3d_renderer",isBuiltIn:!0,enabled:!0},{name:"Debug Performance",scriptId:"debug_performance",enabled:!1},{name:"Input",scriptId:"input",isBuiltIn:!0,enabled:!0,attributes:{mouseEvents:{enable:!0,scroll:!0,preventScrollDefault:!0,move:!0,down:!0,preventDownDefault:!1,up:!0,doubleClick:!0,leave:!0,contextMenu:!0,preventContextMenuDefault:!0,dragBufferDistance:12,eventHandler:!0},touchEvents:{enable:!0,start:!0,preventStartDefault:!1,end:!0,doubleTap:!0,cancel:!0,leave:!0,move:!0,preventMoveDefault:!0,dragBufferDistance:12,eventHandler:!0},keyEvents:{enable:!0,down:!0,up:!0,preventDefault:!1,eventHandler:!0}}},{name:"VR Presenter",scriptId:"vr_presenter"}]}]},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(125),u=n(223),h=n(225),d=n(41),p=n(29),f=n(310),v=(n.n(f),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),g=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},m="+Y",y="+Z",b=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"setup",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.wrapperEl.classList.add(p.a),this.loadTimeout=18e4,this.instances=[],this.assets=[],this.axes={up:null,forward:null}}},{key:"createSubModules",value:function(){this.controls=new u.a(this.wrapperEl),this.renderer=new h.a(this.wrapperEl,this.boxSdk)}},{key:"attachEventHandlers",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attachEventHandlers",this).call(this),this.controls&&(this.controls.on(d.a,this.handleRotateOnAxis),this.controls.on(d.b,this.handleSelectAnimationClip),this.controls.on(d.c,this.handleSetCameraProjection),this.controls.on(d.d,this.handleSetQualityLevel),this.controls.on(d.e,this.handleSetRenderMode),this.controls.on(d.f,this.handleShowSkeletons),this.controls.on(d.g,this.handleShowWireframes),this.controls.on(d.h,this.handleToggleAnimation),this.controls.on(d.i,this.handleToggleHelpers)),this.renderer&&this.renderer.on(d.j,this.handleCanvasClick)}},{key:"detachEventHandlers",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detachEventHandlers",this).call(this),this.controls&&(this.controls.removeListener(d.a,this.handleRotateOnAxis),this.controls.removeListener(d.b,this.handleSelectAnimationClip),this.controls.removeListener(d.c,this.handleSetCameraProjection),this.controls.removeListener(d.d,this.handleSetQualityLevel),this.controls.removeListener(d.e,this.handleSetRenderMode),this.controls.removeListener(d.f,this.handleShowSkeletons),this.controls.removeListener(d.g,this.handleShowWireframes),this.controls.removeListener(d.h,this.handleToggleAnimation),this.controls.removeListener(d.i,this.handleToggleHelpers)),this.renderer&&this.renderer.removeListener(d.j,this.handleCanvasClick)}},{key:"setModelScale",value:function(e){this.renderer&&(this.renderer.modelSize=e,this.renderer.instance&&!this.renderer.vrEnabled&&(this.renderer.instance.scaleToSize(e),this.renderer.reset()))}},{key:"setModelAlignment",value:function(e,t){this.renderer&&(this.renderer.modelAlignmentPosition=e,this.renderer.modelAlignmentVector=t,this.renderer.instance&&(this.renderer.instance.alignToPosition(e,t),this.renderer.reset()))}},{key:"handleSelectAnimationClip",value:function(e){this.renderer.setAnimationClip(e)}},{key:"handleRotateOnAxis",value:function(e){this.renderer.rotateOnAxis(e)}},{key:"handleRotationAxisSet",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.renderer.setAxisRotation(e,t,n)}},{key:"handleSceneLoaded",value:function(){var e=this;return this.loaded=!0,this.boxSdk.getMetadataClient().get(this.options.file.id,"global","box3d").then(function(e){if(200!==e.status)throw new Error("Received unsuccessful response status: "+e.status);return e.response}).catch(this.onMetadataError).then(function(t){return e.controls&&e.controls.addUi(),e.axes.up=t.upAxis||m,e.axes.forward=t.forwardAxis||y,e.renderMode=t.defaultRenderMode||d.k,e.projection=t.cameraProjection||d.l,e.axes.up===m&&e.axes.forward===y||e.handleRotationAxisSet(e.axes.up,e.axes.forward,!1),e.handleReset(),e.populateAnimationControls(),e.showWrapper(),e.renderer.initVr(),e.renderer.initVrGamepadControls(),e.emit(p.b),!0})}},{key:"onMetadataError",value:function(e){return{}}},{key:"populateAnimationControls",value:function(){var e=this;if(this.controls){var t=this.renderer.box3d.getEntitiesByType("animation");if(t.length>0){var n=t[0].getClipIds();n.forEach(function(n){var i=t[0].getClip(n),r=i.stop-i.start;e.controls.addAnimationClip(n,i.name,r)}),n.length>0&&(this.controls.showAnimationControls(),this.controls.selectAnimationClip(n[0]))}}}},{key:"handleToggleAnimation",value:function(e){this.renderer.toggleAnimation(e)}},{key:"handleCanvasClick",value:function(){this.controls.hidePullups()}},{key:"showWrapper",value:function(){this.wrapperEl.classList.remove(p.a)}},{key:"handleReset",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleReset",this).call(this),this.controls&&(this.controls.handleSetRenderMode(this.renderMode),this.controls.setCurrentProjectionMode(this.projection),this.controls.handleSetSkeletonsVisible(!1),this.controls.handleSetWireframesVisible(!1)),this.renderer&&(this.handleRotationAxisSet(this.axes.up,this.axes.forward,!0),this.renderer.stopAnimation())}},{key:"handleSetRenderMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Lit";this.renderer.setRenderMode(e)}},{key:"handleToggleHelpers",value:function(e){this.renderer.toggleHelpers(e)}},{key:"handleSetCameraProjection",value:function(e){this.renderer.setCameraProjection(e)}},{key:"handleSetQualityLevel",value:function(e){this.renderer.setQualityLevel(e)}},{key:"handleShowSkeletons",value:function(e){this.renderer.setSkeletonsVisible(e)}},{key:"handleShowWireframes",value:function(e){this.renderer.setWireframesVisible(e)}}]),t}(c.a))||a;t.a=b},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),l=n(41),c=n(83),u=n(6),h=n(5),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p='\n    <div class="box3d-animation-clip" data-type="clip">\n        <div class="box3d-animation-clip-icon"></div>\n        <div class="box3d-animation-clip-value"></div>\n    </div>'.trim(),f=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.pullupEl=n.i(c.b)(),e.pullupEl.classList.add(l.H),e.uiRegistry=new c.a,e.uiRegistry.registerItem("settings-pullup-el",e.pullupEl),e.clipEls={},e}return o(t,e),d(t,[{key:"addClip",value:function(e,t,i){var r=n.i(h.o)(this.pullupEl,p),o=r.firstChild,a=this.formatDurationStr(i),s=o.querySelector(".box3d-animation-clip-value");s.setAttribute("data-value",e),s.textContent=a+" "+t,s.addEventListener("click",this.handleClipClick.bind(this)),this.pullupEl.appendChild(o),this.clipEls[e]=o}},{key:"destroy",value:function(){this.pullupEl=null,this.uiRegistry.unregisterAll(),this.uiRegistry=null}},{key:"formatDurationStr",value:function(e){var t=Math.floor(e),n=Math.floor(t/3600),i=this.padLeft(n.toString(),2);t-=3600*n;var r=Math.floor(t/60),o=this.padLeft(r.toString(),2);return t-=60*r,i+":"+o+":"+this.padLeft(t.toString(),2)}},{key:"getClipCount",value:function(){return Object.keys(this.clipEls).length}},{key:"getClipId",value:function(e){return Object.keys(this.clipEls)[e]}},{key:"handleClipClick",value:function(e){if(e.target){var t=e.target.getAttribute("data-value");this.selectClip(t)}}},{key:"hide",value:function(){this.pullupEl.classList.add(l.p)}},{key:"padLeft",value:function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e}},{key:"reset",value:function(){this.getClipCount()>0&&this.selectClip(this.getClipId(0))}},{key:"selectClip",value:function(e){var t=this;Object.keys(this.clipEls).forEach(function(n){t.clipEls[n].querySelector(".box3d-animation-clip-icon").innerHTML=n===e?u.l:""}),this.emit(l.b,e)}},{key:"show",value:function(){this.pullupEl.classList.remove(l.p)}},{key:"toggle",value:function(){this.pullupEl.classList.toggle(l.p)}}]),t}(s.a);t.a=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(82),u=n(222),h=n(226),d=n(41),p=n(29),f=n(6),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},m=l()(a=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.animationClipsPullup=new u.a(e),n.settingsPullup=new h.a,n.isAnimationPlaying=!1,n}return o(t,e),v(t,[{key:"addUi",value:function(){this.resetButtonEl=this.controls.add("재설정",this.handleReset,"",f.g),this.animationClipsPullup.addListener(d.b,this.handleSelectAnimationClip),this.animationToggleEl=this.controls.add("애니메이션 재생/일시 중지",this.handleToggleAnimation,"",f.h),this.animationClipButtonEl=this.controls.add("애니메이션 클립",this.handleToggleAnimationClips,"",f.i),this.animationClipButtonEl.parentNode.appendChild(this.animationClipsPullup.pullupEl),this.hideAnimationControls(),this.addVrButton(),this.hideVrButton(),this.settingsPullup.addListener(d.e,this.handleSetRenderMode),this.settingsPullup.addListener(d.f,this.handleSetSkeletonsVisible),this.settingsPullup.addListener(d.g,this.handleSetWireframesVisible),this.settingsPullup.addListener(d.c,this.handleSetCameraProjection),this.settingsPullup.addListener(d.d,this.handleSetQualityLevel),this.settingsPullup.addListener(d.a,this.handleAxisRotation),this.settingsButtonEl=this.controls.add("설정",this.handleToggleSettings,"",f.j),this.settingsButtonEl.parentNode.appendChild(this.settingsPullup.pullupEl),this.addFullscreenButton(),this.handleSetRenderMode(d.k)}},{key:"hidePullups",value:function(){this.animationClipsPullup.hide(),this.settingsPullup.hide(),this.emit(d.i,!1)}},{key:"handleToggleSettings",value:function(){this.animationClipsPullup.hide(),this.settingsPullup.toggle(),this.emit(d.i)}},{key:"handleSetRenderMode",value:function(e){this.emit(d.e,e),this.settingsPullup.setCurrentRenderMode(e)}},{key:"handleSetSkeletonsVisible",value:function(e){this.emit(d.f,e)}},{key:"handleSetWireframesVisible",value:function(e){this.emit(d.g,e)}},{key:"handleSetCameraProjection",value:function(e){this.emit(d.c,e)}},{key:"handleSetQualityLevel",value:function(e){this.emit(d.d,e)}},{key:"handleAxisRotation",value:function(e){this.emit(d.a,e)}},{key:"showAnimationControls",value:function(){this.animationToggleEl&&this.animationClipButtonEl&&(this.animationToggleEl.classList.remove(p.k),this.animationClipButtonEl.classList.remove(p.k))}},{key:"hideAnimationControls",value:function(){this.animationToggleEl&&this.animationClipButtonEl&&(this.animationToggleEl.classList.add(p.k),this.animationClipButtonEl.classList.add(p.k))}},{key:"handleSelectAnimationClip",value:function(e){this.setAnimationPlaying(!1),this.emit(d.b,e)}},{key:"handleToggleAnimationClips",value:function(){this.settingsPullup.hide(),this.animationClipsPullup.toggle()}},{key:"handleToggleAnimation",value:function(){this.hidePullups(),this.setAnimationPlaying(!this.isAnimationPlaying)}},{key:"setAnimationPlaying",value:function(e){this.isAnimationPlaying=e,this.animationToggleEl.innerHTML=this.isAnimationPlaying?f.k:f.h,this.emit(d.h,this.isAnimationPlaying)}},{key:"addAnimationClip",value:function(e,t,n){this.animationClipsPullup.addClip(e,t,n)}},{key:"selectAnimationClip",value:function(e){this.animationClipsPullup.selectClip(e)}},{key:"handleToggleFullscreen",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleToggleFullscreen",this).call(this),this.hidePullups()}},{key:"setCurrentProjectionMode",value:function(e){this.settingsPullup.onProjectionSelected(e),this.settingsPullup.setCurrentProjectionMode(e)}},{key:"handleReset",value:function(){g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleReset",this).call(this),this.hidePullups(),this.settingsPullup.reset(),this.setAnimationPlaying(!1)}},{key:"destroy",value:function(){this.controls&&this.controls.controlsEl.removeEventListener("click",this.handleControlsClick),this.animationClipsPullup.removeListener(d.b,this.handleSelectAnimationClip),this.animationClipsPullup.destroy(),this.animationClipsPullup=null,this.settingsPullup.removeListener(d.e,this.handleSetRenderMode),this.settingsPullup.removeListener(d.f,this.handleSetSkeletonsVisible),this.settingsPullup.removeListener(d.g,this.handleSetWireframesVisible),this.settingsPullup.removeListener(d.c,this.handleSetCameraProjection),this.settingsPullup.removeListener(d.d,this.handleSetQualityLevel),this.settingsPullup.removeListener(d.a,this.handleAxisRotation),this.settingsPullup.destroy(),this.settingsPullup=null,g(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(c.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(9),l=n(5),c=n(221),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},d=[{NAME:"Model3d",CONSTRUCTOR:c.a,REP:"3d",EXT:["box3d","fbx","obj","dae","3ds","ply","stl"]}],p=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=d,e}return o(t,e),u(t,[{key:"determineViewer",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"determineViewer",this).call(this,e,i);if(!s.a.supportsModel3D()){var o=n.i(l.n)("죄송합니다. 브라우저에서 {1}에 대한 미리 보기를 지원하지 않습니다.",["3D 모델"]);throw new Error(o)}return r}}]),t}(a.a);t.a=new p},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l,c=n(0),u=n.n(c),h=n(64),d=n(227),p=n(228),f=n(41),v=n(29),g=n(9),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),b=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},E={x:0,y:0,z:0},w={x:0,y:-1,z:0},_={x:0,y:0,z:0,w:1},O=1.5,k={x:-.559,y:.197,z:.712},C={x:-.101,y:-.325,z:-.035,w:.94},P=30,S=66.6,x=20,L=66.6,R=1,T=(l=function(e){function t(e,n){var a;r(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.instance=null,s.grid=null,s.axisDisplay=null,s.isRotating=!1,s.modelSize=R,s.modelAlignmentPosition=E,s.modelAlignmentVector=w,s.dynamicOptimizerEnabled=!0,s.defaultCameraPosition=k,s.defaultCameraQuaternion=C,s.renderModeValues=(a={},i(a,f.k,Box3D.RenderMode.Lit),i(a,f.r,Box3D.RenderMode.Unlit),i(a,f.s,Box3D.RenderMode.Normals),i(a,f.t,Box3D.RenderMode.Shape),i(a,f.u,Box3D.RenderMode.UVOverlay),a),s}return a(t,e),y(t,[{key:"destroy",value:function(){this.box3d&&(this.box3d.canvas.removeEventListener("click",this.handleCanvasClick),this.cleanupScene(),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this))}},{key:"load",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=m({},i),o=r.location;return o&&(r.sceneEntities=n.i(p.a)(o.staticBaseURI)),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e,r).then(this.loadBox3dFile.bind(this,e))}},{key:"handleCanvasClick",value:function(e){this.emit(f.j,e)}},{key:"loadBox3dFile",value:function(e){var t=this;return this.box3d.canvas.addEventListener("click",this.handleCanvasClick),this.box3d.getApplication().getComponentByScriptId("render_modes").setAttribute("shapeTexture","MAT_CAP_TEX"),this.box3d.addRemoteEntities(e).then(function(e){return t.setupScene(e)},function(){return t.onUnsupportedRepresentation()})}},{key:"setupScene",value:function(e){var t=this,n=this.getScene();n&&(this.optimizeMaterials(),this.createPrefabInstances(),this.addHelpersToScene(),n.when("load",function(){return t.onSceneLoad()}),e.forEach(function(e){if(e.id===e.parentAssetId){var n=t.box3d.getAssetById(e.id);t.assets.push(n)}}))}},{key:"optimizeMaterials",value:function(){this.box3d.getAssetsByType(Box3D.MaterialAsset).forEach(function(e){e.getProperty("roughness")<=.01&&!e.getProperty("glossMap")&&e.setProperty("envMapGlossVariance",!1),e.getProperty("roughness")>=.99&&(e.setProperty("envMapGlossVariance",!1),e.enableFeature("specular",!1)),g.a.isMobile()&&e.enableFeature("normals",!1)})}},{key:"createPrefabInstances",value:function(){var e=this.box3d.getAssetsByType("prefab");if(0!==e.length){var t=this.box3d.createNode();e.forEach(function(e){return t.addChild(e.createInstance())}),this.instance=t,this.getScene().addChild(t),this.adjustModelForScene(t),this.instance=t}}},{key:"adjustModelForScene",value:function(e){e.scaleToSize(this.modelSize),e.alignToPosition(this.modelAlignmentPosition,this.modelAlignmentVector),e.addComponent("preview_axis_rotation",{},"axis_rotation_"+e.id),e.addComponent("animation",{},"animation_"+e.id)}},{key:"getAxes",value:function(){var e=this;return new Promise(function(t){e.box3d.trigger("get_axes",t)})}},{key:"reset",value:function(){this.resetModel(),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"resetModel",value:function(){this.instance&&(this.instance.getChildren().forEach(function(e){e.setPosition(E.x,E.y,E.z),e.setQuaternion(_.x,_.y,_.z,_.w)}),this.instance.computeBounds(),this.instance.scaleToSize(this.modelSize),this.instance.alignToPosition(this.modelAlignmentPosition,this.modelAlignmentVector))}},{key:"resetView",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resetView",this).call(this);var e=this.getCamera();if(e){var n=e.getComponentByScriptId("orbit_camera");if(n&&this.instance.runtimeData){this.instance.computeBounds();var i=this.instance.getBounds();this.instance.runtimeData.updateMatrixWorld(),i.min.applyMatrix4(this.instance.runtimeData.matrixWorld),i.max.applyMatrix4(this.instance.runtimeData.matrixWorld);var r=new THREE.Vector3;r.subVectors(i.max,i.min);var o=this.instance.getCenter();o.applyMatrix4(this.instance.runtimeData.matrixWorld),n.originPoint.copy(o),n.setPivotPosition(o);var a=O*Math.max(Math.max(r.x,r.y),r.z);n.setOrbitDistance(a)}}}},{key:"onSceneLoad",value:function(){var e=this;this.reset(),this.resetSkeletons(),this.emit(v.g);var t=this.box3d.getEntitiesByType("animation"),n=this.box3d.getEntitiesByType("image"),i=this.box3d.getEntitiesByType("video"),r=t.concat(n,i).filter(function(e){return e.isLoading()}),o=r.map(function(e){return new Promise(function(t){e.when("load",t)})});Promise.all(o).then(function(){e.startOptimizer(),t.length>0&&e.setAnimationAsset(t[0]),i.forEach(function(e){return e.play()})}),this.resize()}},{key:"setAnimationAsset",value:function(e){if(this.instance){var t=this.instance.getComponentByScriptId("animation");t.setAsset(e),t.setLoop(!0)}}},{key:"setAnimationClip",value:function(e){if(this.instance){this.instance.getComponentByScriptId("animation").setClipId(e)}}},{key:"toggleAnimation",value:function(e){var t=this;if(this.instance){var n=this.instance.getComponentByScriptId("animation"),i=n?n.asset:void 0;i&&i.when("load",function(){t.instance.when("load",function(){e?(n.play(),n.onUpdate(0),t.instance.scaleToSize(t.modelSize),t.instance.alignToPosition(t.modelAlignmentPosition,t.modelAlignmentVector)):n.pause()})})}}},{key:"stopAnimation",value:function(){if(this.instance){this.instance.getComponentByScriptId("animation").stop()}}},{key:"startOptimizer",value:function(){if(this.dynamicOptimizer=this.box3d.getApplication().getComponentByScriptId("dynamic_optimizer"),this.dynamicOptimizer){this.createRegularQualityChangeLevels(),this.createVrQualityChangeLevels(),this.dynamicOptimizerEnabled?this.dynamicOptimizer.enable():this.dynamicOptimizer.disable(),this.dynamicOptimizer.setQualityChangeLevels(this.regularQualityChangeLevels);var e=g.a.isMobile()?S:P;this.dynamicOptimizer.setFrameTimeThreshold(e)}}},{key:"onUnsupportedRepresentation",value:function(){this.emit("error",new Error("죄송합니다. 이 파일 형식은 지원되지 않습니다."))}},{key:"addHelpersToScene",value:function(){var e=this.getScene()?this.getScene().runtimeData:void 0;e&&(this.grid=new THREE.GridHelper(f.v,f.w,f.x,f.y),this.grid.material.transparent=!0,this.grid.material.blending=THREE.MultiplyBlending,e.add(this.grid),this.axisDisplay=new THREE.AxisHelper(.5),e.add(this.axisDisplay),this.axisDisplay.visible=!1)}},{key:"cleanupHelpers",value:function(){var e=this.getScene()?this.getScene().runtimeData:void 0;e&&(this.grid&&(e.remove(this.grid),this.grid.material.dispose(),this.grid.geometry.dispose()),this.axisDisplay&&(e.remove(this.axisDisplay),this.axisDisplay.material.dispose(),this.axisDisplay.geometry.dispose()))}},{key:"toggleHelpers",value:function(e){var t=void 0!==e?e:!this.axisDisplay.visible;this.axisDisplay.visible=t,this.box3d.needsRender=!0}},{key:"cleanupScene",value:function(){this.cleanupHelpers(),this.instance&&(this.instance.destroy(),this.instance=null),this.assets.forEach(function(e){e.destroy()}),this.assets.length=0,this.resetSkeletons()}},{key:"resetSkeletons",value:function(){this.box3d&&Box3D.globalEvents.trigger(f.z)}},{key:"setRenderMode",value:function(e){this.box3d&&Box3D.globalEvents.trigger(f.e,this.renderModeValues[e])}},{key:"setCameraProjection",value:function(e){var t=this.getCamera();if(t){var n=this.getAspect();switch(e){case f.A:t.setProperties({top:.5,bottom:-.5,left:-.5*n,right:.5*n,cameraType:"orthographic"});break;case f.l:t.setProperties({aspect:n,cameraType:"perspective"})}}}},{key:"setQualityLevel",value:function(e){if(this.box3d)switch(e){case f.B:this.dynamicOptimizerEnabled=!1,this.dynamicOptimizer&&this.dynamicOptimizer.disable();break;default:this.dynamicOptimizerEnabled=!0,this.dynamicOptimizer&&this.dynamicOptimizer.enable()}}},{key:"listenToRotateComplete",value:function(e,t){var n=this;this.isRotating=!0;var i=function(i){n.instance&&(i?n.instance.alignToPosition(n.modelAlignmentPosition,n.modelAlignmentVector):n.instance.alignToPosition(e,t))};this.box3d.on("postUpdate",i),this.instance.once("axis_transition_complete",function(){i(!0),n.box3d.off("postUpdate",i),n.isRotating=!1})}},{key:"rotateOnAxis",value:function(e){if(this.instance&&this.box3d&&!this.isRotating){this.box3d.trigger("rotate_on_axis",e,!0);var t=this.instance.getCenter();this.instance.runtimeData&&t.applyMatrix4(this.instance.runtimeData.matrixWorld),this.listenToRotateComplete(t,E)}}},{key:"setAxisRotation",value:function(e,t,n){this.instance&&(this.listenToRotateComplete(this.modelAlignmentPosition,this.modelAlignmentVector),this.box3d.trigger("set_axes",e,t,n))}},{key:"setSkeletonsVisible",value:function(e){this.box3d&&Box3D.globalEvents.trigger(f.f,e)}},{key:"setWireframesVisible",value:function(e){this.box3d&&Box3D.globalEvents.trigger(f.g,e)}},{key:"enableVr",value:function(){if(!this.vrEnabled){if(b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enableVr",this).call(this),this.dynamicOptimizer){this.dynamicOptimizer.setQualityChangeLevels(this.vrQualityChangeLevels);var e=g.a.isMobile()?L:x;this.dynamicOptimizer.setFrameTimeThreshold(e)}var n=this.box3d.getVrDisplay();this.vrDeviceHasPosition=n?n.capabilities.hasPosition:void 0,this.vrDeviceHasPosition?this.grid.visible=!0:this.box3d.on("update",this.updateModel3dVrControls,this)}}},{key:"onDisableVr",value:function(){if(this.dynamicOptimizer){this.dynamicOptimizer.setQualityChangeLevels(this.regularQualityChangeLevels);var e=g.a.isMobile()?S:P;this.dynamicOptimizer.setFrameTimeThreshold(e)}this.vrDeviceHasPosition||this.box3d.off("update",this.updateModel3dVrControls,this),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onDisableVr",this).call(this)}},{key:"updateModel3dVrControls",value:function(){var e=this.getCamera(),t=e.getComponentByScriptId("orbit_camera");if(t){var n=e.runtimeData;n.position.set(0,0,t.getOrbitDistance()),n.position.applyQuaternion(n.quaternion),n.position.add(t.originPoint)}}},{key:"initVrGamepadControls",value:function(){this.vrControls=new d.a(this.vrGamepads,this.box3d)}},{key:"createRegularQualityChangeLevels",value:function(){this.regularQualityChangeLevels=[new this.dynamicOptimizer.QualityChangeLevel("application","Renderer","devicePixelRatio",.5),new this.dynamicOptimizer.QualityChangeLevel("application","Renderer","devicePixelRatio",.75),new this.dynamicOptimizer.QualityChangeLevel("application","Renderer","devicePixelRatio",1)]}},{key:"createVrQualityChangeLevels",value:function(){this.vrQualityChangeLevels=[new this.dynamicOptimizer.QualityChangeLevel("material",null,"aoMap",null),new this.dynamicOptimizer.QualityChangeLevel("material",null,"envMapIrradiance",null),new this.dynamicOptimizer.QualityChangeLevel("light",null,"color",{r:1,g:1,b:1}),new this.dynamicOptimizer.QualityChangeLevel("material",null,"normalMap",null),new this.dynamicOptimizer.QualityChangeLevel("material",null,"envMapRadiance",null),new this.dynamicOptimizer.QualityChangeLevel("material",null,"glossMap",null),new this.dynamicOptimizer.QualityChangeLevel("material",null,"envMapGlossVariance",!1),new this.dynamicOptimizer.QualityChangeLevel("material",null,"envMapRadianceHalfGloss",null)]}}]),t}(h.a),s(l.prototype,"handleCanvasClick",[u.a],Object.getOwnPropertyDescriptor(l.prototype,"handleCanvasClick"),l.prototype),l);t.a=T},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(13),l=n.n(s),c=n(83),u=n(41),h=n(1),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=[{text:u.k,callback:"onRenderModeSelected",args:[u.k]},{text:u.r,callback:"onRenderModeSelected",args:[u.r]},{text:u.s,callback:"onRenderModeSelected",args:[u.s]},{text:u.t,callback:"onRenderModeSelected",args:[u.t]},{text:u.u,callback:"onRenderModeSelected",args:[u.u]}],f=[{text:"Perspective",callback:"onProjectionSelected",args:[u.l]},{text:"Orthographic",callback:"onProjectionSelected",args:[u.A]}],v=[{text:"Auto",callback:"onQualityLevelSelected",args:[u.C]},{text:"Full",callback:"onQualityLevelSelected",args:[u.B]}],g=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.renderModeEl=null,e.renderModeListEl=null,e.showWireframesEl=null,e.showSkeletonsEl=null,e.projectionEl=null,e.projectionListEl=null,e.qualityLevelEl=null,e.qualityLevelListEl=null,e.uiRegistry=new c.a,e.createUi(),e}return a(t,e),d(t,[{key:"convertToValidCallback",value:function(e){var t=e,n=t.callback;if("string"==typeof n&&this[n]){var r;t.callback=(r=this[n]).bind.apply(r,[this].concat(i(t.args)))}}},{key:"createUi",value:function(){var e=this;this.pullupEl=n.i(c.b)(),this.uiRegistry.registerItem("settings-pullup-el",this.pullupEl);var t=p.map(function(t){var n=Object.assign({},t);return e.convertToValidCallback(n),n}),i=n.i(c.c)("Render Mode","Lit",t);this.renderModeEl=i.querySelector("button"),this.pullupEl.appendChild(i);var r=n.i(c.d)();this.showWireframesEl=n.i(c.e)();var o=n.i(c.f)("Show wireframes");r.appendChild(this.showWireframesEl),r.appendChild(o),this.pullupEl.appendChild(r),this.showWireframesEl.addEventListener("click",function(){e.onShowWireframesToggled()});var a=n.i(c.d)();this.showSkeletonsEl=n.i(c.e)();var s=n.i(c.f)("Show skeletons");a.appendChild(this.showSkeletonsEl),a.appendChild(s),this.pullupEl.appendChild(a),this.showSkeletonsEl.addEventListener("click",function(){e.onShowSkeletonsToggled()});var l=f.map(function(t){var n=Object.assign({},t);return e.convertToValidCallback(n),n}),u=n.i(c.c)("Camera Projection","Perspective",l);this.projectionEl=u.querySelector("button"),this.pullupEl.appendChild(u);var d=v.map(function(t){var n=Object.assign({},t);return e.convertToValidCallback(n),n}),g=n.i(c.c)("Render Quality","Auto",d);this.qualityLevelEl=g.querySelector("button"),this.pullupEl.appendChild(g),this.renderModeListEl=i.querySelector("."+h.M),this.projectionListEl=u.querySelector("."+h.M),this.qualityLevelListEl=g.querySelector("."+h.M),this.uiRegistry.registerItem("settings-render-mode-selector-label",this.renderModeEl,"click",function(){e.projectionListEl.classList.remove(h.l),e.qualityLevelListEl.classList.remove(h.l)}),this.uiRegistry.registerItem("settings-projection-mode-selector-label",this.projectionEl,"click",function(){e.renderModeListEl.classList.remove(h.l),e.qualityLevelListEl.classList.remove(h.l)}),this.uiRegistry.registerItem("settings-quality-level-selector-label",this.qualityLevelEl,"click",function(){e.projectionListEl.classList.remove(h.l),e.renderModeListEl.classList.remove(h.l)});var m=n.i(c.d)("Rotate Model"),y=this.createAxisWidget();this.pullupEl.appendChild(m),this.pullupEl.appendChild(y)}},{key:"createAxisWidget",value:function(){var e=this,t=n.i(c.d)();return t.appendChild(this.createRotationAxis(u.D,function(){return e.onAxisRotationSelected(u.D,-1)},function(){return e.onAxisRotationSelected(u.D,1)})),t.appendChild(this.createRotationAxis(u.E,function(){return e.onAxisRotationSelected(u.E,-1)},function(){return e.onAxisRotationSelected(u.E,1)})),t.appendChild(this.createRotationAxis(u.F,function(){return e.onAxisRotationSelected(u.F,1)},function(){return e.onAxisRotationSelected(u.F,-1)})),t}},{key:"createRotationAxis",value:function(e,t,n){var i=document.createElement("div");i.classList.add("box3d-settings-axis-widget"),i.classList.add("box3d-settings-axis-widget-"+e);var r=document.createElement("span");r.classList.add("box3d-setting-axis-rotate"),r.classList.add("box3d-setting-axis-rotate-left"),this.uiRegistry.registerItem("minus-"+e+"-axis-icon",r,"click",t),i.appendChild(r);var o=document.createElement("span");o.textContent=e.toUpperCase(),i.appendChild(o);var a=document.createElement("span");return a.classList.add("box3d-setting-axis-rotate"),a.classList.add("box3d-setting-axis-rotate-right"),this.uiRegistry.registerItem("plus-"+e+"-axis-icon",a,"click",n),i.appendChild(a),i}},{key:"onRenderModeSelected",value:function(e){this.emit(u.e,e)}},{key:"onAxisRotationSelected",value:function(e,t){var n={};n[e]=t*u.G,this.emit(u.a,n)}},{key:"onProjectionSelected",value:function(e){this.emit(u.c,e)}},{key:"onQualityLevelSelected",value:function(e){this.emit(u.d,e)}},{key:"onShowSkeletonsToggled",value:function(){this.emit(u.f,this.showSkeletonsEl.checked)}},{key:"hideSkeletons",value:function(){this.showSkeletonsEl.checked=!1,this.onShowSkeletonsToggled()}},{key:"onShowWireframesToggled",value:function(){this.emit(u.g,this.showWireframesEl.checked)}},{key:"hideWireframes",value:function(){this.showWireframesEl.checked=!1,this.onShowWireframesToggled()}},{key:"reset",value:function(){this.hideWireframes(),this.hideSkeletons()}},{key:"setCurrentRenderMode",value:function(e){this.renderModeEl.textContent=e}},{key:"setCurrentProjectionMode",value:function(e){this.projectionEl.textContent=e}},{key:"show",value:function(){this.pullupEl.classList.remove(u.p)}},{key:"hide",value:function(){this.pullupEl.classList.add(u.p),this.projectionListEl.classList.remove(h.l),this.renderModeListEl.classList.remove(h.l),this.qualityLevelListEl.classList.remove(h.l)}},{key:"toggle",value:function(){this.pullupEl.classList.toggle(u.p),this.projectionListEl.classList.remove(h.l),this.renderModeListEl.classList.remove(h.l),this.qualityLevelListEl.classList.remove(h.l)}},{key:"destroy",value:function(){this.uiRegistry.unregisterAll(),this.uiRegistry=null,this.renderModeEl=null,this.showWireframesEl=null,this.showSkeletonsEl=null,this.projectionEl=null,this.qualityLevelEl=null,this.pullupEl=null}}]),t}(l.a);t.a=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var o,a=n(0),s=n.n(a),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c={None:0,Translation:1,Scale:2},u={grabObject:1,grabWorld:2},h=(o=function(){function e(t,n){var r=this;i(this,e),this.vrGamepads=t,this.box3d=n,this.vrGamepads.forEach(function(e){e.listenTo(e,"gamepadButtonDown",r.onGamepadButtonDown.bind(r)),e.listenTo(e,"gamepadButtonUp",r.onGamepadButtonUp.bind(r))}),this.controllerState={initiatingController:null,selectedObject:null,previousParent:null,controlType:c.None},this.initialScaleDistance=0,this.initialScale=new THREE.Vector3,this.vrWorkVector1=new THREE.Vector3,this.vrWorkVector2=new THREE.Vector3,this.vrWorkMatrix=new THREE.Matrix4}return l(e,[{key:"destroy",value:function(){this.vrGamepads.forEach(function(e){return e.stopListening()})}},{key:"changeParent",value:function(e,t){var n=t.runtimeData,i=e.runtimeData;n&&i&&(i.matrix.premultiply(i.parent.matrixWorld),this.vrWorkMatrix.getInverse(n.matrixWorld),i.applyMatrix(this.vrWorkMatrix),e.setPosition(i.position.x,i.position.y,i.position.z),e.setQuaternion(i.quaternion.x,i.quaternion.y,i.quaternion.z,i.quaternion.w),e.setScale(i.scale.x,i.scale.y,i.scale.z),t.addChild(e))}},{key:"startTranslation",value:function(){this.changeParent(this.controllerState.selectedObject,this.controllerState.initiatingController)}},{key:"endTranslation",value:function(){this.changeParent(this.controllerState.selectedObject,this.controllerState.previousParent)}},{key:"onScaleUpdate",value:function(){this.vrGamepads[0].getPosition(this.vrWorkVector1),this.vrGamepads[1].getPosition(this.vrWorkVector2);var e=this.vrWorkVector1.sub(this.vrWorkVector2).length(),t=e/this.initialScaleDistance;this.vrWorkVector1.copy(this.initialScale).multiplyScalar(t),this.controllerState.selectedObject.setScale(this.vrWorkVector1.x,this.vrWorkVector1.y,this.vrWorkVector1.z)}},{key:"startScale",value:function(){this.vrGamepads[0].getPosition(this.vrWorkVector1),this.vrGamepads[1].getPosition(this.vrWorkVector2),this.controllerState.selectedObject.getScale(this.initialScale),this.initialScaleDistance=this.vrWorkVector1.sub(this.vrWorkVector2).length(),this.box3d.listenTo(this.box3d,"update",this.onScaleUpdate)}},{key:"endScale",value:function(){this.box3d.stopListening(this.box3d,"update",this.onScaleUpdate)}},{key:"onGamepadButtonUp",value:function(e,t){if(t===u.grabObject)if(this.controllerState.controlType===c.Translation)this.endTranslation(),this.controllerState.controlType=c.None,this.controllerState.selectedObject=null;else if(this.controllerState.controlType===c.Scale){this.controllerState.controlType=c.Translation,this.endScale();var n=this.vrGamepads.find(function(t){var n=t.getComponentByScriptId("motion_gamepad_device");return n&&n.getGamepad()!==e});this.controllerState.initiatingController=n,this.startTranslation()}}},{key:"onGamepadButtonDown",value:function(e,t){if(t===u.grabObject){if(this.controllerState.controlType===c.Translation)return this.controllerState.controlType=c.Scale,this.endTranslation(),void this.startScale();var n=this.vrGamepads.find(function(t){var n=t.getComponentByScriptId("motion_gamepad_device");return n&&n.getGamepad()===e}),i=n.getComponentByScriptId("intersection_checker"),r=i.checkIntersection(),o=void 0,a=Object.keys(r);if(a.length&&(o=r[a[0]].getInstanceTop()),o){if(this.vrGamepads.find(function(e){return o===e.getChild()}))return;this.controllerState.controlType=c.Translation,this.controllerState.selectedObject=o,this.controllerState.previousParent=o.getParentObject(),this.controllerState.initiatingController=n,this.startTranslation()}}}}]),e}(),r(o.prototype,"onScaleUpdate",[s.a],Object.getOwnPropertyDescriptor(o.prototype,"onScaleUpdate"),o.prototype),o);t.a=h},function(e,t,n){"use strict";function i(e){return[{id:"CAMERA_ID",type:"camera",parentId:"SCENE_ID",properties:{near:.01,far:100},components:[{name:"Render View",enabled:!0,scriptId:"vr_render_view"},{name:"Orbit Camera",attributes:{zoomPerspectiveBounds:{x:.02,y:90},useKeyboard:!1,enablePan:!0},enabled:!0,scriptId:"orbit_camera"},{name:"Orbit Camera Focus",attributes:{},enabled:!0,scriptId:"orbit_camera_focus"},{name:"VR Camera Controller",enabled:!0,scriptId:"vr_camera_controller"}]},{id:"SCENE_ID",type:"scene",children:["CAMERA_ID","AMBIENT_LIGHT_ID"],components:[{name:"Light Environment",attributes:{irradianceMap:"HDR_ENV_MAP_CUBE_2",radianceMapHalfGloss:"HDR_ENV_MAP_CUBE_1",radianceMap:"HDR_ENV_MAP_CUBE_0"},scriptId:"light_environment"}]},{id:"AMBIENT_LIGHT_ID",type:"light",parentId:"SCENE_ID",properties:{lightType:"ambient",color:{r:0,g:0,b:0}}},{id:"APP_ASSET_ID",type:"application",properties:{startupSceneId:"SCENE_ID"},components:[{name:"Renderer",attributes:{renderOnDemand:!0,maxTextureSize2d:r.a.isMobile()?1024:8192,maxTextureSizeCube:r.a.isMobile()?512:void 0,preserveDrawingBuffer:!1,precision:r.a.isMobile()?"highp":"mediump",clearAlpha:1,clearColor:{r:.95,g:.95,b:.95}},scriptId:"box3d_renderer",enabled:!0},{name:"Dynamic Optimizer",scriptId:"dynamic_optimizer",enabled:!1,attributes:{testInterval:4e3}},{name:"Debug Performance",scriptId:"debug_performance",enabled:!1},{name:"Input",scriptId:"input",enabled:!0,attributes:{mouseEvents:{enable:!0,scroll:!0,preventScrollDefault:!0,move:!0,down:!0,preventDownDefault:!1,up:!0,doubleClick:!0,leave:!0,contextMenu:!0,preventContextMenuDefault:!0,dragBufferDistance:12,eventHandler:!0},touchEvents:{enable:!0,start:!0,preventStartDefault:!1,end:!0,doubleTap:!0,cancel:!0,leave:!0,move:!0,preventMoveDefault:!0,dragBufferDistance:12,eventHandler:!0},keyEvents:{enable:!0,down:!0,up:!0,preventDefault:!1,eventHandler:!0}}},{name:"Render Modes",attributes:{},scriptId:"render_modes"},{name:"VR Presenter",scriptId:"vr_presenter"}]},{id:"MAT_CAP_TEX",type:"texture2D",properties:{name:"Mat Cap Texture",imageId:"MAT_CAP_IMG",uMapping:"clamp",vMapping:"clamp"}},{id:"MAT_CAP_IMG",type:"image",properties:{name:"Mat Cap Image",width:256,height:256,stream:!1},representations:[{src:e+"third-party/model3d/matcap.png",isExternal:!0,contentType:"image/png",contentEncoding:"identity",width:256,height:256,compression:"zip"}]},{id:"HDR_ENV_IMG_0",type:"image",properties:{name:"HDR Env Image 0",width:1024,height:512,stream:!1,encoding:"linear"},representations:[{src:e+"third-party/model3d/HDR_Env0.png",isExternal:!0,contentType:"image/png",contentEncoding:"identity",width:1024,height:512,compression:"zip",channels:["red","green","blue","exponent"]}]},{id:"HDR_ENV_IMG_1",type:"image",properties:{name:"HDR Env Image 1",width:256,height:128,stream:!1,encoding:"linear"},representations:[{src:e+"third-party/model3d/HDR_Env1.png",isExternal:!0,contentType:"image/png",contentEncoding:"identity",width:256,height:128,compression:"zip",channels:["red","green","blue","exponent"]}]},{id:"HDR_ENV_IMG_2",type:"image",properties:{name:"HDR Env Image 2",width:64,height:32,stream:!1,encoding:"linear"},representations:[{src:e+"third-party/model3d/HDR_Env2.png",isExternal:!0,contentType:"image/png",contentEncoding:"identity",width:64,height:32,compression:"zip",channels:["red","green","blue","exponent"]}]},{id:"HDR_ENV_MAP_0",type:"texture2D",properties:{imageId:"HDR_ENV_IMG_0",name:"HDR Env Map 0",type:r.a.isAndroid()?"uByte":"halfFloat",minFilter:"linear",magFilter:"linear",vMapping:"clamp",generateMipmaps:!1}},{id:"HDR_ENV_MAP_1",type:"texture2D",properties:{imageId:"HDR_ENV_IMG_1",name:"HDR Env Map 1",type:r.a.isAndroid()?"uByte":"halfFloat",minFilter:"linear",magFilter:"linear",vMapping:"clamp",generateMipmaps:!1}},{id:"HDR_ENV_MAP_2",type:"texture2D",properties:{imageId:"HDR_ENV_IMG_2",name:"HDR Env Map 2",type:r.a.isAndroid()?"uByte":"halfFloat",minFilter:"linear",magFilter:"linear",vMapping:"clamp",generateMipmaps:!1}},{id:"HDR_ENV_MAP_CUBE_0",type:"renderTextureCube",properties:{name:"HDR Cube Env Map 0",type:r.a.isAndroid()?"uByte":"halfFloat",width:512,height:512,generateMipmaps:!0,vMapping:"clamp",uMapping:"clamp",encoding:"linear"},components:[{name:"Convert Panorama To CubeMap",scriptId:"panorama_to_cube_map",enabled:!0,attributes:{inputTexture:"HDR_ENV_MAP_0"}}]},{id:"HDR_ENV_MAP_CUBE_1",type:"renderTextureCube",properties:{name:"HDR Cube Env Map 1",type:r.a.isAndroid()?"uByte":"halfFloat",width:256,height:256,generateMipmaps:!0,vMapping:"clamp",uMapping:"clamp",encoding:"linear"},components:[{name:"Convert Panorama To CubeMap",scriptId:"panorama_to_cube_map",enabled:!0,attributes:{inputTexture:"HDR_ENV_MAP_1"}}]},{id:"HDR_ENV_MAP_CUBE_2",type:"renderTextureCube",properties:{name:"HDR Cube Env Map 2",type:r.a.isAndroid()?"uByte":"halfFloat",width:128,height:128,generateMipmaps:!0,vMapping:"clamp",uMapping:"clamp",encoding:"linear"},components:[{name:"Convert Panorama To CubeMap",scriptId:"panorama_to_cube_map",enabled:!0,attributes:{inputTexture:"HDR_ENV_MAP_2"}}]}]}var r=n(9);t.a=i},function(e,t,n){"use strict";var i=n(9);t.a=[{id:"CAMERA_ID",type:"camera",parentId:"SCENE_ID",properties:{near:.05,far:200,fov:70},components:[{name:"Render View",enabled:!0,scriptId:"vr_render_view"},{name:"Orbit Camera",attributes:{panEnabled:!1,zoomEnabled:!0,inertialDamping:.2,lookSpeed:.5},enabled:!0,scriptId:"orbit_camera"},{name:"VR Camera Controller",enabled:!0,scriptId:"vr_camera_controller"}]},{id:"SCENE_ID",type:"scene",children:["CAMERA_ID"],components:[{name:"Skybox",attributes:{size:100},scriptId:"skybox_renderer",enabled:!1}]},{id:"APP_ASSET_ID",type:"application",properties:{startupSceneId:"SCENE_ID"},components:[{name:"Renderer",attributes:{antialias:!i.a.isMobile(),renderOnDemand:!0},scriptId:"box3d_renderer",isBuiltIn:!0,enabled:!0},{name:"Debug Performance",scriptId:"debug_performance",enabled:!1},{name:"Input",scriptId:"input",isBuiltIn:!0,enabled:!0,attributes:{mouseEvents:{enable:!0,scroll:!0,preventScrollDefault:!0,move:!0,down:!0,preventDownDefault:!1,up:!0,doubleClick:!0,leave:!0,contextMenu:!0,preventContextMenuDefault:!0,dragBufferDistance:12,eventHandler:!0},touchEvents:{enable:!0,start:!0,preventStartDefault:!1,end:!0,doubleTap:!0,cancel:!0,leave:!0,move:!0,preventMoveDefault:!0,dragBufferDistance:12,eventHandler:!0},keyEvents:{enable:!0,down:!0,up:!0,preventDefault:!1,eventHandler:!0}}},{name:"VR Presenter",scriptId:"vr_presenter"}]}]},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var s,l=n(0),c=n.n(l),u=n(33),h=n(129),d=n(231),p=n(233),f=n(229),v=n(29),g=n(126),m=n(311),y=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),b=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},E="bp-video-360",w="VIDEO_ID",_={imageId:w,minFilter:"linear",magFilter:"linear",uMapping:"clamp",vMapping:"clamp"},O=(s=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"setup",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.renderer=null,this.controls=null,this.destroyed=!1,this.mediaEl.style.display="none",this.mediaContainerEl.style.width="100%",this.mediaContainerEl.style.height="100%",this.wrapperEl.classList.add(E)}},{key:"destroy",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.skybox&&(this.skybox.setAttribute("skyboxTexture",null),this.skybox=null),this.textureAsset&&(this.textureAsset.destroy(),this.textureAsset=null),this.videoAsset&&(this.videoAsset.destroy(),this.videoAsset=null),this.controls&&(this.destroyControls(),this.controls=null),this.renderer&&(this.renderer.getBox3D().off("mouseDown",this.onCanvasMouseDown),this.renderer.getBox3D().off("mouseUp",this.onCanvasMouseUp),this.renderer.removeListener(v.h,this.handleShowVrButton),this.renderer.destroy(),this.renderer=null)}},{key:"getJSAssets",value:function(){return b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getJSAssets",this).call(this).concat(g.a)}},{key:"loadeddataHandler",value:function(){var e=this,n=this.options,i=n.token,r=n.apiHost;this.renderer=new p.a(this.mediaContainerEl,new BoxSDK({token:i,apiBase:r})),this.renderer.on(v.h,this.handleShowVrButton),this.renderer.staticBaseURI=this.options.location.staticBaseURI,this.options.sceneEntities=f.a,this.renderer.initBox3d(this.options).then(this.create360Environment).then(function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"loadeddataHandler",e).call(e),e.createControls(),e.renderer.initVr()})}},{key:"createControls",value:function(){this.controls=new d.a(this.mediaContainerEl),this.controls.on(v.e,this.handleToggleVr)}},{key:"destroyControls",value:function(){this.controls.removeListener(v.e,this.handleToggleVr),this.controls.destroy()}},{key:"resize",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this),this.renderer&&this.renderer.resize()}},{key:"create360Environment",value:function(){var e=this;return this.skybox=this.renderer.getScene().getComponentByScriptId("skybox_renderer"),this.videoAsset=this.renderer.getBox3D().createVideo({loop:!1,generateMipmaps:!1,querySelector:"."+this.mediaContainerEl.className+" video",autoPlay:!1,muted:!1},w),this.textureAsset=this.renderer.getBox3D().createTexture2d(_,"VIDEO_TEX_ID"),new Promise(function(t){e.textureAsset.load(function(){e.skybox.setAttribute("skyboxTexture",e.textureAsset.id),e.skybox.enable(),e.renderer.getBox3D().on("mouseDown",e.onCanvasMouseDown),t()})})}},{key:"toggleFullscreen",value:function(){u.a.toggle(this.wrapperEl)}},{key:"handleToggleVr",value:function(){this.renderer.toggleVr(),this.renderer.vrEnabled?this.skybox.setAttribute("stereoEnabled",!1):(this.mediaEl.paused&&this.mediaEl.play(),this.skybox.setAttribute("stereoEnabled",!0))}},{key:"handleShowVrButton",value:function(){this.controls.showVrButton()}},{key:"onCanvasMouseDown",value:function(){this.renderer.getBox3D().once("mouseUp",this.onCanvasMouseUp)}},{key:"onCanvasMouseUp",value:function(){var e=this.renderer.getInputController();e.getPreviousMouseDragState()||e.getPreviousTouchDragState()||this.togglePlay()}}]),t}(h.a),a(s.prototype,"loadeddataHandler",[c.a],Object.getOwnPropertyDescriptor(s.prototype,"loadeddataHandler"),s.prototype),a(s.prototype,"resize",[c.a],Object.getOwnPropertyDescriptor(s.prototype,"resize"),s.prototype),a(s.prototype,"create360Environment",[c.a],Object.getOwnPropertyDescriptor(s.prototype,"create360Environment"),s.prototype),a(s.prototype,"toggleFullscreen",[c.a],Object.getOwnPropertyDescriptor(s.prototype,"toggleFullscreen"),s.prototype),a(s.prototype,"handleToggleVr",[c.a],Object.getOwnPropertyDescriptor(s.prototype,"handleToggleVr"),s.prototype),a(s.prototype,"handleShowVrButton",[c.a],Object.getOwnPropertyDescriptor(s.prototype,"handleShowVrButton"),s.prototype),a(s.prototype,"onCanvasMouseDown",[c.a],Object.getOwnPropertyDescriptor(s.prototype,"onCanvasMouseDown"),s.prototype),a(s.prototype,"onCanvasMouseUp",[c.a],Object.getOwnPropertyDescriptor(s.prototype,"onCanvasMouseUp"),s.prototype),s);t.a=O},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),l=n(29),c=n(6),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h="bp-is-hidden",d="bp-media-controls-container",p="bp-media-controls-btn",f=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.vrButtonEl=null,n.el=e,n.handleToggleVr=n.handleToggleVr.bind(n),n.addUi(),n.attachEventHandlers(),n}return o(t,e),u(t,[{key:"addUi",value:function(){var e=this.el.querySelector("."+d);this.vrButtonEl=e.appendChild(document.createElement("button")),this.vrButtonEl.classList.add(p),this.vrButtonEl.setAttribute("aria-label","VR 디스플레이 전환"),this.vrButtonEl.setAttribute("title","VR 디스플레이 전환"),this.vrButtonEl.classList.add(h),this.vrButtonEl.appendChild(document.createElement("span")).innerHTML=c.f}},{key:"attachEventHandlers",value:function(){this.vrButtonEl&&this.vrButtonEl.addEventListener("click",this.handleToggleVr)}},{key:"detachEventHandlers",value:function(){this.vrButtonEl&&this.vrButtonEl.removeEventListener("click",this.handleToggleVr)}},{key:"handleToggleVr",value:function(){this.emit(l.e)}},{key:"showVrButton",value:function(){this.vrButtonEl&&this.vrButtonEl.classList.remove(h)}},{key:"destroy",value:function(){this.removeAllListeners(),this.detachEventHandlers(),this.vrButtonEl&&this.vrButtonEl.parentElement&&this.vrButtonEl.parentElement.removeChild(this.vrButtonEl),this.vrButtonEl=null,this.el=null,this.handleToggleVr=null}}]),t}(s.a);t.a=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(124),s=n(9),l=n(5),c=n(230),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},d=["3g2","3gp","avi","m2v","m2ts","m4v","mkv","mov","mp4","mpeg","mpg","mts","qt","wmv"],p=["Chrome","Edge","Firefox","Opera"],f=[{NAME:"Video360",CONSTRUCTOR:c.a,REP:"dash",EXT:d}],v=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=f,e}return o(t,e),u(t,[{key:"determineViewer",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"determineViewer",this).call(this,e,i);if(r){var o=s.a.getName(),a=s.a.isIOS();if(!p.some(function(e){return e===o})||a||!s.a.hasWebGL()){var c=n.i(l.n)("죄송합니다. 브라우저에서 {1}에 대한 미리 보기를 지원하지 않습니다.",["360도 비디오"]);throw new Error(c)}}return r}}]),t}(a.a);t.a=new v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(64),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.inputController=null,o}return o(t,e),s(t,[{key:"getInputController",value:function(){if(!this.inputController){var e=this.box3d.getApplication();if(!e)return null;this.inputController=e.getComponentByScriptName("Input")}return this.inputController}},{key:"destroy",value:function(){this.inputController=null,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(a.a);t.a=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(13),u=n.n(c),h=n(5),d=n(1),p=n(6),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=" of ",g=13,m="bp-find-match-not-found",y=0,b=1,E=3,w=l()(a=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(o.opened=!1,o.bar=e,o.findController=n,o.currentMatch=0,null===o.findController)throw new Error("DocFindBar cannot be used without a PDFFindController instance.");return o.findController.updateUIState=o.updateUIState,o.findController.updateUIResultsCount=o.updateUIResultsCount,o.bar.classList.add(d.v),o.createFindField(),o.createFindButtons(),o.findPreviousButtonEl=o.bar.querySelector(".bp-doc-find-prev"),o.findNextButtonEl=o.bar.querySelector(".bp-doc-find-next"),o.findCloseButtonEl=o.bar.querySelector(".bp-doc-find-close"),o.bindDOMListeners(),o}return o(t,e),f(t,[{key:"createFindField",value:function(){var e=document.createElement("span");e.classList.add("bp-doc-find-search"),e.innerHTML=p.A.trim(),this.bar.appendChild(e),this.findFieldEl=document.createElement("input"),this.findFieldEl.classList.add("bp-doc-find-field"),this.bar.appendChild(this.findFieldEl),this.findResultsCountEl=document.createElement("span"),this.findResultsCountEl.classList.add("bp-doc-find-results-count"),this.findResultsCountEl.classList.add(d.v),this.bar.appendChild(this.findResultsCountEl)}},{key:"createFindButtons",value:function(){var e=('<button class="bp-doc-find-prev">'+p.B+"</button>").trim(),t=('<button class="bp-doc-find-next">'+p.C+"</button>").trim(),n=('<button class="bp-doc-find-close">'+p.z+"</button>").trim();this.findButtonContainerEl=document.createElement("span"),this.findButtonContainerEl.classList.add("bp-doc-find-controls"),this.findButtonContainerEl.innerHTML=e+t+n,this.bar.appendChild(this.findButtonContainerEl)}},{key:"destroy",value:function(){this.currentMatch=0,this.unbindDOMListeners(),this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}},{key:"dispatchFindEvent",value:function(e,t){this.findController.executeCommand(e,{query:this.findFieldEl.value,phraseSearch:!0,highlightAll:!0,findPrevious:t})}},{key:"updateUIState",value:function(e){switch(this.status="",e){case b:this.findFieldEl.classList.add(m);break;case E:this.status="pending";break;case y:this.findFieldEl.classList.remove(m)}this.findFieldEl.setAttribute("data-status",this.status),this.updateUIResultsCount()}},{key:"updateUIResultsCount",value:function(){if(this.findResultsCountEl){if(!this.findController.matchCount)return void this.findResultsCountEl.classList.add(d.v);var e=this.findResultsCountEl.getBoundingClientRect().width+g;this.findFieldEl.style.paddingRight=e+"px",this.findResultsCountEl.textContent=this.currentMatch+v+this.findController.matchCount,this.findResultsCountEl.classList.remove(d.v)}}},{key:"bindDOMListeners",value:function(){this.bar.addEventListener("keydown",this.barKeyDownHandler),this.findFieldEl.addEventListener("input",this.findFieldHandler),this.findPreviousButtonEl.addEventListener("click",this.findPreviousHandler),this.findNextButtonEl.addEventListener("click",this.findNextHandler),this.findCloseButtonEl.addEventListener("click",this.close),document.addEventListener("keydown",this.displayFindBarHandler)}},{key:"unbindDOMListeners",value:function(){this.bar.removeEventListener("keydown",this.barKeyDownHandler),this.findFieldEl.removeEventListener("input",this.findFieldHandler),this.findPreviousButtonEl.removeEventListener("click",this.findPreviousHandler),this.findNextButtonEl.removeEventListener("click",this.findNextHandler),this.findCloseButtonEl.removeEventListener("click",this.close),document.removeEventListener("keydown",this.displayFindBarHandler)}},{key:"displayFindBarHandler",value:function(e){switch(n.i(h.f)(e).toLowerCase()){case"meta+f":case"control+f":case"meta+g":case"control+g":case"f3":this.open(),e.preventDefault()}}},{key:"findFieldHandler",value:function(){this.dispatchFindEvent("find"),this.currentMatch=1}},{key:"barKeyDownHandler",value:function(e){switch(n.i(h.f)(e).toLowerCase()){case"enter":this.findNextHandler(!1);break;case"shift+enter":this.findPreviousHandler(!1);break;case"escape":case"esc":if(!this.opened)return;this.close(),e.stopPropagation(),e.preventDefault();break;case"shift++":case"shift+_":case"[":case"]":e.stopPropagation()}}},{key:"findNextHandler",value:function(e){this.findFieldEl.value&&(e?(this.dispatchFindEvent("findagain",!1),this.currentMatch=this.currentMatch+1,this.currentMatch>this.findController.matchCount&&(this.currentMatch=1)):this.findNextButtonEl.focus())}},{key:"findPreviousHandler",value:function(e){this.findFieldEl.value&&(e?(this.dispatchFindEvent("findagain",!0),this.currentMatch=this.currentMatch-1,this.currentMatch<=0&&(this.currentMatch=this.findController.matchCount)):this.findPreviousButtonEl.focus())}},{key:"open",value:function(){this.prevSearchQuery&&(this.findFieldEl.value=this.prevSearchQuery,this.findFieldHandler()),this.opened||(this.opened=!0,this.bar.classList.remove(d.v)),this.findFieldEl.select(),this.findFieldEl.focus()}},{key:"close",value:function(){this.prevSearchQuery=this.findFieldEl.value,this.findFieldEl.value="",this.findFieldHandler(),this.opened&&(this.opened=!1,this.bar.classList.add(d.v),this.findController.active=!1)}}]),t}(u.a))||a;t.a=w},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(22),l=n(237),c=n(238),u=n(120),h=n(1),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},f=[{NAME:"Presentation",CONSTRUCTOR:c.a,REP:"pdf",EXT:["odp","ppt","pptx"]},{NAME:"Document",CONSTRUCTOR:l.a,REP:"pdf",EXT:["as","as3","asm","bat","c","cc","cmake","cpp","cs","css","csv","cxx","diff","doc","docx","erb","gdoc","groovy","gsheet","h","haml","hh","htm","html","java","js","less","log","m","make","md","ml","mm","msg","odp","ods","odt","pdf","php","pl","plist","ppt","pptx","properties","py","rb","rst","rtf","sass","scala","scm","script","sh","sml","sql","tsv","txt","vi","vim","webdoc","wpd","xhtml","xls","xlsm","xlsx","xml","xsd","xsl","yaml"]},{NAME:"Document",CONSTRUCTOR:l.a,REP:h.J,EXT:["pdf","lcdpdf"]}],v=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=f,e}return o(t,e),d(t,[{key:"determineRepresentation",value:function(e,i){var r=void 0,o=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"determineRepresentation",this).call(this,e,i),a=u.a.getStatus(o);return"pdf"===e.extension&&"pdf"===o.representation&&a!==h.p&&(r=n.i(s.g)(e,h.J)),r||o}}]),t}(a.a);t.a=new v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(13),s=n.n(a),l=n(1),c=n(5),u=n(123),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d="UserComment",p=/pdfWidth:([0-9.]+)pts,pdfHeight:([0-9.]+)pts,numPages:([0-9]+)/,f=4/3,v=1.25,g=40,m=5,y=2,b=500,E=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.loadHandler=function(){return o.preloadEl&&o.imageEl?o.readEXIF(o.imageEl).then(function(e){var t=e.pdfWidth,n=e.pdfHeight,i=e.numPages,r=o.getScaledDimensions(t,n),a=r.scaledWidth,s=r.scaledHeight;o.scaleAndShowPreload(a,s,Math.min(i,b))}).catch(function(){var e=o.imageEl,t=e.naturalWidth,n=e.naturalHeight,i=o.getScaledDimensions(t,n),r=i.scaledWidth,a=i.scaledHeight;o.scaleAndShowPreload(r,a,y)}):Promise.resolve()},a=n,r(o,a)}return o(t,e),h(t,[{key:"showPreload",value:function(e,t){var i=this;return this.containerEl=t,n.i(c.b)(e,"blob").then(function(e){i.checkDocumentLoaded()||(i.srcUrl=URL.createObjectURL(e),i.wrapperEl=document.createElement("div"),i.wrapperEl.className=l.W,i.wrapperEl.innerHTML=('\n                <div class="'+l.X+" "+l.H+'">\n                    <img class="'+l.Y+'" src="'+i.srcUrl+'" />\n                </div>\n            ').trim(),i.containerEl.appendChild(i.wrapperEl),i.preloadEl=i.wrapperEl.querySelector("."+l.X),i.imageEl=i.preloadEl.querySelector("img."+l.Y),i.bindDOMListeners())})}},{key:"hidePreload",value:function(){this.wrapperEl&&(this.restoreScrollPosition(),this.unbindDOMListeners(),this.wrapperEl.parentNode.removeChild(this.wrapperEl),this.wrapperEl=void 0,this.preloadEl=void 0,this.imageEl=void 0,this.srcUrl&&URL.revokeObjectURL(this.srcUrl))}},{key:"bindDOMListeners",value:function(){this.imageEl.addEventListener("load",this.loadHandler)}},{key:"unbindDOMListeners",value:function(){this.imageEl.removeEventListener("load",this.loadHandler)}},{key:"restoreScrollPosition",value:function(){var e=this.wrapperEl.scrollTop,t=this.wrapperEl.parentNode.querySelector(".bp-doc");t&&e>0&&(t.scrollTop=e)}},{key:"readEXIF",value:function(e){return new Promise(function(t,n){try{EXIF.getData(e,function(){var i=EXIF.getTag(e,d),r=i.map(function(e){return String.fromCharCode(e)}).join(""),o=p.exec(r);o&&4===o.length?t({pdfWidth:parseInt(o[1],10)*f,pdfHeight:parseInt(o[2],10)*f,numPages:parseInt(o[3],10)}):n("No valid EXIF data found")})}catch(e){n("Error reading EXIF data")}})}},{key:"getScaledDimensions",value:function(e,t){var n=this.wrapperEl,i=n.clientWidth,r=n.clientHeight,o=(i-g)/e,a=(r-m)/t,s=e>t,l=s?Math.min(a,o):o;return l=Math.min(v,l),{scaledWidth:Math.floor(l*e),scaledHeight:Math.floor(l*t)}}},{key:"scaleAndShowPreload",value:function(e,t,i){if(!this.checkDocumentLoaded()){n.i(c.r)(this.imageEl,e,t);for(var r=0;r<i-1;r++){var o=document.createElement("div");o.className=l.Y,n.i(c.r)(o,e,t),this.preloadEl.appendChild(o)}n.i(u.i)(),this.preloadEl.classList.remove(l.H),this.emit("preload")}}},{key:"checkDocumentLoaded",value:function(){return!!this.containerEl.classList.contains(l.I)&&(this.hidePreload(),!0)}}]),t}(s.a);t.a=E},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(154),u=n.n(c),h=n(127),d=n(236),p=n(33),f=n(22),v=n(1),g=n(6),m=n(312),y=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),b=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},E=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"setup",value:function(){var e=this;b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.docEl.classList.add("bp-doc-document"),this.docPreloader=new d.a,this.docPreloader.addListener("preload",function(){e.options.logger.setPreloaded()})}},{key:"destroy",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.docPreloader.removeAllListeners("preload")}},{key:"showPreload",value:function(){if(1===this.getCachedPage()){var e=this.options.file,t=n.i(f.g)(e,v.T);if(t&&this.getViewerOption("preload")){var i=t.content.url_template,r=this.createContentUrlWithAuthParams(i);this.docPreloader.showPreload(r,this.containerEl)}}}},{key:"hidePreload",value:function(){this.docPreloader.hidePreload()}},{key:"onKeydown",value:function(e){return"Shift++"===e?(this.zoomIn(),!0):"Shift+_"===e?(this.zoomOut(),!0):"ArrowUp"===e&&p.a.isFullscreen(this.containerEl)?(this.previousPage(),!0):"ArrowDown"===e&&p.a.isFullscreen(this.containerEl)?(this.nextPage(),!0):b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onKeydown",this).call(this,e)}},{key:"bindControlListeners",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindControlListeners",this).call(this),this.controls.add("축소",this.zoomOut,"bp-doc-zoom-out-icon",g.m),this.controls.add("확대",this.zoomIn,"bp-doc-zoom-in-icon",g.n),this.controls.add("이전 페이지",this.previousPage,"bp-doc-previous-page-icon bp-previous-page",g.u);var e=u.a.replace(/>\s*</g,"><");this.controls.add("클릭하여 페이지 번호 입력",this.showPageNumInput,"bp-doc-page-num",e),this.controls.add("다음 페이지",this.nextPage,"bp-doc-next-page-icon bp-next-page",g.v),this.controls.add("전체 화면 시작",this.toggleFullscreen,"bp-enter-fullscreen-icon",g.d),this.controls.add("전체 화면 종료",this.toggleFullscreen,"bp-exit-fullscreen-icon",g.e)}}]),t}(h.a))||a;t.a=E},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(46),u=n.n(c),h=n(154),d=n.n(h),p=n(9),f=n(127),v=n(1),g=n(6),m=n(313),y=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),b=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},E=200,w=30,_=5,O=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"setup",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.docEl.classList.add("bp-doc-presentation")}},{key:"setPage",value:function(e){this.checkOverflow();var n=this.docEl.querySelectorAll(".page");[].forEach.call(n,function(e){e.classList.add(v.H)}),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setPage",this).call(this,e),this.docEl.querySelector('[data-page-number="'+this.pdfViewer.currentPageNumber+'"]').classList.remove(v.H),this.pdfViewer.update()}},{key:"onKeydown",value:function(e){return"ArrowUp"===e?(this.previousPage(),!0):"ArrowDown"===e?(this.nextPage(),!0):b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onKeydown",this).call(this,e)}},{key:"checkOverflow",value:function(){var e=this.docEl,t=this.docEl.querySelector('[data-page-number="'+this.pdfViewer.currentPageNumber+'"]'),n=t.clientWidth>e.clientWidth,i=t.clientHeight-w>e.clientHeight;return e.classList.remove("overflow-x"),e.classList.remove("overflow-y"),n&&e.classList.add("overflow-x"),i&&e.classList.add("overflow-y"),n||i}},{key:"initViewer",value:function(e){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initViewer",this).call(this,e),this.overwritePdfViewerBehavior()}},{key:"bindDOMListeners",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindDOMListeners",this).call(this),this.docEl.addEventListener("wheel",this.wheelHandler()),p.a.isMobile()&&(this.docEl.addEventListener("touchstart",this.mobileScrollHandler),this.docEl.addEventListener("touchmove",this.mobileScrollHandler),this.docEl.addEventListener("touchend",this.mobileScrollHandler))}},{key:"unbindDOMListeners",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unbindDOMListeners",this).call(this),this.docEl.removeEventListener("wheel",this.wheelHandler()),p.a.isMobile()&&(this.docEl.removeEventListener("touchstart",this.mobileScrollHandler),this.docEl.removeEventListener("touchmove",this.mobileScrollHandler),this.docEl.removeEventListener("touchend",this.mobileScrollHandler))}},{key:"bindControlListeners",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindControlListeners",this).call(this),this.controls.add("축소",this.zoomOut,"bp-exit-zoom-out-icon",g.m),this.controls.add("확대",this.zoomIn,"bp-enter-zoom-in-icon",g.n),this.controls.add("이전 페이지",this.previousPage,"bp-presentation-previous-page-icon bp-previous-page",g.u);var e=d.a.replace(/>\s*</g,"><");this.controls.add("클릭하여 페이지 번호 입력",this.showPageNumInput,"bp-doc-page-num",e),this.controls.add("다음 페이지",this.nextPage,"bp-presentation-next-page-icon bp-next-page",g.v),this.controls.add("전체 화면 시작",this.toggleFullscreen,"bp-enter-fullscreen-icon",g.d),this.controls.add("전체 화면 종료",this.toggleFullscreen,"bp-exit-fullscreen-icon",g.e)}},{key:"mobileScrollHandler",value:function(e){if(this.checkOverflow()||!e.changedTouches||0===e.changedTouches.length||"touchmove"===e.type)return void e.preventDefault();if("touchstart"===e.type)this.scrollStart=e.changedTouches[0].clientY;else{var t=e.changedTouches[0].clientY;this.scrollStart&&this.scrollStart>t+_?this.nextPage():this.scrollStart&&this.scrollStart<t-_&&this.previousPage()}}},{key:"pagesinitHandler",value:function(){[].slice.call(this.docEl.querySelectorAll(".pdfViewer .page"),0).forEach(function(e){"1"!==e.getAttribute("data-page-number")&&e.classList.add(v.H)}),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pagesinitHandler",this).call(this)}},{key:"pagechangeHandler",value:function(e){this.setPage(e.pageNumber),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pagechangeHandler",this).call(this,e)}},{key:"wheelHandler",value:function(){var e=this;return this.throttledWheelHandler||(this.throttledWheelHandler=u()(function(t){t.deltaY===-0||t.deltaX!==-0||e.checkOverflow()||(t.deltaY>0?e.nextPage():t.deltaY<0&&e.previousPage())},E)),this.throttledWheelHandler}},{key:"overwritePdfViewerBehavior",value:function(){var e=this;this.pdfViewer.scrollPageIntoView=function(t){var n=t;"number"!=typeof n&&(n=t.pageNumber||1),e.setPage(n)},this.pdfViewer._getVisiblePages=function(){var t=e.pdfViewer._pages[e.pdfViewer._currentPageNumber-1];return{first:t,last:t,views:[{id:t.id,view:t}]}}}}]),t}(f.a))||a;t.a=O},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var i="third-party/doc/",r=[i+"compatibility.min.js",i+"pdf.min.js",i+"pdf_viewer.min.js",i+"pdf.worker.min.js",i+"exif.min.js"],o=[i+"pdf_viewer.css"]},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(26),u=n(22),h=n(1),d=n(6),p=n(314),f=(n.n(p),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),v=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},g=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"setup",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.infoEl=this.containerEl.appendChild(document.createElement("div")),this.iconEl=this.infoEl.appendChild(document.createElement("div")),this.messageEl=this.infoEl.appendChild(document.createElement("div")),this.infoEl.className="bp-error"}},{key:"destroy",value:function(){this.downloadBtnEl&&this.downloadBtnEl.removeEventListener("click",this.download),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(e){this.setup();var t=this.options.file,i=d.a,r=e||"죄송합니다. 미리 보기가 로드되지 않았습니다. 이 파일 유형이 지원되지 않을 수 있습니다.";if(t)switch(t.extension){case"zip":case"tgz":i=d.b;break;case"flv":i=d.c}this.iconEl.innerHTML=i,this.messageEl.textContent=r,n.i(u.c)(t,h.a)&&this.addDownloadButton(),this.loaded=!0,this.emit("load",{error:r})}},{key:"addDownloadButton",value:function(){this.downloadEl=this.infoEl.appendChild(document.createElement("div")),this.downloadEl.classList.add("bp-error-download"),this.downloadBtnEl=this.downloadEl.appendChild(document.createElement("button")),this.downloadBtnEl.classList.add("bp-btn"),this.downloadBtnEl.classList.add("bp-btn-primary"),this.downloadBtnEl.textContent="다운로드",this.downloadBtnEl.addEventListener("click",this.download)}},{key:"download",value:function(){this.emit("download")}}]),t}(c.a))||a;t.a=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(26),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"setup",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.iframeEl=this.containerEl.appendChild(document.createElement("iframe")),this.iframeEl.setAttribute("width","100%"),this.iframeEl.setAttribute("height","100%"),this.iframeEl.setAttribute("frameborder",0),this.loadTimeout=12e4}},{key:"load",value:function(){this.setup();var e="",n=this.options,i=n.file,r=n.sharedLink,o=void 0===r?"":r,a=n.appHost,s=i.extension;if("boxnote"===s){e=a+"/notes/"+i.id+"?isReadonly=1&is_preview=1";var c=o.indexOf("/s/");if(c!==-1){e=e+"&s="+o.substr(c+3)}}else"boxdicom"===s&&(e=a+"/dicom_viewer/"+i.id);this.iframeEl.src=e,this.loaded=!0,this.emit("load"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this)}}]),t}(a.a);t.a=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(241),l=n(1),c=[{NAME:"IFrame",CONSTRUCTOR:s.a,REP:l.J,EXT:["boxnote","boxdicom"]}],u=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=c,e}return o(t,e),t}(a.a);t.a=new u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(63),u=n(211),h=n(9),d=n(128),p=n(22),f=n(6),v=n(1),g=n(5),m=n(315),y=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),b=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},E="zoomable",w="pannable",_="bp-image",O=15,k=1.2,C=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"setup",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.wrapperEl=this.containerEl.appendChild(document.createElement("div")),this.wrapperEl.className=_,this.imageEl=this.wrapperEl.appendChild(document.createElement("img")),this.imageEl.classList.add(v.H),this.initAnnotations(),this.currentRotationAngle=0}},{key:"destroy",value:function(){this.annotator&&"function"==typeof this.annotator.destroy&&(this.annotator.removeAllListeners("pointmodeenter"),this.annotator.destroy()),this.unbindDOMListeners(),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(){var e=this;this.setup(),b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this);var n=this.options,i=n.representation,r=n.viewer,o=i.content.url_template;return this.bindDOMListeners(),this.getRepStatus().getPromise().then(function(){e.imageEl.src=e.createContentUrlWithAuthParams(o,r.ASSET)}).catch(this.handleAssetError)}},{key:"prefetch",value:function(e){var t=e.content,n=void 0===t||t,i=this.options,r=i.representation,o=i.viewer;if(n&&this.isRepresentationReady(r)){var a=r.content.url_template;document.createElement("img").src=this.createContentUrlWithAuthParams(a,o.ASSET)}}},{key:"updatePannability",value:function(){!this.imageEl||this.annotator&&this.annotator.isInPointMode()||(this.isRotated()?this.isPannable=this.imageEl.height>this.wrapperEl.clientWidth||this.imageEl.width>this.wrapperEl.clientHeight:this.isPannable=this.imageEl.width>this.wrapperEl.clientWidth||this.imageEl.height>this.wrapperEl.clientHeight,this.didPan=!1,this.updateCursor())}},{key:"rotateLeft",value:function(){this.currentRotationAngle=(this.currentRotationAngle-90)%3600%360,this.imageEl.setAttribute("data-rotation-angle",this.currentRotationAngle),this.imageEl.style.transform="rotate("+this.currentRotationAngle+"deg)",this.emit("rotate"),this.handleOrientationChange(),this.annotator&&this.scaleAnnotations(this.imageEl.offsetwidth,this.imageEl.offsetHeight)}},{key:"zoom",value:function(e){var t=void 0,n=void 0,i=this.imageEl.getBoundingClientRect(),r=i.width,o=i.height,a=r/o,s={width:this.wrapperEl.clientWidth-O,height:this.wrapperEl.clientHeight-O},l=a>=1;switch(e){case"in":l?t=r*k:n=o*k;break;case"out":l?t=r/k:n=o/k;break;case"reset":return this.imageEl.style.width="",this.imageEl.style.height="",this.adjustImageZoomPadding(),void this.zoom();default:if(r>s.width||o>s.height){var c=Math.min(s.width/r,s.height/o);l?t=r*c:n=o*c}else if(l){var u=this.isRotated()?this.imageEl.naturalHeight:this.imageEl.naturalWidth;t=Math.min(s.width,u)}else{var h=this.isRotated()?this.imageEl.naturalWidth:this.imageEl.naturalHeight;n=Math.min(s.height,h)}}if(this.isRotated()){var d=t;t=n,n=d}this.imageEl.style.width=t?t+"px":"",this.imageEl.style.height=n?n+"px":"",this.adjustImageZoomPadding(),setTimeout(this.updatePannability,50),this.annotator&&this.scaleAnnotations(t,n),this.emit("zoom",{newScale:[t||r,n||o],canZoomIn:!0,canZoomOut:!0})}},{key:"scaleAnnotations",value:function(e,t){var n=e?e/this.imageEl.naturalWidth:t/this.imageEl.naturalHeight,i=this.currentRotationAngle%3600%360;this.annotator.setScale(n),this.annotator.renderAnnotations(i)}},{key:"loadUI",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"loadUI",this).call(this),this.controls.add("왼쪽으로 회전",this.rotateLeft,"bp-image-rotate-left-icon",f.o),this.controls.add("전체 화면 시작",this.toggleFullscreen,"bp-enter-fullscreen-icon",f.d),this.controls.add("전체 화면 종료",this.toggleFullscreen,"bp-exit-fullscreen-icon",f.e),this.annotator&&!this.annotationsLoaded&&(this.annotator.showAnnotations(),this.annotationsLoaded=!0)}},{key:"print",value:function(){this.printframe=n.i(g.p)(this.imageEl.outerHTML),this.printframe.contentWindow.focus(),"Explorer"===h.a.getName()||"Edge"===h.a.getName()?this.printframe.contentWindow.document.execCommand("print",!1,null):this.printframe.contentWindow.print(),this.emit("printsuccess")}},{key:"initAnnotations",value:function(){var e=this;if(this.isAnnotatable()){var t=this.options,i=t.apiHost,r=t.file,o=t.location,a=t.token,s=n.i(p.c)(r,v.e)&&!h.a.isMobile();this.canAnnotate=s;var l=r.file_version.id,d=new c.a({apiHost:i,fileId:r.id,token:a,canAnnotate:s});this.annotator=new u.a({annotatedElement:this.wrapperEl,annotationService:d,fileVersionID:l,locale:o.locale}),this.annotator.init(this),this.annotator.addListener("pointmodeenter",function(){e.imageEl.classList.remove(E),e.imageEl.classList.remove(w),e.controls&&e.controls.disable()}),this.annotator.addListener("pointmodeexit",function(){e.updateCursor(),e.controls&&e.controls.enable()})}}},{key:"isAnnotatable",value:function(e){if("string"==typeof e&&"point"!==e)return!1;var t=this.getViewerOption("annotations");return"boolean"==typeof t?t:this.options.showAnnotations}},{key:"isRotated",value:function(){return Math.abs(this.currentRotationAngle)%180==90}},{key:"adjustImageZoomPadding",value:function(){var e=0,t=0,n=0,i=0,r=this.wrapperEl.getBoundingClientRect(),o={width:this.wrapperEl.clientWidth-O,height:this.wrapperEl.clientHeight-O};this.isRotated()?(n=r.width>this.imageEl.clientHeight?r.width:this.imageEl.clientHeight,i=r.height>this.imageEl.clientWidth?r.height:this.imageEl.clientWidth):(n=r.width>this.imageEl.clientWidth?r.width:this.imageEl.clientWidth,i=r.height>this.imageEl.clientHeight?r.height:this.imageEl.clientHeight),e=(n-this.imageEl.clientWidth)/2,t=(i-this.imageEl.clientHeight)/2,this.imageEl.style.left=e+"px",this.imageEl.style.top=t+"px",this.wrapperEl.scrollLeft=(this.wrapperEl.scrollWidth-o.width)/2,this.wrapperEl.scrollTop=(this.wrapperEl.scrollHeight-o.height)/2}},{key:"bindDOMListeners",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindDOMListeners",this).call(this),this.imageEl.addEventListener("load",this.finishLoading),this.imageEl.addEventListener("error",this.errorHandler),h.a.isMobile()&&this.imageEl.addEventListener("orientationchange",this.handleOrientationChange)}},{key:"unbindDOMListeners",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unbindDOMListeners",this).call(this),this.imageEl&&(this.imageEl.removeEventListener("load",this.finishLoading),this.imageEl.removeEventListener("error",this.errorHandler)),h.a.isMobile()&&this.imageEl.removeEventListener("orientationchange",this.handleOrientationChange),document.removeEventListener("mousemove",this.pan),document.removeEventListener("mouseup",this.stopPanning)}},{key:"handleMouseUp",value:function(e){this.annotator&&this.annotator.isInPointMode()||b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleMouseUp",this).call(this,e)}},{key:"handleOrientationChange",value:function(){if(this.adjustImageZoomPadding(),this.annotator){var e=this.imageEl.clientWidth/this.imageEl.naturalWidth,t=this.currentRotationAngle%3600%360;this.annotator.setScale(e),this.annotator.renderAnnotations(t)}}},{key:"getPointModeClickHandler",value:function(){var e=this;return this.isAnnotatable("point")?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.imageEl.classList.remove(E),e.imageEl.classList.remove(w),e.annotator.togglePointModeHandler(t)}:null}}]),t}(d.a))||a;t.a=C},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(243),l=n(245),c=n(1),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=[{NAME:"Image",CONSTRUCTOR:s.a,REP:c.J,EXT:["svg","gif"]},{NAME:"MultiImage",CONSTRUCTOR:l.a,REP:"png",EXT:["tif","tiff"],ASSET:"{page}.png"},{NAME:"Image",CONSTRUCTOR:s.a,REP:"jpg",EXT:["jpeg","jpg"],ASSET:"1.jpg"},{NAME:"Image",CONSTRUCTOR:s.a,REP:"png",EXT:["ai","bmp","dcm","eps","gif","png","ps","psd","svs","tga","tif","tiff"],ASSET:"1.png"}],d=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=h,e}return o(t,e),u(t,[{key:"determineRepresentation",value:function(e,t){return e.representations.entries.find(function(e){return(!e.properties||"false"!==e.properties.paged)&&t.REP===e.representation})}}]),t}(a.a);t.a=new d},function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(128),u=n(316),h=(n.n(u),n(6)),d=n(1),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},v="bp-images",g="bp-images-wrapper",m=e.Box||{},y=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"setup",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.wrapperEl=this.containerEl.appendChild(document.createElement("div")),this.wrapperEl.className=g,this.imageEl=this.wrapperEl.appendChild(document.createElement("div")),this.imageEl.className=v,this.singleImageEls=[this.imageEl.appendChild(document.createElement("img"))],this.loadTimeout=6e4}},{key:"destroy",value:function(){var e=this;this.unbindDOMListeners(),this.singleImageEls&&this.singleImageEls.length>0&&this.singleImageEls.forEach(function(t,n){e.unbindImageListeners(n)}),f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(){var e=this;this.setup(),f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this);var n=this.options.representation.content.url_template;return this.imageUrls=this.constructImageUrls(n),this.imageEl.classList.add(d.H),this.bindImageListeners(0),this.bindDOMListeners(),this.getRepStatus().getPromise().then(function(){e.imageUrls.forEach(function(t,n){return e.setupImageEls(t,n)})}).catch(this.handleAssetError)}},{key:"constructImageUrls",value:function(e){for(var t=this.options,n=t.viewer,i=t.representation,r=i.metadata,o=n.ASSET,a=this.createContentUrlWithAuthParams(e,o),s=[],l=1;l<=r.pages;l++)s.push(a.replace("{page}",l));return s}},{key:"setupImageEls",value:function(e,t){0!==t&&(this.singleImageEls[t]=this.imageEl.appendChild(document.createElement("img")),this.bindImageListeners(t)),this.singleImageEls[t].src=e}},{key:"updatePannability",value:function(){this.wrapperEl&&(this.isPannable=this.imageEl.clientWidth>this.wrapperEl.clientWidth,this.didPan=!1,this.updateCursor())}},{key:"zoom",value:function(e){var t=void 0,n=this.imageEl.parentNode.clientWidth,i=this.imageEl.clientWidth;switch(e){case"in":t=i+100;break;case"out":t=i-100;break;default:t=n}this.imageEl.style.width=t+"px",this.imageEl.parentNode.scrollLeft=(this.imageEl.parentNode.scrollWidth-n)/2,this.emit("zoom"),setTimeout(this.updatePannability,50)}},{key:"loadUI",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"loadUI",this).call(this),this.controls.add("전체 화면 시작",this.toggleFullscreen,"bp-enter-fullscreen-icon",h.d),this.controls.add("전체 화면 종료",this.toggleFullscreen,"bp-exit-fullscreen-icon",h.e)}},{key:"bindImageListeners",value:function(e){0===e&&this.singleImageEls[e].addEventListener("load",this.finishLoading),this.singleImageEls[e].addEventListener("error",this.errorHandler)}},{key:"unbindImageListeners",value:function(e){0===e&&this.singleImageEls[e].removeEventListener("load",this.finishLoading),this.singleImageEls[e].removeEventListener("error",this.errorHandler)}}]),t}(c.a))||a;m.Preview=m.Preview||{},m.Preview.MultiImage=y,e.Box=m,t.a=y}).call(t,n(32))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(130),u=n(318),h=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),d=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},p="bp-media-mp3",f=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"setup",value:function(){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.wrapperEl.classList.add(p),this.mediaEl=this.mediaContainerEl.appendChild(document.createElement("audio")),this.mediaEl.setAttribute("preload","auto")}},{key:"prefetch",value:function(e){var t=e.content,n=void 0===t||t,i=this.options.representation;if(n&&this.isRepresentationReady(i)){var r=i.content.url_template;document.createElement("audio").src=this.createContentUrlWithAuthParams(r)}}},{key:"loadUI",value:function(){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"loadUI",this).call(this),this.mediaControls.show(),this.mediaControls.resizeTimeScrubber()}}]),t}(c.a))||a;t.a=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(131),u=n(319),h=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),d=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},p="bp-media-mp4",f=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"setup",value:function(){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.wrapperEl.classList.add(p)}},{key:"prefetch",value:function(e){var t=e.content,n=void 0===t||t,i=this.options.representation;if(n&&this.isRepresentationReady(i)){var r=i.content.url_template;document.createElement("video").src=this.createContentUrlWithAuthParams(r)}}}]),t}(c.a))||a;t.a=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(13),u=n.n(c),h=n(370),d=n.n(h),p=n(250),f=n(251),v=n(33),g=n(5),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),y="bp-media-controls-is-visible",b="bp-media-is-playing",E=1500,w=["bp-media-volume-icon-is-mute","bp-media-volume-icon-is-low","bp-media-volume-icon-is-medium","bp-media-volume-icon-is-high"],_='<div class="bp-media-crawler-wrapper"><div class="bp-crawler"><div></div><div></div><div></div></div></div>',O=l()(a=function(e){function t(e,o){i(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.containerEl=e,a.mediaEl=o,n.i(g.m)(a.containerEl,d.a),a.wrapperEl=a.containerEl.querySelector(".bp-media-controls-wrapper"),a.timeScrubberEl=a.wrapperEl.querySelector(".bp-media-time-scrubber-container"),a.volScrubberEl=a.wrapperEl.querySelector(".bp-media-volume-scrubber-container"),a.playButtonEl=a.wrapperEl.querySelector(".bp-media-playpause-icon"),a.setLabel(a.playButtonEl,"재생"),a.volButtonEl=a.wrapperEl.querySelector(".bp-media-controls-volume-control"),a.volLevelButtonEl=a.wrapperEl.querySelector(".bp-media-volume-icon"),a.setLabel(a.volButtonEl,"음소거"),a.timecodeEl=a.wrapperEl.querySelector(".bp-media-controls-timecode"),a.durationEl=a.wrapperEl.querySelector(".bp-media-controls-duration"),a.fullscreenButtonEl=a.wrapperEl.querySelector(".bp-media-fullscreen-icon"),a.setLabel(a.fullscreenButtonEl,"전체 화면 시작"),a.settingsButtonEl=a.wrapperEl.querySelector(".bp-media-gear-icon"),a.setLabel(a.settingsButtonEl,"설정"),a.setupSettings(),a.setupScrubbers(),a.attachEventHandlers(),a}return o(t,e),m(t,[{key:"destroy",value:function(){this.removeAllListeners(),document.removeEventListener("mouseup",this.timeScrubbingStopHandler),document.removeEventListener("mousemove",this.filmstripShowHandler),this.timeScrubber&&(this.timeScrubber.getHandleEl().removeEventListener("mousedown",this.timeScrubbingStartHandler),this.timeScrubber.getConvertedEl().removeEventListener("mousemove",this.filmstripShowHandler),this.timeScrubber.getConvertedEl().removeEventListener("mouseleave",this.filmstripHideHandler),this.timeScrubber.destroy(),this.timeScrubber=void 0),this.volScrubber&&(this.volScrubber.destroy(),this.volScrubber=void 0),this.settings&&(this.settings.removeListener("quality",this.handleQuality),this.settings.removeListener("speed",this.handleRate),this.settings.destroy(),this.settings=void 0),this.playButtonEl&&this.playButtonEl.removeEventListener("click",this.togglePlay),this.volLevelButtonEl&&this.volLevelButtonEl.removeEventListener("click",this.toggleMute),this.fullscreenButtonEl&&this.fullscreenButtonEl.removeEventListener("click",this.toggleFullscreen),this.settingsButtonEl&&this.settingsButtonEl.removeEventListener("click",this.toggleSettings),this.wrapperEl&&(this.wrapperEl.removeEventListener("mouseenter",this.mouseenterHandler),this.wrapperEl.removeEventListener("mouseleave",this.mouseleaveHandler)),v.a&&v.a.removeListener("exit",this.setFullscreenLabel),this.wrapperEl=void 0,this.timeScrubberEl=void 0,this.volScrubberEl=void 0,this.playButtonEl=void 0,this.volButtonEl=void 0,this.timecodeEl=void 0,this.durationEl=void 0,this.fullscreenButtonEl=void 0,this.settingsButtonEl=void 0,this.filmstripContainerEl=void 0,this.filmstripEl=void 0,this.filmstripTimeEl=void 0}},{key:"handleRate",value:function(){this.emit("ratechange")}},{key:"handleQuality",value:function(){this.emit("qualitychange")}},{key:"setupSettings",value:function(){this.settings=new f.a(this.containerEl),this.settings.addListener("quality",this.handleQuality),this.settings.addListener("speed",this.handleRate)}},{key:"getTimeFromScrubber",value:function(){return this.timeScrubber.getValue()*this.mediaEl.duration}},{key:"setupScrubbers",value:function(){var e=this;this.timeScrubber=new p.a(this.timeScrubberEl,"미디어 슬라이더",0,0,1),this.timeScrubber.on("valuechange",function(){e.emit("timeupdate",e.getTimeFromScrubber())}),this.volScrubber=new p.a(this.volScrubberEl,"볼륨 슬라이더",1,1,1),this.volScrubber.on("valuechange",function(){e.emit("volumeupdate",e.volScrubber.getValue())})}},{key:"formatTime",value:function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return(t>0?t.toString()+":":"")+(n<10?"0"+n.toString():n.toString())+":"+(i<10?"0"+i.toString():i.toString())}},{key:"setDuration",value:function(e){this.durationEl.textContent=this.formatTime(e||0)}},{key:"setTimeCode",value:function(e){var t=this.mediaEl.duration;this.timeScrubber.setValue(t?(e||0)/t:0),this.timecodeEl.textContent=this.formatTime(e||0)}},{key:"updateProgress",value:function(){var e=this.mediaEl.buffered,t=this.mediaEl.duration||1,n=e.length,i=n?e.end(n-1):0;this.timeScrubber.setBufferedValue(i/t)}},{key:"toggleMute",value:function(){this.emit("togglemute")}},{key:"togglePlay",value:function(){this.emit("toggleplayback")}},{key:"toggleFullscreen",value:function(){this.emit("togglefullscreen"),this.setFullscreenLabel()}},{key:"setFullscreenLabel",value:function(){var e=v.a.isFullscreen(this.containerEl)?"전체 화면 종료":"전체 화면 시작";this.setLabel(this.fullscreenButtonEl,e)}},{key:"toggleSettings",value:function(){this.isSettingsVisible()?this.settings.hide():this.settings.show()}},{key:"setLabel",value:function(e,t){e.setAttribute("aria-label",t),e.setAttribute("title",t)}},{key:"isSettingsVisible",value:function(){return!!this.settings&&this.settings.isVisible()}},{key:"showPauseIcon",value:function(){this.wrapperEl.classList.add(b),this.setLabel(this.playButtonEl,"일시 중지")}},{key:"showPlayIcon",value:function(){this.wrapperEl.classList.remove(b),this.setLabel(this.playButtonEl,"재생")}},{key:"updateVolumeIcon",value:function(e){var t=this;w.forEach(function(e){t.volLevelButtonEl.classList.remove(e)}),this.volLevelButtonEl.classList.add(w[Math.ceil(3*e)]),this.volScrubber.setValue(e);var n=0===Math.ceil(3*e)?"음소거 해제":"음소거";this.setLabel(this.volButtonEl,n)}},{key:"increaseSpeed",value:function(){this.settings.increaseSpeed()}},{key:"decreaseSpeed",value:function(){this.settings.decreaseSpeed()}},{key:"attachEventHandlers",value:function(){this.wrapperEl.addEventListener("mouseenter",this.mouseenterHandler),this.wrapperEl.addEventListener("mouseleave",this.mouseleaveHandler),this.playButtonEl.addEventListener("click",this.togglePlay),this.volLevelButtonEl.addEventListener("click",this.toggleMute),this.fullscreenButtonEl.addEventListener("click",this.toggleFullscreen),this.settingsButtonEl.addEventListener("click",this.toggleSettings),v.a.addListener("exit",this.setFullscreenLabel)}},{key:"mouseenterHandler",value:function(){this.preventHiding=!0,this.show()}},{key:"mouseleaveHandler",value:function(){this.preventHiding=!1,this.show()}},{key:"show",value:function(){var e=this;this.wrapperEl&&this.wrapperEl.parentNode&&(this.wrapperEl.parentNode.classList.add(y),clearTimeout(this.autoHideTimeout),this.autoHideTimeout=setTimeout(function(){e.hide()},E))}},{key:"hide",value:function(){if(this.preventHiding||this.isSettingsVisible())return void this.show();this.wrapperEl&&this.wrapperEl.parentNode&&this.wrapperEl.parentNode.classList.remove(y)}},{key:"resizeTimeScrubber",value:function(){this.timeScrubber&&this.timeScrubber.resize(32)}},{key:"setFilmstrip",value:function(){this.filmstripEl&&(this.filmstripEl.src=this.filmstripUrl)}},{key:"initFilmstrip",value:function(e,t,n){var i=this;this.filmstripUrl=e,this.filmstripContainerEl=this.containerEl.appendChild(document.createElement("div")),this.filmstripContainerEl.className="bp-media-filmstrip-container",this.filmstripContainerEl.innerHTML=_,this.filmstripEl=this.filmstripContainerEl.appendChild(document.createElement("img")),this.filmstripEl.className="bp-media-filmstrip",this.filmstripTimeEl=this.filmstripContainerEl.appendChild(document.createElement("div")),this.filmstripTimeEl.className="bp-media-filmstrip-timecode";var r=90*n;this.timeScrubber.getHandleEl().addEventListener("mousedown",this.timeScrubbingStartHandler),this.timeScrubber.getConvertedEl().addEventListener("mousemove",this.filmstripShowHandler),this.timeScrubber.getConvertedEl().addEventListener("mouseleave",this.filmstripHideHandler),this.filmstripEl.onload=function(){i.filmstripContainerEl&&(i.filmstripContainerEl.style.width=r+2+"px",i.filmstripContainerEl.querySelector(".bp-media-crawler-wrapper").style.display="none")},t.getPromise().then(this.setFilmstrip)}},{key:"timeScrubbingStartHandler",value:function(){this.isScrubbing=!0,document.addEventListener("mouseup",this.timeScrubbingStopHandler),document.addEventListener("mousemove",this.filmstripShowHandler)}},{key:"timeScrubbingStopHandler",value:function(e){this.isScrubbing=!1,document.removeEventListener("mouseup",this.timeScrubbingStopHandler),document.removeEventListener("mousemove",this.filmstripShowHandler),this.timeScrubberEl.contains(e.target)||(this.filmstripContainerEl.style.display="none")}},{key:"filmstripShowHandler",value:function(e){if(!this.isSettingsVisible()){var t=this.containerEl.getBoundingClientRect(),n=e.pageX,i=(n-t.left)*this.mediaEl.duration/t.width,r=Math.floor(i),o=this.filmstripEl.naturalWidth/100,a=r%100*-1*o,s=-90*Math.floor(r/100);this.filmstripEl.naturalWidth||(a=0,s=0,o=160);var l=Math.max(0,n-t.left-o/2),c=Math.min(l,t.width-o);this.filmstripEl.style.left=a+"px",this.filmstripEl.style.top=s+"px",this.filmstripContainerEl.style.display="block",this.filmstripContainerEl.style.left=c+"px",this.filmstripTimeEl.textContent=this.formatTime(i)}}},{key:"filmstripHideHandler",value:function(){this.isScrubbing||(this.filmstripContainerEl.style.display="none")}},{key:"isFocused",value:function(){return this.wrapperEl.contains(document.activeElement)}}]),t}(u.a))||a;t.a=O},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(5),l=n(246),c=n(247),u=n(129),h=n(1),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},f=["3g2","3gp","avi","m2v","m2ts","m4v","mkv","mov","mp4","mpeg","mpg","ogg","mts","qt","wmv"],v=[{NAME:"MP3",CONSTRUCTOR:l.a,REP:h.J,EXT:["mp3"]},{NAME:"Dash",CONSTRUCTOR:u.a,REP:"dash",EXT:f},{NAME:"MP4",CONSTRUCTOR:c.a,REP:"mp4",EXT:f},{NAME:"MP3",CONSTRUCTOR:l.a,REP:"mp3",EXT:["aac","aif","aifc","aiff","amr","au","flac","m4a","mp3","ra","wav","wma"]}],g=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=v,e}return o(t,e),d(t,[{key:"determineViewer",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"determineViewer",this).call(this,e,i);if(r&&n.i(s.q)(e)){var o=n.i(s.n)("죄송합니다. 브라우저에서 {1}에 대한 미리 보기를 지원하지 않습니다.",["360도 비디오"]);throw new Error(o)}return r}}]),t}(a.a);t.a=new g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(13),u=n.n(c),h=n(371),d=n.n(h),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=0,v=1,g="bp-media-scrubber-hover",m=l()(a=function(e){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v;i(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l.containerEl=e,l.containerEl.innerHTML=d.a.replace("{{accessibilityText}}",n).replace(/>\s*</g,"><"),l.scrubberContainerEl=l.containerEl.querySelector(".bp-media-scrubber-container"),l.scrubberWrapperEl=l.containerEl.querySelector(".bp-media-scrubber-wrapper"),l.scrubberEl=l.containerEl.querySelector(".bp-media-scrubber"),l.scrubberEl.setAttribute("aria-label",n),l.scrubberEl.setAttribute("title",n),l.bufferedEl=l.scrubberEl.querySelector(".bp-media-scrubber-buffered"),l.convertedEl=l.scrubberEl.querySelector(".bp-media-scrubber-converted"),l.playedEl=l.scrubberEl.querySelector(".bp-media-scrubber-played"),l.handleEl=l.scrubberEl.querySelector(".bp-media-scrubber-handle"),l.setConvertedValue(s),l.setBufferedValue(a),l.setValue(o),l.playedEl.addEventListener("mousedown",l.mouseDownHandler),l.convertedEl.addEventListener("mousedown",l.mouseDownHandler),l.handleEl.addEventListener("mousedown",l.mouseDownHandler),l}return o(t,e),p(t,[{key:"destroy",value:function(){this.removeAllListeners(),this.destroyDocumentHandlers(),this.playedEl.removeEventListener("mousedown",this.mouseDownHandler),this.convertedEl.removeEventListener("mousedown",this.mouseDownHandler),this.handleEl.removeEventListener("mousedown",this.mouseDownHandler),this.scrubberContainerEl=void 0,this.scrubberWrapperEl=void 0,this.scrubberEl=void 0,this.bufferedEl=void 0,this.convertedEl=void 0,this.playedEl=void 0,this.handleEl=void 0,this.containerEl.innerHTML=""}},{key:"resize",value:function(e){this.scrubberWrapperEl.style.width=this.containerEl.clientWidth-e+"px",this.adjustScrubberHandle()}},{key:"adjustScrubberHandle",value:function(){var e=16,t=this.scrubberEl.clientWidth,n=100*(this.value*t-e/2)/t;this.handleEl.style.left=n+"%"}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;e!==this.value&&(this.value=Math.max(Math.min(e,this.convertedValue),f),this.playedEl.style.width=100*this.value+"%",this.adjustScrubberHandle())}},{key:"setBufferedValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;e!==this.bufferedValue&&(this.bufferedValue=Math.max(Math.min(e,this.convertedValue),this.value||f),this.bufferedEl.style.width=100*this.bufferedValue+"%")}},{key:"setConvertedValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;e!==this.convertedValue&&(this.convertedValue=Math.max(Math.min(Math.max(e,this.convertedValue||f),v),f),this.convertedEl.style.width=100*this.convertedValue+"%")}},{key:"scrubbingHandler",value:function(e){var t=this.scrubberEl.getBoundingClientRect(),n=e.pageX,i=(n-t.left)/t.width;i=Math.max(Math.min(i,v),f),this.setValue(i),this.emit("valuechange")}},{key:"mouseDownHandler",value:function(e){!("number"!=typeof e.button||e.button<2)||e.ctrlKey||e.metaKey||(this.scrubbingHandler(e),document.addEventListener("mouseup",this.mouseUpHandler),document.addEventListener("mouseleave",this.mouseUpHandler),document.addEventListener("mousemove",this.scrubbingHandler),this.scrubberWrapperEl.classList.add(g),e.preventDefault())}},{key:"mouseUpHandler",value:function(){this.scrubberWrapperEl.classList.remove(g),this.destroyDocumentHandlers()}},{key:"destroyDocumentHandlers",value:function(){document.removeEventListener("mousemove",this.scrubbingHandler),document.removeEventListener("mouseup",this.mouseUpHandler),document.removeEventListener("mouseleave",this.mouseUpHandler)}},{key:"getValue",value:function(){return this.value}},{key:"getHandleEl",value:function(){return this.handleEl}},{key:"getConvertedEl",value:function(){return this.convertedEl}}]),t}(u.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(13),u=n.n(c),h=n(40),d=n(5),p=n(6),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v="bp-media-settings",g="bp-media-settings-selected",m="bp-media-settings-is-open",y=".bp-media-settings-sub-item",b=".bp-media-settings-value",E=["0.25","0.5","1.0","1.25","1.5","2.0"],w='<div class="bp-media-settings">\n    <div class="bp-media-settings-item bp-media-settings-item-speed" data-type="speed">\n        <div class="bp-media-settings-label">속도</div>\n        <div class="bp-media-settings-value">일반</div>\n        <div class="bp-media-settings-arrow">'+p.s+'</div>\n    </div>\n    <div class="bp-media-settings-item bp-media-settings-item-quality" data-type="quality">\n        <div class="bp-media-settings-label">품질</div>\n        <div class="bp-media-settings-value">자동</div>\n        <div class="bp-media-settings-arrow">'+p.s+'</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-speed bp-media-settings-sub-item-speed" data-type="menu">\n        <div class="bp-media-settings-arrow">'+p.t+'</div>\n        <div class="bp-media-settings-label">속도</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-speed" data-type="speed" data-value="0.25">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">0.25</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-speed" data-type="speed" data-value="0.5">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">0.5</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-speed bp-media-settings-selected" data-type="speed" data-value="1.0">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">일반</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-speed" data-type="speed" data-value="1.25">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">1.25</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-speed" data-type="speed" data-value="1.5">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">1.5</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-speed" data-type="speed" data-value="2.0">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">2.0</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-quality bp-media-settings-sub-item-quality" data-type="menu">\n        <div class="bp-media-settings-arrow">'+p.t+'</div>\n        <div class="bp-media-settings-label">품질</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-quality" data-type="quality" data-value="sd">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">480p</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-quality" data-type="quality" data-value="hd">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">1080p</div>\n    </div>\n    <div class="bp-media-settings-sub-item bp-media-settings-options-quality bp-media-settings-selected" data-type="quality" data-value="auto">\n        <div class="bp-media-settings-icon">'+p.l+'</div>\n        <div class="bp-media-settings-value">자동</div>\n    </div>\n</div>',_=l()(a=function(e){function t(e){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.containerEl=e,n.i(d.m)(o.containerEl,w),o.settingsEl=o.containerEl.lastElementChild,o.settingsEl.addEventListener("click",o.menuClickHandler),o.visible=!1,o.init(),o}return o(t,e),f(t,[{key:"init",value:function(){var e=h.a.get("media-quality")||"auto",t=h.a.get("media-speed")||"1.0";this.chooseOption("quality",e),this.chooseOption("speed",t)}},{key:"destroy",value:function(){this.settingsEl&&this.settingsEl.removeEventListener("click",this.menuClickHandler),document.removeEventListener("click",this.blurHandler)}},{key:"reset",value:function(){this.settingsEl.className=v}},{key:"getMediaSpeeds",value:function(){return E}},{key:"increaseSpeed",value:function(){var e=parseFloat(h.a.get("media-speed")||"1.0"),t=E.filter(function(t){return parseFloat(t)>e});t.length>0&&this.chooseOption("speed",t[0])}},{key:"decreaseSpeed",value:function(){var e=parseFloat(h.a.get("media-speed")||"1.0"),t=E.filter(function(t){return parseFloat(t)<e});t.length>0&&this.chooseOption("speed",t[t.length-1])}},{key:"findParentDataType",value:function(e){for(var t=e;t&&t!==this.settingsEl;){if("string"==typeof t.getAttribute("data-type"))return t;t=t.parentNode}return null}},{key:"menuClickHandler",value:function(e){var t=this.findParentDataType(e.target);if(t){var n=t.getAttribute("data-type"),i=t.getAttribute("data-value");"menu"===n?this.reset():n&&i?this.chooseOption(n,i):n&&this.settingsEl.classList.add("bp-media-settings-show-"+n)}}},{key:"chooseOption",value:function(e,t){this.hide(),h.a.set("media-"+e,t),this.emit(e);var n=this.settingsEl.querySelector('[data-type="'+e+'"][data-value="'+t+'"]'),i=n.querySelector(b).textContent;this.settingsEl.querySelector('[data-type="'+e+'"] '+b).textContent=i,this.settingsEl.querySelector('[data-type="'+e+'"]'+y+"."+g).classList.remove(g),n.classList.add(g)}},{key:"blurHandler",value:function(e){this.settingsEl.contains(e.target)||this.hide()}},{key:"isVisible",value:function(){return this.visible}},{key:"show",value:function(){var e=this;this.visible=!0,this.containerEl.classList.add(m),setTimeout(function(){document.addEventListener("click",e.blurHandler)},0)}},{key:"hide",value:function(){this.reset(),this.containerEl.classList.remove(m),this.visible=!1,document.removeEventListener("click",this.blurHandler)}}]),t}(u.a))||a;t.a=_},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(26),u=n(9),h=n(78),d=n(1),p=n(22),f=n(6),v=n(5),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=function(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:n.i(v.b)(o,t,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},y=12e4,b=1e3,E=500,w=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),g(t,[{key:"setup",value:function(){m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.setupIframe(),this.initPrint(),this.setupPDFUrl(),this.loadTimeout=y}},{key:"destroy",value:function(){this.printBlob=null,this.printPopup&&this.printPopup.destroy(),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(){this.setup(),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this),this.loaded=!0,this.emit("load")}},{key:"print",value:function(){var e=this;if(!this.printBlob)return this.fetchPrintBlob(this.pdfUrl).then(this.print),void(this.printDialogTimeout=setTimeout(function(){e.printPopup.show("인쇄 준비 중...","인쇄",function(){e.printPopup.hide(),e.browserPrint()}),e.printPopup.disableButton(),e.printDialogTimeout=null},E));this.printDialogTimeout||!this.printPopup.isVisible()?(clearTimeout(this.printDialogTimeout),this.browserPrint()):(this.printPopup.enableButton(),this.printPopup.messageEl.textContent="인쇄할 준비가 되었습니다.",this.printPopup.loadingIndicator.classList.add(d.v),this.printPopup.printCheckmark.classList.remove(d.v))}},{key:"initPrint",value:function(){this.printPopup=new h.a(this.containerEl);var e=document.createElement("div");e.className="bp-print-check "+d.v,e.innerHTML=f.w.trim();var t=document.createElement("div");t.classList.add("bp-crawler"),t.innerHTML="\n            <div></div>\n            <div></div>\n            <div></div>".trim(),this.printPopup.addContent(t,!0),this.printPopup.addContent(e,!0),this.printPopup.loadingIndicator=t,this.printPopup.printCheckmark=e}},{key:"setupPDFUrl",value:function(){var e=this.options.file,t=n.i(p.g)(e,"pdf"),i=t.content.url_template;this.pdfUrl=this.createContentUrlWithAuthParams(i)}},{key:"setupIframe",value:function(){this.iframeEl=this.containerEl.appendChild(document.createElement("iframe")),this.iframeEl.setAttribute("width","100%"),this.iframeEl.setAttribute("height","100%"),this.iframeEl.setAttribute("frameborder",0),this.iframeEl.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms allow-popups");var e=this.options,t=e.appHost,n=e.file,i=e.sharedLink,r=t+"/integrations/officeonline/openExcelOnlinePreviewer";if(i){var o=i.split("/s/")[1];if(o)r+="?s="+o+"&fileId="+n.id;else{var a=document.createElement("a");a.href=i;var s=a.hostname.split(".")[0];r+="?v="+a.pathname.split("/v/")[1]+"&vanity_subdomain="+s+"&fileId="+n.id}}else r+="?fileId="+n.id;this.iframeEl.src=r}},{key:"fetchPrintBlob",value:function(e){var t=this;return n.i(v.b)(e,"blob").then(function(e){t.printBlob=e})}},{key:"browserPrint",value:function(){if("function"==typeof window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(this.printBlob,"print.pdf")?this.emit("printsuccess"):this.emit("printerror")}else{var e=URL.createObjectURL(this.printBlob),t=window.open(e);if(t&&"function"==typeof t.print){var n=u.a.getName();"Chrome"===n?t.addEventListener("load",function(){t.print()}):"Safari"===n&&setTimeout(function(){t.print()},b)}!t||t.closed||void 0===t.closed?this.emit("printerror"):this.emit("printsuccess"),URL.revokeObjectURL(e)}}}]),t}(c.a))||a;t.a=w},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(252),l=n(22),c=n(1),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},d=5242880,p="Office",f=[{NAME:"Office",CONSTRUCTOR:s.a,REP:c.J,EXT:["xlsx"]}],v=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=f,e}return o(t,e),u(t,[{key:"determineViewer",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.shared_link&&e.shared_link.is_password_enabled;return(!n.i(l.c)(e,c.a)||e.size>d||r)&&i.push(p),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"determineViewer",this).call(this,e,i)}}]),t}(a.a);t.a=new v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(26),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c={allowfullscreen:"true",allowFullScreen:"true",allownetworking:"none",allowNetworking:"none",allowscriptaccess:"never",allowScriptAccess:"never",wmode:"transparent"},u=["third-party/swf/swfobject.js"],h=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.postLoad=function(){var e=o.options.representation.content.url_template;swfobject.embedSWF(o.createContentUrlWithAuthParams(e),o.playerEl.id,"100%","100%","9",null,null,c,null,function(){o.isDestroyed()||(o.loaded=!0,o.emit("load"))})},a=n,r(o,a)}return o(t,e),s(t,[{key:"setup",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.playerEl=this.containerEl.appendChild(document.createElement("div")),this.playerEl.id="flash-player"}},{key:"load",value:function(){return this.setup(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this),this.loadAssets(u).then(this.postLoad).catch(this.handleAssetError)}},{key:"prefetch",value:function(e){var t=e.assets;(void 0===t||t)&&this.prefetchAssets(u)}}]),t}(a.a);t.a=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(254),l=n(1),c=[{NAME:"SWF",CONSTRUCTOR:s.a,REP:l.J,EXT:["swf"]}],u=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=c,e}return o(t,e),t}(a.a);t.a=new u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(133),u=n(5),h=n(320),d=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),p=function(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:n.i(u.b)(o,t,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},f=["third-party/text/papaparse.min.js","csv.js"],v=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"setup",value:function(){p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.csvEl=this.containerEl.appendChild(document.createElement("div")),this.csvEl.className="bp-text bp-text-csv"}},{key:"destroy",value:function(){this.csvComponent&&this.csvComponent.destroy(),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(){var e=this;this.setup(),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this);var i=this.options,r=i.representation,o=i.location,a=r.content.url_template,s=n.i(u.i)(o),l=s(f[0]);return Promise.all([this.loadAssets(f),this.getRepStatus().getPromise()]).then(function(){n.i(u.b)(l,"blob").then(function(t){var n=URL.createObjectURL(t);Papa.SCRIPT_PATH=n;var i=e.createContentUrlWithAuthParams(a);Papa.parse(i,{download:!0,error:function(t,n,i,r){e.emit("error",r)},complete:function(t){!e.isDestroyed()&&t&&(e.data=t.data,e.finishLoading(),URL.revokeObjectURL(n))}})})}).catch(this.handleAssetError)}},{key:"prefetch",value:function(e){var t=e.assets,i=void 0===t||t,r=e.content,o=void 0===r||r;i&&this.prefetchAssets(f);var a=this.options.representation;if(o&&this.isRepresentationReady(a)){var s=a.content.url_template;n.i(u.b)(this.createContentUrlWithAuthParams(s),"any")}}},{key:"resize",value:function(){this.csvComponent&&this.csvComponent.renderCSV(),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this)}},{key:"finishLoading",value:function(){this.csvComponent=new BoxCSV(this.csvEl,this.data),this.csvComponent.renderCSV(),this.loadUI(),this.loaded=!0,this.emit("load")}}]),t}(c.a))||a;t.a=v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a,s=n(0),l=n.n(s),c=n(53),u=n(132),h=n(1),d=n(6),p=n(321),f=(n.n(p),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),v=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},g="third-party/text/",m=l()(a=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"setup",value:function(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setup",this).call(this),this.codeEl.parentNode.removeChild(this.codeEl),this.codeEl=null,this.markdownEl=this.textEl.appendChild(document.createElement("article")),this.markdownEl.classList.add("markdown-body")}},{key:"getJS",value:function(){return v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getJS",this).call(this).concat(g+"remarkable.min.js")}},{key:"getCSS",value:function(){return v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getCSS",this).call(this).concat(g+"github-markdown.css")}},{key:"print",value:function(){var e=this;if(!this.printReady)return this.preparePrint(this.getCSS().concat("preview.css")),this.printPopup.show("인쇄 준비 중...","인쇄",function(){e.printPopup.hide(),e.printIframe()}),void this.printPopup.disableButton();this.printIframe()}},{key:"finishLoading",value:function(e){var t=this.initRemarkable();this.markdownEl.innerHTML=t.render(e),this.loadUI(),this.textEl.classList.remove(h.v),this.loaded=!0,this.emit("load"),this.truncated&&this.showTruncatedDownloadButton()}},{key:"loadUI",value:function(){this.controls=new c.a(this.containerEl),this.controls.add("전체 화면 시작",this.toggleFullscreen,"bp-enter-fullscreen-icon",d.d),this.controls.add("전체 화면 종료",this.toggleFullscreen,"bp-exit-fullscreen-icon",d.e)}},{key:"initRemarkable",value:function(){var e=new Remarkable({breaks:!0,linkify:!0,linkTarget:"_blank",typographer:!0,highlight:function(e,t){if(t&&hljs.getLanguage(t))try{return hljs.highlight(t,e).value}catch(e){}try{return hljs.highlightAuto(e).value}catch(e){}return""}}),t=e.renderer.rules.link_open;return e.renderer.rules.link_open=function(e,n,i){return t(e,n,i).slice(0,-1)+' rel="noopener noreferrer">'},e}}]),t}(u.a))||a;t.a=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),s=n(132),l=n(257),c=n(256),u=n(1),h=n(134),d=[{NAME:"CSV",CONSTRUCTOR:c.a,REP:"text",EXT:["csv","tsv"]},{NAME:"Markdown",CONSTRUCTOR:l.a,REP:"text",EXT:["md"]},{NAME:"Text",CONSTRUCTOR:s.a,REP:u.J,EXT:h.a},{NAME:"Text",CONSTRUCTOR:s.a,REP:"text",EXT:h.b}],p=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewers=d,e}return o(t,e),t}(a.a);t.a=new p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,function(e,t,n){(function(e,n){function i(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function o(e,t){for(var n=-1,i=e?e.length:0;++n<i&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function s(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function l(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function c(e,t){return null==e?void 0:e[t]}function u(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function d(e,t){return function(n){return e(t(n))}}function p(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function f(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function v(){this.__data__=Nt?Nt(null):{}}function g(e){return this.has(e)&&delete this.__data__[e]}function m(e){var t=this.__data__;if(Nt){var n=t[e];return n===Le?void 0:n}return bt.call(t,e)?t[e]:void 0}function y(e){var t=this.__data__;return Nt?void 0!==t[e]:bt.call(t,e)}function b(e,t){return this.__data__[e]=Nt&&void 0===t?Le:t,this}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function w(){this.__data__=[]}function _(e){var t=this.__data__,n=V(t,e);return!(n<0)&&(n==t.length-1?t.pop():xt.call(t,n,1),!0)}function O(e){var t=this.__data__,n=V(t,e);return n<0?void 0:t[n][1]}function k(e){return V(this.__data__,e)>-1}function C(e,t){var n=this.__data__,i=V(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function S(){this.__data__={hash:new f,map:new(At||E),string:new f}}function x(e){return ae(this,e).delete(e)}function L(e){return ae(this,e).get(e)}function R(e){return ae(this,e).has(e)}function T(e,t){return ae(this,e).set(e,t),this}function j(e){this.__data__=new E(e)}function A(){this.__data__=new E}function H(e){return this.__data__.delete(e)}function D(e){return this.__data__.get(e)}function M(e){return this.__data__.has(e)}function N(e,t){var n=this.__data__;if(n instanceof E){var i=n.__data__;if(!At||i.length<xe-1)return i.push([e,t]),this;n=this.__data__=new P(i)}return n.set(e,t),this}function I(e,t){var n=Qt(e)||ye(e)?l(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!bt.call(e,o)||r&&("length"==o||he(o,i))||n.push(o);return n}function B(e,t,n){var i=e[t];bt.call(e,t)&&me(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function V(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function z(e,t){return e&&ie(t,Ce(t),e)}function F(e,t,n,i,r,a,s){var l;if(i&&(l=a?i(e,r,a,s):i(e)),void 0!==l)return l;if(!Oe(e))return e;var c=Qt(e);if(c){if(l=le(e),!t)return ne(e,l)}else{var h=Gt(e),d=h==He||h==De;if(Xt(e))return X(e,t);if(h==Ie||h==Te||d&&!a){if(u(e))return a?e:{};if(l=ce(d?{}:e),!t)return re(e,z(l,e))}else{if(!at[h])return a?e:{};l=ue(e,h,F,t)}}s||(s=new j);var p=s.get(e);if(p)return p;if(s.set(e,l),!c)var f=n?oe(e):Ce(e);return o(f||e,function(r,o){f&&(o=r,r=e[o]),B(l,o,F(r,t,n,i,o,e,s))}),l}function q(e){return Oe(e)?Pt(e):{}}function U(e,t,n){var i=t(e);return Qt(e)?i:a(i,n(e))}function W(e){return Et.call(e)}function G(e){return!(!Oe(e)||pe(e))&&(we(e)||u(e)?wt:rt).test(ve(e))}function Q(e){if(!fe(e))return Tt(e);var t=[];for(var n in Object(e))bt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function X(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function K(e){var t=new e.constructor(e.byteLength);return new kt(t).set(new kt(e)),t}function J(e,t){var n=t?K(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Z(e,t,n){return s(t?n(h(e),!0):h(e),i,new e.constructor)}function Y(e){var t=new e.constructor(e.source,it.exec(e));return t.lastIndex=e.lastIndex,t}function $(e,t,n){return s(t?n(p(e),!0):p(e),r,new e.constructor)}function ee(e){return Ut?Object(Ut.call(e)):{}}function te(e,t){var n=t?K(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ne(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function ie(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):void 0;B(n,a,void 0===s?e[a]:s)}return n}function re(e,t){return ie(e,Wt(e),t)}function oe(e){return U(e,Ce,Wt)}function ae(e,t){var n=e.__data__;return de(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e,t){var n=c(e,t);return G(n)?n:void 0}function le(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&bt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ce(e){return"function"!=typeof e.constructor||fe(e)?{}:q(Ct(e))}function ue(e,t,n,i){var r=e.constructor;switch(t){case We:return K(e);case je:case Ae:return new r(+e);case Ge:return J(e,i);case Qe:case Xe:case Ke:case Je:case Ze:case Ye:case $e:case et:case tt:return te(e,i);case Me:return Z(e,i,n);case Ne:case Fe:return new r(e);case Ve:return Y(e);case ze:return $(e,i,n);case qe:return ee(e)}}function he(e,t){return!!(t=null==t?Re:t)&&("number"==typeof e||ot.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!mt&&mt in e}function fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||vt)}function ve(e){if(null!=e){try{return yt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ge(e){return F(e,!0,!0)}function me(e,t){return e===t||e!==e&&t!==t}function ye(e){return Ee(e)&&bt.call(e,"callee")&&(!St.call(e,"callee")||Et.call(e)==Te)}function be(e){return null!=e&&_e(e.length)&&!we(e)}function Ee(e){return ke(e)&&be(e)}function we(e){var t=Oe(e)?Et.call(e):"";return t==He||t==De}function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Re}function Oe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ke(e){return!!e&&"object"==typeof e}function Ce(e){return be(e)?I(e):Q(e)}function Pe(){return[]}function Se(){return!1}var xe=200,Le="__lodash_hash_undefined__",Re=9007199254740991,Te="[object Arguments]",je="[object Boolean]",Ae="[object Date]",He="[object Function]",De="[object GeneratorFunction]",Me="[object Map]",Ne="[object Number]",Ie="[object Object]",Be="[object Promise]",Ve="[object RegExp]",ze="[object Set]",Fe="[object String]",qe="[object Symbol]",Ue="[object WeakMap]",We="[object ArrayBuffer]",Ge="[object DataView]",Qe="[object Float32Array]",Xe="[object Float64Array]",Ke="[object Int8Array]",Je="[object Int16Array]",Ze="[object Int32Array]",Ye="[object Uint8Array]",$e="[object Uint8ClampedArray]",et="[object Uint16Array]",tt="[object Uint32Array]",nt=/[\\^$.*+?()[\]{}|]/g,it=/\w*$/,rt=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,at={};at[Te]=at["[object Array]"]=at[We]=at[Ge]=at[je]=at[Ae]=at[Qe]=at[Xe]=at[Ke]=at[Je]=at[Ze]=at[Me]=at[Ne]=at[Ie]=at[Ve]=at[ze]=at[Fe]=at[qe]=at[Ye]=at[$e]=at[et]=at[tt]=!0,at["[object Error]"]=at[He]=at[Ue]=!1;var st="object"==typeof e&&e&&e.Object===Object&&e,lt="object"==typeof self&&self&&self.Object===Object&&self,ct=st||lt||Function("return this")(),ut="object"==typeof t&&t&&!t.nodeType&&t,ht=ut&&"object"==typeof n&&n&&!n.nodeType&&n,dt=ht&&ht.exports===ut,pt=Array.prototype,ft=Function.prototype,vt=Object.prototype,gt=ct["__core-js_shared__"],mt=function(){var e=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),yt=ft.toString,bt=vt.hasOwnProperty,Et=vt.toString,wt=RegExp("^"+yt.call(bt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=dt?ct.Buffer:void 0,Ot=ct.Symbol,kt=ct.Uint8Array,Ct=d(Object.getPrototypeOf,Object),Pt=Object.create,St=vt.propertyIsEnumerable,xt=pt.splice,Lt=Object.getOwnPropertySymbols,Rt=_t?_t.isBuffer:void 0,Tt=d(Object.keys,Object),jt=se(ct,"DataView"),At=se(ct,"Map"),Ht=se(ct,"Promise"),Dt=se(ct,"Set"),Mt=se(ct,"WeakMap"),Nt=se(Object,"create"),It=ve(jt),Bt=ve(At),Vt=ve(Ht),zt=ve(Dt),Ft=ve(Mt),qt=Ot?Ot.prototype:void 0,Ut=qt?qt.valueOf:void 0;f.prototype.clear=v,f.prototype.delete=g,f.prototype.get=m,f.prototype.has=y,f.prototype.set=b,E.prototype.clear=w,E.prototype.delete=_,E.prototype.get=O,E.prototype.has=k,E.prototype.set=C,P.prototype.clear=S,P.prototype.delete=x,P.prototype.get=L,P.prototype.has=R,P.prototype.set=T,j.prototype.clear=A,j.prototype.delete=H,j.prototype.get=D,j.prototype.has=M,j.prototype.set=N;var Wt=Lt?d(Lt,Object):Pe,Gt=W;(jt&&Gt(new jt(new ArrayBuffer(1)))!=Ge||At&&Gt(new At)!=Me||Ht&&Gt(Ht.resolve())!=Be||Dt&&Gt(new Dt)!=ze||Mt&&Gt(new Mt)!=Ue)&&(Gt=function(e){var t=Et.call(e),n=t==Ie?e.constructor:void 0,i=n?ve(n):void 0;if(i)switch(i){case It:return Ge;case Bt:return Me;case Vt:return Be;case zt:return ze;case Ft:return Ue}return t});var Qt=Array.isArray,Xt=Rt||Se;n.exports=ge}).call(t,n(32),n(472)(e))},function(e,t,n){var r,o,a;!function(i,s){o=[n(70)],r=i,void 0!==(a="function"==typeof r?r.apply(t,o):r)&&(e.exports=a)}(function(e){return e.createModule("ClassApplier",["WrappedSelection"],function(e,t){function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)return!1;return!0}function r(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function o(e,t){return!!e&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e)}function a(e,t){return"object"==typeof e.classList?e.classList.contains(t):o("string"==typeof e.className?e.className:e.getAttribute("class"),t)}function s(e,t){if("object"==typeof e.classList)e.classList.add(t);else{var n="string"==typeof e.className,i=n?e.className:e.getAttribute("class");i?o(i,t)||(i+=" "+t):i=t,n?e.className=i:e.setAttribute("class",i)}}function l(e){return"string"==typeof e.className?e.className:e.getAttribute("class")}function c(e){return e&&e.split(/\s+/).sort().join(" ")}function u(e){return c(l(e))}function h(e,t){return u(e)==u(t)}function d(e,t){for(var n=t.split(/\s+/),i=0,o=n.length;i<o;++i)if(!a(e,r(n[i])))return!1;return!0}function p(e){var t=e.parentNode;return t&&1==t.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(t.nodeName)}function f(e,t,n,i,r){var o=e.node,a=e.offset,s=o,l=a;o==i&&a>r&&++l,o!=t||a!=n&&a!=n+1||(s=i,l+=r-n),o==t&&a>n+1&&--l,e.node=s,e.offset=l}function v(e,t,n){e.node==t&&e.offset>n&&--e.offset}function g(e,t,n,i){n==-1&&(n=t.childNodes.length);var r=e.parentNode,o=N.getNodeIndex(e);z(i,function(e){f(e,r,o,t,n)}),t.childNodes.length==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n])}function m(e,t){var n=e.parentNode,i=N.getNodeIndex(e);z(t,function(e){v(e,n,i)}),N.removeNode(e)}function y(e,t,n,i,r){for(var o,a=[];o=e.firstChild;)g(o,t,n++,r),a.push(o);return i&&m(e,r),a}function b(e,t){return y(e,e.parentNode,N.getNodeIndex(e),!0,t)}function E(e,t){var n=e.cloneRange();n.selectNodeContents(t);var i=n.intersection(e);return""!=(i?i.toString():"")}function w(e){for(var t,n=e.getNodes([3]),i=0;(t=n[i])&&!E(e,t);)++i;for(var r=n.length-1;(t=n[r])&&!E(e,t);)--r;return n.slice(i,r+1)}function _(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,i,r,o=0,a=e.attributes.length;o<a;++o)if(n=e.attributes[o],"class"!=(r=n.name)){if(i=t.attributes.getNamedItem(r),null===n!=(null===i))return!1;if(n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function O(e,t){for(var n,i=0,r=e.attributes.length;i<r;++i)if(n=e.attributes[i].name,(!t||!B(t,n))&&e.attributes[i].specified&&"class"!=n)return!0;return!1}function k(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||G(e)&&!G(e.parentNode))}function C(e){return(G(e)||1!=e.nodeType&&G(e.parentNode))&&!k(e)}function P(e){return e&&1==e.nodeType&&!Q.test(W(e,"display"))}function S(e){if(0==e.data.length)return!0;if(X.test(e.data))return!1;switch(W(e.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return P(e.previousSibling)||P(e.nextSibling)}function x(e){var t,n,i=[];for(t=0;n=e[t++];)i.push(new I(n.startContainer,n.startOffset),new I(n.endContainer,n.endOffset));return i}function L(e,t){for(var n,i,r,o=0,a=e.length;o<a;++o)n=e[o],i=t[2*o],r=t[2*o+1],n.setStartAndEnd(i.node,i.offset,r.node,r.offset)}function R(e,t){return N.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:t>0&&t<e.childNodes.length}function T(e,n,i,r){var o,a,s=0==i;if(N.isAncestorOf(n,e))return e;if(N.isCharacterDataNode(n)){var l=N.getNodeIndex(n);if(0==i)i=l;else{if(i!=n.length)throw t.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+i+" in "+n.data);i=l+1}n=n.parentNode}if(R(n,i)){o=n.cloneNode(!1),a=n.parentNode,o.id&&o.removeAttribute("id");for(var c,u=0;c=n.childNodes[i];)g(c,o,u++,r);return g(o,a,N.getNodeIndex(n)+1,r),n==e?o:T(e,a,N.getNodeIndex(o),r)}if(e!=n){o=n.parentNode;var h=N.getNodeIndex(n);return s||h++,T(e,o,h,r)}return e}function j(e,t){return e.namespaceURI==t.namespaceURI&&e.tagName.toLowerCase()==t.tagName.toLowerCase()&&h(e,t)&&_(e,t)&&"inline"==W(e,"display")&&"inline"==W(t,"display")}function A(e){var t=e?"nextSibling":"previousSibling";return function(n,i){var r=n.parentNode,o=n[t];if(o){if(o&&3==o.nodeType)return o}else if(i&&(o=r[t])&&1==o.nodeType&&j(r,o)){var a=o[e?"firstChild":"lastChild"];if(a&&3==a.nodeType)return a}return null}}function H(e){this.isElementMerge=1==e.nodeType,this.textNodes=[];var t=this.isElementMerge?e.lastChild:e;t&&(this.textNodes[0]=t)}function D(e,t,i){var o,a,s,l,u=this;u.cssClass=u.className=e;var h=null,d={};if("object"==typeof t&&null!==t){for(void 0!==t.elementTagName&&(t.elementTagName=t.elementTagName.toLowerCase()),i=t.tagNames,h=t.elementProperties,d=t.elementAttributes,a=0;l=Z[a++];)t.hasOwnProperty(l)&&(u[l]=t[l]);o=t.normalize}else o=t;u.normalize=void 0===o||o,u.attrExceptions=[];var p=document.createElement(u.elementTagName);u.elementProperties=u.copyPropertiesToElement(h,p,!0),n(d,function(e,t){u.attrExceptions.push(e),d[e]=""+t}),u.elementAttributes=d,u.elementSortedClassName=u.elementProperties.hasOwnProperty("className")?c(u.elementProperties.className+" "+e):e,u.applyToAnyTagName=!1;var f=typeof i;if("string"==f)"*"==i?u.applyToAnyTagName=!0:u.tagNames=r(i.toLowerCase()).split(/\s*,\s*/);else if("object"==f&&"number"==typeof i.length)for(u.tagNames=[],a=0,s=i.length;a<s;++a)"*"==i[a]?u.applyToAnyTagName=!0:u.tagNames.push(i[a].toLowerCase());else u.tagNames=[u.elementTagName]}function M(e,t,n){return new D(e,t,n)}var N=e.dom,I=N.DomPosition,B=N.arrayContains,V=e.util,z=V.forEach,F="span",q=V.isHostMethod(document,"createElementNS"),U=function(){function e(e,t,n){return t&&n?" ":""}return function(t,n){if("object"==typeof t.classList)t.classList.remove(n);else{var i="string"==typeof t.className,r=i?t.className:t.getAttribute("class");r=r.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),e),i?t.className=r:t.setAttribute("class",r)}}}(),W=N.getComputedStyleProperty,G=function(){return"boolean"==typeof document.createElement("div").isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return!(!e||1!=e.nodeType||"false"==e.contentEditable)&&("true"==e.contentEditable||G(e.parentNode))}}(),Q=/^inline(-block|-table)?$/i,X=/[^\r\n\t\f \u200B]/,K=A(!1),J=A(!0);H.prototype={doMerge:function(e){var t=this.textNodes,n=t[0];if(t.length>1){var i,r=N.getNodeIndex(n),o=[],a=0;z(t,function(t,s){i=t.parentNode,s>0&&(i.removeChild(t),i.hasChildNodes()||N.removeNode(i),e&&z(e,function(e){e.node==t&&(e.node=n,e.offset+=a),e.node==i&&e.offset>r&&--e.offset==r+1&&s<len-1&&(e.node=n,e.offset=a)})),o[s]=t.data,a+=t.data.length}),n.data=o.join("")}return n.data},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var e=[];return z(this.textNodes,function(t,n){e[n]="'"+t.data+"'"}),"[Merge("+e.join(",")+")]"}};var Z=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],Y={};D.prototype={elementTagName:F,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(e,t,n){var i,r,o,a,l,u,h={};for(var d in e)if(e.hasOwnProperty(d))if(a=e[d],l=t[d],"className"==d)s(t,a),s(t,this.className),t[d]=c(t[d]),n&&(h[d]=a);else if("style"==d){r=l,n&&(h[d]=o={});for(i in e[d])e[d].hasOwnProperty(i)&&(r[i]=a[i],n&&(o[i]=r[i]));this.attrExceptions.push(d)}else t[d]=a,n&&(h[d]=t[d],u=Y.hasOwnProperty(d)?Y[d]:d,this.attrExceptions.push(u));return n?h:""},copyAttributesToElement:function(e,t){for(var n in e)e.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&t.setAttribute(n,e[n])},appliesToElement:function(e){return B(this.tagNames,e.tagName.toLowerCase())},getEmptyElements:function(e){var t=this;return e.getNodes([1],function(e){return t.appliesToElement(e)&&!e.hasChildNodes()})},hasClass:function(e){return 1==e.nodeType&&(this.applyToAnyTagName||this.appliesToElement(e))&&a(e,this.className)},getSelfOrAncestorWithClass:function(e){for(;e;){if(this.hasClass(e))return e;e=e.parentNode}return null},isModifiable:function(e){return!this.applyToEditableOnly||C(e)},isIgnorableWhiteSpaceNode:function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&S(e)},postApply:function(e,t,n,r){var o,a,s=e[0],l=e[e.length-1],c=[],u=s,h=l,d=0,p=l.length;z(e,function(e){a=K(e,!r),a?(o||(o=new H(a),c.push(o)),o.textNodes.push(e),e===s&&(u=o.textNodes[0],d=u.length),e===l&&(h=o.textNodes[0],p=o.getLength())):o=null});var f=J(l,!r);if(f&&(o||(o=new H(l),c.push(o)),o.textNodes.push(f)),c.length){for(i=0,len=c.length;i<len;++i)c[i].doMerge(n);t.setStartAndEnd(u,d,h,p)}},createContainer:function(e){var t,n=N.getDocument(e),i=q&&!N.isHtmlNamespace(e)&&(t=e.namespaceURI)?n.createElementNS(e.namespaceURI,this.elementTagName):n.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,i,!1),this.copyAttributesToElement(this.elementAttributes,i),s(i,this.className),this.onElementCreate&&this.onElementCreate(i,this),i},elementHasProperties:function(e,t){var i=this;return n(t,function(t,n){if("className"==t)return d(e,n);if("object"==typeof n){if(!i.elementHasProperties(e[t],n))return!1}else if(e[t]!==n)return!1})},elementHasAttributes:function(e,t){return n(t,function(t,n){if(e.getAttribute(t)!==n)return!1})},applyToTextNode:function(e,t){if(p(e)){var n=e.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))s(n,this.className);else{var i=e.parentNode,r=this.createContainer(i);i.insertBefore(r,e),r.appendChild(e)}}},isRemovable:function(e){return e.tagName.toLowerCase()==this.elementTagName&&u(e)==this.elementSortedClassName&&this.elementHasProperties(e,this.elementProperties)&&!O(e,this.attrExceptions)&&this.elementHasAttributes(e,this.elementAttributes)&&this.isModifiable(e)},isEmptyContainer:function(e){var t=e.childNodes.length;return 1==e.nodeType&&this.isRemovable(e)&&(0==t||1==t&&this.isEmptyContainer(e.firstChild))},removeEmptyContainers:function(e){var t=this,n=e.getNodes([1],function(e){return t.isEmptyContainer(e)}),i=[e],r=x(i);z(n,function(e){m(e,r)}),L(i,r)},undoToTextNode:function(e,t,n,i){if(!t.containsNode(n)){var r=t.cloneRange();r.selectNode(n),r.isPointInRange(t.endContainer,t.endOffset)&&(T(n,t.endContainer,t.endOffset,i),t.setEndAfter(n)),r.isPointInRange(t.startContainer,t.startOffset)&&(n=T(n,t.startContainer,t.startOffset,i))}this.isRemovable(n)?b(n,i):U(n,this.className)},splitAncestorWithClass:function(e,t,n){var i=this.getSelfOrAncestorWithClass(e);i&&T(i,e,t,n)},undoToAncestor:function(e,t){this.isRemovable(e)?b(e,t):U(e,this.className)},applyToRange:function(e,t){var n=this;t=t||[];var i=x(t||[]);e.splitBoundariesPreservingPositions(i),n.removeEmptyElements&&n.removeEmptyContainers(e);var r=w(e);if(r.length){z(r,function(e){n.isIgnorableWhiteSpaceNode(e)||n.getSelfOrAncestorWithClass(e)||!n.isModifiable(e)||n.applyToTextNode(e,i)});var o=r[r.length-1];e.setStartAndEnd(r[0],0,o,o.length),n.normalize&&n.postApply(r,e,i,!1),L(t,i)}z(n.getEmptyElements(e),function(e){s(e,n.className)})},applyToRanges:function(e){for(var t=e.length;t--;)this.applyToRange(e[t],e);return e},applyToSelection:function(t){var n=e.getSelection(t);n.setRanges(this.applyToRanges(n.getAllRanges()))},undoToRange:function(e,t){var n=this;t=t||[];var i=x(t);e.splitBoundariesPreservingPositions(i),n.removeEmptyElements&&n.removeEmptyContainers(e,i);var r,o,a=w(e),s=a[a.length-1];if(a.length){n.splitAncestorWithClass(e.endContainer,e.endOffset,i),n.splitAncestorWithClass(e.startContainer,e.startOffset,i);for(var l=0,c=a.length;l<c;++l)r=a[l],(o=n.getSelfOrAncestorWithClass(r))&&n.isModifiable(r)&&n.undoToAncestor(o,i);e.setStartAndEnd(a[0],0,s,s.length),n.normalize&&n.postApply(a,e,i,!0),L(t,i)}z(n.getEmptyElements(e),function(e){U(e,n.className)})},undoToRanges:function(e){for(var t=e.length;t--;)this.undoToRange(e[t],e);return e},undoToSelection:function(t){var n=e.getSelection(t),i=e.getSelection(t).getAllRanges();this.undoToRanges(i),n.setRanges(i)},isAppliedToRange:function(e){if(e.collapsed||""==e.toString())return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);var t=e.getNodes([3]);if(t.length)for(var n,i=0;n=t[i++];)if(!this.isIgnorableWhiteSpaceNode(n)&&E(e,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(e){var t=e.length;if(0==t)return!1;for(;t--;)if(!this.isAppliedToRange(e[t]))return!1;return!0},isAppliedToSelection:function(t){var n=e.getSelection(t);return this.isAppliedToRanges(n.getAllRanges())},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},toggleSelection:function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},getElementsWithClassIntersectingRange:function(e){var t=[],n=this;return e.getNodes([3],function(e){var i=n.getSelfOrAncestorWithClass(e);i&&!B(t,i)&&t.push(i)}),t},detach:function(){}},D.util={hasClass:a,addClass:s,removeClass:U,getClass:l,hasSameClasses:h,hasAllClasses:d,replaceWithOwnChildren:b,elementsHaveSameNonClassAttributes:_,elementHasNonClassAttributes:O,splitNodeAt:T,isEditableElement:G,isEditingHost:k,isEditable:C},e.CssClassApplier=e.ClassApplier=D,e.createClassApplier=M,V.createAliasForDeprecatedMethod(e,"createCssClassApplier","createClassApplier",t)}),e})},function(e,t,n){var i,r,o;!function(a,s){r=[n(70)],i=a,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(function(e){return e.createModule("Highlighter",["ClassApplier"],function(e,t){function n(e,t){return e.characterRange.start-t.characterRange.start}function i(e,t){return t?e.getElementById(t):d(e)}function r(e,t){this.type=e,this.converterCreator=t}function o(e,t){g[e]=new r(e,t)}function a(e){var t=g[e];if(t instanceof r)return t.create();throw new Error("Highlighter type '"+e+"' is not valid")}function s(e,t){this.start=e,this.end=t}function l(e,t,n,i,r,o){r?(this.id=r,v=Math.max(v,r+1)):this.id=v++,this.characterRange=t,this.doc=e,this.classApplier=n,this.converter=i,this.containerElementId=o||null,this.applied=!1}function c(e,t){t=t||"textContent",this.doc=e||document,this.classAppliers={},this.highlights=[],this.converter=a(t)}var u=e.dom,h=u.arrayContains,d=u.getBody,p=e.util.createOptions,f=e.util.forEach,v=1,g={};r.prototype.create=function(){var e=this.converterCreator();return e.type=this.type,e},e.registerHighlighterType=o,s.prototype={intersects:function(e){return this.start<e.end&&this.end>e.start},isContiguousWith:function(e){return this.start==e.end||this.end==e.start},union:function(e){return new s(Math.min(this.start,e.start),Math.max(this.end,e.end))},intersection:function(e){return new s(Math.max(this.start,e.start),Math.min(this.end,e.end))},getComplements:function(e){var t=[];if(this.start>=e.start){if(this.end<=e.end)return[];t.push(new s(e.end,this.end))}else t.push(new s(this.start,Math.min(this.end,e.start))),this.end>e.end&&t.push(new s(e.end,this.end));return t},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},s.fromCharacterRange=function(e){return new s(e.start,e.end)};var m={rangeToCharacterRange:function(e,t){var n=e.getBookmark(t);return new s(n.start,n.end)},characterRangeToRange:function(t,n,i){var r=e.createRange(t);return r.moveToBookmark({start:n.start,end:n.end,containerNode:i}),r},serializeSelection:function(e,t){for(var n=e.getAllRanges(),i=n.length,r=[],o=1==i&&e.isBackward(),a=0,s=n.length;a<s;++a)r[a]={characterRange:this.rangeToCharacterRange(n[a],t),backward:o};return r},restoreSelection:function(e,t,n){e.removeAllRanges();for(var i,r,o=e.win.document,a=0,s=t.length;a<s;++a)r=t[a],r.characterRange,i=this.characterRangeToRange(o,r.characterRange,n),e.addRange(i,r.backward)}};o("textContent",function(){return m}),o("TextRange",function(){var t;return function(){if(!t){var n=e.modules.TextRange;if(!n)throw new Error("TextRange module is missing.");if(!n.supported)throw new Error("TextRange module is present but not supported.");t={rangeToCharacterRange:function(e,t){return s.fromCharacterRange(e.toCharacterRange(t))},characterRangeToRange:function(t,n,i){var r=e.createRange(t);return r.selectCharacters(i,n.start,n.end),r},serializeSelection:function(e,t){return e.saveCharacterRanges(t)},restoreSelection:function(e,t,n){e.restoreCharacterRanges(n,t)}}}return t}}()),l.prototype={getContainerElement:function(){return i(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(e){this.characterRange=this.converter.rangeToCharacterRange(e,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(e){return this.getRange().containsNodeContents(e.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}},c.prototype={addClassApplier:function(e){this.classAppliers[e.className]=e},getHighlightForElement:function(e){for(var t=this.highlights,n=0,i=t.length;n<i;++n)if(t[n].containsElement(e))return t[n];return null},removeHighlights:function(e){for(var t,n=0,i=this.highlights.length;n<i;++n)t=this.highlights[n],h(e,t)&&(t.unapply(),this.highlights.splice(n--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(e){var t=[],n=this.highlights;return f(e,function(e){f(n,function(n){e.intersectsRange(n.getRange())&&!h(t,n)&&t.push(n)})}),t},highlightCharacterRanges:function(t,n,i){var r,o,a,c=this.highlights,u=this.converter,h=this.doc,d=[],v=t?this.classAppliers[t]:null;i=p(i,{containerElementId:null,exclusive:!0});var g,m,y,b=i.containerElementId,E=i.exclusive;b&&(g=this.doc.getElementById(b))&&(m=e.createRange(this.doc),m.selectNodeContents(g),y=new s(0,m.toString().length));var w,_,O,k,C,P;for(r=0,o=n.length;r<o;++r)if(w=n[r],C=[],y&&(w=w.intersection(y)),w.start!=w.end){for(a=0;a<c.length;++a)O=!1,b==c[a].containerElementId&&(_=c[a].characterRange,k=v==c[a].classApplier,P=!k&&E,(_.intersects(w)||_.isContiguousWith(w))&&(k||P)&&(P&&f(_.getComplements(w),function(e){C.push(new l(h,e,c[a].classApplier,u,null,b))}),O=!0,k&&(w=_.union(w)))),O?(d.push(c[a]),c[a]=new l(h,_.union(w),v,u,null,b)):C.push(c[a]);v&&C.push(new l(h,w,v,u,null,b)),this.highlights=c=C}f(d,function(e){e.unapply()});var S=[];return f(c,function(e){e.applied||(e.apply(),S.push(e))}),S},highlightRanges:function(t,n,i){var r=[],o=this.converter;i=p(i,{containerElement:null,exclusive:!0});var a,s=i.containerElement,l=s?s.id:null;return s&&(a=e.createRange(s),a.selectNodeContents(s)),f(n,function(e){var t=s?a.intersection(e):e;r.push(o.rangeToCharacterRange(t,s||d(e.getDocument())))}),this.highlightCharacterRanges(t,r,{containerElementId:l,exclusive:i.exclusive})},highlightSelection:function(t,n){var r=this.converter,o=!!t&&this.classAppliers[t];n=p(n,{containerElementId:null,selection:e.getSelection(this.doc),exclusive:!0});var a=n.containerElementId,l=n.exclusive,c=n.selection,u=c.win.document,h=i(u,a);if(!o&&t!==!1)throw new Error("No class applier found for class '"+t+"'");var d=r.serializeSelection(c,h),v=[];f(d,function(e){v.push(s.fromCharacterRange(e.characterRange))});var g=this.highlightCharacterRanges(t,v,{containerElementId:a,exclusive:l});return r.restoreSelection(c,d,h),g},unhighlightSelection:function(t){t=t||e.getSelection(this.doc);var n=this.getIntersectingHighlights(t.getAllRanges());return this.removeHighlights(n),t.removeAllRanges(),n},getHighlightsInSelection:function(t){return t=t||e.getSelection(this.doc),this.getIntersectingHighlights(t.getAllRanges())},selectionOverlapsHighlight:function(e){return this.getHighlightsInSelection(e).length>0},serialize:function(e){var t,i,r,o,s=this,l=s.highlights;return l.sort(n),e=p(e,{serializeHighlightText:!1,type:s.converter.type}),t=e.type,r=t!=s.converter.type,r&&(o=a(t)),i=["type:"+t],f(l,function(t){var n,a=t.characterRange;r&&(n=t.getContainerElement(),a=o.rangeToCharacterRange(s.converter.characterRangeToRange(s.doc,a,n),n));var l=[a.start,a.end,t.id,t.classApplier.className,t.containerElementId];e.serializeHighlightText&&l.push(t.getText()),i.push(l.join("$"))}),i.join("|")},deserialize:function(e){var t,n,r,o=e.split("|"),c=[],u=o[0],h=!1;if(!u||!(t=/^type:(\w+)$/.exec(u)))throw new Error("Serialized highlights are invalid.");n=t[1],n!=this.converter.type&&(r=a(n),h=!0),o.shift();for(var d,p,f,v,g,m,y=o.length;y-- >0;){if(m=o[y].split("$"),f=new s(+m[0],+m[1]),v=m[4]||null,h&&(g=i(this.doc,v),f=this.converter.rangeToCharacterRange(r.characterRangeToRange(this.doc,f,g),g)),!(d=this.classAppliers[m[3]]))throw new Error("No class applier found for class '"+m[3]+"'");p=new l(this.doc,f,d,this.converter,parseInt(m[2]),v),p.apply(),c.push(p)}this.highlights=c}},e.Highlighter=c,e.createHighlighter=function(e,t){return new c(e,t)}}),e})},function(e,t,n){var i,r,o;!function(a,s){r=[n(70)],i=a,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=f.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),n=r.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(m)),o.insertNode(n),n}function r(e,i,r,o){var a=n(r,e);a?(i[o?"setStartBefore":"setEndBefore"](a),v(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function a(t,n){var r,o,a=e.DomRange.getRangeDocument(t),s=t.toString(),l=g(n);return t.collapsed?(o=i(t,!1),{document:a,markerId:o.id,collapsed:!0}):(o=i(t,!1),r=i(t,!0),{document:a,startMarkerId:r.id,endMarkerId:o.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(i,o){var a=i.document;void 0===o&&(o=!0);var s=e.createRange(a);if(i.collapsed){var l=n(i.markerId,a);if(l){l.style.display="inline";var c=l.previousSibling;c&&3==c.nodeType?(v(l),s.collapseToPoint(c,c.length)):(s.collapseBefore(l),v(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else r(a,s,i.startMarkerId,!0),r(a,s,i.endMarkerId,!1);return o&&s.normalizeBoundaries(),s}function l(t,i){var r,s,l=[],c=g(i);t=t.slice(0),t.sort(o);for(var u=0,h=t.length;u<h;++u)l[u]=a(t[u],c);for(u=h-1;u>=0;--u)r=t[u],s=e.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(n(l[u].markerId,s)):(r.setEndBefore(n(l[u].endMarkerId,s)),r.setStartAfter(n(l[u].startMarkerId,s)));return l}function c(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var i=e.getSelection(n),r=i.getAllRanges(),o=1==r.length&&i.isBackward(),a=l(r,o);return o?i.setSingleRange(r[0],o):i.setRanges(r),{win:n,rangeInfos:a,restored:!1}}function u(e){for(var t=[],n=e.length,i=n-1;i>=0;i--)t[i]=s(e[i],!0);return t}function h(t,n){if(!t.restored){var i=t.rangeInfos,r=e.getSelection(t.win),o=u(i);1==i.length&&n&&e.features.selectionHasExtend&&i[0].backward?(r.removeAllRanges(),r.addRange(o[0],!0)):r.setRanges(o),t.restored=!0}}function d(e,t){var i=n(t,e);i&&v(i)}function p(e){for(var t,n=e.rangeInfos,i=0,r=n.length;i<r;++i)t=n[i],t.collapsed?d(e.doc,t.markerId):(d(e.doc,t.startMarkerId),d(e.doc,t.endMarkerId))}var f=e.dom,v=f.removeNode,g=e.Selection.isDirectionBackward,m="\ufeff";e.util.extend(e,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:u,saveSelection:c,restoreSelection:h,removeMarkerElement:d,removeMarkers:p})}),e})},function(e,t){e.exports='<svg fill="#fff" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>\n</svg>'},function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h24v24H0V0z" />\n        <path d="M2.045 17.25c1.114 1.296 5.66 1.487 7.033.268 1.374-1.22 1.367-1.733 2.972-1.733 1.692 0 1.436-.02 3.122 1.732 1.687 1.752 5.973.84 6.9-.268.927-1.11 1.507-7.72 0-10.038-1.507-2.317-18.38-2.25-20.027 0-1.647 2.252-1.114 8.74 0 10.037z" stroke="#FFF" stroke-width="2" />\n    </g>\n</svg>\n'},function(e,t){e.exports='<svg width="24" height="22" viewBox="0 0 24 22">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0-1h24v24H0"/>\n    <path d="M18.49 4.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z" fill="#FFF"/>\n    <path d="M3 7h6M5 3h6M1 11h6" stroke="#FFF" stroke-width="2" stroke-linecap="square"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg width="22" height="21" viewBox="0 0 22 21">\n  <path d="M11 21l-4-4H1.99C.89 17 0 16.11 0 15V2C0 .895.89 0 1.99 0h18.02C21.11 0 22 .89 22 2v13c0 1.105-.89 2-1.99 2H15l-4 4zm-7-9.5c0-.276.228-.5.51-.5h8.98c.282 0 .51.232.51.5 0 .276-.228.5-.51.5H4.51c-.282 0-.51-.232-.51-.5zm0-3c0-.276.23-.5.5-.5h11c.276 0 .5.232.5.5 0 .276-.23.5-.5.5h-11c-.276 0-.5-.232-.5-.5zm0-3c0-.276.22-.5.498-.5h13.004c.275 0 .498.232.498.5 0 .276-.22.5-.498.5H4.498C4.223 6 4 5.768 4 5.5z" fill="#22A7F0" fill-rule="evenodd"/>\n</svg>\n'},function(e,t){e.exports='<svg width="20" height="20" viewBox="0 0 20 20">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M-2-2h24v24H-2"/>\n    <path class="icon" d="M18 0H2C.9 0 .01.9.01 2L0 20l4-4h14c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zM4 7h10v2H4V7zm8 5H4v-2h8v2zm4-6H4V4h12v2z" fill="#000"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="-11 13 24 24">\n  <path class="icon" fill="#494949" d="M-4 23l5 5 5-5H-4z"/>\n  <path fill="none" d="M-11 13h24v24h-24V13z"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#fff" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M7 10l5 5 5-5z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="-11 13 24 24">\n  <path class="icon" fill="#494949" d="M-4 27l5-5 5 5H-4z"/>\n  <path fill="none" d="M-11 13h24v24h-24V13z"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#fff" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M7 14l5-5 5 5z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#999EA4" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/>\n    <path d="M0-.5h24v24H0z" fill="none"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#999EA4" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/>\n    <path d="M0-.25h24v24H0z" fill="none"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#22A7F0" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="-11 13 24 24">\n  <path class="icon" fill="#494949" d="M6 21l-1-1-4 4-4-4-1 1 4 4-4 4 1 1 4-4 4 4 1-1-4-4 4-4z"/>\n  <path fill="none" d="M-11 13h24v24h-24V13z"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n'},function(e,t){e.exports='<svg width="160" height="160" viewBox="0 0 32 32">\n    <path fill="#999EA4" d="M24.5,27.5h-17c-0.6,0-1-0.4-1-1v-21c0-0.6,0.4-1,1-1h12l6,6v16 C25.5,27.1,25.1,27.5,24.5,27.5z"></path>\n    <path fill="#fff" d="M24,26.5H8c-0.3,0-0.5-0.2-0.5-0.5V6c0-0.3,0.2-0.5,0.5-0.5h11.5 l5,5V26C24.5,26.3,24.3,26.5,24,26.5z"></path>\n    <path fill="#999EA4" d="M19.5,4.5l6,6h-5c-0.6,0-1-0.4-1-1V4.5z"></path>\n</svg>\n'},function(e,t){e.exports='<svg width="160" height="160" viewBox="0 0 32 32">\n    <path fill="#999EA4" d="M24.5,27.5h-17c-0.6,0-1-0.4-1-1v-21c0-0.6,0.4-1,1-1h12l6,6v16 C25.5,27.1,25.1,27.5,24.5,27.5z"></path>\n    <path fill="#fff" d="M24,26.5H8c-0.3,0-0.5-0.2-0.5-0.5V6c0-0.3,0.2-0.5,0.5-0.5h11.5 l5,5V26C24.5,26.3,24.3,26.5,24,26.5z"></path>\n    <path fill="#999EA4" d="M19.5,4.5l6,6h-5c-0.6,0-1-0.4-1-1V4.5z"></path>\n    <path fill="#999EA4" d="M13.8,13.1l5.9,3.5c0.3,0.2,0.3,0.7,0,0.9l-5.9,3.5 c-0.3,0.2-0.8,0-0.8-0.4v-7C13,13.1,13.4,12.9,13.8,13.1z"></path>\n</svg>\n'},function(e,t){e.exports='<svg width="160" height="160" viewBox="0 0 32 32">\n    <path fill="#999EA4" d="M24.5,27.5h-17c-0.6,0-1-0.4-1-1v-21c0-0.6,0.4-1,1-1h12l6,6v16 C25.5,27.1,25.1,27.5,24.5,27.5z"></path>\n    <path fill="#fff" d="M24,26.5H8c-0.3,0-0.5-0.2-0.5-0.5V6c0-0.3,0.2-0.5,0.5-0.5h11.5 l5,5V26C24.5,26.3,24.3,26.5,24,26.5z"></path>\n    <path fill="#999EA4" d="M19.5,4.5l6,6h-5c-0.6,0-1-0.4-1-1V4.5z"></path>\n    <rect x="10.5" y="25.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="24.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="23.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="22.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="21.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="19.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="17.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="15.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="13.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="11.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="9.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="7.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="10.5" y="5.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="20.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="18.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="16.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="14.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="12.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="10.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="8.5" fill="#999EA4" width="1" height="1"></rect>\n    <rect x="11.5" y="6.5" fill="#999EA4" width="1" height="1"></rect>\n</svg>\n'},function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 3v6l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm11.41 12.83l2.89 2.87L15 21h6v-6l-2.3 2.3-2.87-2.89-1.42 1.42zM5.3 17.3L3 15v6h6l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3z" fill="#fff" />\n        <path d="M0 0h24v24H0z" />\n    </g>\n</svg>\n\n'},function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h24v24H0z" />\n        <path d="M19.58 3l-2.87 2.89-2.3-2.3v6h6l-2.3-2.3L21 4.42 19.58 3zM4.42 3L3 4.42l2.89 2.87-2.3 2.3h6v-6l-2.3 2.3L4.42 3zm9.99 11.41v6l2.3-2.3L19.58 21 21 19.58l-2.89-2.87 2.3-2.3h-6zm-10.82 0l2.3 2.3L3 19.58 4.42 21l2.87-2.89 2.3 2.3v-6h-6z" fill="#fff" />\n    </g>\n</svg>\n'},function(e,t){e.exports='<svg version="1.1" width="24" height="24" viewBox="0 0 24 24" enable-background="new 0 0 24 24">\n    <path fill="#fff" d="M19.4,13c0-0.3,0.1-0.6,0.1-1s0-0.7-0.1-1l2.1-1.6c0.2-0.1,0.2-0.4,0.1-0.6l-2-3.5c-0.1-0.2-0.4-0.3-0.6-0.2l-2.5,1 c-0.5-0.4-1.1-0.7-1.7-1l-0.4-2.7C14.5,2.2,14.2,2,14,2h-4C9.8,2,9.5,2.2,9.5,2.4L9.1,5.1C8.5,5.3,8,5.7,7.4,6.1l-2.5-1 C4.7,5,4.5,5.1,4.3,5.3l-2,3.5C2.2,8.9,2.3,9.2,2.5,9.4L4.6,11c0,0.3-0.1,0.6-0.1,1s0,0.7,0.1,1l-2.1,1.6c-0.2,0.1-0.2,0.4-0.1,0.6 l2,3.5C4.5,18.9,4.7,19,5,18.9l2.5-1c0.5,0.4,1.1,0.7,1.7,1l0.4,2.6c0,0.2,0.2,0.4,0.5,0.4h4c0.2,0,0.5-0.2,0.5-0.4l0.4-2.6 c0.6-0.2,1.2-0.6,1.7-1l2.5,1c0.2,0.1,0.5,0,0.6-0.2l2-3.5c0.1-0.2,0.1-0.5-0.1-0.6L19.4,13z M12,15.5c-1.9,0-3.5-1.6-3.5-3.5 s1.6-3.5,3.5-3.5s3.5,1.6,3.5,3.5S13.9,15.5,12,15.5z"></path>\n</svg>\n'},function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24">\n    <g fill-rule="evenodd">\n        <path d="M1 23h11.875v-3H1v3zm9.19-9.854l4.103 4.102.694.694.707-.68 7-6.742.306-.295V.07l-1.673 1.524L10.224 11.7l-.775.705.74.74z"/>\n        <path d="M11.023 12.17L6.33 16.58C5.28 17.62 5.9 19 7.32 19h3.95c.82 0 1.826-.413 2.406-.995l1.544-1.383.768-.69-.713-.745-2.844-2.976-.683-.717-.723.68v-.003zm-.038 1.42l2.844 2.977.053-1.435-1.584 1.42c-.244.243-.74.446-1.03.446l-2.454-.008 3.577-3.36-1.408-.04z"/>\n    </g>\n</svg>\n'},function(e,t){e.exports='<svg fill="#fff" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'},function(e,t){e.exports='<svg width="24" height="30" viewBox="0 0 24 30">\n  <g transform="translate(1 1)" fill="none" fill-rule="evenodd">\n    <path d="M15 17l-4 4-4-4H1.99C.89 17 0 16.11 0 15V2C0 .895.89 0 1.99 0h18.02C21.11 0 22 .89 22 2v13c0 1.105-.89 2-1.99 2H15z" stroke="#FFF" fill="#22A7F0"/>\n    <rect fill="#FFF" x="4" y="5" width="14" height="1" rx=".5"/>\n    <rect fill="#FFF" x="4" y="8" width="12" height="1" rx=".5"/>\n    <rect fill="#FFF" x="4" y="11" width="10" height="1" rx=".5"/>\n    <circle fill-opacity=".3" fill="#22A7F0" cx="11" cy="26" r="3"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg fill="#fff" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M8 5v14l11-7z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'},function(e,t){e.exports='<svg fill="#fff" height="48" viewBox="0 0 24 24" width="48">\n    <path d="M8 5v14l11-7z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16">\n  <path d="M4.187 6.48L3.067 7.6l3.6 3.6 8-8-1.12-1.12-6.88 6.88-2.48-2.48zM14.4 8c0 3.52-2.88 6.4-6.4 6.4-3.52 0-6.4-2.88-6.4-6.4 0-3.52 2.88-6.4 6.4-6.4.64 0 1.2.08 1.76.24L11.04.56C10.08.24 9.04 0 8 0 3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8h-1.6z" fill="#22A7F0" fill-rule="evenodd"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#fff" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="-11 13 24 24">\n  <path class="icon" fill="#494949" d="M3.3 26.3h-.5l-.2-.2c.7-.8 1.1-1.8 1.1-2.9 0-2.5-2-4.5-4.5-4.5s-4.5 2-4.5 4.5 2 4.5 4.5 4.5c1.1 0 2.1-.4 2.9-1.1l.2.2v.5l3.4 3.4 1-1-3.4-3.4zm-4.1 0c-1.7 0-3.1-1.4-3.1-3.1s1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1-1.4 3.1-3.1 3.1z"/>\n  <path fill="none" d="M-11 13h24v24h-24V13z"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#fff" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>\n'},function(e,t){e.exports='<svg fill="#fff" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"/>\n</svg>\n'},function(e,t){e.exports='<div class="bp-container">\n    <div class="bp-is-hidden">\n        <span class="bp-default-logo">\n            <svg height="25" width="45" viewBox="0 0 98 52">\n                <path d="M95.34 44.7c1.1 1.53.8 3.66-.75 4.8-1.56 1.13-3.74.84-4.93-.64l-7.8-10.23-7.82 10.23c-1.2 1.48-3.36 1.77-4.9.63-1.55-1.15-1.87-3.28-.75-4.8l9.06-11.86L68.4 21c-1.1-1.54-.8-3.67.75-4.8 1.55-1.14 3.72-.85 4.9.63l7.82 10.23 7.8-10.23c1.2-1.48 3.38-1.77 4.92-.63 1.52 1.13 1.84 3.26.73 4.8L86.3 32.84l9.04 11.85zM53.9 43.22c-5.86 0-10.6-4.65-10.6-10.4 0-5.72 4.74-10.37 10.6-10.37 5.85 0 10.6 4.65 10.6 10.38 0 5.74-4.75 10.4-10.6 10.4zm-31.23 0c-5.85 0-10.6-4.65-10.6-10.4 0-5.72 4.75-10.37 10.6-10.37 5.86 0 10.6 4.65 10.6 10.38 0 5.74-4.74 10.4-10.6 10.4zm31.22-27.7c-6.78 0-12.66 3.73-15.63 9.2-2.97-5.47-8.84-9.2-15.6-9.2-4 0-7.66 1.3-10.6 3.46V4.38C12.02 2.52 10.45 1 8.53 1 6.6 1 5.03 2.5 5 4.4v28.7c.16 9.43 8 17.03 17.67 17.03 6.77 0 12.64-3.73 15.6-9.2 2.98 5.47 8.86 9.2 15.62 9.2 9.74 0 17.66-7.75 17.66-17.32 0-9.55-7.92-17.3-17.68-17.3z"></path>\n            </svg>\n        </span>\n        <img class="bp-is-hidden bp-custom-logo"></img>\n        <div class="bp-header-btns">\n            <button class="bp-btn-plain bp-btn-annotate bp-is-hidden">\n                <svg width="22" height="21" viewBox="0 0 22 21">\n                  <path d="M11 21l-4-4H1.99C.89 17 0 16.11 0 15V2C0 .895.89 0 1.99 0h18.02C21.11 0 22 .89 22 2v13c0 1.105-.89 2-1.99 2H15l-4 4zm-7-9.5c0-.276.228-.5.51-.5h8.98c.282 0 .51.232.51.5 0 .276-.228.5-.51.5H4.51c-.282 0-.51-.232-.51-.5zm0-3c0-.276.23-.5.5-.5h11c.276 0 .5.232.5.5 0 .276-.23.5-.5.5h-11c-.276 0-.5-.232-.5-.5zm0-3c0-.276.22-.5.498-.5h13.004c.275 0 .498.232.498.5 0 .276-.22.5-.498.5H4.498C4.223 6 4 5.768 4 5.5z" fill-rule="evenodd"/>\n                </svg>\n            </button>\n            <button class="bp-btn-plain bp-btn-print bp-is-hidden">\n                <svg height="24" viewBox="0 0 24 24" width="24">\n                    <path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"/>\n                    <path d="M0 0h24v24H0z" fill="none"/>\n                </svg>\n            </button>\n            <button class="bp-btn-plain bp-btn-download bp-is-hidden">\n                <svg height="24" viewBox="0 0 24 24" width="24">\n                    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>\n                    <path d="M0 0h24v24H0z" fill="none"/>\n                </svg>\n            </button>\n        </div>\n    </div>\n    <div class="bp">\n        <div class="bp-loading-wrapper">\n            <div class="bp-loading">\n                <div class="bp-icon"></div>\n                <div class="bp-crawler-wrapper">\n                    <div class="bp-crawler">\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                    </div>\n                </div>\n                <span class="bp-loading-text"></span>\n            </div>\n            <div class="bp-loading-btn-container">\n                <button class="bp-btn-plain bp-btn-loading-download bp-is-invisible"></button>\n            </div>\n        </div>\n    </div>\n    <button class="bp-btn-plain bp-navigate bp-navigate-left bp-is-hidden">\n        <svg viewBox="0 0 48 48">\n            <path fill="#494949" stroke="#DCDCDC" stroke-miterlimit="10" d="M30.8,33.2L21.7,24l9.2-9.2L28,12L16,24l12,12L30.8,33.2z"/>\n            <path display="none" fill="none" d="M0,0h48v48H0V0z"/>\n        </svg>\n    </button>\n    <button class="bp-btn-plain bp-navigate bp-navigate-right bp-is-hidden">\n        <svg viewBox="0 0 48 48">\n            <path fill="#494949" stroke="#DCDCDC" stroke-miterlimit="10" d="M17.2,14.8l9.2,9.2l-9.2,9.2L20,36l12-12L20,12L17.2,14.8z"/>\n            <path display="none" fill="none" d="M48,48H0L0,0l48,0V48z"/>\n        </svg>\n    </button>\n</div>\n'},function(e,t){e.exports='<div class="bp-media-controls-wrapper">\n    <div class="bp-media-time-scrubber-container"></div>\n    <div class="bp-media-controls-container">\n        <button class="bp-media-controls-btn bp-media-playpause-icon">\n            <svg class="bp-media-play-icon" fill="#fff" height="24" viewBox="0 0 24 24" width="24" aria-labelledby="title">\n                <title>Play</title>\n                <path d="M8 5v14l11-7z"/>\n                <path d="M0 0h24v24H0z" fill="none"/>\n            </svg>\n            <svg class="bp-media-pause-icon" fill="#fff" height="24" viewBox="0 0 24 24" width="24" aria-labelledby="title">\n                <title>Pause</title>\n                <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>\n                <path d="M0 0h24v24H0z" fill="none"/>\n            </svg>\n        </button>\n        <div class="bp-media-controls-volume-wrapper">\n            <div class="bp-media-controls-volume-control">\n                <button class="bp-media-controls-btn bp-media-volume-icon bp-media-volume-icon-is-high">\n                    <svg viewBox="-3 5 24 24" width="24" height="24">\n                        <path fill="#FFF" d="M0 14v6h4l5 5V9l-5 5H0z" />\n                        <path fill="none" d="M-3 5h24v24H-3V5z" />\n                    </svg>\n                    <svg class="bp-media-volume-icon-mute" viewBox="-3 5 24 24" width="24" height="24">\n                        <path fill="none" d="M-3 5h24v24H-3V5z" />\n                        <path fill="#fff" d="M15.5 20.2l-2-2-2 2-1.2-1.2 2-2-2-2 1.2-1.2 2 2 2-2 1.2 1.2-2 2 2 2" />\n                    </svg>\n                    <svg class="bp-media-volume-icon-medium" viewBox="-3 5 24 24" width="24" height="24">\n                        <path fill="#FFF" d="M13.5 17c0-1.8-1-3.3-2.5-4v8c1.5-.7 2.5-2.2 2.5-4z" />\n                        <path fill="none" d="M-3 5h24v24H-3V5z" />\n                    </svg>\n                    <svg class="bp-media-volume-icon-high" viewBox="-3 5 24 24" width="24" height="24">\n                        <path fill="#FFF" d="M13.5 17c0-1.8-1-3.3-2.5-4v8c1.5-.7 2.5-2.2 2.5-4zM11 8.2v2.1c2.9.9 5 3.5 5 6.7s-2.1 5.9-5 6.7v2.1c4-.9 7-4.5 7-8.8s-3-7.9-7-8.8z" />\n                        <path fill="none" d="M-3 5h24v24H-3V5z" />\n                    </svg>\n                </button>\n            </div>\n            <div class="bp-media-volume-scrubber-container"></div>\n        </div>\n        <label class="bp-media-controls-label bp-media-controls-timecode">00:00</label>\n        <span class="bp-media-controls-label">&nbsp;&#47;&nbsp;</span>\n        <label class="bp-media-controls-label bp-media-controls-duration">00:00</label>\n        <button class="bp-media-controls-btn bp-media-fullscreen-icon">\n            <svg class="bp-enter-fullscreen-icon" width="24" height="24" viewBox="0 0 24 24" aria-labelledby="title">\n                <title>Enter fullscreen</title>\n                <g fill="none" fill-rule="evenodd">\n                    <path d="M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 3v6l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm11.41 12.83l2.89 2.87L15 21h6v-6l-2.3 2.3-2.87-2.89-1.42 1.42zM5.3 17.3L3 15v6h6l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3z" fill="#fff" />\n                    <path d="M0 0h24v24H0z" />\n                </g>\n            </svg>\n            <svg class="bp-exit-fullscreen-icon" width="24" height="24" viewBox="0 0 24 24" aria-labelledby="title">\n                <title>Exit fullscreen</title>\n                <g fill="none" fill-rule="evenodd">\n                    <path d="M0 0h24v24H0z" />\n                    <path d="M19.58 3l-2.87 2.89-2.3-2.3v6h6l-2.3-2.3L21 4.42 19.58 3zM4.42 3L3 4.42l2.89 2.87-2.3 2.3h6v-6l-2.3 2.3L4.42 3zm9.99 11.41v6l2.3-2.3L19.58 21 21 19.58l-2.89-2.87 2.3-2.3h-6zm-10.82 0l2.3 2.3L3 19.58 4.42 21l2.87-2.89 2.3 2.3v-6h-6z" fill="#fff" />\n                </g>\n            </svg>\n        </button>\n        <button class="bp-media-controls-btn bp-media-gear-icon">\n            <svg version="1.1" width="24" height="24" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" aria-labelledby="title">\n                <title>Settings</title>\n                <path fill="#fff" d="M19.4,13c0-0.3,0.1-0.6,0.1-1s0-0.7-0.1-1l2.1-1.6c0.2-0.1,0.2-0.4,0.1-0.6l-2-3.5c-0.1-0.2-0.4-0.3-0.6-0.2l-2.5,1 c-0.5-0.4-1.1-0.7-1.7-1l-0.4-2.7C14.5,2.2,14.2,2,14,2h-4C9.8,2,9.5,2.2,9.5,2.4L9.1,5.1C8.5,5.3,8,5.7,7.4,6.1l-2.5-1 C4.7,5,4.5,5.1,4.3,5.3l-2,3.5C2.2,8.9,2.3,9.2,2.5,9.4L4.6,11c0,0.3-0.1,0.6-0.1,1s0,0.7,0.1,1l-2.1,1.6c-0.2,0.1-0.2,0.4-0.1,0.6 l2,3.5C4.5,18.9,4.7,19,5,18.9l2.5-1c0.5,0.4,1.1,0.7,1.7,1l0.4,2.6c0,0.2,0.2,0.4,0.5,0.4h4c0.2,0,0.5-0.2,0.5-0.4l0.4-2.6 c0.6-0.2,1.2-0.6,1.7-1l2.5,1c0.2,0.1,0.5,0,0.6-0.2l2-3.5c0.1-0.2,0.1-0.5-0.1-0.6L19.4,13z M12,15.5c-1.9,0-3.5-1.6-3.5-3.5 s1.6-3.5,3.5-3.5s3.5,1.6,3.5,3.5S13.9,15.5,12,15.5z"></path>\n            </svg>\n            <span class="bp-media-controls-hd">HD</span>\n        </button>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="bp-media-scrubber-container">\n    <div class="bp-media-scrubber-wrapper">\n        <div class="bp-media-scrubber">\n            <div class="bp-media-scrubber-underlay"></div>\n            <div class="bp-media-scrubber-buffered"></div>\n            <div class="bp-media-scrubber-converted"></div>\n            <div class="bp-media-scrubber-played"></div>\n            <div class="bp-media-scrubber-handle">\n                <span class="accessibility-hidden">{{accessibilityText}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";function e(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function r(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function o(e){var t=new FileReader;return t.readAsArrayBuffer(e),r(t)}function a(e){var t=new FileReader;return t.readAsText(e),r(t)}function s(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},p.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(o)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e?e:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(u)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return f.indexOf(t)>-1?t:e}function c(e,t){t=t||{};var i=t.body;if(c.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,i||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function u(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function h(e){var t=new n;return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){var n=e.trim().split(":"),i=n.shift().trim(),r=n.join(":").trim();t.append(i,r)}),t}function d(e,t){t||(t={}),this._initBody(e),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||""}if(!self.fetch){n.prototype.append=function(n,i){n=e(n),i=t(i);var r=this.map[n];r||(r=[],this.map[n]=r),r.push(i)},n.prototype.delete=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(n,i){this.map[e(n)]=[t(i)]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(i){e.call(t,i,n,this)},this)},this)};var p={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},s.call(c.prototype),s.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},d.error=function(){var e=new d(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];d.redirect=function(e,t){if(v.indexOf(t)===-1)throw new RangeError("Invalid status code");return new d(null,{status:t,headers:{location:e}})},self.Headers=n,self.Request=c,self.Response=d,self.fetch=function(e,t){return new Promise(function(n,i){function r(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=c.prototype.isPrototypeOf(e)&&!t?e:new c(e,t);var a=new XMLHttpRequest;a.onload=function(){var e=1223===a.status?204:a.status;if(e<100||e>599)return void i(new TypeError("Network request failed"));var t={status:e,statusText:a.statusText,headers:h(a),url:r()};n(new d("response"in a?a.response:a.responseText,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&p.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},self.fetch.polyfill=!0}}()},function(e,t,n){e.exports=n(201)}]);